!function(e,t,n){function r(){}function o(e){return"function"==typeof e}function i(e,t){if(t)return"'"+e.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";var n=e.charAt(0),r=e.substring(1);return"="===n?"+("+r+")+":":"===n?"+e("+r+")+":";"+e+";o+="}function a(e,t,n){return e+="",t=t||2,n=t-e.length,n?_[t].substring(0,n)+e:e}function s(t){var n,r,o,i,a,s,u,l,c,d,f,p,m,h=mt.browser,g="rtl"==t.css("direction");return t.parent().hasClass("k-animation-container")?(p=t.parent(".k-animation-container"),m=p[0].style,p.is(":hidden")&&p.show(),n=ht.test(m.width)||ht.test(m.height),n||p.css({width:t.outerWidth(),height:t.outerHeight()})):(r=t.css(at.support.transitions.css+"box-shadow")||t.css("box-shadow"),o=r?r.match(yt)||[0,0,0,0,0]:[0,0,0,0,0],i=ft.max(+o[3],+(o[4]||0)),a=-o[1]+i,s=+o[1]+i,u=+o[2]+i,l=t[0].style.width,c=t[0].style.height,d=ht.test(l),f=ht.test(c),h.opera&&(a=s=u=5),n=d||f,d||(l=t.outerWidth()),f||(c=t.outerHeight()),t.wrap(e("<div/>").addClass("k-animation-container").css({width:l,height:c,marginLeft:a*(g?1:-1),paddingLeft:a,paddingRight:s,paddingBottom:u})),n&&t.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})),h.msie&&ft.floor(h.version)<=7&&(t.css({zoom:1}),t.children(".k-menu").width(t.width())),t.parent()}function u(e){var t=1,n=arguments.length;for(t=1;n>t;t++)l(e,arguments[t]);return e}function l(e,t){var n,r,o,i,a=at.data.ObservableArray,s=at.data.DataSource;for(n in t)r=t[n],o=typeof r,o===St&&null!==r&&r.constructor!==Array&&r.constructor!==a&&r.constructor!==s?r instanceof Date?e[n]=new Date(r.getTime()):(i=e[n],e[n]=typeof i===St?i||{}:{},l(e[n],r)):o!==Ot&&(e[n]=r);return e}function c(e,t,r){for(var o in t)if(t.hasOwnProperty(o)&&t[o].test(e))return o;return r!==n?r:e}function d(t,n){var r,o={};return document.defaultView&&document.defaultView.getComputedStyle?(r=document.defaultView.getComputedStyle(t,""),n&&e.each(n,function(e,t){o[t]=r.getPropertyValue(t)})):(r=t.currentStyle,n&&e.each(n,function(e,t){o[t]=r[t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()})]})),at.size(o)||(o=r),o}function f(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&"toJSON"!=t&&n++;return n}function p(e,t,n){var r,o,i,a;return t||(t="offset"),r=e[t](),o=mt.mobileOS,mt.touch&&o.ios&&o.flatVersion<410&&(i="offset"==t?r:e.offset(),a=r.left==i.left&&r.top==i.top)?{top:r.top-window.scrollY,left:r.left-window.scrollX}:(!at.support.pointers&&!at.support.msPointers||n||(r.top-=window.pageYOffset-document.documentElement.scrollTop,r.left-=window.pageXOffset-document.documentElement.scrollLeft),r)}function m(e){var t={};return ut("string"==typeof e?e.split(" "):e,function(e){t[e]=this}),t}function h(e){return new at.effects.Element(e)}function g(e,t,n,r){return typeof e===bt&&(o(t)&&(r=t,t=400,n=!1),o(n)&&(r=n,n=!1),typeof t===xt&&(n=t,t=400),e={effects:e,duration:t,reverse:n,complete:r}),st({effects:{},duration:400,reverse:!1,init:dt,teardown:dt,hide:!1},e,{completeCallback:e.complete,complete:dt})}function y(t,n,r,o,i){for(var a,s=0,u=t.length;u>s;s++)a=e(t[s]),a.queue(function(){W.promise(a,g(n,r,o,i))});return t}function v(e,t,n,r,o,i){return W.transitionPromise(e,t,g(n,r,o,i))}function w(e,t,n,r){return t&&(t=t.split(" "),ut(t,function(t,n){e.toggleClass(n,r)})),e}function b(e){return(""+e).replace(U,"&amp;").replace(L,"&lt;").replace(j,"&gt;")}function M(e,r){var o;return 0===r.indexOf("data")&&(r=r.substring(4),r=r.charAt(0).toLowerCase()+r.substring(1)),r=r.replace(Q,"-$1"),o=e.getAttribute("data-"+at.ns+r),null===o?o=n:"null"===o?o=null:"true"===o?o=!0:"false"===o?o=!1:vt.test(o)?o=parseFloat(o):V.test(o)&&!G.test(o)&&(o=t("("+o+")")),o}function S(t,r){var o,i,a={};for(o in r)i=M(t,o),i!==n&&($.test(o)&&(i=at.template(e("#"+i).html())),a[o]=i);return a}function T(e,t){var n=e.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(n)?!e.disabled:"a"===n?e.href||t:t)&&x(e)}function x(t){return!e(t).parents().andSelf().filter(function(){return"hidden"===e.css(this,"visibility")||e.expr.filters.hidden(this)}).length}function O(e,t){return new O.fn.init(e,t)}var k,D,C,z,H,E,P,A,N,F,_,I,W,U,L,j,R,B,J,Y,$,V,G,Q,q,K,X,Z,et,tt,nt,rt,ot,it,at=window.kendo=window.kendo||{cultures:{}},st=e.extend,ut=e.each,lt=e.proxy,ct=e.isArray,dt=e.noop,ft=Math,pt=window.JSON||{},mt={},ht=/%/,gt=/\{(\d+)(:[^\}]+)?\}/g,yt=/(\d+?)px\s*(\d+?)px\s*(\d+?)px\s*(\d+?)?/i,vt=/^(\+|-?)\d+(\.?)\d*$/,wt="function",bt="string",Mt="number",St="object",Tt="null",xt="boolean",Ot="undefined",kt={},Dt={},Ct=[].slice,zt=window.Globalize;at.version="2013.2.918",r.extend=function(e){var t,n,r=function(){},o=this,i=e&&e.init?e.init:function(){o.apply(this,arguments)};r.prototype=o.prototype,n=i.fn=i.prototype=new r;for(t in e)n[t]=typeof e[t]!==St||e[t]instanceof Array||null===e[t]?e[t]:st(!0,{},r.prototype[t],e[t]);return n.constructor=i,i.extend=o.extend,i},at.isFunction=o,D=function(){this._defaultPrevented=!0},C=function(){return this._defaultPrevented===!0},z=r.extend({init:function(){this._events={}},bind:function(e,t,r){var o,i,a,s,u,l=this,c=typeof e===bt?[e]:e,d=typeof t===wt;if(t===n){for(o in e)l.bind(o,e[o]);return l}for(o=0,i=c.length;i>o;o++)e=c[o],s=d?t:t[e],s&&(r&&(a=s,s=function(){l.unbind(e,s),a.apply(l,arguments)}),u=l._events[e]=l._events[e]||[],u.push(s));return l},one:function(e,t){return this.bind(e,t,!0)},first:function(e,t){var n,r,o,i,a=this,s=typeof e===bt?[e]:e,u=typeof t===wt;for(n=0,r=s.length;r>n;n++)e=s[n],o=u?t:t[e],o&&(i=a._events[e]=a._events[e]||[],i.unshift(o));return a},trigger:function(e,t){var n,r,o=this,i=o._events[e];if(i){for(t=t||{},t.sender=o,t._defaultPrevented=!1,t.preventDefault=D,t.isDefaultPrevented=C,i=i.slice(),n=0,r=i.length;r>n;n++)i[n].call(o,t);return t._defaultPrevented===!0}return!1},unbind:function(e,t){var r,o=this,i=o._events[e];if(e===n)o._events={};else if(i)if(t)for(r=i.length-1;r>=0;r--)i[r]===t&&i.splice(r,1);else o._events[e]=[];return o}}),H=/^\w+/,E=/\$\{([^}]*)\}/g,P=/\\\}/g,A=/__CURLY__/g,N=/\\#/g,F=/__SHARP__/g,_=["","0","00","000","0000"],k={paramName:"data",useWithBlock:!0,render:function(e,t){var n,r,o="";for(n=0,r=t.length;r>n;n++)o+=e(t[n]);return o},compile:function(t,n){var r,a,s,u=st({},this,n),l=u.paramName,c=l.match(H)[0],d=u.useWithBlock,f="var o,e=kendo.htmlEncode;";if(o(t))return 2===t.length?function(n){return t(e,{data:n}).join("")}:t;for(f+=d?"with("+l+"){":"",f+="o=",a=t.replace(P,"__CURLY__").replace(E,"#=e($1)#").replace(A,"}").replace(N,"__SHARP__").split("#"),s=0;s<a.length;s++)f+=i(a[s],0===s%2);f+=d?";}":";",f+="return o;",f=f.replace(F,"#");try{return r=Function(c,f),r._slotCount=Math.floor(a.length/2),r}catch(p){throw Error(at.format("Invalid template:'{0}' Generated code:'{1}'",t,f))}}},function(){function e(e){return i.lastIndex=0,i.test(e)?'"'+e.replace(i,function(e){var t=s[e];return typeof t===bt?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function t(i,a){var s,l,c,d,f,p,m=n,h=a[i];if(h&&typeof h===St&&typeof h.toJSON===wt&&(h=h.toJSON(i)),typeof o===wt&&(h=o.call(a,i,h)),p=typeof h,p===bt)return e(h);if(p===Mt)return isFinite(h)?h+"":Tt;if(p===xt||p===Tt)return h+"";if(p===St){if(!h)return Tt;if(n+=r,f=[],"[object Array]"===u.apply(h)){for(d=h.length,s=0;d>s;s++)f[s]=t(s,h)||Tt;return c=0===f.length?"[]":n?"[\n"+n+f.join(",\n"+n)+"\n"+m+"]":"["+f.join(",")+"]",n=m,c}if(o&&typeof o===St)for(d=o.length,s=0;d>s;s++)typeof o[s]===bt&&(l=o[s],c=t(l,h),c&&f.push(e(l)+(n?": ":":")+c));else for(l in h)Object.hasOwnProperty.call(h,l)&&(c=t(l,h),c&&f.push(e(l)+(n?": ":":")+c));return c=0===f.length?"{}":n?"{\n"+n+f.join(",\n"+n)+"\n"+m+"}":"{"+f.join(",")+"}",n=m,c}}var n,r,o,i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},u={}.toString;typeof Date.prototype.toJSON!==wt&&(Date.prototype.toJSON=function(){var e=this;return isFinite(e.valueOf())?a(e.getUTCFullYear(),4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),typeof pt.stringify!==wt&&(pt.stringify=function(e,i,a){var s;if(n="",r="",typeof a===Mt)for(s=0;a>s;s+=1)r+=" ";else typeof a===bt&&(r=a);if(o=i,i&&typeof i!==wt&&(typeof i!==St||typeof i.length!==Mt))throw Error("JSON.stringify");return t("",{"":e})})}(),function(){function e(e){if(e){if(e.numberFormat)return e;if(typeof e===bt){var t=at.cultures;return t[e]||t[e.split("-")[0]]||null}return null}return null}function t(t){return t&&(t=e(t)),t||at.cultures.current}function r(e){e.groupSizes=e.groupSize,e.percent.groupSizes=e.percent.groupSize,e.currency.groupSizes=e.currency.groupSize}function o(e,r,o){o=t(o);var i=o.calendars.standard,s=i.days,u=i.months;return r=i.patterns[r]||r,r.replace(l,function(t){var r;return"d"===t?r=e.getDate():"dd"===t?r=a(e.getDate()):"ddd"===t?r=s.namesAbbr[e.getDay()]:"dddd"===t?r=s.names[e.getDay()]:"M"===t?r=e.getMonth()+1:"MM"===t?r=a(e.getMonth()+1):"MMM"===t?r=u.namesAbbr[e.getMonth()]:"MMMM"===t?r=u.names[e.getMonth()]:"yy"===t?r=a(e.getFullYear()%100):"yyyy"===t?r=a(e.getFullYear(),4):"h"===t?r=e.getHours()%12||12:"hh"===t?r=a(e.getHours()%12||12):"H"===t?r=e.getHours():"HH"===t?r=a(e.getHours()):"m"===t?r=e.getMinutes():"mm"===t?r=a(e.getMinutes()):"s"===t?r=e.getSeconds():"ss"===t?r=a(e.getSeconds()):"f"===t?r=ft.floor(e.getMilliseconds()/100):"ff"===t?r=ft.floor(e.getMilliseconds()/10):"fff"===t?r=e.getMilliseconds():"tt"===t&&(r=e.getHours()<12?i.AM[0]:i.PM[0]),r!==n?r:t.slice(1,t.length-1)})}function i(e,r,o){o=t(o);var i,a,u,l,w,b,M,S,T,x,O,k,D,C,z,H,E,P,A,N,F,_,I,W=o.numberFormat,U=W.groupSize[0],L=W[h],j=W[m],R=W.decimals,B=W.pattern[0],J=[],Y=0>e,$=p,V=p,G=-1;if(e===n)return p;if(!isFinite(e))return e;if(!r)return o.name.length?e.toLocaleString():""+e;if(w=c.exec(r)){if(r=w[1].toLowerCase(),a="c"===r,u="p"===r,(a||u)&&(W=a?W.currency:W.percent,U=W.groupSize[0],L=W[h],j=W[m],R=W.decimals,i=W.symbol,B=W.pattern[Y?0:1]),l=w[2],l&&(R=+l),"e"===r)return l?e.toExponential(R):e.toExponential();if(u&&(e*=100),e=s(e,R),e=e.split(m),b=e[0],M=e[1],Y&&(b=b.substring(1)),V=b,S=b.length,S>=U)for(V=p,x=0;S>x;x++)x>0&&0===(S-x)%U&&(V+=L),V+=b.charAt(x);if(M&&(V+=j+M),"n"===r&&!Y)return V;for(e=p,x=0,O=B.length;O>x;x++)k=B.charAt(x),e+="n"===k?V:"$"===k||"%"===k?i:k;return e}if(Y&&(e=-e),(r.indexOf("'")>-1||r.indexOf('"')>-1||r.indexOf("\\")>-1)&&(r=r.replace(d,function(e){var t=e.charAt(0).replace("\\",""),n=e.slice(1).replace(t,"");return J.push(n),v})),r=r.split(";"),Y&&r[1])r=r[1],C=!0;else if(0===e){if(r=r[2]||r[0],-1==r.indexOf(g)&&-1==r.indexOf(y))return r}else r=r[0];if(N=r.indexOf("%"),F=r.indexOf("$"),u=-1!=N,a=-1!=F,u&&(e*=100),a&&"\\"===r[F-1]&&(r=r.split("\\").join(""),a=!1),(a||u)&&(W=a?W.currency:W.percent,U=W.groupSize[0],L=W[h],j=W[m],R=W.decimals,i=W.symbol),D=r.indexOf(h)>-1,D&&(r=r.replace(f,p)),z=r.indexOf(m),O=r.length,-1!=z?(M=(""+e).split("e"),M=M[1]?s(e,Math.abs(M[1])):M[0],M=M.split(m)[1]||p,E=r.lastIndexOf(y)-z,H=r.lastIndexOf(g)-z,P=E>-1,A=H>-1,x=M.length,P||A||(r=r.substring(0,z)+r.substring(z+1),O=r.length,z=-1,x=0),P&&E>H?x=E:H>E&&(A&&x>H?x=H:P&&E>x&&(x=E)),x>-1&&(e=s(e,x))):e=s(e),H=r.indexOf(g),_=E=r.indexOf(y),G=-1==H&&-1!=E?E:-1!=H&&-1==E?H:H>E?E:H,H=r.lastIndexOf(g),E=r.lastIndexOf(y),I=-1==H&&-1!=E?E:-1!=H&&-1==E?H:H>E?H:E,G==O&&(I=G),-1!=G){if(V=(""+e).split(m),b=V[0],M=V[1]||p,S=b.length,T=M.length,D)if(S===U&&z-_>S)b=L+b;else if(S>U){for(V=p,x=0;S>x;x++)x>0&&0===(S-x)%U&&(V+=L),V+=b.charAt(x);b=V}for(e=r.substring(0,G),Y&&!C&&(e+="-"),x=G;O>x;x++){if(k=r.charAt(x),-1==z){if(S>I-x){e+=b;break}}else if(-1!=E&&x>E&&($=p),S>=z-x&&z-x>-1&&(e+=b,x=z),z===x){e+=(M?j:p)+M,x+=I-z+1;continue}k===y?(e+=k,$=k):k===g&&(e+=$)}if(I>=G&&(e+=r.substring(I+1)),a||u){for(V=p,x=0,O=e.length;O>x;x++)k=e.charAt(x),V+="$"===k||"%"===k?i:k;e=V}if(O=J.length)for(x=0;O>x;x++)e=e.replace(v,J[x])}return e}var s,u,l=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|"[^"]*"|'[^']*'/g,c=/^(n|c|p|e)(\d*)$/i,d=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,f=/\,/g,p="",m=".",h=",",g="#",y="0",v="??",w="en-US",b={}.toString;at.cultures["en-US"]={name:w,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}},at.culture=function(t){var o,i=at.cultures;return t===n?i.current:(o=e(t)||i[w],o.calendar=o.calendars.standard,i.current=o,zt&&r(o.numberFormat),n)},at.findCulture=e,at.getCulture=t,at.culture(w),s=function(e,t){var n=Math.pow(10,t||0);return(Math.round(e*n)/n).toFixed(t)},u=function(e,t,r){if(t){if("[object Date]"===b.call(e))return o(e,t,r);if(typeof e===Mt)return i(e,t,r)}return e!==n?e:""},zt&&(u=lt(zt.format,zt)),at.format=function(e){var t=arguments;return e.replace(gt,function(e,n,r){var o=t[parseInt(n,10)+1];return u(o,r?r.substring(1):"")})},at._extractFormat=function(e){return"{0:"===e.slice(0,3)&&(e=e.slice(3,e.length-1)),e},at._activeElement=function(){try{return document.activeElement}catch(e){return document.documentElement.activeElement}},at._round=s,at.toString=u}(),function(){function t(e,t,n){return!(e>=t&&n>=e)}function r(e){return e.charAt(0)}function o(t){return e.map(t,r)}function i(e,t){t||23!==e.getHours()||e.setHours(e.getHours()+2)}function a(e){for(var t=0,n=e.length,r=[];n>t;t++)r[t]=(e[t]+"").toLowerCase();return r}function s(e){var t,n={};for(t in e)n[t]=a(e[t]);return n}function u(e,r,a){if(!e)return null;var u,l,c,p,m,g,y,v,w,b,M,S,T=function(e){for(var t=0;r[F]===e;)t++,F++;return t>0&&(F-=1),t},x=function(t){var n=h[t]||RegExp("^\\d{1,"+t+"}"),r=e.substr(_,t).match(n);return r?(r=r[0],_+=r.length,parseInt(r,10)):null},O=function(t,n){for(var r,o,i,a=0,s=t.length;s>a;a++)if(r=t[a],o=r.length,i=e.substr(_,o),n&&(i=i.toLowerCase()),i==r)return _+=o,a+1;return null},k=function(){var t=!1;return e.charAt(_)===r[F]&&(_++,t=!0),t},D=a.calendars.standard,C=null,z=null,H=null,E=null,P=null,A=null,N=null,F=0,_=0,I=!1,W=new Date,U=D.twoDigitYearMax||2029,L=W.getFullYear();for(r||(r="d"),p=D.patterns[r],p&&(r=p),r=r.split(""),c=r.length;c>F;F++)if(u=r[F],I)"'"===u?I=!1:k();else if("d"===u){if(l=T("d"),D._lowerDays||(D._lowerDays=s(D.days)),H=3>l?x(2):O(D._lowerDays[3==l?"namesAbbr":"names"],!0),null===H||t(H,1,31))return null}else if("M"===u){if(l=T("M"),D._lowerMonths||(D._lowerMonths=s(D.months)),z=3>l?x(2):O(D._lowerMonths[3==l?"namesAbbr":"names"],!0),null===z||t(z,1,12))return null;z-=1}else if("y"===u){if(l=T("y"),C=x(l),null===C)return null;2==l&&("string"==typeof U&&(U=L+parseInt(U,10)),C=L-L%100+C,C>U&&(C-=100))}else if("h"===u){if(T("h"),E=x(2),12==E&&(E=0),null===E||t(E,0,11))return null}else if("H"===u){if(T("H"),E=x(2),null===E||t(E,0,23))return null}else if("m"===u){if(T("m"),P=x(2),null===P||t(P,0,59))return null}else if("s"===u){if(T("s"),A=x(2),null===A||t(A,0,59))return null}else if("f"===u){if(l=T("f"),N=x(l),null!==N&&l>3&&(N=parseInt((""+N).substring(0,3),10)),null===N||t(N,0,999))return null}else if("t"===u){if(l=T("t"),w=D.AM,b=D.PM,1===l&&(w=o(w),b=o(b)),m=O(b),!m&&!O(w))return null}else if("z"===u){if(g=!0,l=T("z"),"Z"===e.substr(_,1)){if(!y)return null;k();continue}if(v=e.substr(_,6).match(l>2?f:d),!v)return null;if(v=v[0],_=v.length,v=v.split(":"),M=parseInt(v[0],10),t(M,-12,13))return null;if(l>2&&(S=parseInt(v[1],10),isNaN(S)||t(S,0,59)))return null}else if("T"===u)y=k();else if("'"===u)I=!0,k();else if(!k())return null;return null===C&&(C=L),m&&12>E&&(E+=12),null===H&&(H=1),g?(M&&(E+=-M),S&&(P+=-S),e=new Date(Date.UTC(C,z,H,E,P,A,N))):(e=new Date(C,z,H,E,P,A,N),i(e,E)),100>C&&e.setFullYear(C),e.getDate()!==H&&g===n?null:e}var l=/\u00A0/g,c=/[eE][\-+]?[0-9]+/,d=/[+|\-]\d{1,2}/,f=/[+|\-]\d{1,2}:\d{2}/,p=/^\/Date\((.*?)\)\/$/,m=["G","g","d","F","D","y","m","T","t"],h={2:/^\d{1,2}/,4:/^\d{4}/},g={}.toString;at.parseDate=function(e,t,n){if("[object Date]"===g.call(e))return e;var r,o,i=0,a=null;if(e&&0===e.indexOf("/D")&&(a=p.exec(e)))return new Date(parseInt(a[1],10));if(n=at.getCulture(n),!t){for(t=[],o=n.calendar.patterns,r=m.length;r>i;i++)t[i]=o[m[i]];i=0,t.push("yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd")}for(t=ct(t)?t:[t],r=t.length;r>i;i++)if(a=u(e,t[i],n))return a;return a},at.parseInt=function(e,t){var n=at.parseFloat(e,t);return n&&(n=0|n),n},at.parseFloat=function(e,t,n){if(!e&&0!==e)return null;if(typeof e===Mt)return e;e=""+e,t=at.getCulture(t);var r,o,i=t.numberFormat,a=i.percent,s=i.currency,u=s.symbol,d=a.symbol,f=e.indexOf("-");return c.test(e)?(e=parseFloat(e.replace(i["."],".")),isNaN(e)&&(e=null),e):f>0?null:(f=f>-1,e.indexOf(u)>-1||n&&n.toLowerCase().indexOf("c")>-1?(i=s,r=i.pattern[0].replace("$",u).split("n"),e.indexOf(r[0])>-1&&e.indexOf(r[1])>-1&&(e=e.replace(r[0],"").replace(r[1],""),f=!0)):e.indexOf(d)>-1&&(o=!0,i=a,u=d),e=e.replace("-","").replace(u,"").replace(l," ").split(i[","].replace(l," ")).join("").replace(i["."],"."),e=parseFloat(e),isNaN(e)?e=null:f&&(e*=-1),e&&o&&(e/=100),e)},zt&&(at.parseDate=function(e,t,n){return"[object Date]"===g.call(e)?e:zt.parseDate(e,t,n)},at.parseFloat=function(e,t){return typeof e===Mt?e:e===n||null===e?null:(e=zt.parseFloat(e,t),isNaN(e)?null:e)})}(),function(){var t,r,o,i,a,s;mt.scrollbar=function(){var e,t=document.createElement("div");return t.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both",t.innerHTML="&nbsp;",document.body.appendChild(t),e=t.offsetWidth-t.scrollWidth,document.body.removeChild(t),e},mt.isRtl=function(t){return e(t).closest(".k-rtl").length>0},t=document.createElement("table");try{t.innerHTML="<tr><td></td></tr>",mt.tbodyInnerHtml=!0}catch(u){mt.tbodyInnerHtml=!1}mt.touch="ontouchstart"in window,mt.msPointers=navigator.msPointerEnabled,mt.pointers=navigator.pointerEnabled,r=mt.transitions=!1,o=mt.transforms=!1,i="HTMLElement"in window?HTMLElement.prototype:[],mt.hasHW3D="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix||"MozPerspective"in document.documentElement.style||"msPerspective"in document.documentElement.style,ut(["Moz","webkit","O","ms"],function(){var e,i=""+this,a=typeof t.style[i+"Transition"]===bt;return a||typeof t.style[i+"Transform"]===bt?(e=i.toLowerCase(),o={css:"ms"!=e?"-"+e+"-":"",prefix:i,event:"o"===e||"webkit"===e?e:""},a&&(r=o,r.event=r.event?r.event+"TransitionEnd":"transitionend"),!1):n}),mt.transforms=o,mt.transitions=r,mt.devicePixelRatio=window.devicePixelRatio===n?1:window.devicePixelRatio;try{mt.screenWidth=window.outerWidth||window.screen?window.screen.availWidth:window.innerWidth,mt.screenHeight=window.outerHeight||window.screen?window.screen.availHeight:window.innerHeight}catch(u){mt.screenWidth=window.screen.availWidth,mt.screenHeight=window.screen.availHeight}mt.detectOS=function(e){var t,n,r=!1,o=[],i=!/mobile safari/i.test(e),a={fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},s={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,meego:/meego|ffos/},u={tablet:/playbook|ipad|fire/i},l={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,chrome:/chrome/i,webkit:/webkit/i,ie:/MSIE|Windows\sPhone/i};for(n in a)if(a.hasOwnProperty(n)&&(o=e.match(a[n]))){if("windows"==n&&"plugins"in navigator)return!1;r={},r.device=n,r.tablet=c(n,u,!1),r.browser=c(e,l,"default"),r.name=c(n,s),r[r.name]=!0,r.majorVersion=o[2],r.minorVersion=o[3].replace("_","."),t=r.minorVersion.replace(".","").substr(0,2),r.flatVersion=r.majorVersion+t+Array(3-(t.length<3?t.length:2)).join("0"),r.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||typeof window.PhoneGap!==Ot||typeof window.cordova!==Ot,r.android&&(mt.devicePixelRatio<1.5&&r.flatVersion<400||i)&&(mt.screenWidth>800||mt.screenHeight>800)&&(r.tablet=n);break}return r},a=mt.mobileOS=mt.detectOS(navigator.userAgent),mt.wpDevicePixelRatio=a.wp?screen.width/320:0,mt.kineticScrollNeeded=a&&(mt.touch||mt.msPointers||mt.pointers),mt.hasNativeScrolling=!1,(a.ios&&a.majorVersion>4||a.android&&a.majorVersion>2||a.wp)&&(mt.hasNativeScrolling=a),mt.mouseAndTouchPresent=mt.touch&&!(mt.mobileOS.ios||mt.mobileOS.android),mt.detectBrowser=function(e){var t,n=!1,r=[],o={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie|trident)(?:.*? rv:([\w.]+)| ([\w.]+))/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(t in o)if(o.hasOwnProperty(t)&&(r=e.match(o[t]))){n={},n[t]=!0,n[r[1].toLowerCase()]=!0,n.version=parseInt(document.documentMode||r[2],10);break}return n},mt.browser=mt.detectBrowser(navigator.userAgent),mt.zoomLevel=function(){try{return mt.touch?document.documentElement.clientWidth/window.innerWidth:mt.browser.msie&&mt.browser.version>=10?(top||window).outerWidth/(top||window).innerWidth:1}catch(e){return 1}},mt.cssBorderSpacing=n!==document.documentElement.style.borderSpacing&&!(mt.browser.msie&&mt.browser.version<8),function(t){var n,r=parseInt(t.version,10);t.msie?n="ie":t.mozilla?n="ff":t.safari?n="safari":t.webkit?n="webkit":t.opera&&(n="opera"),n&&e(document.documentElement).addClass("k-"+n+" k-"+n+r)}(mt.browser),mt.eventCapture=document.documentElement.addEventListener,mt.placeholder="placeholder"in document.createElement("input"),mt.stableSort=function(){var e=[0,1,2,3,4,5,6,7,8,9,10,11,12].sort(function(){return 0});return 0===e[0]&&1===e[1]&&2===e[2]&&3===e[3]&&4===e[4]&&5===e[5]&&6===e[6]&&7===e[7]&&8===e[8]&&9===e[9]&&10===e[10]&&11===e[11]&&12===e[12]}(),mt.matchesSelector=i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.matchesSelector||function(t){for(var n=document.querySelectorAll?(this.parentNode||document).querySelectorAll(t)||[]:e(t),r=n.length;r--;)if(n[r]==this)return!0;return!1},mt.pushState=window.history&&window.history.pushState,s=document.documentMode,mt.hashChange="onhashchange"in window&&!(mt.browser.msie&&(!s||8>=s))}(),I={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out"},out:{reverse:"in"}},W={},e.extend(W,{Element:function(t){this.element=e(t)},promise:function(e,t){e.is(":visible")||e.css({display:e.data("olddisplay")||"block"}).css("display"),t.hide&&e.data("olddisplay",e.css("display")).hide(),t.init&&t.init(),t.completeCallback&&t.completeCallback(e),e.dequeue()},transitionPromise:function(e,t,n){var r=at.wrap(e);return r.append(t),e.hide(),t.show(),n.completeCallback&&n.completeCallback(e),e}}),"kendoAnimate"in e.fn||st(e.fn,{kendoStop:function(e,t){return this.stop(e,t)},kendoAnimate:function(e,t,n,r){return y(this,e,t,n,r)},kendoAnimateTo:function(e,t,n,r,o){return v(this,e,t,n,r,o)},kendoAddClass:function(e,t){return at.toggleClass(this,e,t,!0)},kendoRemoveClass:function(e,t){return at.toggleClass(this,e,t,!1)},kendoToggleClass:function(e,t,n){return at.toggleClass(this,e,t,n)}}),U=/&/g,L=/</g,j=/>/g,R=function(e){return e.target},mt.touch&&(R=function(e){var t="originalEvent"in e?e.originalEvent.changedTouches:"changedTouches"in e?e.changedTouches:null;return t?document.elementFromPoint(t[0].clientX,t[0].clientY):e.target},ut(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(t,n){e.fn[n]=function(e){return this.bind(n,e)}})),mt.touch?mt.mobileOS?(mt.mousedown="touchstart",mt.mouseup="touchend",mt.mousemove="touchmove",mt.mousecancel="touchcancel",mt.click="touchend",mt.resize="orientationchange"):(mt.mousedown="mousedown touchstart",mt.mouseup="mouseup touchend",mt.mousemove="mousemove touchmove",mt.mousecancel="mouseleave touchcancel",mt.click="click",mt.resize="resize"):mt.pointers?(mt.mousemove="pointermove",mt.mousedown="pointerdown",mt.mouseup="pointerup",mt.mousecancel="pointercancel",mt.click="pointerup",mt.resize="orientationchange resize"):mt.msPointers?(mt.mousemove="MSPointerMove",mt.mousedown="MSPointerDown",mt.mouseup="MSPointerUp",mt.mousecancel="MSPointerCancel",mt.click="MSPointerUp",mt.resize="orientationchange resize"):(mt.mousemove="mousemove",mt.mousedown="mousedown",mt.mouseup="mouseup",mt.mousecancel="mouseleave",mt.click="click",mt.resize="resize"),B=function(e,t){var n,r,o,i,a=t||"d",s=1;for(r=0,o=e.length;o>r;r++)i=e[r],""!==i&&(n=i.indexOf("["),0!==n&&(-1==n?i="."+i:(s++,i="."+i.substring(0,n)+" || {})"+i.substring(n))),s++,a+=i+(o-1>r?" || {})":")"));return Array(s).join("(")+a},J=/^([a-z]+:)?\/\//i,st(at,{ui:at.ui||{},fx:at.fx||h,effects:at.effects||W,mobile:at.mobile||{},data:at.data||{},dataviz:at.dataviz||{ui:{roles:{}}},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123},support:at.support||mt,animate:at.animate||y,ns:"",attr:function(e){return"data-"+at.ns+e},wrap:s,deepExtend:u,getComputedStyles:d,size:f,getOffset:at.getOffset||p,parseEffects:at.parseEffects||m,toggleClass:at.toggleClass||w,directions:at.directions||I,Observable:z,Class:r,Template:k,template:lt(k.compile,k),render:lt(k.render,k),stringify:lt(pt.stringify,pt),eventTarget:R,htmlEncode:b,isLocalUrl:function(e){return e&&!J.test(e)},expr:function(e,t,n){return e=e||"",typeof t==bt&&(n=t,t=!1),n=n||"d",e&&"["!==e.charAt(0)&&(e="."+e),e=t?B(e.split("."),n):n+e},getter:function(e,t){return kt[e]=kt[e]||Function("d","return "+at.expr(e,t))},setter:function(e){return Dt[e]=Dt[e]||Function("d,value",at.expr(e)+"=value")},accessor:function(e){return{get:at.getter(e),set:at.setter(e)}},guid:function(){var e,t,n="";for(e=0;32>e;e++)t=0|16*ft.random(),(8==e||12==e||16==e||20==e)&&(n+="-"),n+=(12==e?4:16==e?8|3&t:t).toString(16);return n},roleSelector:function(e){return e.replace(/(\S+)/g,"["+at.attr("role")+"=$1],").slice(0,-1)},triggeredByInput:function(e){return/^(label|input|textarea|select)$/i.test(e.target.tagName)},logToConsole:function(e){var t=window.console;n!==t&&t.log&&t.log(e)}}),Y=z.extend({init:function(e,t){var n=this;n.element=at.jQuery(e).handler(n),z.fn.init.call(n),t=n.options=st(!0,{},n.options,t),n.element.attr(at.attr("role"))||n.element.attr(at.attr("role"),(t.name||"").toLowerCase()),n.element.data("kendo"+t.prefix+t.name,n),n.bind(n.events,t)},events:[],options:{prefix:""},_hasBindingTarget:function(){return!!this.element[0].kendoBindingTarget},_tabindex:function(e){e=e||this.wrapper;var t=this.element,n="tabindex",r=e.attr(n)||t.attr(n);t.removeAttr(n),e.attr(n,isNaN(r)?0:r)},setOptions:function(t){for(var n,r=this,o=0,i=r.events.length;i>o;o++)n=r.events[o],r.options[n]&&t[n]&&r.unbind(n,r.options[n]);e.extend(r.options,t),r.bind(r.events,t)},destroy:function(){var e=this;e.element.removeData("kendo"+e.options.prefix+e.options.name),e.element.removeData("handler"),e.unbind()}}),at.notify=dt,$=/template$/i,V=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,G=/^\{(\d+)(:[^\}]+)?\}/,Q=/([A-Z])/g,at.initWidget=function(t,r,o){var i,a,s,u,l,c,d,f;if(o?o.roles&&(o=o.roles):o=at.ui.roles,t=t.nodeType?t:t[0],c=t.getAttribute("data-"+at.ns+"role"),c&&(s=-1===c.indexOf(".")?o[c]:at.getter(c)(window))){for(f=M(t,"dataSource"),r=e.extend({},S(t,s.fn.options),r),f&&(r.dataSource=typeof f===bt?at.getter(f)(window):f),u=0,l=s.fn.events.length;l>u;u++)a=s.fn.events[u],d=M(t,a),d!==n&&(r[a]=at.getter(d)(window));return i=e(t).data("kendo"+s.fn.options.prefix+s.fn.options.name),i?i.setOptions(r):i=new s(t,r),i}},at.rolesFromNamespaces=function(e){var t,n,r=[];for(e[0]||(e=[at.ui,at.dataviz.ui]),t=0,n=e.length;n>t;t++)r[t]=e[t].roles;return st.apply(null,[{}].concat(r.reverse()))},at.init=function(t){var n=at.rolesFromNamespaces(Ct.call(arguments,1));e(t).find("[data-"+at.ns+"role]").andSelf().each(function(){at.initWidget(this,{},n)})},at.destroy=function(t){e(t).find("[data-"+at.ns+"role]").andSelf().each(function(){var t=e(this),n=at.widgetInstance(t,at.ui)||at.widgetInstance(t,at.mobile.ui)||at.widgetInstance(t,at.dataviz.ui);n&&n.destroy()})},at.parseOptions=S,st(at.ui,{Widget:Y,roles:{},progress:function(t,n){var r,o,i,a,s=t.find(".k-loading-mask"),u=at.support,l=u.browser;n?s.length||(r=u.isRtl(t),o=r?"right":"left",a=t.scrollLeft(),i=l.webkit?r?t[0].scrollWidth-t.width()-2*a:0:0,s=e("<div class='k-loading-mask'><span class='k-loading-text'>Loading...</span><div class='k-loading-image'/><div class='k-loading-color'/></div>").width("100%").height("100%").css("top",t.scrollTop()).css(o,Math.abs(a)+i).prependTo(t)):s&&s.remove()},plugin:function(t,r,o){var i,a=t.fn.options.name;r=r||at.ui,o=o||"",r[a]=t,r.roles[a.toLowerCase()]=t,i="getKendo"+o+a,a="kendo"+o+a,e.fn[a]=function(r){var o,i=this;return typeof r===bt?(o=Ct.call(arguments,1),this.each(function(){var t,s,u=e.data(this,a);if(!u)throw Error(at.format("Cannot call method '{0}' of {1} before it is initialized",r,a));if(t=u[r],typeof t!==wt)throw Error(at.format("Cannot find method '{0}' of {1}",r,a));return s=t.apply(u,o),s!==n?(i=s,!1):n})):this.each(function(){new t(this,r)}),i},e.fn[i]=function(){return this.data(a)}}}),q={bind:function(){return this}},K=Y.extend({init:function(e,t){Y.fn.init.call(this,e,t),this.element.autoApplyNS(),this.wrapper=this.element,this.element.addClass("km-widget")},destroy:function(){Y.fn.destroy.call(this),this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var e=this.element.closest(at.roleSelector("view splitview modalview drawer"));return at.widgetInstance(e,at.mobile.ui)},container:function(){var e=this.element.closest(at.roleSelector("view layout modalview drawer"));return at.widgetInstance(e,at.mobile.ui)||q}}),st(at.mobile,{init:function(e){at.init(e,at.mobile.ui,at.ui,at.dataviz.ui)},ui:{Widget:K,roles:{},plugin:function(e){at.ui.plugin(e,at.mobile.ui,"Mobile")}}}),at.touchScroller=function(t,n){return e(t).map(function(t,r){return r=e(r),mt.kineticScrollNeeded&&at.mobile.ui.Scroller&&!r.data("kendoMobileScroller")?(r.kendoMobileScroller(n),r.data("kendoMobileScroller")):!1})[0]},at.preventDefault=function(e){e.preventDefault()},at.widgetInstance=function(e,t){var r=t.roles[e.data(at.ns+"role")];return r?e.data("kendo"+r.fn.options.prefix+r.fn.options.name):n},at.onResize=function(t){var n=t;
return mt.mobileOS.android&&(n=function(){setTimeout(t,600)}),e(window).on(mt.resize,n),n},at.unbindResize=function(t){e(window).off(mt.resize,t)},at.attrValue=function(e,t){return e.data(at.ns+t)},at.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},e.extend(e.expr[":"],{focusable:function(t){var n=e.attr(t,"tabindex");return T(t,!isNaN(n)&&n>-1)}}),X=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"],Z="label, input, [data-rel=external]",et={setupMouseMute:function(){var t,n=0,r=X.length,o=document.documentElement;if(!et.mouseTrap&&mt.eventCapture)for(et.mouseTrap=!0,et.bustClick=!1,et.captureMouse=!1,t=function(t){et.captureMouse&&("click"===t.type?et.bustClick&&!e(t.target).is(Z)&&(t.preventDefault(),t.stopPropagation()):t.stopPropagation())};r>n;n++)o.addEventListener(X[n],t,!0)},muteMouse:function(e){et.captureMouse=!0,e.data.bustClick&&(et.bustClick=!0),clearTimeout(et.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(et.mouseTrapTimeoutID),et.mouseTrapTimeoutID=setTimeout(function(){et.captureMouse=!1,et.bustClick=!1},400)}},tt={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"},mt.touch&&(mt.mobileOS.ios||mt.mobileOS.android)?tt={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}:mt.pointers?tt={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}:mt.msPointers&&(tt={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"}),!mt.msPointers||"onmspointerenter"in window||e.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(t,n){e.event.special[t]={delegateType:n,bindType:n,handle:function(t){var r,o=this,i=t.relatedTarget,a=t.handleObj;return(!i||i!==o&&!e.contains(o,i))&&(t.type=a.origType,r=a.handler.apply(this,arguments),t.type=n),r}}}),nt=function(e){return tt[e]||e},rt=/([^ ]+)/g,at.applyEventMap=function(e,t){return e=e.replace(rt,nt),t&&(e=e.replace(rt,"$1."+t)),e},ot=e.fn.on,st(!0,O,e),O.fn=O.prototype=new e,O.fn.constructor=O,O.fn.init=function(t,n){return n&&n instanceof e&&!(n instanceof O)&&(n=O(n)),e.fn.init.call(this,t,n,it)},O.fn.init.prototype=O.fn,it=O(document),st(O.fn,{handler:function(e){return this.data("handler",e),this},autoApplyNS:function(e){return this.data("kendoNS",e||at.guid()),this},on:function(){var e,t,n,r,o,i,a=this,s=a.data("kendoNS");return 1===arguments.length?ot.call(a,arguments[0]):(e=a,t=Ct.call(arguments),typeof t[t.length-1]===Ot&&t.pop(),n=t[t.length-1],r=at.applyEventMap(t[0],s),mt.mouseAndTouchPresent&&r.search(/mouse|click/)>-1&&this[0]!==document.documentElement&&(et.setupMouseMute(),o=2===t.length?null:t[1],i=r.indexOf("click")>-1&&r.indexOf("touchend")>-1,ot.call(this,{touchstart:et.muteMouse,touchend:et.unMuteMouse},o,{bustClick:i})),typeof n===bt&&(e=a.data("handler"),n=e[n],t[t.length-1]=function(t){n.call(e,t)}),t[0]=r,ot.apply(a,t),a)},kendoDestroy:function(e){return e=e||this.data("kendoNS"),e&&this.off("."+e),this}}),at.jQuery=O,at.eventMap=tt,at.timezone=function(){function e(e,t){var n,r,o,i=t[3],a=t[4],s=t[5],u=t[8];return u||(t[8]=u={}),u[e]?u[e]:(isNaN(a)?0===a.indexOf("last")?(n=new Date(Date.UTC(e,l[i]+1,1,s[0]-24,s[1],s[2],0)),r=c[a.substr(4,3)],o=n.getUTCDay(),n.setUTCDate(n.getUTCDate()+r-o-(r>o?7:0))):a.indexOf(">=")>=0&&(n=new Date(Date.UTC(e,l[i],a.substr(5),s[0],s[1],s[2],0)),r=c[a.substr(0,3)],o=n.getUTCDay(),n.setUTCDate(n.getUTCDate()+r-o+(o>r?7:0))):n=new Date(Date.UTC(e,l[i],a,s[0],s[1],s[2],0)),u[e]=n)}function t(t,n,r){var o,i,a;return(n=n[r])?(a=new Date(t).getUTCFullYear(),n=jQuery.grep(n,function(e){var t=e[0],n=e[1];return a>=t&&(n>=a||t==a&&"only"==n||"max"==n)}),n.push(t),n.sort(function(t,n){return"number"!=typeof t&&(t=Number(e(a,t))),"number"!=typeof n&&(n=Number(e(a,n))),t-n}),n[jQuery.inArray(t,n)-1]):(o=r.split(":"),i=0,o.length>1&&(i=60*o[0]+Number(o[1])),[-1e6,"max","-","Jan",1,[0,0,0],i,"-"])}function n(e,t,n){var r,o,i;if(t=t[n],!t)throw Error('Timezone "'+n+'" is either incorrect, or kendo.timezones.min.js is not included.');for(r=t.length-1;r>=0&&(o=t[r][3],!(o&&e>o));r--);if(i=t[r+1],!i)throw Error('Timezone "'+n+'" not found on '+e+".");return i}function r(e,r,o,i){typeof e!=Mt&&(e=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));var a=n(e,r,i);return{zone:a,rule:t(e,o,a[1])}}function o(e,t){var n,o,i;return"Etc/UTC"==t||"Etc/GMT"==t?0:(n=r(e,this.zones,this.rules,t),o=n.zone,i=n.rule,i?o[0]-i[6]:o[0])}function i(e,t){var n=r(e,this.zones,this.rules,t),o=n.zone,i=n.rule,a=o[2];return a.indexOf("/")>=0?a.split("/")[i&&i[6]?1:0]:a.indexOf("%s")>=0?a.replace("%s",i&&"-"!=i[7]?i[7]:""):a}function a(e,t,n){var r,o;return typeof t==bt&&(t=this.offset(e,t)),typeof n==bt&&(n=this.offset(e,n)),r=e.getTimezoneOffset(),e=new Date(e.getTime()+6e4*(t-n)),o=e.getTimezoneOffset(),new Date(e.getTime()+6e4*(o-r))}function s(e,t){return this.convert(e,e.getTimezoneOffset(),t)}function u(e,t){return this.convert(e,t,e.getTimezoneOffset())}var l={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},c={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};return{zones:{},rules:{},offset:o,convert:a,apply:s,remove:u,abbr:i}}(),at.date=function(){function e(e,t){return 0===t&&23===e.getHours()?(e.setHours(e.getHours()+2),!0):!1}function t(t,n,r){var o=t.getHours();r=r||1,n=(n-t.getDay()+7*r)%7,t.setDate(t.getDate()+n),e(t,o)}function n(e,n,r){return e=new Date(e),t(e,n,r),e}function r(e){return new Date(e.getFullYear(),e.getMonth(),1)}function o(e){var t=new Date(e.getFullYear(),e.getMonth()+1,0),n=r(e),o=Math.abs(t.getTimezoneOffset()-n.getTimezoneOffset());return o&&t.setHours(n.getHours()+o/60),t}function i(t){return t=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0),e(t,0),t}function a(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function s(e){return e.getTime()-i(e)}function u(e,t,n){var r,o=s(t),i=s(n);return e&&o!=i?(t>=n&&(n+=g),r=s(e),o>r&&(r+=g),o>i&&(i+=g),r>=o&&i>=r):!0}function l(e,t,n){var r,o=t.getTime(),i=n.getTime();return o>=i&&(i+=g),r=e.getTime(),r>=o&&i>=r}function c(t,n){var r=t.getHours();return t=new Date(t),d(t,n*g),e(t,r),t}function d(e,t,n){var r,o=e.getTimezoneOffset();e.setTime(e.getTime()+t),n||(r=e.getTimezoneOffset()-o,e.setTime(e.getTime()+r*h))}function f(){return i(new Date)}function p(e){return i(e).getTime()==f().getTime()}function m(e){var t=new Date(1980,1,1,0,0,0);return e&&t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t}var h=6e4,g=864e5;return{adjustDST:e,dayOfWeek:n,setDayOfWeek:t,getDate:i,isInDateRange:l,isInTimeRange:u,isToday:p,nextDay:function(e){return c(e,1)},previousDay:function(e){return c(e,-1)},toUtcTime:a,MS_PER_DAY:g,MS_PER_MINUTE:h,setTime:d,addDays:c,today:f,toInvariantTime:m,firstDayOfMonth:r,lastDayOfMonth:o,getMilliseconds:s}}(),at.stripWhitespace=function(e){for(var t=document.createNodeIterator(e,NodeFilter.SHOW_TEXT,function(t){return t.parentNode==e?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},!1);t.nextNode();)t.referenceNode&&!t.referenceNode.textContent.trim()&&t.referenceNode.parentNode.removeChild(t.referenceNode)}}(jQuery,eval),"undefined"==typeof kendo_module&&(kendo_module=function(){});;!function(e,t){function n(a){var s,i,d,p,c,l,f,u,y=[],g=a.logic||"and",j=a.filters;for(s=0,i=j.length;i>s;s++)a=j[s],d=a.field,f=a.value,l=a.operator,a.filters?a=n(a):(u=a.ignoreCase,d=d.replace(/\./g,"/"),a=r[l],a&&f!==t&&(p=e.type(f),"string"===p?(c="'{1}'",f=f.replace(/'/g,"''"),u===!0&&(d="tolower("+d+")")):c="date"===p?"datetime'{1:yyyy-MM-ddTHH:mm:ss}'":"{1}",a.length>3?"substringof"!==a?c="{0}({2},"+c+")":(c="{0}("+c+",{2})","doesnotcontain"===l&&(c+=" eq false")):c="{2} {0} "+c,a=o.format(c,a,f,d))),y.push(a);return a=y.join(" "+g+" "),y.length>1&&(a="("+a+")"),a}var o=window.kendo,a=e.extend,r={eq:"eq",neq:"ne",gt:"gt",gte:"ge",lt:"lt",lte:"le",contains:"substringof",doesnotcontain:"substringof",endswith:"endswith",startswith:"startswith"},s={pageSize:e.noop,page:e.noop,filter:function(e,t){t&&(e.$filter=n(t))},sort:function(t,n){var o=e.map(n,function(e){var t=e.field.replace(/\./g,"/");return"desc"===e.dir&&(t+=" desc"),t}).join(",");o&&(t.$orderby=o)},skip:function(e,t){t&&(e.$skip=t)},take:function(e,t){t&&(e.$top=t)}},i={read:{dataType:"jsonp"}};a(!0,o.data,{schemas:{odata:{type:"json",data:function(e){return e.d.results||[e.d]},total:"d.__count"}},transports:{odata:{read:{cache:!0,dataType:"jsonp",jsonp:"$callback"},update:{cache:!0,dataType:"json",contentType:"application/json",type:"PUT"},create:{cache:!0,dataType:"json",contentType:"application/json",type:"POST"},destroy:{cache:!0,dataType:"json",type:"DELETE"},parameterMap:function(e,t){var n,a,r,d;if(e=e||{},t=t||"read",d=(this.options||i)[t],d=d?d.dataType:"json","read"===t){n={$inlinecount:"allpages"},"json"!=d&&(n.$format="json");for(r in e)s[r]?s[r](n,e[r]):n[r]=e[r]}else{if("json"!==d)throw Error("Only json dataType can be used for "+t+" operation.");if("destroy"!==t){for(r in e)a=e[r],"number"==typeof a&&(e[r]=a+"");n=o.stringify(e)}}return n}}}})}(window.kendo.jQuery);;!function(e,t){var r=window.kendo,n=e.isArray,i=e.isPlainObject,a=e.map,o=e.each,l=e.extend,f=r.getter,d=r.Class,u=d.extend({init:function(e){var t,f,d,u=this,s=e.total,p=e.model,c=e.parse,h=e.errors,m=e.serialize,x=e.data;p&&(i(p)&&(p.fields&&o(p.fields,function(e,t){t=i(t)&&t.field?l(t,{field:u.getter(t.field)}):{field:u.getter(t)},p.fields[e]=t}),t=p.id,t&&(f={},f[u.xpathToMember(t,!0)]={field:u.getter(t)},p.fields=l(f,p.fields),p.id=u.xpathToMember(t)),p=r.data.Model.define(p)),u.model=p),s&&("string"==typeof s?(s=u.getter(s),u.total=function(e){return parseInt(s(e),10)}):"function"==typeof s&&(u.total=s)),h&&("string"==typeof h?(h=u.getter(h),u.errors=function(e){return h(e)||null}):"function"==typeof h&&(u.errors=h)),x&&("string"==typeof x?(x=u.xpathToMember(x),u.data=function(e){var t,r=u.evaluate(e,x);return r=n(r)?r:[r],u.model&&p.fields?(t=new u.model,a(r,function(e){if(e){var r,n={};for(r in p.fields)n[r]=t._parse(r,p.fields[r].field(e));return n}})):r}):"function"==typeof x&&(u.data=x)),"function"==typeof c&&(d=u.parse,u.parse=function(e){var t=c.call(u,e);return d.call(u,t)}),"function"==typeof m&&(u.serialize=m)},total:function(e){return this.data(e).length},errors:function(e){return e?e.errors:null},serialize:function(e){return e},parseDOM:function(e){var r,i,a,o,l,f,d,u={},s=e.attributes,p=s.length;for(d=0;p>d;d++)f=s[d],u["@"+f.nodeName]=f.nodeValue;for(i=e.firstChild;i;i=i.nextSibling)a=i.nodeType,3===a||4===a?u["#text"]=i.nodeValue:1===a&&(r=this.parseDOM(i),o=i.nodeName,l=u[o],n(l)?l.push(r):l=l!==t?[l,r]:r,u[o]=l);return u},evaluate:function(e,t){for(var r,i,a,o,l,f=t.split(".");r=f.shift();)if(e=e[r],n(e)){for(i=[],t=f.join("."),l=0,a=e.length;a>l;l++)o=this.evaluate(e[l],t),o=n(o)?o:[o],i.push.apply(i,o);return i}return e},parse:function(t){var r,n,i={};return r=t.documentElement||e.parseXML(t).documentElement,n=this.parseDOM(r),i[r.nodeName]=n,i},xpathToMember:function(e,t){return e?(e=e.replace(/^\//,"").replace(/\//g,"."),e.indexOf("@")>=0?e.replace(/\.?(@.*)/,t?"$1":'["$1"]'):e.indexOf("text()")>=0?e.replace(/(\.?text\(\))/,t?"#text":'["#text"]'):e):""},getter:function(e){return f(this.xpathToMember(e),!0)}});e.extend(!0,r.data,{XmlDataReader:u,readers:{xml:u}})}(window.kendo.jQuery);;!function(e,t){function r(e,t,r,n){return function(i){var a,s={};for(a in i)s[a]=i[a];s.field=n?r+"."+i.field:r,t==vt&&e._notifyChange&&e._notifyChange(s),e.trigger(t,s)}}function n(t,r){if(t===r)return!0;var i,a=e.type(t),s=e.type(r);if(a!==s)return!1;if("date"===a)return t.getTime()===r.getTime();if("object"!==a&&"array"!==a)return!1;for(i in t)if(!n(t[i],r[i]))return!1;return!0}function i(e,t){var r,n;for(n in e){if(r=e[n],tt(r)&&r.field&&r.field===t)return r;if(r===t)return r}return null}function a(e){this.data=e||[]}function s(e,r){if(e){var n=typeof e===dt?{field:e,dir:r}:e,i=nt(n)?n:n!==t?[n]:[];return it(i,function(e){return!!e.dir})}}function o(e){var t,r,n,i,a=e.filters;if(a)for(t=0,r=a.length;r>t;t++)n=a[t],i=n.operator,i&&typeof i===dt&&(n.operator=G[i.toLowerCase()]||i),o(n)}function u(e){return e&&!rt(e)?((nt(e)||!e.filters)&&(e={logic:"and",filters:nt(e)?e:[e]}),o(e),e):t}function l(e){return nt(e)?e:[e]}function f(e,r){var n=typeof e===dt?{field:e,dir:r}:e,i=nt(n)?n:n!==t?[n]:[];return N(i,function(e){return{field:e.field,dir:e.dir||"asc",aggregates:e.aggregates}})}function d(e,t){return e&&e.getTime&&t&&t.getTime?e.getTime()===t.getTime():e===t}function c(e,t,r,n,i){var a,s,o,u,l;for(t=t||[],u=t.length,a=0;u>a;a++)s=t[a],o=s.aggregate,l=s.field,e[l]=e[l]||{},e[l][o]=L[o.toLowerCase()](e[l][o],r,ut.accessor(l),n,i)}function h(e){return"number"==typeof e&&!isNaN(e)}function g(e){var t,r=e.length,n=Array(r);for(t=0;r>t;t++)n[t]=e[t].toJSON();return n}function p(e,t){t=t||{};var r=new a(e),n=t.aggregate,i=t.filter;return i&&(r=r.filter(i)),r.aggregate(n)}function _(e,t,r,n,i){var a,s,o,u,l;for(u=0,l=e.length;l>u;u++){a=e[u];for(s in t)o=i[s],o&&o!==s&&(a[o]=t[s](a),delete a[s])}}function v(e,t,r,n,i){var a,s,o,u,l;for(u=0,l=e.length;l>u;u++){a=e[u];for(s in t)a[s]=r._parse(s,t[s](a)),o=i[s],o&&o!==s&&delete a[o]}}function m(e,t,r,n,i){var a,s,o,u;for(s=0,u=e.length;u>s;s++)a=e[s],o=n[a.field],o&&o!=a.field&&(a.field=o),a.value=r._parse(a.field,a.value),a.hasSubgroups?m(a.items,t,r,n,i):v(a.items,t,r,n,i)}function y(e,t,r,n,i,a){return function(s){return s=e(s),s&&!rt(n)&&("[object Array]"===Nt.call(s)||s instanceof Lt||(s=[s]),r(s,n,new t,i,a)),s||[]}}function S(e,t,r,n){for(var i,a,s=0;t.length&&n&&(i=t[s],a=i.items,e&&e.field===i.field&&e.value===i.value?(e.hasSubgroups&&e.items.length?S(e.items[e.items.length-1],i.items,r,n):(a=a.slice(r,n),n-=a.length,e.items=e.items.concat(a)),t.splice(s--,1)):(a=a.slice(r,n),n-=a.length,i.items=a,i.items.length||(t.splice(s--,1),n-=r)),r=0,!(++s>=t.length)););s<t.length&&t.splice(s,t.length-s)}function w(e){var t,r,n=[];for(t=0,r=e.length;r>t;t++)n=e[t].hasSubgroups?n.concat(w(e[t].items)):n.concat(e[t].items.slice());return n}function b(e,t){var r,n,i,a;if(t)for(r=0,n=e.length;n>r;r++)i=e[r],a=i.items,i.hasSubgroups?b(a,t):!a.length||a[0]instanceof t||(a.type=t,a.wrapAll(a,a))}function x(e,t){var r,n;for(r=0,n=e.length;n>r;r++)if(e[r].hasSubgroups){if(x(e[r].items,t))return!0}else if(t(e[r].items,e[r]))return!0}function k(e,t){var r,n;for(r=0,n=e.length;n>r;r++)if(e[r].uid==t.uid)return t=e[r],e.splice(r,1),t}function q(e,t){var r,n,i,a;for(i=e.length-1,a=0;i>=a;i--)n=e[i],r={value:t.get(n.field),field:n.field,items:r?[r]:[t],hasSubgroups:!!r,aggregates:{}};return r}function C(e,t){return t?O(e,function(e){return e[t.idField]===t.id}):-1}function z(e,t){return t?O(e,function(e){return e.uid==t.uid}):-1}function O(e,t){var r,n;for(r=0,n=e.length;n>r;r++)if(t(e[r]))return r;return-1}function F(e,t){var r,n;return e&&!rt(e)?(r=e[t],n=tt(r)?r.from||r.field||t:e[t]||t,et(n)?t:n):t}function R(e,t){var r,n,i,a={};for(i in e)"filters"!==i&&(a[i]=e[i]);if(e.filters)for(a.filters=[],r=0,n=e.filters.length;n>r;r++)a.filters[r]=R(e.filters[r],t);else a.field=F(t.fields,a.field);return a}function T(e,t){var r,n,i,a,s,o=[];for(r=0,n=e.length;n>r;r++){i={},a=e[r];for(s in a)i[s]=a[s];i.field=F(t.fields,i.field),i.aggregates&&nt(i.aggregates)&&(i.aggregates=T(i.aggregates,t)),o.push(i)}return o}function P(t,r){var n,i,a,s,o,u=e(t)[0].children,l=[],f=r[0],d=r[1];for(n=0,i=u.length;i>n;n++)a={},o=u[n],o.disabled||(a[f.field]=o.text,s=o.attributes.value,s=s&&s.specified?o.value:o.text,a[d.field]=s,l.push(a));return l}function A(t,r){var n,i,a,s,o,u,l,f=e(t)[0].tBodies[0],d=f?f.rows:[],c=r.length,h=[];for(n=0,i=d.length;i>n;n++){for(o={},l=!0,s=d[n].cells,a=0;c>a;a++)u=s[a],"th"!==u.nodeName.toLowerCase()&&(l=!1,o[r[a].field]=u.innerHTML);l||h.push(o)}return h}function D(e){return function(){var t=this._data,r=V.fn[e].apply(this,Dt.call(arguments));return this._data!=t&&this._attachBubbleHandlers(),r}}function M(t,r){var n,i,a,s,o,u,l,f,d=e(t).children(),c=[],h=r[0].field,g=r[1]&&r[1].field,p=r[2]&&r[2].field,_=r[3]&&r[3].field;for(n=0,i=d.length;i>n;n++)a={_loaded:!0},s=d.eq(n),u=s[0].firstChild,f=s.children(),t=f.filter("ul"),f=f.filter(":not(ul)"),o=s.attr("data-id"),o&&(a.id=o),u&&(a[h]=3==u.nodeType?u.nodeValue:f.text()),g&&(a[g]=f.find("a").attr("href")),_&&(a[_]=f.find("img").attr("src")),p&&(l=f.find(".k-sprite").prop("className"),a[p]=l&&e.trim(l.replace("k-sprite",""))),t.length&&(a.items=M(t.eq(0),r)),"true"==s.attr("data-hasChildren")&&(a.hasChildren=!0),c.push(a);return c}var N,j,I,B,G,L,E,H,J,U,V,W,Q,$,K,X,Y=e.extend,Z=e.proxy,et=e.isFunction,tt=e.isPlainObject,rt=e.isEmptyObject,nt=e.isArray,it=e.grep,at=e.ajax,st=e.each,ot=e.noop,ut=window.kendo,lt=ut.Observable,ft=ut.Class,dt="string",ct="function",ht="create",gt="read",pt="update",_t="destroy",vt="change",mt="sync",yt="get",St="error",wt="requestStart",bt="progress",xt="requestEnd",kt=[ht,gt,pt,_t],qt=function(e){return e},Ct=ut.getter,zt=ut.stringify,Ot=Math,Ft=[].push,Rt=[].join,Tt=[].pop,Pt=[].splice,At=[].shift,Dt=[].slice,Mt=[].unshift,Nt={}.toString,jt=ut.support.stableSort,It=/^\/Date\((.*?)\)\/$/,Bt=/(\r+|\n+)/g,Gt=/(?=['\\])/g,Lt=lt.extend({init:function(e,t){var r=this;r.type=t||Et,lt.fn.init.call(r),r.length=e.length,r.wrapAll(e,r)},toJSON:function(){var e,t,r=this.length,n=Array(r);for(e=0;r>e;e++)t=this[e],t instanceof Et&&(t=t.toJSON()),n[e]=t;return n},parent:ot,wrapAll:function(e,t){var r,n,i=this,a=function(){return i};for(t=t||[],r=0,n=e.length;n>r;r++)t[r]=i.wrap(e[r],a);return t},wrap:function(e,t){var r,n=this;return null!==e&&"[object Object]"===Nt.call(e)&&(r=e instanceof n.type||e instanceof Ut,r||(e=e instanceof Et?e.toJSON():e,e=new n.type(e)),e.parent=t,e.bind(vt,function(e){n.trigger(vt,{field:e.field,node:e.node,index:e.index,items:e.items||[this],action:e.node?e.action||"itemchange":"itemchange"})})),e},push:function(){var e,t=this.length,r=this.wrapAll(arguments);return e=Ft.apply(this,r),this.trigger(vt,{action:"add",index:t,items:r}),e},slice:Dt,join:Rt,pop:function(){var e=this.length,t=Tt.apply(this);return e&&this.trigger(vt,{action:"remove",index:e-1,items:[t]}),t},splice:function(e,t,r){var n,i,a,s=this.wrapAll(Dt.call(arguments,2));if(n=Pt.apply(this,[e,t].concat(s)),n.length)for(this.trigger(vt,{action:"remove",index:e,items:n}),i=0,a=n.length;a>i;i++)n[i].children&&n[i].unbind(vt);return r&&this.trigger(vt,{action:"add",index:e,items:s}),n},shift:function(){var e=this.length,t=At.apply(this);return e&&this.trigger(vt,{action:"remove",index:0,items:[t]}),t},unshift:function(){var e,t=this.wrapAll(arguments);return e=Mt.apply(this,t),this.trigger(vt,{action:"add",index:0,items:t}),e},indexOf:function(e){var t,r,n=this;for(t=0,r=n.length;r>t;t++)if(n[t]===e)return t;return-1},forEach:function(e){for(var t=0,r=this.length;r>t;t++)e(this[t],t,this)},map:function(e){for(var t=0,r=[],n=this.length;n>t;t++)r[t]=e(this[t],t,this);return r},filter:function(e){for(var t,r=0,n=[],i=this.length;i>r;r++)t=this[r],e(t,r,this)&&(n[n.length]=t);return n},find:function(e){for(var t,r=0,n=this.length;n>r;r++)if(t=this[r],e(t,r,this))return t},every:function(e){for(var t,r=0,n=this.length;n>r;r++)if(t=this[r],!e(t,r,this))return!1;return!0},some:function(e){for(var t,r=0,n=this.length;n>r;r++)if(t=this[r],e(t,r,this))return!0;return!1},remove:function(e){this.splice(this.indexOf(e),1)}}),Et=lt.extend({init:function(e){var t,r,n=this,i=function(){return n};lt.fn.init.call(this);for(r in e)t=e[r],"_"!=r.charAt(0)&&(t=n.wrap(t,r,i)),n[r]=t;n.uid=ut.guid()},shouldSerialize:function(e){return this.hasOwnProperty(e)&&"_events"!==e&&typeof this[e]!==ct&&"uid"!==e},forEach:function(e){for(var t in this)this.shouldSerialize(t)&&e(this[t],t)},toJSON:function(){var e,t,r={};for(t in this)this.shouldSerialize(t)&&(e=this[t],(e instanceof Et||e instanceof Lt)&&(e=e.toJSON()),r[t]=e);return r},get:function(e){var t,r=this;return r.trigger(yt,{field:e}),t="this"===e?r:ut.getter(e,!0)(r)},_set:function(e,t){var r,n,i,a=this,s=e.indexOf(".")>=0;if(s)for(r=e.split("."),n="";r.length>1;){if(n+=r.shift(),i=ut.getter(n,!0)(a),i instanceof Et)return i.set(r.join("."),t),s;n+="."}return ut.setter(e)(a,t),s},set:function(e,t){var r=this,n=ut.getter(e,!0)(r);n!==t&&(r.trigger("set",{field:e,value:t})||(!r._set(e,r.wrap(t,e,function(){return r}))||e.indexOf("(")>=0||e.indexOf("[")>=0)&&r.trigger(vt,{field:e}))},parent:ot,wrap:function(e,t,n){var i,a,s=this,o=Nt.call(e);return null==e||"[object Object]"!==o&&"[object Array]"!==o||(i=e instanceof Lt,a=e instanceof V,"[object Object]"!==o||a||i?("[object Array]"===o||i||a)&&(i||a||(e=new Lt(e)),e.parent()!=n()&&e.bind(vt,r(s,vt,t,!1))):(e instanceof Et||(e=new Et(e)),e.parent()!=n()&&(e.bind(yt,r(s,yt,t,!0)),e.bind(vt,r(s,vt,t,!0)))),e.parent=n),e}}),Ht={number:function(e){return ut.parseFloat(e)},date:function(e){return ut.parseDate(e)},"boolean":function(e){return typeof e===dt?"true"===e.toLowerCase():null!=e?!!e:e},string:function(e){return null!=e?e+"":e},"default":function(e){return e}},Jt={string:"",number:0,date:new Date,"boolean":!1,"default":""},Ut=Et.extend({init:function(r){var n=this;(!r||e.isEmptyObject(r))&&(r=e.extend({},n.defaults,r)),Et.fn.init.call(n,r),n.dirty=!1,n.idField&&(n.id=n.get(n.idField),n.id===t&&(n.id=n._defaultId))},shouldSerialize:function(e){return Et.fn.shouldSerialize.call(this,e)&&"uid"!==e&&!("id"!==this.idField&&"id"===e)&&"dirty"!==e&&"_accessors"!==e},_parse:function(e,t){var r,n=this,a=e,s=n.fields||{};return e=s[e],e||(e=i(s,a)),e&&(r=e.parse,!r&&e.type&&(r=Ht[e.type.toLowerCase()])),r?r(t):t},_notifyChange:function(e){var t=e.action;("add"==t||"remove"==t)&&(this.dirty=!0)},editable:function(e){return e=(this.fields||{})[e],e?e.editable!==!1:!0},set:function(e,t,r){var i=this;i.editable(e)&&(t=i._parse(e,t),n(t,i.get(e))||(i.dirty=!0,Et.fn.set.call(i,e,t,r)))},accept:function(e){var t,r=this,n=function(){return r};for(t in e)r._set(t,r.wrap(e[t],t,n));r.idField&&(r.id=r.get(r.idField)),r.dirty=!1},isNew:function(){return this.id===this._defaultId}});Ut.define=function(e,r){r===t&&(r=e,e=Ut);var n,i,a,s,o,u,l,f,d=Y({defaults:{}},r),c={},h=d.id;if(h&&(d.idField=h),d.id&&delete d.id,h&&(d.defaults[h]=d._defaultId=""),"[object Array]"===Nt.call(d.fields)){for(u=0,l=d.fields.length;l>u;u++)a=d.fields[u],typeof a===dt?c[a]={}:a.field&&(c[a.field]=a);d.fields=c}for(i in d.fields)a=d.fields[i],s=a.type||"default",o=null,f=i,i=typeof a.field===dt?a.field:i,a.nullable||(o=d.defaults[f!==i?f:i]=a.defaultValue!==t?a.defaultValue:Jt[s.toLowerCase()]),r.id===i&&(d._defaultId=o),d.defaults[f!==i?f:i]=o,a.parse=a.parse||Ht[s];return n=e.extend(d),n.define=function(e){return Ut.define(n,e)},d.fields&&(n.fields=d.fields,n.idField=d.idField),n},j={selector:function(e){return et(e)?e:Ct(e)},compare:function(e){var t=this.selector(e);return function(e,r){return e=t(e),r=t(r),null==e&&null==r?0:null==e?-1:null==r?1:e.localeCompare?e.localeCompare(r):e>r?1:r>e?-1:0}},create:function(e){var t=e.compare||this.compare(e.field);return"desc"==e.dir?function(e,r){return t(r,e,!0)}:t},combine:function(e){return function(t,r){var n,i,a=e[0](t,r);for(n=1,i=e.length;i>n;n++)a=a||e[n](t,r);return a}}},I=Y({},j,{asc:function(e){var t=this.selector(e);return function(e,r){var n=t(e),i=t(r);return n&&n.getTime&&i&&i.getTime&&(n=n.getTime(),i=i.getTime()),n===i?e.__position-r.__position:null==n?-1:null==i?1:n.localeCompare?n.localeCompare(i):n>i?1:-1}},desc:function(e){var t=this.selector(e);return function(e,r){var n=t(e),i=t(r);return n&&n.getTime&&i&&i.getTime&&(n=n.getTime(),i=i.getTime()),n===i?e.__position-r.__position:null==n?1:null==i?-1:i.localeCompare?i.localeCompare(n):i>n?1:-1}},create:function(e){return this[e.dir](e.field)}}),N=function(e,t){var r,n=e.length,i=Array(n);for(r=0;n>r;r++)i[r]=t(e[r],r,e);return i},B=function(){function e(e){return e.replace(Gt,"\\").replace(Bt,"")}function t(t,r,n,i){var a;return null!=n&&(typeof n===dt&&(n=e(n),a=It.exec(n),a?n=new Date(+a[1]):i?(n="'"+n.toLowerCase()+"'",r="("+r+" || '').toLowerCase()"):n="'"+n+"'"),n.getTime&&(r="("+r+"?"+r+".getTime():"+r+")",n=n.getTime())),r+" "+t+" "+n}return{eq:function(e,r,n){return t("==",e,r,n)},neq:function(e,r,n){return t("!=",e,r,n)},gt:function(e,r,n){return t(">",e,r,n)},gte:function(e,r,n){return t(">=",e,r,n)},lt:function(e,r,n){return t("<",e,r,n)},lte:function(e,r,n){return t("<=",e,r,n)},startswith:function(t,r,n){return n&&(t="("+t+" || '').toLowerCase()",r&&(r=r.toLowerCase())),r&&(r=e(r)),t+".lastIndexOf('"+r+"', 0) == 0"},endswith:function(t,r,n){return n&&(t="("+t+" || '').toLowerCase()",r&&(r=r.toLowerCase())),r&&(r=e(r)),t+".indexOf('"+r+"', "+t+".length - "+(r||"").length+") >= 0"},contains:function(t,r,n){return n&&(t="("+t+" || '').toLowerCase()",r&&(r=r.toLowerCase())),r&&(r=e(r)),t+".indexOf('"+r+"') >= 0"},doesnotcontain:function(t,r,n){return n&&(t="("+t+" || '').toLowerCase()",r&&(r=r.toLowerCase())),r&&(r=e(r)),t+".indexOf('"+r+"') == -1"}}}(),a.filterExpr=function(e){var r,n,i,s,o,u,l=[],f={and:" && ",or:" || "},d=[],c=[],h=e.filters;for(r=0,n=h.length;n>r;r++)i=h[r],o=i.field,u=i.operator,i.filters?(s=a.filterExpr(i),i=s.expression.replace(/__o\[(\d+)\]/g,function(e,t){return t=+t,"__o["+(c.length+t)+"]"}).replace(/__f\[(\d+)\]/g,function(e,t){return t=+t,"__f["+(d.length+t)+"]"}),c.push.apply(c,s.operators),d.push.apply(d,s.fields)):(typeof o===ct?(s="__f["+d.length+"](d)",d.push(o)):s=ut.expr(o),typeof u===ct?(i="__o["+c.length+"]("+s+", "+i.value+")",c.push(u)):i=B[(u||"eq").toLowerCase()](s,i.value,i.ignoreCase!==t?i.ignoreCase:!0)),l.push(i);return{expression:"("+l.join(f[e.logic])+")",fields:d,operators:c}},G={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain"},a.normalizeFilter=u,a.prototype={toArray:function(){return this.data},range:function(e,t){return new a(this.data.slice(e,e+t))},skip:function(e){return new a(this.data.slice(e))},take:function(e){return new a(this.data.slice(0,e))},select:function(e){return new a(N(this.data,e))},order:function(e,t){var r={dir:t};return e&&(e.compare?r.compare=e.compare:r.field=e),new a(this.data.slice(0).sort(j.create(r)))},orderBy:function(e){return this.order(e,"asc")},orderByDescending:function(e){return this.order(e,"desc")},sort:function(e,t,r){var n,i,a=s(e,t),o=[];if(r=r||j,a.length){for(n=0,i=a.length;i>n;n++)o.push(r.create(a[n]));return this.orderBy({compare:r.combine(o)})}return this},filter:function(e){var t,r,n,i,s,o,l,f,d=this.data,c=[];if(e=u(e),!e||0===e.filters.length)return this;for(i=a.filterExpr(e),o=i.fields,l=i.operators,s=f=Function("d, __f, __o","return "+i.expression),(o.length||l.length)&&(f=function(e){return s(e,o,l)}),t=0,n=d.length;n>t;t++)r=d[t],f(r)&&c.push(r);return new a(c)},group:function(e,t){e=f(e||[]),t=t||this.data;var r,n=this,i=new a(n.data);return e.length>0&&(r=e[0],i=i.groupBy(r).select(function(n){var i=new a(t).filter([{field:n.field,operator:"eq",value:n.value,ignoreCase:!1}]);return{field:n.field,value:n.value,items:e.length>1?new a(n.items).group(e.slice(1),i.toArray()).toArray():n.items,hasSubgroups:e.length>1,aggregates:i.aggregate(r.aggregates)}})),i},groupBy:function(e){if(rt(e)||!this.data.length)return new a([]);var t,r,n,i,s=e.field,o=this._sortForGrouping(s,e.dir||"asc"),u=ut.accessor(s),l=u.get(o[0],s),f={field:s,value:l,items:[]},c=[f];for(n=0,i=o.length;i>n;n++)t=o[n],r=u.get(t,s),d(l,r)||(l=r,f={field:s,value:l,items:[]},c.push(f)),f.items.push(t);return new a(c)},_sortForGrouping:function(e,t){var r,n,i=this.data;if(!jt){for(r=0,n=i.length;n>r;r++)i[r].__position=r;for(i=new a(i).sort(e,t,I).toArray(),r=0,n=i.length;n>r;r++)delete i[r].__position;return i}return this.sort(e,t).toArray()},aggregate:function(e){var t,r,n={};if(e&&e.length)for(t=0,r=this.data.length;r>t;t++)c(n,e,this.data[t],t,r);return n}},L={sum:function(e,t,r){return(e||0)+r.get(t)},count:function(e){return(e||0)+1},average:function(e,t,r,n,i){return e=(e||0)+r.get(t),n==i-1&&(e/=i),e},max:function(e,t,r){var n=r.get(t);return e=e||0,n>e&&(e=n),e},min:function(e,t,r){var n=r.get(t);return h(e)||(e=n),e>n&&h(n)&&(e=n),e}},a.process=function(e,r){r=r||{};var n,i=new a(e),o=r.group,u=f(o||[]).concat(s(r.sort||[])),l=r.filter,d=r.skip,c=r.take;return l&&(i=i.filter(l),n=i.toArray().length),u&&(i=i.sort(u),o&&(e=i.toArray())),d!==t&&c!==t&&(i=i.range(d,c)),o&&(i=i.group(o,e)),{total:n,data:i.toArray()}},E=ft.extend({init:function(e){this.data=e.data},read:function(e){e.success(this.data)},update:function(e){e.success(e.data)},create:function(e){e.success(e.data)},destroy:function(e){e.success(e.data)}}),H=ft.extend({init:function(e){var t,r=this;e=r.options=Y({},r.options,e),st(kt,function(t,r){typeof e[r]===dt&&(e[r]={url:e[r]})}),r.cache=e.cache?J.create(e.cache):{find:ot,add:ot},t=e.parameterMap,r.parameterMap=et(t)?t:function(e){var r={};return st(e,function(e,n){e in t&&(e=t[e],tt(e)&&(n=e.value(n),e=e.key)),r[e]=n}),r}},options:{parameterMap:qt},create:function(e){return at(this.setup(e,ht))},read:function(r){var n,i,a,s=this,o=s.cache;r=s.setup(r,gt),n=r.success||ot,i=r.error||ot,a=o.find(r.data),a!==t?n(a):(r.success=function(e){o.add(r.data,e),n(e)},e.ajax(r))},update:function(e){return at(this.setup(e,pt))},destroy:function(e){return at(this.setup(e,_t))},setup:function(e,t){e=e||{};var r,n=this,i=n.options[t],a=et(i.data)?i.data(e.data):i.data;return e=Y(!0,{},i,e),r=Y(!0,{},a,e.data),e.data=n.parameterMap(r,t),et(e.url)&&(e.url=e.url(r)),e}}),J=ft.extend({init:function(){this._store={}},add:function(e,r){e!==t&&(this._store[zt(e)]=r)},find:function(e){return this._store[zt(e)]},clear:function(){this._store={}},remove:function(e){delete this._store[zt(e)]}}),J.create=function(e){var t={inmemory:function(){return new J}};return tt(e)&&et(e.find)?e:e===!0?new J:t[e]()},U=ft.extend({init:function(e){var t,r,n,i,a,s,o,u,l,f,d,c,h,g=this;e=e||{};for(t in e)r=e[t],g[t]=typeof r===dt?Ct(r):r;i=e.modelBase||Ut,tt(g.model)&&(g.model=n=i.define(g.model)),g.model&&(s=Z(g.data,g),o=Z(g.groups,g),u=Z(g.serialize,g),l={},f={},d={},c={},h=!1,n=g.model,n.fields&&(st(n.fields,function(e,t){var r;a=e,tt(t)&&t.field?a=t.field:typeof t===dt&&(a=t),tt(t)&&t.from&&(r=t.from),h=h||r&&r!==e||a!==e,f[e]=Ct(r||a),d[e]=Ct(e),l[r||a]=e,c[e]=r||a}),!e.serialize&&h&&(g.serialize=y(u,n,_,d,l,c))),g.data=y(s,n,v,f,l,c),g.groups=y(o,n,m,f,l,c))},errors:function(e){return e?e.errors:null},parse:qt,data:qt,total:function(e){return e.length},groups:qt,aggregates:function(){return{}},serialize:function(e){return e}}),V=lt.extend({init:function(e){var r,n,i=this;e&&(n=e.data),e=i.options=Y({},i.options,e),i._map={},i._prefetch={},i._data=[],i._pristineData=[],i._ranges=[],i._view=[],i._pristine=[],i._destroyed=[],i._pageSize=e.pageSize,i._page=e.page||(e.pageSize?1:t),i._sort=s(e.sort),i._filter=u(e.filter),i._group=f(e.group),i._aggregate=e.aggregate,i._total=e.total,lt.fn.init.call(i),i.transport=W.create(e,n),i.reader=new ut.data.readers[e.schema.type||"json"](e.schema),r=i.reader.model||{},i._data=i._observe(i._data),i.bind([St,vt,wt,mt,xt,bt],e)},options:{data:[],schema:{modelBase:Ut},serverSorting:!1,serverPaging:!1,serverFiltering:!1,serverGrouping:!1,serverAggregates:!1,batch:!1},_isServerGrouped:function(){var e=this.group()||[];return this.options.serverGrouping&&e.length},_flatData:function(e){return this._isServerGrouped()?w(e):e},parent:ot,get:function(e){var t,r,n=this._flatData(this._data);for(t=0,r=n.length;r>t;t++)if(n[t].id==e)return n[t]},getByUid:function(e){var t,r,n=this._flatData(this._data);if(n)for(t=0,r=n.length;r>t;t++)if(n[t].uid==e)return n[t]},indexOf:function(e){return z(this._data,e)},at:function(e){return this._data[e]},data:function(e){var r=this;return e===t?r._data:(r._data=this._observe(e),r._ranges=[],r._addRange(r._data),r._total=r._data.length,r._process(r._data),t)},view:function(){return this._view},add:function(e){return this.insert(this._data.length,e)},_createNewModel:function(e){return this.reader.model?new this.reader.model(e):new Et(e)},insert:function(e,t){return t||(t=e,e=0),t instanceof Ut||(t=this._createNewModel(t)),this._isServerGrouped()?this._data.splice(e,0,q(this.group(),t)):this._data.splice(e,0,t),t},remove:function(e){var r,n=this,i=n._isServerGrouped();return this._eachItem(n._data,function(a){return r=k(a,e),r&&i?(r.isNew&&r.isNew()||n._destroyed.push(r),!0):t}),e},sync:function(){var t,r,n,i=this,a=[],s=[],o=i._destroyed,u=i._flatData(i._data);if(i.reader.model){for(t=0,r=u.length;r>t;t++)u[t].isNew()?a.push(u[t]):u[t].dirty&&s.push(u[t]);n=i._send("create",a),n.push.apply(n,i._send("update",s)),n.push.apply(n,i._send("destroy",o)),e.when.apply(null,n).then(function(){var e,t;for(e=0,t=arguments.length;t>e;e++)i._accept(arguments[e]);i._change({action:"sync"}),i.trigger(mt)})}},cancelChanges:function(e){var t=this;e instanceof ut.data.Model?t._cancelModel(e):(t._destroyed=[],t._data=t._observe(t._pristineData),t.options.serverPaging&&(t._total=t.reader.total(t._pristine)),t._change())},hasChanges:function(){var e,t,r=this._data;if(this._destroyed.length)return!0;for(e=0,t=r.length;t>e;e++)if(r[e].isNew()||r[e].dirty)return!0;return!1},_accept:function(t){var r,n=this,i=t.models,a=t.response,s=0,o=n._isServerGrouped(),u=n._pristineData,l=t.type;if(n.trigger(xt,{response:a,type:l}),a&&!rt(a)){if(a=n.reader.parse(a),n._handleCustomErrors(a))return;a=n.reader.data(a),e.isArray(a)||(a=[a])}else a=e.map(i,function(e){return e.toJSON()});for("destroy"===l&&(n._destroyed=[]),s=0,r=i.length;r>s;s++)"destroy"!==l?(i[s].accept(a[s]),"create"===l?u.push(o?q(n.group(),i[s]):a[s]):"update"===l&&n._updatePristineForModel(i[s],a[s])):n._removePristineForModel(i[s])},_updatePristineForModel:function(e,t){this._executeOnPristineForModel(e,function(e,r){ut.deepExtend(r[e],t)})},_executeOnPristineForModel:function(e,r){this._eachPristineItem(function(n){var i=C(n,e);return i>-1?(r(i,n),!0):t})},_removePristineForModel:function(e){this._executeOnPristineForModel(e,function(e,t){t.splice(e,1)})},_readData:function(e){var t=this._isServerGrouped()?this.reader.groups:this.reader.data;return t(e)},_eachPristineItem:function(e){this._eachItem(this._pristineData,e)},_eachItem:function(e,t){e&&e.length&&(this._isServerGrouped()?x(e,t):t(e))},_pristineForModel:function(e){var r,n,i=function(i){return n=C(i,e),n>-1?(r=i[n],!0):t};return this._eachPristineItem(i),r},_cancelModel:function(e){var t,r=this._pristineForModel(e);this._eachItem(this._data,function(n){t=z(n,e),-1!=t&&(!e.isNew()&&r?n[t].accept(r):n.splice(t,1))})},_promise:function(t,r,n){var i=this,a=i.transport;return e.Deferred(function(e){i.trigger(wt,{type:n}),a[n].call(a,Y({success:function(t){e.resolve({response:t,models:r,type:n})},error:function(t,r,n){e.reject(t),i.error(t,r,n)}},t))}).promise()},_send:function(e,t){var r,n,i=this,a=[],s=i.reader.serialize(g(t));if(i.options.batch)t.length&&a.push(i._promise({data:{models:s}},t,e));else for(r=0,n=t.length;n>r;r++)a.push(i._promise({data:s[r]},[t[r]],e));return a},read:function(e){var t=this,r=t._params(e);t._queueRequest(r,function(){t.trigger(wt,{type:"read"})?t._dequeueRequest():(t.trigger(bt),t._ranges=[],t.transport.read({data:r,success:Z(t.success,t),error:Z(t.error,t)}))})},success:function(r){var n=this,i=n.options;return n.trigger(xt,{response:r,type:"read"}),r=n.reader.parse(r),n._handleCustomErrors(r)?(n._dequeueRequest(),t):(n._pristine=tt(r)?e.extend(!0,{},r):r.slice?r.slice(0):r,n._total=n.reader.total(r),n._aggregate&&i.serverAggregates&&(n._aggregateResult=n.reader.aggregates(r)),r=n._readData(r),n._pristineData=r.slice(0),n._data=n._observe(r),n._addRange(n._data),n._process(n._data),n._dequeueRequest(),t)},_addRange:function(e){var t=this,r=t._skip||0,n=r+t._flatData(e).length;t._ranges.push({start:r,end:n,data:e}),t._ranges.sort(function(e,t){return e.start-t.start})},error:function(e,t,r){this._dequeueRequest(),this.trigger(xt,{}),this.trigger(St,{xhr:e,status:t,errorThrown:r})},_params:function(e){var t=this,r=Y({take:t.take(),skip:t.skip(),page:t.page(),pageSize:t.pageSize(),sort:t._sort,filter:t._filter,group:t._group,aggregate:t._aggregate},e);return t.options.serverPaging||(delete r.take,delete r.skip,delete r.page,delete r.pageSize),t.options.serverGrouping?t.reader.model&&r.group&&(r.group=T(r.group,t.reader.model)):delete r.group,t.options.serverFiltering?t.reader.model&&r.filter&&(r.filter=R(r.filter,t.reader.model)):delete r.filter,t.options.serverSorting?t.reader.model&&r.sort&&(r.sort=T(r.sort,t.reader.model)):delete r.sort,t.options.serverAggregates?t.reader.model&&r.aggregate&&(r.aggregate=T(r.aggregate,t.reader.model)):delete r.aggregate,r},_queueRequest:function(e,r){var n=this;n._requestInProgress?n._pending={callback:Z(r,n),options:e}:(n._requestInProgress=!0,n._pending=t,r())},_dequeueRequest:function(){var e=this;e._requestInProgress=!1,e._pending&&e._queueRequest(e._pending.options,e._pending.callback)},_handleCustomErrors:function(e){if(this.reader.errors){var t=this.reader.errors(e);if(t)return this.trigger(St,{xhr:null,status:"customerror",errorThrown:"custom error",errors:t}),!0}return!1},_observe:function(e){var t=this,r=t.reader.model,n=!1;return r&&e.length&&(n=!(e[0]instanceof r)),e instanceof Lt?n&&(e.type=t.reader.model,e.wrapAll(e,e)):(e=new Lt(e,t.reader.model),e.parent=function(){return t.parent()}),t._isServerGrouped()&&b(e,r),t._changeHandler&&t._data&&t._data instanceof Lt?t._data.unbind(vt,t._changeHandler):t._changeHandler=Z(t._change,t),e.bind(vt,t._changeHandler)},_change:function(e){var t,r,n,i=this,a=e?e.action:"";if("remove"===a)for(t=0,r=e.items.length;r>t;t++)e.items[t].isNew&&e.items[t].isNew()||i._destroyed.push(e.items[t]);!i.options.autoSync||"add"!==a&&"remove"!==a&&"itemchange"!==a?(n=parseInt(i._total||i.reader.total(i._pristine),10),"add"===a?n+=e.items.length:"remove"===a?n-=e.items.length:"itemchange"===a||"sync"===a||i.options.serverPaging||(n=i.reader.total(i._pristine)),i._total=n,i._process(i._data,e)):i.sync()},_process:function(e,r){var n,i=this,s={};i.options.serverPaging!==!0&&(s.skip=i._skip,s.take=i._take||i._pageSize,s.skip===t&&i._page!==t&&i._pageSize!==t&&(s.skip=(i._page-1)*i._pageSize)),i.options.serverSorting!==!0&&(s.sort=i._sort),i.options.serverFiltering!==!0&&(s.filter=i._filter),i.options.serverGrouping!==!0&&(s.group=i._group),i.options.serverAggregates!==!0&&(s.aggregate=i._aggregate,i._aggregateResult=p(e,s)),n=a.process(e,s),i._view=n.data,n.total===t||i.options.serverFiltering||(i._total=n.total),r=r||{},r.items=r.items||i._view,i.trigger(vt,r)},_mergeState:function(e){var r=this;return e!==t&&(r._pageSize=e.pageSize,r._page=e.page,r._sort=e.sort,r._filter=e.filter,r._group=e.group,r._aggregate=e.aggregate,r._skip=e.skip,r._take=e.take,r._skip===t&&(r._skip=r.skip(),e.skip=r.skip()),r._take===t&&r._pageSize!==t&&(r._take=r._pageSize,e.take=r._take),e.sort&&(r._sort=e.sort=s(e.sort)),e.filter&&(r._filter=e.filter=u(e.filter)),e.group&&(r._group=e.group=f(e.group)),e.aggregate&&(r._aggregate=e.aggregate=l(e.aggregate))),e},query:function(e){var r,n=this,i=n.options.serverSorting||n.options.serverPaging||n.options.serverFiltering||n.options.serverGrouping||n.options.serverAggregates;i||(n._data===t||0===n._data.length)&&!n._destroyed.length?n.read(n._mergeState(e)):n.trigger(wt,{type:"read"})||(n.trigger(bt),r=a.process(n._data,n._mergeState(e)),n.options.serverFiltering||(n._total=r.total!==t?r.total:n._data.length),n._view=r.data,n._aggregateResult=p(n._data,e),n.trigger(xt,{}),n.trigger(vt,{items:r.data}))},fetch:function(t){var r=this;return e.Deferred(function(e){var n=function(n){r.unbind(St,i),e.resolve(),t&&t.call(r,n)},i=function(t){e.reject(t)};r.one(vt,n),r.one(St,i),r._query()}).promise()},_query:function(e){var t=this;t.query(Y({},{page:t.page(),pageSize:t.pageSize(),sort:t.sort(),filter:t.filter(),group:t.group(),aggregate:t.aggregate()},e))},next:function(e){var r=this,n=r.page(),i=r.total();return e=e||{},!n||i&&n+1>r.totalPages()?t:(r._skip=n*r.take(),n+=1,e.page=n,r._query(e),n)},prev:function(e){var r=this,n=r.page();return e=e||{},n&&1!==n?(r._skip=r._skip-r.take(),n-=1,e.page=n,r._query(e),n):t},page:function(e){var r,n=this;return e!==t?(e=Ot.max(Ot.min(Ot.max(e,1),n.totalPages()),1),n._query({page:e}),t):(r=n.skip(),r!==t?Ot.round((r||0)/(n.take()||1))+1:t)},pageSize:function(e){var r=this;return e!==t?(r._query({pageSize:e,page:1}),t):r.take()},sort:function(e){var r=this;return e!==t?(r._query({sort:e}),t):r._sort},filter:function(e){var r=this;return e===t?r._filter:(r._query({filter:e,page:1}),t)},group:function(e){var r=this;return e!==t?(r._query({group:e}),t):r._group},total:function(){return parseInt(this._total||0,10)},aggregate:function(e){var r=this;return e!==t?(r._query({aggregate:e}),t):r._aggregate},aggregates:function(){return this._aggregateResult},totalPages:function(){var e=this,t=e.pageSize()||e.total();return Ot.ceil((e.total()||0)/t)},inRange:function(e,t){var r=this,n=Ot.min(e+t,r.total());return!r.options.serverPaging&&r.data.length>0?!0:r._findRange(e,n).length>0},lastRange:function(){var e=this._ranges;return e[e.length-1]||{start:0,end:0,data:[]}},firstItemUid:function(){var e=this._ranges;return e.length&&e[0].data.length&&e[0].data[0].uid},range:function(e,r){var n,i,a,s,o,u,l;if(e=Ot.min(e||0,this.total()),i=this,a=Ot.max(Ot.floor(e/r),0)*r,s=Ot.min(a+r,i.total()),n=i._findRange(e,Ot.min(e+r,i.total())),n.length){i._skip=e>i.skip()?Ot.min(s,(i.totalPages()-1)*i.take()):a,i._take=r,o=i.options.serverPaging,u=i.options.serverSorting,l=i.options.serverFiltering;try{i.options.serverPaging=!0,i.options.serverSorting=!0,i.options.serverFiltering=!0,o&&(i._data=n=i._observe(n)),i._process(n)}finally{i.options.serverPaging=o,i.options.serverSorting=u,i.options.serverFiltering=l}}else r!==t&&(i._rangeExists(a,s)?e>a&&i.prefetch(s,r,function(){i.range(e,r)}):i.prefetch(a,r,function(){e>a&&s<i.total()&&!i._rangeExists(s,Ot.min(s+r,i.total()))?i.prefetch(s,r,function(){i.range(e,r)}):i.range(e,r)}))},_findRange:function(e,r){var n,i,o,u,l,d,c,h,g,p,_,v,m=this,y=m._ranges,S=[],w=m.options,b=w.serverSorting||w.serverPaging||w.serverFiltering||w.serverGrouping||w.serverAggregates;for(i=0,_=y.length;_>i;i++)if(n=y[i],e>=n.start&&e<=n.end){for(p=0,o=i;_>o;o++)if(n=y[o],g=m._flatData(n.data),g.length&&e+p>=n.start&&(d=n.data,c=n.end,b||(v=f(m.group()||[]).concat(s(m.sort()||[])),h=a.process(n.data,{sort:v,filter:m.filter()}),g=d=h.data,h.total!==t&&(c=h.total)),u=0,e+p>n.start&&(u=e+p-n.start),l=g.length,c>r&&(l-=c-r),p+=l-u,S=m._mergeGroups(S,d,u,l),r<=n.end&&p==r-e))return S;break}return[]},_mergeGroups:function(e,t,r,n){if(this._isServerGrouped()){var i,a=t.toJSON();return e.length&&(i=e[e.length-1]),S(i,a,r,n),e.concat(a)}return e.concat(t.slice(r,n))},skip:function(){var e=this;return e._skip===t?e._page!==t?(e._page-1)*(e.take()||1):t:e._skip},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(e,t,r){var n=this;
return function(i){var a,s,o=!1,u={start:e,end:t,data:[]};for(n._dequeueRequest(),a=0,s=n._ranges.length;s>a;a++)if(n._ranges[a].start===e){o=!0,u=n._ranges[a];break}o||n._ranges.push(u),n.trigger(xt,{response:i,type:"read"}),i=n.reader.parse(i),u.data=n._observe(n._readData(i)),u.end=u.start+n._flatData(u.data).length,n._ranges.sort(function(e,t){return e.start-t.start}),n._total=n.reader.total(i),r&&r()}},prefetch:function(e,t,r){var n=this,i=Ot.min(e+t,n.total()),a={take:t,skip:e,page:e/t+1,pageSize:t,sort:n._sort,filter:n._filter,group:n._group,aggregate:n._aggregate};n._rangeExists(e,i)?r&&r():(clearTimeout(n._timeout),n._timeout=setTimeout(function(){n._queueRequest(a,function(){n.trigger(wt,{type:"read"})?n._dequeueRequest():n.transport.read({data:n._params(a),success:n._prefetchSuccessHandler(e,i,r)})})},100))},_rangeExists:function(e,t){var r,n,i=this,a=i._ranges;for(r=0,n=a.length;n>r;r++)if(a[r].start<=e&&a[r].end>=t)return!0;return!1}}),W={},W.create=function(e,t){var r,n=e.transport;return n?(n.read=typeof n.read===dt?{url:n.read}:n.read,e.type&&(ut.data.transports[e.type]&&!tt(ut.data.transports[e.type])?r=new ut.data.transports[e.type](Y(n,{data:t})):n=Y(!0,{},ut.data.transports[e.type],n),e.schema=Y(!0,{},ut.data.schemas[e.type],e.schema)),r||(r=et(n.read)?n:new H(n))):r=new E({data:e.data}),r},V.create=function(e){e=e&&e.push?{data:e}:e;var t,r,n,i=e||{},a=i.data,s=i.fields,o=i.table,u=i.select,l={};if(a||!s||i.transport||(o?a=A(o,s):u&&(a=P(u,s))),ut.data.Model&&s&&(!i.schema||!i.schema.model)){for(t=0,r=s.length;r>t;t++)n=s[t],n.type&&(l[n.field]=n);rt(l)||(i.schema=Y(!0,i.schema,{model:{fields:l}}))}return i.data=a,i instanceof V?i:new V(i)},Q=Ut.define({init:function(e){var t=this,r=t.hasChildren||e&&e.hasChildren,n="items",i={};ut.data.Model.fn.init.call(t,e),typeof t.children===dt&&(n=t.children),i={schema:{data:n,model:{hasChildren:r,id:t.idField}}},typeof t.children!==dt&&Y(i,t.children),i.data=e,r||(r=i.schema.data),typeof r===dt&&(r=ut.getter(r)),et(r)&&(t.hasChildren=!!r.call(t,t)),t._childrenOptions=i,t.hasChildren&&t._initChildren(),t._loaded=!(!e||!e[n]&&!e._loaded)},_initChildren:function(){var e,t,r,n=this;n.children instanceof $||(e=n.children=new $(n._childrenOptions),t=e.transport,r=t.parameterMap,t.parameterMap=function(e){return e[n.idField||"id"]=n.id,r&&(e=r(e)),e},e.parent=function(){return n},e.bind(vt,function(e){e.node=e.node||n,n.trigger(vt,e)}),e.bind(St,function(e){var t=n.parent();t&&(e.node=e.node||n,t.trigger(St,e))}),n._updateChildrenField())},append:function(e){this._initChildren(),this.loaded(!0),this.children.add(e)},hasChildren:!1,level:function(){for(var e=this.parentNode(),t=0;e&&e.parentNode;)t++,e=e.parentNode?e.parentNode():null;return t},_updateChildrenField:function(){var e=this._childrenOptions.schema.data;this[e||"items"]=this.children.data()},load:function(){var e=this,r={};e.hasChildren&&(e._initChildren(),r[e.idField||"id"]=e.id,e._loaded||(e.children._data=t),e.children.one(vt,function(){e._loaded=!0,e._updateChildrenField()})._query(r))},parentNode:function(){var e=this.parent();return e.parent()},loaded:function(e){return e===t?this._loaded:(this._loaded=e,t)},shouldSerialize:function(e){return Ut.fn.shouldSerialize.call(this,e)&&"children"!==e&&"_loaded"!==e&&"hasChildren"!==e&&"_childrenOptions"!==e}}),$=V.extend({init:function(e){var t=Q.define({children:e});V.fn.init.call(this,Y(!0,{},{schema:{modelBase:t,model:t}},e)),this._attachBubbleHandlers()},_attachBubbleHandlers:function(){var e=this;e._data.bind(St,function(t){e.trigger(St,t)})},remove:function(e){var t,r=e.parentNode(),n=this;return r&&r._initChildren&&(n=r.children),t=V.fn.remove.call(n,e),r&&!n.data().length&&(r.hasChildren=!1),t},success:D("success"),data:D("data"),insert:function(e,t){var r=this.parent();return r&&r._initChildren&&(r.hasChildren=!0,r._initChildren()),V.fn.insert.call(this,e,t)},_find:function(e,t){var r,n,i,a,s;if(i=V.fn[e].call(this,t))return i;if(a=this._flatData(this.data()))for(r=0,n=a.length;n>r;r++)if(s=a[r].children,s instanceof $&&(i=s[e](t)))return i},get:function(e){return this._find("get",e)},getByUid:function(e){return this._find("getByUid",e)}}),$.create=function(e){e=e&&e.push?{data:e}:e;var t=e||{},r=t.data,n=t.fields,i=t.list;return r&&r._dataSource?r._dataSource:(r||!n||t.transport||i&&(r=M(i,n)),t.data=r,t instanceof $?t:new $(t))},K=ut.Observable.extend({init:function(e,t,r){ut.Observable.fn.init.call(this),this._prefetching=!1,this.dataSource=e,this.prefetch=!r;var n=this;e.bind("change",function(){n._change()}),this._syncWithDataSource(),this.setViewSize(t)},setViewSize:function(e){this.viewSize=e,this._recalculate()},at:function(e){var r,n,i=this.pageSize;return e>=this.total()?(this.trigger("endreached",{index:e}),t):((e<this.dataOffset||e>this.skip+i)&&(r=Math.floor(e/i)*i,this.range(r)),e===this.prefetchThreshold&&this._prefetch(),e===this.midPageThreshold?this.range(this.nextMidRange):e===this.nextPageThreshold?this.range(this.nextFullRange):e===this.pullBackThreshold&&(this.offset===this.skip?this.range(this.previousMidRange):this.range(this.previousFullRange)),n=this.dataSource.at(e-this.dataOffset),n===t&&this.trigger("endreached",{index:e}),n)},indexOf:function(e){return this.dataSource.data().indexOf(e)+this.dataOffset},_prefetch:function(){var e=this,t=this.pageSize,r=this.skip+t,n=this.dataSource;n.inRange(r,t)||this._prefetching||!this.prefetch||(this._prefetching=!0,this.trigger("prefetching",{skip:r,take:t}),n.prefetch(r,t,function(){e._prefetching=!1,e.trigger("prefetched",{skip:r,take:t})}))},total:function(){return parseInt(this.dataSource.total(),10)},next:function(){var e=this,t=e.pageSize,r=e.skip-e.viewSize,n=Ot.max(Ot.floor(r/t),0)*t+t;this.offset=r,this.dataSource.prefetch(n,t,function(){e._goToRange(r,!0)})},range:function(e){if(this.offset!==e){var t=this,r=this.pageSize,n=Ot.max(Ot.floor(e/r),0)*r+r,i=this.dataSource;this.offset=e,this._recalculate(),i.inRange(e,r)?this._goToRange(e):this.prefetch&&i.prefetch(n,r,function(){t._goToRange(e,!0)})}},syncDataSource:function(){var e=this.offset;this.offset=null,this.range(e)},_goToRange:function(e,t){this.offset===e&&(this.dataOffset=e,this._expanding=t,this.dataSource.range(e,this.pageSize))},_change:function(){var e=this.dataSource,t=e.firstItemUid();this.length=e.lastRange().end,this._firstItemUid!==t&&(this._syncWithDataSource(),this._recalculate(),this.trigger("reset",{offset:this.offset})),this.trigger("resize"),this._expanding&&this.trigger("expand"),delete this._expanding},_syncWithDataSource:function(){var e=this.dataSource;this._firstItemUid=e.firstItemUid(),this.dataOffset=this.offset=e.skip(),this.pageSize=e.pageSize()},_recalculate:function(){var e=this.pageSize,t=this.offset,r=this.viewSize,n=Math.ceil(t/e)*e;this.skip=n,this.midPageThreshold=n+e-1,this.nextPageThreshold=n+r-1,this.prefetchThreshold=n+Math.floor(2*(e/3)),this.pullBackThreshold=this.offset-1,this.nextMidRange=n+e-r,this.nextFullRange=n,this.previousMidRange=t-r,this.previousFullRange=n-e}}),X=ut.Observable.extend({init:function(e,t){var r=this;ut.Observable.fn.init.call(r),this.dataSource=e,this.batchSize=t,this._total=0,this.buffer=new K(e,3*t),this.buffer.bind({endreached:function(e){r.trigger("endreached",{index:e.index})},prefetching:function(e){r.trigger("prefetching",{skip:e.skip,take:e.take})},prefetched:function(e){r.trigger("prefetched",{skip:e.skip,take:e.take})},reset:function(){r._total=0,r.trigger("reset")},resize:function(){r._total=this.length/r.batchSize,r.trigger("resize",{total:r.total(),offset:this.offset})}})},syncDataSource:function(){this.buffer.syncDataSource()},at:function(e){var r,n,i=this.buffer,a=e*this.batchSize,s=this.batchSize,o=[];for(i.offset>a&&i.at(i.offset-1),n=0;s>n;n++){if(r=i.at(a+n),r===t)return;o.push(r)}return o},total:function(){return this._total}}),Y(!0,ut.data,{readers:{json:U},Query:a,DataSource:V,HierarchicalDataSource:$,Node:Q,ObservableObject:Et,ObservableArray:Lt,LocalTransport:E,RemoteTransport:H,Cache:J,DataReader:U,Model:Ut,Buffer:K,BatchBuffer:X})}(window.kendo.jQuery);;!function(t){function e(t,e){var n=t.x.location,i=t.y.location,o=e.x.location,r=e.y.location,a=n-o,s=i-r;return{center:{x:(n+o)/2,y:(i+r)/2},distance:Math.sqrt(a*a+s*s)}}function n(t){var e,n,i,o=[],r=t.originalEvent,s=t.currentTarget,c=0;if(t.api)o.push({id:2,event:t,target:t.target,currentTarget:t.target,location:t});else if(t.type.match(/touch/))for(n=r?r.changedTouches:[],e=n.length;e>c;c++)i=n[c],o.push({location:i,event:t,target:i.target,currentTarget:s,id:i.identifier});else a.pointers||a.msPointers?o.push({location:r,event:t,target:t.target,currentTarget:s,id:r.pointerId}):o.push({id:1,event:t,target:t.target,currentTarget:s,location:t});return o}function i(e){var n,i,o;e.preventDefault(),n=t(e.data.root),i=n.closest(".k-widget").parent(),i[0]||(i=n.parent()),o=t.extend(!0,{},e,{target:n[0]}),i.trigger(t.Event(e.type,o))}function o(t){for(var e=r.eventMap.up.split(" "),n=0,i=e.length;i>n;n++)t(e[n])}var r=window.kendo,a=r.support,s=window.document,c=r.Class,u=r.Observable,l=t.now,h=t.extend,d=a.mobileOS,p=d&&d.android,f=a.browser.ie?5:0,v="press",g="select",_="start",m="move",y="end",T="cancel",x="tap",M="release",w="gesturestart",D="gesturechange",E="gestureend",I="gesturetap",b=c.extend({init:function(t,e){var n=this;n.axis=t,n._updateLocationData(e),n.startLocation=n.location,n.velocity=n.delta=0,n.timeStamp=l()},move:function(t){var e=this,n=t["page"+e.axis],i=l(),o=i-e.timeStamp||1;(n||!p)&&(e.delta=n-e.location,e._updateLocationData(t),e.initialDelta=n-e.startLocation,e.velocity=e.delta/o,e.timeStamp=i)},_updateLocationData:function(t){var e=this,n=e.axis;e.location=t["page"+n],e.client=t["client"+n],e.screen=t["screen"+n]}}),S=c.extend({init:function(t,e,n){var i=this;h(i,{x:new b("X",n.location),y:new b("Y",n.location),userEvents:t,target:e,currentTarget:n.currentTarget,initialTouch:n.target,id:n.id,_moved:!1,_finished:!1}),i.notifyInit=function(){i._trigger(v,n)}},move:function(t){var e=this;if(!e._finished){if(e.x.move(t.location),e.y.move(t.location),!e._moved){if(e._withinIgnoreThreshold())return;if(k.current&&k.current!==e.userEvents)return e.dispose();e._start(t)}e._finished||e._trigger(m,t)}},end:function(t){var e=this;e.endTime=l(),e._finished||(e._moved?e._trigger(y,t):e._trigger(x,t),e._trigger(M,t),e.dispose())},dispose:function(){var e=this,n=e.userEvents,i=n.touches;e._finished=!0,i.splice(t.inArray(e,i),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(t){this.startTime=l(),this._moved=!0,this._trigger(_,t)},_trigger:function(t,e){var n=this,i=e.event,o={touch:n,x:n.x,y:n.y,target:n.target,event:i};n.userEvents.notify(t,o)&&i.preventDefault()},_withinIgnoreThreshold:function(){var t=this.x.initialDelta,e=this.y.initialDelta;return Math.sqrt(t*t+e*e)<=this.userEvents.threshold}}),k=u.extend({init:function(e,n){var i,c,l,d=this,p=r.guid();n=n||{},i=d.filter=n.filter,d.threshold=n.threshold||f,d.touches=[],d._maxTouches=n.multiTouch?2:1,d.allowSelection=n.allowSelection,d.captureUpIfMoved=n.captureUpIfMoved,d.eventNS=p,e=t(e).handler(d),u.fn.init.call(d),h(d,{element:e,surface:n.global?t(s.documentElement):t(n.surface||e),stopPropagation:n.stopPropagation,pressed:!1}),d.surface.handler(d).on(r.applyEventMap("move",p),"_move").on(r.applyEventMap("up cancel",p),"_end"),e.on(r.applyEventMap("down",p),i,"_start"),(a.pointers||a.msPointers)&&e.css("-ms-touch-action","pinch-zoom double-tap-zoom"),n.preventDragEvent&&e.on(r.applyEventMap("dragstart",p),r.preventDefault),e.on(r.applyEventMap("mousedown selectstart",p),i,{root:e},"_select"),d.captureUpIfMoved&&a.eventCapture&&(c=d.surface[0],l=t.proxy(d.preventIfMoving,d),o(function(t){c.addEventListener(t,l,!0)})),d.bind([v,x,_,m,y,M,T,w,D,E,I,g],n)},preventIfMoving:function(t){this._isMoved()&&t.preventDefault()},destroy:function(){var t,e=this;e._destroyed||(e._destroyed=!0,e.captureUpIfMoved&&a.eventCapture&&(t=e.surface[0],o(function(n){t.removeEventListener(n,e.preventIfMoving)})),e.element.kendoDestroy(e.eventNS),e.surface.kendoDestroy(e.eventNS),e.element.removeData("handler"),e.surface.removeData("handler"),e._disposeAll(),e.unbind(),delete e.surface,delete e.element)},capture:function(){k.current=this},cancel:function(){this._disposeAll(),this.trigger(T)},notify:function(t,n){var i=this,o=i.touches;if(this._isMultiTouch()){switch(t){case m:t=D;break;case y:t=E;break;case x:t=I}h(n,{touches:o},e(o[0],o[1]))}return this.trigger(t,n)},press:function(t,e,n){this._apiCall("_start",t,e,n)},move:function(t,e){this._apiCall("_move",t,e)},end:function(t,e){this._apiCall("_end",t,e)},_isMultiTouch:function(){return this.touches.length>1},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){t.each(this.touches,function(){this.dispose()})},_isMoved:function(){return t.grep(this.touches,function(t){return t.isMoved()}).length},_select:function(t){(!this.allowSelection||this.trigger(g,{event:t}))&&i(t)},_start:function(e){var i,o,r=this,a=0,s=r.filter,c=n(e),u=c.length;if(!r._maxTouchesReached())for(k.current=null,r.currentTarget=e.currentTarget,r.stopPropagation&&e.stopPropagation();u>a&&!r._maxTouchesReached();a++)o=c[a],i=s?t(o.currentTarget):r.element,i.length&&(o=new S(r,i,o),r.touches.push(o),o.notifyInit(),r._isMultiTouch()&&r.notify("gesturestart",{}))},_move:function(t){this._eachTouch("move",t)},_end:function(t){this._eachTouch("end",t)},_eachTouch:function(t,e){var i,o,r,a,s=this,c={},u=n(e),l=s.touches;for(i=0;i<l.length;i++)o=l[i],c[o.id]=o;for(i=0;i<u.length;i++)r=u[i],a=c[r.id],a&&a[t](r)},_apiCall:function(e,n,i,o){this[e]({api:!0,pageX:n,pageY:i,target:o||this.element,stopPropagation:t.noop,preventDefault:t.noop})}});r.getTouches=n,r.touchDelta=e,r.UserEvents=k}(window.kendo.jQuery);;!function(e,t){function n(t,n){try{return e.contains(t,n)||t==n}catch(r){return!1}}function r(e){return z?v.elementFromPoint(e.x.screen,e.y.screen):v.elementFromPoint(e.x.client,e.y.client)}function i(e,t){return parseInt(e.css(t),10)||0}function a(e,t){return Math.min(Math.max(e,t.min),t.max)}function s(e,t){var n=E(e),r=n.left+i(e,"borderLeftWidth")+i(e,"paddingLeft"),a=n.top+i(e,"borderTopWidth")+i(e,"paddingTop"),s=r+e.width()-t.outerWidth(!0),o=a+e.height()-t.outerHeight(!0);return{x:{min:r,max:s},y:{min:a,max:o}}}function o(e,n,r){for(var i,a,s=0,o=n&&n.length,l=r&&r.length;e&&e.parentNode;){for(s=0;o>s;s++)if(i=n[s],i.element[0]===e)return{target:i,targetElement:e};for(s=0;l>s;s++)if(a=r[s],p.matchesSelector.call(e,a.options.filter))return{target:a,targetElement:e};e=e.parentNode}return t}var l,c,u,f,d,h,g=window.kendo,p=g.support,v=window.document,m=g.Class,x=g.ui.Widget,_=g.Observable,y=g.UserEvents,b=e.proxy,T=e.extend,E=g.getOffset,M={},S={},w={},O=p.mobileOS,D=O&&O.android,z=D&&"chrome"==O.browser,C="keyup",k="change",W="dragstart",H="drag",P="dragend",A="dragcancel",L="dragenter",N="dragleave",F="drop",B=_.extend({init:function(t,n){var r=this,i=t[0];r.capture=!1,e.each(g.eventMap.down.split(" "),function(){i.addEventListener(this,b(r._press,r),!0)}),e.each(g.eventMap.up.split(" "),function(){i.addEventListener(this,b(r._release,r),!0)}),_.fn.init.call(r),r.bind(["press","release"],n||{})},captureNext:function(){this.capture=!0},cancelCapture:function(){this.capture=!1},_press:function(e){var t=this;t.trigger("press"),t.capture&&e.preventDefault()},_release:function(e){var t=this;t.trigger("release"),t.capture&&(e.preventDefault(),t.cancelCapture())}}),G=_.extend({init:function(t){var n=this;_.fn.init.call(n),n.forcedEnabled=!1,e.extend(n,t),n.scale=1,n.horizontal?(n.measure="offsetWidth",n.scrollSize="scrollWidth",n.axis="x"):(n.measure="offsetHeight",n.scrollSize="scrollHeight",n.axis="y")},makeVirtual:function(){e.extend(this,{virtual:!0,forcedEnabled:!0,_virtualMin:1e3,_virtualMax:-1e3})},virtualSize:function(e,t){(this._virtualMin!==e||this._virtualMax!==t)&&(this._virtualMin=e,this._virtualMax=t,this.update())},outOfBounds:function(e){return e>this.max||e<this.min},forceEnabled:function(){this.forcedEnabled=!0},getSize:function(){return this.container[0][this.measure]},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(e){this.scale=e},update:function(e){var t=this,n=t.virtual?t._virtualMax:t.getTotal(),r=n*t.scale,i=t.getSize();t.max=t.virtual?-t._virtualMin:0,t.size=i,t.total=r,t.min=Math.min(t.max,i-r),t.minScale=i/n,t.centerOffset=(r-i)/2,t.enabled=t.forcedEnabled||r>i,e||t.trigger(k,t)}}),I=_.extend({init:function(e){var t=this,n=b(t.refresh,t);_.fn.init.call(t),t.x=new G(T({horizontal:!0},e)),t.y=new G(T({horizontal:!1},e)),t.forcedMinScale=e.minScale,t.bind(k,e),g.onResize(n)},rescale:function(e){this.x.rescale(e),this.y.rescale(e),this.refresh()},centerCoordinates:function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},refresh:function(){var e=this;e.x.update(),e.y.update(),e.enabled=e.x.enabled||e.y.enabled,e.minScale=e.forcedMinScale||Math.min(e.x.minScale,e.y.minScale),e.fitScale=Math.max(e.x.minScale,e.y.minScale),e.trigger(k)}}),j=_.extend({init:function(e){var t=this;T(t,e),_.fn.init.call(t)},dragMove:function(e){var t=this,n=t.dimension,r=t.axis,i=t.movable,a=i[r]+e;n.enabled&&((a<n.min&&0>e||a>n.max&&e>0)&&(e*=t.resistance),i.translateAxis(r,e),t.trigger(k,t))}}),Q=m.extend({init:function(e){var t,n,r,i,a=this;T(a,{elastic:!0},e),r=a.elastic?.5:0,i=a.movable,a.x=t=new j({axis:"x",dimension:a.dimensions.x,resistance:r,movable:i}),a.y=n=new j({axis:"y",dimension:a.dimensions.y,resistance:r,movable:i}),a.userEvents.bind(["move","end","gesturestart","gesturechange"],{gesturestart:function(e){a.gesture=e},gesturechange:function(e){var r,s=a.gesture,o=s.center,l=e.center,c=e.distance/s.distance,u=a.dimensions.minScale;i.scale<=u&&1>c&&(c+=.8*(1-c)),r={x:(i.x-o.x)*c+l.x-i.x,y:(i.y-o.y)*c+l.y-i.y},i.scaleWith(c),t.dragMove(r.x),n.dragMove(r.y),a.dimensions.rescale(i.scale),a.gesture=e,e.preventDefault()},move:function(e){e.event.target.tagName.match(/textarea|input/i)||(t.dimension.enabled||n.dimension.enabled?(t.dragMove(e.x.delta),n.dragMove(e.y.delta),e.preventDefault()):e.touch.skip())},end:function(e){e.preventDefault()}})}}),R=p.transitions.prefix+"Transform";c=p.hasHW3D?function(e,t,n){return"translate3d("+e+"px,"+t+"px,0) scale("+n+")"}:function(e,t,n){return"translate("+e+"px,"+t+"px) scale("+n+")"},u=_.extend({init:function(t){var n=this;_.fn.init.call(n),n.element=e(t),n.element[0].style.webkitTransformOrigin="left top",n.x=0,n.y=0,n.scale=1,n._saveCoordinates(c(n.x,n.y,n.scale))},translateAxis:function(e,t){this[e]+=t,this.refresh()},scaleTo:function(e){this.scale=e,this.refresh()},scaleWith:function(e){this.scale*=e,this.refresh()},translate:function(e){this.x+=e.x,this.y+=e.y,this.refresh()},moveAxis:function(e,t){this[e]=t,this.refresh()},moveTo:function(e){T(this,e),this.refresh()},refresh:function(){var e=this,t=c(e.x,e.y,e.scale);t!=e.coordinates&&(e.element[0].style[R]=t,e._saveCoordinates(t),e.trigger(k))},_saveCoordinates:function(e){this.coordinates=e}}),f=x.extend({init:function(e,t){var n,r=this;x.fn.init.call(r,e,t),n=r.options.group,n in S?S[n].push(r):S[n]=[r]},events:[L,N,F],options:{name:"DropTarget",group:"default"},destroy:function(){var e,t=this.options.group,n=S[t]||w[t];if(n.length>1){for(x.fn.destroy.call(this),e=0;e<n.length;e++)if(n[e]==this){n.splice(e,1);break}}else f.destroyGroup(t)},_trigger:function(e,n){var r=this,i=M[r.options.group];return i?r.trigger(e,T({},n.event,{draggable:i,dropTarget:n.dropTarget})):t},_over:function(e){this._trigger(L,e)},_out:function(e){this._trigger(N,e)},_drop:function(e){var t=this,n=M[t.options.group];n&&(n.dropped=!t._trigger(F,e))}}),f.destroyGroup=function(e){var t,n=S[e]||w[e];if(n){for(t=0;t<n.length;t++)x.fn.destroy.call(n[t]);n.length=0,delete S[e],delete w[e]}},f._cache=S,d=f.extend({init:function(e,t){var n,r=this;x.fn.init.call(r,e,t),n=r.options.group,n in w?w[n].push(r):w[n]=[r]},options:{name:"DropTargetArea",group:"default",filter:null}}),h=x.extend({init:function(e,t){var n=this;x.fn.init.call(n,e,t),n.userEvents=new y(n.element,{global:!0,stopPropagation:!0,filter:n.options.filter,threshold:n.options.distance,start:b(n._start,n),move:b(n._drag,n),end:b(n._end,n),cancel:b(n._cancel,n)}),n._afterEndHandler=b(n._afterEnd,n),n.captureEscape=function(e){e.keyCode===g.keys.ESC&&(n._trigger(A,{event:e}),n.userEvents.cancel())}},events:[W,H,P,A],options:{name:"Draggable",distance:5,group:"default",cursorOffset:null,axis:null,container:null,dropped:!1},_updateHint:function(t){var n,r=this,i=r.options,s=r.boundaries,o=i.axis,l=r.options.cursorOffset;l?n={left:t.x.location+l.left,top:t.y.location+l.top}:(r.hintOffset.left+=t.x.delta,r.hintOffset.top+=t.y.delta,n=e.extend({},r.hintOffset)),s&&(n.top=a(n.top,s.y),n.left=a(n.left,s.x)),"x"===o?delete n.top:"y"===o&&delete n.left,r.hint.css(n)},_start:function(t){var n,r=this,i=r.options,a=i.container,o=i.hint;r.currentTarget=t.target,r.currentTargetOffset=E(r.currentTarget),o&&(r.hint&&r.hint.stop(!0,!0).remove(),r.hint=e.isFunction(o)?e(o.call(r,r.currentTarget)):o,n=E(r.currentTarget),r.hintOffset=n,r.hint.css({position:"absolute",zIndex:2e4,left:n.left,top:n.top}).appendTo(v.body)),M[i.group]=r,r.dropped=!1,a&&(r.boundaries=s(a,r.hint)),r._trigger(W,t)&&(r.userEvents.cancel(),r._afterEnd()),e(v).on(C,r.captureEscape)},_drag:function(n){var r=this;n.preventDefault(),r._withDropTarget(n,function(r,i){if(!r)return l&&(l._trigger(N,T(n,{dropTarget:e(l.targetElement)})),l=null),t;if(l){if(i===l.targetElement)return;l._trigger(N,T(n,{dropTarget:e(l.targetElement)}))}r._trigger(L,T(n,{dropTarget:e(i)})),l=T(r,{targetElement:i})}),r._trigger(H,n),r.hint&&r._updateHint(n)},_end:function(t){var n=this;n._withDropTarget(t,function(n,r){n&&(n._drop(T({},t,{dropTarget:e(r)})),l=null)}),n._trigger(P,t),n._cancel(t.event)},_cancel:function(){var e=this;e.hint&&!e.dropped?setTimeout(function(){e.hint.stop(!0,!0).animate(e.currentTargetOffset,"fast",e._afterEndHandler)},0):e._afterEnd()},_trigger:function(e,t){var n=this;return n.trigger(e,T({},t.event,{x:t.x,y:t.y,currentTarget:n.currentTarget,dropTarget:t.dropTarget}))},_withDropTarget:function(e,t){var i,a,s=this,l=s.options,c=S[l.group],u=w[l.group];(c&&c.length||u&&u.length)&&(i=r(e),s.hint&&n(s.hint[0],i)&&(s.hint.hide(),i=r(e),i||(i=r(e)),s.hint.show()),a=o(i,c,u),a?t(a.target,a.targetElement):t())},destroy:function(){var e=this;x.fn.destroy.call(e),e._afterEnd(),e.userEvents.destroy()},_afterEnd:function(){var t=this;t.hint&&t.hint.remove(),delete M[t.options.group],t.trigger("destroy"),e(v).off(C,t.captureEscape)}}),g.ui.plugin(f),g.ui.plugin(d),g.ui.plugin(h),g.TapCapture=B,g.containerBoundaries=s,T(g.ui,{Pane:Q,PaneDimensions:I,Movable:u})}(window.kendo.jQuery);;!function(e,t){function i(e){return parseInt(e,10)}function n(e,t){return i(e.css(t))}function r(e){var t=e.effects;return"zoom"===t&&(t="zoom:in fade:in"),"fade"===t&&(t="fade:in"),"slide"===t&&(t="tile:left"),/^slide:(.+)$/.test(t)&&(t="tile:"+RegExp.$1),"overlay"===t&&(t="slideIn:left"),/^overlay:(.+)$/.test(t)&&(t="slideIn:"+RegExp.$1),e.effects=T.parseEffects(t),dt&&"tile:left"==t&&(e.previousDivisor=3),e}function s(e){var t,i=[];for(t in e)i.push(t);return i}function o(e){for(var t in e)-1!=M.indexOf(t)&&-1==W.indexOf(t)&&delete e[t];return e}function a(e,t){var i,n,r,s,o=[],a={};for(n in t)i=n.toLowerCase(),s=H&&-1!=M.indexOf(i),!P.hasHW3D&&s&&-1==W.indexOf(i)?delete t[n]:(r=t[n],s?o.push(n+"("+r+")"):a[n]=r);return o.length&&(a[ot]=o.join(" ")),a}function c(e,t){var n,r,s;return H?(n=e.css(ot),n==J?"scale"==t?1:0:(r=n.match(RegExp(t+"\\s*\\(([\\d\\w\\.]+)")),s=0,r?s=i(r[1]):(r=n.match(q)||[0,0,0,0,0],t=t.toLowerCase(),$.test(t)?s=parseFloat(r[3]/r[2]):"translatey"==t?s=parseFloat(r[4]/r[2]):"scale"==t?s=parseFloat(r[2]):"rotate"==t&&(s=parseFloat(Math.atan2(r[2],r[1])))),s)):parseFloat(e.css(t))}function l(e){return e.charAt(0).toUpperCase()+e.substring(1)}function u(e,t){var i=m.extend(t),n=i.prototype.directions;C[l(e)]=i,C.Element.prototype[e]=function(e,t,n,r){return new i(this.element,e,t,n,r)},z(n,function(t,n){C.Element.prototype[e+l(n)]=function(e,t,r){return new i(this.element,n,e,t,r)}})}function d(e,i,n,r){u(e,{directions:y,startValue:function(e){return this._startValue=e,this},endValue:function(e){return this._endValue=e,this},shouldHide:function(){return this._shouldHide},prepare:function(e,s){var o,a,c=this,l="out"===this._direction,u=c.element.data(i),d=!(isNaN(u)||u==n);o=d?u:t!==this._startValue?this._startValue:l?n:r,a=t!==this._endValue?this._endValue:l?r:n,this._reverse?(e[i]=a,s[i]=o):(e[i]=o,s[i]=a),c._shouldHide=s[i]===r}})}function p(e,t){var i=T.directions[t].vertical,n=e[i?Y:X]()/2+"px";return g[t].replace("$size",n)}var f,h,m,v,y,x,g,_,w,b,k,T=window.kendo,C=T.effects,z=e.each,R=e.extend,E=e.proxy,P=T.support,N=P.browser,H=P.transforms,D=P.transitions,O={scale:0,scalex:0,scaley:0,scale3d:0},F={translate:0,translatex:0,translatey:0,translate3d:0},I=t!==document.documentElement.style.zoom&&!H,q=/matrix3?d?\s*\(.*,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?/i,A=/^(-?[\d\.\-]+)?[\w\s]*,?\s*(-?[\d\.\-]+)?[\w\s]*/i,$=/translatex?$/i,S=/(zoom|fade|expand)(\w+)/,V=/(zoom|fade|expand)/,L=/[xy]$/i,M=["perspective","rotate","rotatex","rotatey","rotatez","rotate3d","scale","scalex","scaley","scalez","scale3d","skew","skewx","skewy","translate","translatex","translatey","translatez","translate3d","matrix","matrix3d"],W=["rotate","scale","scalex","scaley","skew","skewx","skewy","translate","translatex","translatey","matrix"],j={rotate:"deg",scale:"",skew:"px",translate:"px"},Q=H.css,B=Math.round,U="",G="px",J="none",K="auto",X="width",Y="height",Z="hidden",et="origin",tt="abortId",it="overflow",nt="translate",rt="completeCallback",st=Q+"transition",ot=Q+"transform",at=Q+"backface-visibility",ct=Q+"perspective",lt="1500px",ut="perspective("+lt+")",dt=P.mobileOS&&7==P.mobileOS.majorVersion,pt={left:{reverse:"right",property:"left",transition:"translatex",vertical:!1,modifier:-1},right:{reverse:"left",property:"left",transition:"translatex",vertical:!1,modifier:1},down:{reverse:"up",property:"top",transition:"translatey",vertical:!0,modifier:1},up:{reverse:"down",property:"top",transition:"translatey",vertical:!0,modifier:-1},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out",modifier:-1},out:{reverse:"in",modifier:1},vertical:{reverse:"vertical"},horizontal:{reverse:"horizontal"}};T.directions=pt,R(e.fn,{kendoStop:function(e,t){return D?C.stopQueue(this,e||!1,t||!1):this.stop(e,t)}}),H&&!D&&(z(W,function(i,n){e.fn[n]=function(i){if(t===i)return c(this,n);var r=e(this)[0],s=n+"("+i+j[n.replace(L,"")]+")";return-1==r.style.cssText.indexOf(ot)?e(this).css(ot,s):r.style.cssText=r.style.cssText.replace(RegExp(n+"\\(.*?\\)","i"),s),this},e.fx.step[n]=function(t){e(t.elem)[n](t.now)}}),f=e.fx.prototype.cur,e.fx.prototype.cur=function(){return-1!=W.indexOf(this.prop)?parseFloat(e(this.elem)[this.prop]()):f.apply(this,arguments)}),T.toggleClass=function(e,t,i,n){return t&&(t=t.split(" "),D&&(i=R({exclusive:"all",duration:400,ease:"ease-out"},i),e.css(st,i.exclusive+" "+i.duration+"ms "+i.ease),setTimeout(function(){e.css(st,"").css(Y)},i.duration)),z(t,function(t,i){e.toggleClass(i,n)})),e},T.parseEffects=function(e,t){var i={};return"string"==typeof e?z(e.split(" "),function(e,n){var r=!V.test(n),s=n.replace(S,function(e,t,i){return t+":"+i.toLowerCase()}),o=s.split(":"),a=o[1],c={};o.length>1&&(c.direction=t&&r?pt[a].reverse:a),i[o[0]]=c}):z(e,function(e){var n=this.direction;n&&t&&!V.test(e)&&(this.direction=pt[n].reverse),i[e]=this}),i},D&&R(C,{transition:function(t,i,n){var r,o,c,l,u=0,d=t.data("keys")||[];n=R({duration:200,ease:"ease-out",complete:null,exclusive:"all"},n),c=!1,l=function(){c||(c=!0,o&&(clearTimeout(o),o=null),t.removeData(tt).dequeue().css(st,"").css(st),n.complete.call(t))},n.duration=e.fx?e.fx.speeds[n.duration]||n.duration:n.duration,r=a(t,i),e.merge(d,s(r)),t.data("keys",e.unique(d)).height(),t.css(st,n.exclusive+" "+n.duration+"ms "+n.ease).css(st),t.css(r).css(ot),D.event&&(t.one(D.event,l),0!==n.duration&&(u=500)),o=setTimeout(l,n.duration+u),t.data(tt,o),t.data(rt,l)},stopQueue:function(e,t,i){var n,r=e.data("keys"),s=!i&&r,o=e.data(rt);return s&&(n=T.getComputedStyles(e[0],r)),o&&o(),s&&e.css(n),e.removeData("keys").stop(t)}}),h=T.Class.extend({init:function(e,t){var i=this;i.element=e,i.effects=[],i.options=t,i.restore=[]},run:function(t){var i,n,r,s,c,l,u,d=this,p=t.length,f=d.element,h=d.options,m=e.Deferred(),v={},y={};for(d.effects=t,m.then(e.proxy(d,"complete")),f.data("animating",!0),n=0;p>n;n++)for(i=t[n],i.setReverse(h.reverse),i.setOptions(h),d.addRestoreProperties(i.restore),i.prepare(v,y),c=i.children(),r=0,l=c.length;l>r;r++)c[r].duration(h.duration).run();for(u in h.effects)R(y,h.effects[u].properties);for(f.is(":visible")||R(v,{display:f.data("olddisplay")||"block"}),H&&!h.reset&&(s=f.data("targetTransform"),s&&(v=R(s,v))),v=a(f,v),H&&!D&&(v=o(v)),f.css(v).css(ot),n=0;p>n;n++)t[n].setup();return h.init&&h.init(),f.data("targetTransform",y),C.animate(f,y,R({},h,{complete:m.resolve})),m.promise()},stop:function(){e(this.element).kendoStop(!0,!0)},addRestoreProperties:function(e){for(var t,i=this.element,n=0,r=e.length;r>n;n++)t=e[n],this.restore.push(t),i.data(t)||i.data(t,i.css(t))},restoreCallback:function(){var e,t,i,n=this.element;for(e=0,t=this.restore.length;t>e;e++)i=this.restore[e],n.css(i,n.data(i))},complete:function(){var t=this,i=0,n=t.element,r=t.options,s=t.effects,o=s.length;for(n.removeData("animating").dequeue(),r.hide&&n.data("olddisplay",n.css("display")).hide(),this.restoreCallback(),I&&!H&&setTimeout(e.proxy(this,"restoreCallback"),0);o>i;i++)s[i].teardown();r.completeCallback&&r.completeCallback(n)}}),C.promise=function(e,t){var i,n,r,s=[],o=new h(e,t),a=T.parseEffects(t.effects);t.effects=a;for(r in a)i=C[l(r)],i&&(n=new i(e,a[r].direction),s.push(n));s[0]?o.run(s):(e.is(":visible")||e.css({display:e.data("olddisplay")||"block"}).css("display"),t.init&&t.init(),e.dequeue(),o.complete())},C.transitionPromise=function(e,t,i){return C.animateTo(e,t,i),e},R(C,{animate:function(i,r,s){var a=s.transition!==!1;delete s.transition,D&&"transition"in C&&a?C.transition(i,r,s):H?i.animate(o(r),{queue:!1,show:!1,hide:!1,duration:s.duration,complete:s.complete}):i.each(function(){var i=e(this),o={};z(M,function(e,s){var a,c,l,u,d,p,f,h=r?r[s]+" ":null;h&&(c=r,s in O&&r[s]!==t?(a=h.match(A),H&&R(c,{scale:+a[0]})):s in F&&r[s]!==t&&(l=i.css("position"),u="absolute"==l||"fixed"==l,i.data(nt)||(u?i.data(nt,{top:n(i,"top")||0,left:n(i,"left")||0,bottom:n(i,"bottom"),right:n(i,"right")}):i.data(nt,{top:n(i,"marginTop")||0,left:n(i,"marginLeft")||0})),d=i.data(nt),a=h.match(A),a&&(p=s==nt+"y"?0:+a[1],f=s==nt+"y"?+a[1]:+a[2],u?(isNaN(d.right)?isNaN(p)||R(c,{left:d.left+p}):isNaN(p)||R(c,{right:d.right-p}),isNaN(d.bottom)?isNaN(f)||R(c,{top:d.top+f}):isNaN(f)||R(c,{bottom:d.bottom-f})):(isNaN(p)||R(c,{marginLeft:d.left+p}),isNaN(f)||R(c,{marginTop:d.top+f})))),!H&&"scale"!=s&&s in c&&delete c[s],c&&R(o,c))}),N.msie&&delete o.scale,i.animate(o,{queue:!1,show:!1,hide:!1,duration:s.duration,complete:s.complete})})},animateTo:function(t,i,n){function s(e){i[0].style.cssText="",t.each(function(){this.style.cssText=""}),P.mobileOS.android||c.css(it,a),n.completeCallback&&n.completeCallback.call(t,e)}var o,a,c=t.parents().filter(i.parents()).first();n=r(n),P.mobileOS.android||(a=c.css(it),c.css(it,"hidden")),e.each(n.effects,function(e,t){o=o||t.direction}),n.complete=N.msie?function(){setTimeout(s,0)}:s,n.previous=n.reverse?i:t,n.reset=!0,(n.reverse?t:i).each(function(){e(this).kendoAnimate(R(!0,{},n)),n.complete=null,n.previous=null})}}),m=T.Class.extend({init:function(e,t){var i=this;i.element=e,i._direction=t,i.options={},i._additionalEffects=[],i.restore||(i.restore=[])},reverse:function(){return this._reverse=!0,this.run()},play:function(){return this._reverse=!1,this.run()},add:function(e){return this._additionalEffects.push(e),this},direction:function(e){return this._direction=e,this},duration:function(e){return this._duration=e,this},compositeRun:function(){var e=this,t=new h(e.element,{reverse:e._reverse,duration:e._duration}),i=e._additionalEffects.concat([e]);return t.run(i)},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var t,i,n=this,r=n.element,s=0,c=n.restore,l=c.length,u=e.Deferred(),d={},p={},f=n.children(),h=f.length;for(u.then(e.proxy(n,"_complete")),r.data("animating",!0),s=0;l>s;s++)t=c[s],r.data(t)||r.data(t,r.css(t));for(s=0;h>s;s++)f[s].duration(n._duration).run();return n.prepare(d,p),r.is(":visible")||R(d,{display:r.data("olddisplay")||"block"}),H&&(i=r.data("targetTransform"),i&&(d=R(i,d))),d=a(r,d),H&&!D&&(d=o(d)),r.css(d).css(ot),n.setup(),r.data("targetTransform",p),C.animate(r,p,{duration:n._duration,complete:u.resolve}),u.promise()},stop:function(){var t=0,i=this.children(),n=i.length;for(t=0;n>t;t++)i[t].stop();return e(this.element).kendoStop(!0,!0),this},restoreCallback:function(){var e,t,i,n=this.element;for(e=0,t=this.restore.length;t>e;e++)i=this.restore[e],n.css(i,n.data(i))},_complete:function(){var t=this,i=t.element;i.removeData("animating").dequeue(),t.restoreCallback(),t.shouldHide()&&i.data("olddisplay",i.css("display")).hide(),I&&!H&&setTimeout(e.proxy(t,"restoreCallback"),0),t.teardown()},setOptions:function(e){R(!0,this.options,e)},children:function(){return[]},shouldHide:e.noop,setup:e.noop,prepare:e.noop,teardown:e.noop,directions:[],setReverse:function(e){return this._reverse=e,this}}),v=["left","right","up","down"],y=["in","out"],u("slideIn",{directions:v,divisor:function(e){return this.options.divisor=e,this},prepare:function(e,t){var i,n=this,r=n.element,s=pt[n._direction],o=-s.modifier*(s.vertical?r.outerHeight():r.outerWidth()),a=o/(n.options&&n.options.divisor||1)+G,c="0px";n._reverse&&(i=e,e=t,t=i),H?(e[s.transition]=a,t[s.transition]=c):(e[s.property]=a,t[s.property]=c)}}),u("tile",{directions:v,init:function(e,t,i){m.prototype.init.call(this,e,t),this.options={previous:i}},previousDivisor:function(e){return this.options.previousDivisor=e,this},children:function(){var e=this,t=e._reverse,i=e.options.previous,n=e.options.previousDivisor||1,r=e._direction,s=[T.fx(e.element).slideIn(r).setReverse(t)];return i&&s.push(T.fx(i).slideIn(pt[r].reverse).divisor(n).setReverse(!t)),s}}),d("fade","opacity",1,0),d("zoom","scale",1,.01),u("slideMargin",{prepare:function(e,t){var i,n=this,r=n.element,s=n.options,o=r.data(et),a=s.offset,c=n._reverse;c||null!==o||r.data(et,parseFloat(r.css("margin-"+s.axis))),i=r.data(et)||0,t["margin-"+s.axis]=c?i:i+a}}),u("slideTo",{prepare:function(e,t){var i=this,n=i.element,r=i.options,s=r.offset.split(","),o=i._reverse;H?(t.translatex=o?0:s[0],t.translatey=o?0:s[1]):(t.left=o?0:s[0],t.top=o?0:s[1]),n.css("left")}}),u("expand",{directions:["horizontal","vertical"],restore:[it],prepare:function(e,i){var n=this,r=n.element,s=n.options,o=n._reverse,a="vertical"===n._direction?Y:X,c=r[0].style[a],l=r.data(a),u=parseFloat(l||c),d=B(r.css(a,K)[a]());e.overflow=Z,u=s&&s.reset?d||u:u||d,i[a]=(o?0:u)+G,e[a]=(o?u:0)+G,l===t&&r.data(a,c)},shouldHide:function(){return this._reverse},teardown:function(){var e=this,t=e.element,i="vertical"===e._direction?Y:X,n=t.data(i);(n==K||n===U)&&setTimeout(function(){t.css(i,K).css(i)},0)}}),x={position:"absolute",marginLeft:0,marginTop:0,scale:1},u("transfer",{init:function(e,t){this.element=e,this.options={target:t},this.restore=[]},setup:function(){this.element.appendTo(document.body)},prepare:function(e,t){var i,n,r,s,o,a,l,u,d,p,f,h,m,v=this,y=v.element,g=v.options,_=v._reverse,w=g.target,b=c(y,"scale"),k=w.offset(),T=w.outerHeight()/y.outerHeight();R(e,x),t.scale=1,y.css(ot,"scale(1)").css(ot),i=y.offset(),y.css(ot,"scale("+b+")"),n=0,r=0,s=k.left-i.left,o=k.top-i.top,a=n+y.outerWidth(),l=r,u=s+w.outerWidth(),d=o,p=(o-r)/(s-n),f=(d-l)/(u-a),h=(r-l-p*n+f*a)/(f-p),m=r+p*(h-n),e.top=i.top,e.left=i.left,e.transformOrigin=h+G+" "+m+G,_?e.scale=T:t.scale=T}}),g={top:"rect(auto auto $size auto)",bottom:"rect($size auto auto auto)",left:"rect(auto $size auto auto)",right:"rect(auto auto auto $size)"},_={top:{start:"rotatex(0deg)",end:"rotatex(180deg)"},bottom:{start:"rotatex(-180deg)",end:"rotatex(0deg)"},left:{start:"rotatey(0deg)",end:"rotatey(-180deg)"},right:{start:"rotatey(180deg)",end:"rotatey(0deg)"}},u("turningPage",{directions:v,init:function(e,t,i){m.prototype.init.call(this,e,t),this._container=i},prepare:function(e,t){var i=this,n=i._reverse,r=n?pt[i._direction].reverse:i._direction,s=_[r];e.zIndex=1,i._clipInHalf&&(e.clip=p(i._container,T.directions[r].reverse)),e[at]=Z,t[ot]=ut+(n?s.start:s.end),e[ot]=ut+(n?s.end:s.start)},setup:function(){this._container.append(this.element)},face:function(e){return this._face=e,this},shouldHide:function(){var e=this,t=e._reverse,i=e._face;return t&&!i||!t&&i},clipInHalf:function(e){return this._clipInHalf=e,this},temporary:function(){return this.element.addClass("temp-page"),this}}),u("staticPage",{directions:v,init:function(e,t,i){m.prototype.init.call(this,e,t),this._container=i},restore:["clip"],prepare:function(e,t){var i=this,n=i._reverse?pt[i._direction].reverse:i._direction;e.clip=p(i._container,n),e.opacity=.999,t.opacity=1},shouldHide:function(){var e=this,t=e._reverse,i=e._face;return t&&!i||!t&&i},face:function(e){return this._face=e,this}}),u("pageturn",{directions:["horizontal","vertical"],init:function(e,t,i,n){m.prototype.init.call(this,e,t),this.options={},this.options.face=i,this.options.back=n},children:function(){var e,t=this,i=t.options,n="horizontal"===t._direction?"left":"top",r=T.directions[n].reverse,s=t._reverse,o=i.face.clone(!0).removeAttr("id"),a=i.back.clone(!0).removeAttr("id"),c=t.element;return s&&(e=n,n=r,r=e),[T.fx(i.face).staticPage(n,c).face(!0).setReverse(s),T.fx(i.back).staticPage(r,c).setReverse(s),T.fx(o).turningPage(n,c).face(!0).clipInHalf(!0).temporary().setReverse(s),T.fx(a).turningPage(r,c).clipInHalf(!0).temporary().setReverse(s)]},prepare:function(e,t){e[ct]=lt,e.transformStyle="preserve-3d",e.opacity=.999,t.opacity=1},teardown:function(){this.element.find(".temp-page").remove()}}),u("flip",{directions:["horizontal","vertical"],init:function(e,t,i,n){m.prototype.init.call(this,e,t),this.options={},this.options.face=i,this.options.back=n},children:function(){var e,t=this,i=t.options,n="horizontal"===t._direction?"left":"top",r=T.directions[n].reverse,s=t._reverse,o=t.element;return s&&(e=n,n=r,r=e),[T.fx(i.face).turningPage(n,o).face(!0).setReverse(s),T.fx(i.back).turningPage(r,o).setReverse(s)]},prepare:function(e){e[ct]=lt,e.transformStyle="preserve-3d"}}),w=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},b=T.Class.extend({init:function(){var e=this;e._tickProxy=E(e._tick,e),e._started=!1},tick:e.noop,done:e.noop,onEnd:e.noop,onCancel:e.noop,start:function(){this.done()||(this._started=!0,w(this._tickProxy))},cancel:function(){this._started=!1,this.onCancel()},_tick:function(){var e=this;e._started&&(e.tick(),e.done()?(e._started=!1,e.onEnd()):w(e._tickProxy))}}),k=b.extend({init:function(e){var t=this;R(t,e),b.fn.init.call(t)},done:function(){return this.timePassed()>=this.duration},timePassed:function(){return Math.min(this.duration,Date.now()-this.startDate)},moveTo:function(e){var t=this,i=t.movable;t.initial=i[t.axis],t.delta=e.location-t.initial,t.duration="number"==typeof e.duration?e.duration:300,t.tick=t._easeProxy(e.ease),t.startDate=Date.now(),t.start()},_easeProxy:function(e){var t=this;return function(){t.movable.moveAxis(t.axis,e(t.timePassed(),t.initial,t.delta,t.duration))}}}),R(k,{easeOutExpo:function(e,t,i,n){return e==n?t+i:i*(-Math.pow(2,-10*e/n)+1)+t},easeOutBack:function(e,t,i,n,r){return r=1.70158,i*((e=e/n-1)*e*((r+1)*e+r)+1)+t}}),C.animationFrame=function(e){w.call(window,e)},C.Animation=b,C.Transition=k,C.createEffect=u}(window.kendo.jQuery);;!function(t){function e(t,e){if(!e)return t;t+"/"===e&&(t=e);var n=RegExp("^"+e,"i");return n.test(t)||(t=e+"/"+t),o.protocol+"//"+(o.host+"/"+t).replace(/\/\/+/g,"/")}var n=window.kendo,r=n.support,o=window.location,i=window.history,a=50,u=/^#*/,s=window.document,c=n.Observable.extend({start:function(t){var e=this;if(t=t||{},e.bind(["change"],t),!e._started){if(e._started=!0,e._pushStateRequested=!!t.pushState,e._pushState=r.pushState&&e._pushStateRequested,e.root=t.root||"/",e._interval=0,e._normalizeUrl())return!0;e.current=e._currentLocation(),e.locations=[e.current],e._listenToLocationChange()}},stop:function(){t(window).unbind(".kendo"),this.unbind("change"),clearInterval(this._interval),this._started=!1},change:function(t){this.bind("change",t)},navigate:function(t,e){var n=this;return"#:back"===t?(i.back(),undefined):(t=t.replace(u,""),n.current!==t&&n.current!==decodeURIComponent(t)&&(e||!n.trigger("change",{url:t}))&&(n._pushState?(i.pushState({},s.title,n._makePushStateUrl(t)),n.current=n._currentLocation()):o.hash=n.current=t,n.locations.push(n.current)),undefined)},_normalizeUrl:function(){var t,e=this,n=e.root==o.pathname,a=e.root==o.pathname+"/",c=e._pushStateRequested&&!r.pushState&&!n,h=e._pushState&&n&&o.hash;return a&&e._pushState&&i.replaceState({},s.title,e.root),c?(o.replace(e.root+"#"+e._stripRoot(o.pathname)),!0):h?(t=e._makePushStateUrl(o.hash.replace(u,"")),i.replaceState({},s.title,t),!1):!1},_listenToLocationChange:function(){var e=this,n=t.proxy(e._checkUrl,e);this._pushState?t(window).bind("popstate.kendo",n):r.hashChange?t(window).bind("hashchange.kendo",n):e._interval=setInterval(n,a)},_checkUrl:function(){var t=this,e=t._currentLocation().replace(u,""),n=e===t.locations[t.locations.length-2],r=t.current;if(t.current!==e&&t.current!==decodeURIComponent(e))return t.current=e,t.trigger("change",{url:e})?(n?i.forward():i.back(),t.current=r,undefined):(n?t.locations.pop():t.locations.push(e),undefined)},_stripRoot:function(t){var e=this;return 0===t.indexOf(e.root)?t.substr(e.root.length).replace(/\/\//g,"/"):t},_makePushStateUrl:function(t){return e(t,this.root)},_currentLocation:function(){var t,e=this;return e._pushState?(t=o.pathname,o.search&&(t+=o.search),e._stripRoot(t)):o.hash.replace(u,"")}});n.absoluteURL=e,n.history=new c}(window.kendo.jQuery),function(){function t(t,e){return e?t:"([^/]+)"}function e(e){return RegExp("^"+e.replace(l,"\\$&").replace(s,"(?:$1)?").replace(c,t).replace(h,"(.*?)")+"$")}var n=window.kendo,r=n.history,o=n.Observable,i="init",a="routeMissing",u="change",s=/\((.*?)\)/g,c=/(\(\?)?:\w+/g,h=/\*\w+/g,l=/[\-{}\[\]+?.,\\\^$|#\s]/g,p=n.Class.extend({init:function(t,n){t instanceof RegExp||(t=e(t)),this.route=t,this._callback=n},callback:function(t){for(var e=this.route.exec(t).slice(1),n=0,r=e.length;r>n;n++)void 0!==e[n]&&(e[n]=decodeURIComponent(e[n]));this._callback.apply(null,e)},worksWith:function(t){return this.route.test(t)?(this.callback(t),!0):!1}}),d=o.extend({init:function(t){o.fn.init.call(this),this.routes=[],this.pushState=t?t.pushState:!1,t&&t.root&&(this.root=t.root),this.bind([i,a,u],t)},destroy:function(){r.unbind("change",this._urlChangedProxy),this.unbind()},start:function(){var t,e=this,n=function(t){e._urlChanged(t)};r.start({change:n,pushState:e.pushState,root:e.root}),t={url:r.current||"/"},e.trigger(i,t)||e._urlChanged(t),this._urlChangedProxy=n},route:function(t,e){this.routes.push(new p(t,e))},navigate:function(t,e){n.history.navigate(t,e)},_urlChanged:function(t){var e,n,r,o,i=t.url;if(i||(i="/"),this.trigger(u,{url:t.url}))return t.preventDefault(),void 0;for(n=0,r=this.routes,o=r.length;o>n;n++)if(e=r[n],e.worksWith(i))return;this.trigger(a,{url:i})&&t.preventDefault()}});n.Router=d}();;!function(e,t){function i(e){var t,n,s=[];for(t=0,n=e.length;n>t;t++)s=e[t].hasSubgroups?s.concat(i(e[t].items)):s.concat(e[t].items);return s}function n(e,i){var n=x.initWidget(e,{},i);return n?new y(n):t}function s(e){var t,i,n,a,r,h,o,d={};for(o=e.match(_),t=0,i=o.length;i>t;t++)n=o[t],a=n.indexOf(":"),r=n.substring(0,a),h=n.substring(a+1),"{"==h.charAt(0)&&(h=s(h)),d[r]=h;return d}function a(e,t,i){var n,s={};for(n in e)s[n]=new i(t,e[n]);return s}function r(e,t,i,h){var d,l,c,u=e.getAttribute("data-"+x.ns+"role"),g=e.getAttribute("data-"+x.ns+"bind"),p=e.children,y=[],_=!0,B={};if(h=h||[t],(u||g)&&o(e),u&&(c=n(e,i)),g&&(g=s(g.replace(w,"")),c||(B=x.parseOptions(e,{textField:"",valueField:"",template:"",valueUpdate:L,valuePrimitive:!1}),B.roles=i,c=new m(e,B)),c.source=t,l=a(g,h,f),B.template&&(l.template=new v(h,"",B.template)),l.click&&(g.events=g.events||{},g.events.click=g.click,delete l.click),l.source&&(_=!1),g.attr&&(l.attr=a(g.attr,h,f)),g.style&&(l.style=a(g.style,h,f)),g.events&&(l.events=a(g.events,h,b)),c.bind(l)),c&&(e.kendoBindingTarget=c),_&&p){for(d=0;d<p.length;d++)y[d]=p[d];for(d=0;d<y.length;d++)r(y[d],t,i,h)}}function h(t,i){var n,s,a,h=x.rolesFromNamespaces([].slice.call(arguments,2));for(i=x.observable(i),t=e(t),n=0,s=t.length;s>n;n++)a=t[n],1===a.nodeType&&r(a,i,h)}function o(t){var i=t.kendoBindingTarget;i&&(i.destroy(),e.support.deleteExpando?delete t.kendoBindingTarget:t.removeAttribute?t.removeAttribute("kendoBindingTarget"):t.kendoBindingTarget=null)}function d(e){o(e),l(e)}function l(e){var t,i,n=e.children;if(n)for(t=0,i=n.length;i>t;t++)d(n[t])}function c(t){var i,n;for(t=e(t),i=0,n=t.length;n>i;i++)d(t[i])}function u(e,t){var i=e.element,n=i[0].kendoBindingTarget;n&&h(i,n.source,t)}var g,f,b,v,p,m,y,_,w,x=window.kendo,B=x.Observable,C=x.data.ObservableObject,k=x.data.ObservableArray,A={}.toString,F={},S=Array.prototype.splice,O=x.Class,T=e.proxy,N="value",D="source",I="events",j="checked",L="change";!function(){var e=document.createElement("a");e.innerText!==t?g="innerText":e.textContent!==t&&(g="textContent")}(),f=B.extend({init:function(e,t){var i=this;B.fn.init.call(i),i.source=e[0],i.parents=e,i.path=t,i.dependencies={},i.dependencies[t]=!0,i.observable=i.source instanceof B,i._access=function(e){i.dependencies[e.field]=!0},i.observable&&(i._change=function(e){i.change(e)},i.source.bind(L,i._change))},_parents:function(){var t,i=this.parents,n=this.get();return n&&"function"==typeof n.parent&&(t=n.parent(),e.inArray(t,i)<0&&(i=[t].concat(i))),i},change:function(e){var t,i,n=e.field,s=this;if("this"===s.path)s.trigger(L,e);else for(t in s.dependencies)if(0===t.indexOf(n)&&(i=t.charAt(n.length),!i||"."===i||"["===i)){s.trigger(L,e);break}},start:function(e){e.bind("get",this._access)},stop:function(e){e.unbind("get",this._access)},get:function(){var e=this,i=e.source,n=0,s=e.path,a=i;if(!e.observable)return a;for(e.start(e.source),a=i.get(s);a===t&&i;)i=e.parents[++n],i instanceof C&&(a=i.get(s));if(a===t)for(i=e.source;a===t&&i;)i=i.parent(),i instanceof C&&(a=i.get(s));return"function"==typeof a&&(n=s.lastIndexOf("."),n>0&&(i=i.get(s.substring(0,n))),e.start(i),a=a.call(i,e.source),e.stop(i)),i&&i!==e.source&&(e.currentSource=i,i.unbind(L,e._change).bind(L,e._change)),e.stop(e.source),a},set:function(e){var t=this,i=t.currentSource||t.source;i.set(t.path,e)},destroy:function(){this.observable&&this.source.unbind(L,this._change)}}),b=f.extend({get:function(){var e,t=this.source,i=this.path,n=0;for(e=t.get(i);!e&&t;)t=this.parents[++n],t instanceof C&&(e=t.get(i));return T(e,t)}}),v=f.extend({init:function(e,t,i){var n=this;f.fn.init.call(n,e,t),n.template=i},render:function(e){var t;return this.start(this.source),t=x.render(this.template,e),this.stop(this.source),t}}),p=O.extend({init:function(e,t,i){this.element=e,this.bindings=t,this.options=i},bind:function(e,t){var i=this;e=t?e[t]:e,e.bind(L,function(e){i.refresh(t||e)}),i.refresh(t)},destroy:function(){}}),F.attr=p.extend({refresh:function(e){this.element.setAttribute(e,this.bindings.attr[e].get())}}),F.style=p.extend({refresh:function(e){this.element.style[e]=this.bindings.style[e].get()||""}}),F.enabled=p.extend({refresh:function(){this.bindings.enabled.get()?this.element.removeAttribute("disabled"):this.element.setAttribute("disabled","disabled")}}),F.readonly=p.extend({refresh:function(){this.bindings.readonly.get()?this.element.setAttribute("readonly","readonly"):this.element.removeAttribute("readonly")}}),F.disabled=p.extend({refresh:function(){this.bindings.disabled.get()?this.element.setAttribute("disabled","disabled"):this.element.removeAttribute("disabled")}}),F.events=p.extend({init:function(e,t,i){p.fn.init.call(this,e,t,i),this.handlers={}},refresh:function(t){var i=e(this.element),n=this.bindings.events[t],s=this.handlers[t];s&&i.off(t,s),s=this.handlers[t]=n.get(),i.on(t,n.source,s)},destroy:function(){var t,i=e(this.element);for(t in this.handlers)i.off(t,this.handlers[t])}}),F.text=p.extend({refresh:function(){var e=this.bindings.text.get();null==e&&(e=""),this.element[g]=e}}),F.visible=p.extend({refresh:function(){this.element.style.display=this.bindings.visible.get()?"":"none"}}),F.invisible=p.extend({refresh:function(){this.element.style.display=this.bindings.invisible.get()?"none":""}}),F.html=p.extend({refresh:function(){this.element.innerHTML=this.bindings.html.get()}}),F.value=p.extend({init:function(t,i,n){p.fn.init.call(this,t,i,n),this._change=T(this.change,this),this.eventName=n.valueUpdate||L,e(this.element).on(this.eventName,this._change),this._initChange=!1},change:function(){this._initChange=this.eventName!=L,this.bindings[N].set(this.element.value),this._initChange=!1},refresh:function(){if(!this._initChange){var e=this.bindings[N].get();null==e&&(e=""),this.element.value=e}this._initChange=!1},destroy:function(){e(this.element).off(this.eventName,this._change)}}),F.source=p.extend({init:function(e,t,i){p.fn.init.call(this,e,t,i)},refresh:function(e){var t=this,i=t.bindings.source.get();i instanceof k?(e=e||{},"add"==e.action?t.add(e.index,e.items):"remove"==e.action?t.remove(e.index,e.items):"itemchange"!=e.action&&t.render()):t.render()},container:function(){var e=this.element;return"table"==e.nodeName.toLowerCase()&&(e.tBodies[0]||e.appendChild(document.createElement("tbody")),e=e.tBodies[0]),e},template:function(){var e=this.options,t=e.template,i=this.container().nodeName.toLowerCase();return t||(t="select"==i?e.valueField||e.textField?x.format('<option value="#:{0}#">#:{1}#</option>',e.valueField||e.textField,e.textField||e.valueField):"<option>#:data#</option>":"tbody"==i?"<tr><td>#:data#</td></tr>":"ul"==i||"ol"==i?"<li>#:data#</li>":"#:data#",t=x.template(t)),t},destroy:function(){var e=this.bindings.source.get();e.unbind(L,this._change)},add:function(t,i){var n,s,a,h,o=this.container(),d=o.cloneNode(!1),l=o.children[t];if(e(d).html(x.render(this.template(),i)),d.children.length)for(n=this.bindings.source._parents(),s=0,a=i.length;a>s;s++)h=d.children[0],o.insertBefore(h,l||null),r(h,i[s],this.options.roles,[i[s]].concat(n))},remove:function(e,t){var i,n,s=this.container();for(i=0;i<t.length;i++)n=s.children[e],d(n),s.removeChild(n)},render:function(){var t,i,n,s,a=this.bindings.source.get(),h=this.container(),o=this.template();if(a instanceof k||"[object Array]"===A.call(a)||(a.parent&&(s=a.parent),a=new k([a]),a.parent&&(a.parent=s)),this.bindings.template){if(l(h),e(h).html(this.bindings.template.render(a)),h.children.length)for(t=this.bindings.source._parents(),i=0,n=a.length;n>i;i++)r(h.children[i],a[i],this.options.roles,[a[i]].concat(t))}else e(h).html(x.render(o,a))}}),F.input={checked:p.extend({init:function(t,i,n){p.fn.init.call(this,t,i,n),this._change=T(this.change,this),e(this.element).change(this._change)},change:function(){var e,t,i=this.element,n=this.value();"radio"==i.type?this.bindings[j].set(n):"checkbox"==i.type&&(e=this.bindings[j].get(),e instanceof k?(n=this.element.value,"on"!==n&&"off"!==n&&(t=e.indexOf(n),t>-1?e.splice(t,1):e.push(n))):this.bindings[j].set(n))},refresh:function(){var e=this.bindings[j].get(),t=e,i=this.element;"checkbox"==i.type?(t instanceof k&&(e=this.element.value,t.indexOf(e)>=0&&(e=!0)),i.checked=e===!0):"radio"==i.type&&null!=e&&i.value===""+e&&(i.checked=!0)},value:function(){var e=this.element,t=e.value;return"checkbox"==e.type&&(t=e.checked),t},destroy:function(){e(this.element).off(L,this._change)}})},F.select={value:p.extend({init:function(t,i,n){p.fn.init.call(this,t,i,n),this._change=T(this.change,this),e(this.element).change(this._change)},change:function(){var e,t,i,n,s,a,r=[],h=this.element,o=this.options.valueField||this.options.textField,d=this.options.valuePrimitive;for(s=0,a=h.options.length;a>s;s++)t=h.options[s],t.selected&&(n=t.attributes.value,n=n&&n.specified?t.value:t.text,r.push(n));if(o)for(e=this.bindings.source.get(),i=0;i<r.length;i++)for(s=0,a=e.length;a>s;s++)if(e[s].get(o)==r[i]){r[i]=e[s];break}n=this.bindings[N].get(),n instanceof k?n.splice.apply(n,[0,n.length].concat(r)):d||!(n instanceof C)&&o?this.bindings[N].set(r[0].get(o)):this.bindings[N].set(r[0])},refresh:function(){var e,t,i,n=this.element,s=n.options,a=this.bindings[N].get(),r=a,h=this.options.valueField||this.options.textField,o=!1;for(r instanceof k||(r=new k([a])),n.selectedIndex=-1,i=0;i<r.length;i++)for(a=r[i],h&&a instanceof C&&(a=a.get(h)),e=0;e<s.length;e++)t=s[e].value,""===t&&""!==a&&(t=s[e].text),t==a&&(s[e].selected=!0,o=!0)},destroy:function(){e(this.element).off(L,this._change)}})},F.widget={events:p.extend({init:function(e,t,i){p.fn.init.call(this,e.element[0],t,i),this.widget=e,this.handlers={}},refresh:function(e){var t=this.bindings.events[e],i=this.handlers[e];i&&this.widget.unbind(e,i),i=t.get(),this.handlers[e]=function(e){e.data=t.source,i(e),e.data===t.source&&delete e.data},this.widget.bind(e,this.handlers[e])},destroy:function(){var e;for(e in this.handlers)this.widget.unbind(e,this.handlers[e])}}),checked:p.extend({init:function(e,t,i){p.fn.init.call(this,e.element[0],t,i),this.widget=e,this._change=T(this.change,this),this.widget.bind(L,this._change)},change:function(){this.bindings[j].set(this.value())},refresh:function(){this.widget.check(this.bindings[j].get()===!0)},value:function(){var e=this.element,t=e.value;return("on"==t||"off"==t)&&(t=e.checked),t},destroy:function(){this.widget.unbind(L,this._change)}}),visible:p.extend({init:function(e,t,i){p.fn.init.call(this,e.element[0],t,i),this.widget=e},refresh:function(){var e=this.bindings.visible.get();this.widget.wrapper[0].style.display=e?"":"none"}}),invisible:p.extend({init:function(e,t,i){p.fn.init.call(this,e.element[0],t,i),this.widget=e},refresh:function(){var e=this.bindings.invisible.get();this.widget.wrapper[0].style.display=e?"none":""}}),enabled:p.extend({init:function(e,t,i){p.fn.init.call(this,e.element[0],t,i),this.widget=e},refresh:function(){this.widget.enable&&this.widget.enable(this.bindings.enabled.get())}}),disabled:p.extend({init:function(e,t,i){p.fn.init.call(this,e.element[0],t,i),this.widget=e},refresh:function(){this.widget.enable&&this.widget.enable(!this.bindings.disabled.get())}}),source:p.extend({init:function(e,t,i){var n=this;p.fn.init.call(n,e.element[0],t,i),n.widget=e,n._dataBinding=T(n.dataBinding,n),n._dataBound=T(n.dataBound,n),n._itemChange=T(n.itemChange,n)},itemChange:function(e){r(e.item[0],e.data,this._ns(e.ns),[e.data].concat(this.bindings.source._parents()))},dataBinding:function(){var e,t,i=this.widget,n=i.items();for(e=0,t=n.length;t>e;e++)d(n[e])},_ns:function(t){t=t||x.ui;var i=[x.ui,x.dataviz.ui,x.mobile.ui];return i.splice(e.inArray(t,i),1),i.unshift(t),x.rolesFromNamespaces(i)},dataBound:function(e){var t,n,s,a=this.widget,h=a.items(),o=a.dataSource,d=o.view(),l=o.group()||[];if(h.length)for(l.length&&(d=i(d)),s=this.bindings.source._parents(),t=0,n=d.length;n>t;t++)r(h[t],d[t],this._ns(e.ns),[d[t]].concat(s))},refresh:function(e){var t,i=this,n=i.widget;e=e||{},e.action||(i.destroy(),n.bind("dataBinding",i._dataBinding),n.bind("dataBound",i._dataBound),n.bind("itemChange",i._itemChange),t=i.bindings.source.get(),n.dataSource instanceof x.data.DataSource&&n.dataSource!=t&&(t instanceof x.data.DataSource?n.setDataSource(t):t&&t._dataSource?n.setDataSource(t._dataSource):n.dataSource.data(t)))},destroy:function(){var e=this.widget;e.unbind("dataBinding",this._dataBinding),e.unbind("dataBound",this._dataBound),e.unbind("itemChange",this._itemChange)}}),value:p.extend({init:function(t,i,n){p.fn.init.call(this,t.element[0],i,n),this.widget=t,this._change=e.proxy(this.change,this),this.widget.first(L,this._change);var s=this.bindings.value.get();this._valueIsObservableObject=!n.valuePrimitive&&(null==s||s instanceof C),this._valueIsObservableArray=s instanceof k,this._initChange=!1},change:function(){var e,t,i,n,s,a,r,h=this.widget.value(),o=this.options.dataValueField||this.options.dataTextField,d="[object Array]"===A.call(h),l=this._valueIsObservableObject,c=[];if(this._initChange=!0,o)if(this.bindings.source&&(r=this.bindings.source.get()),""===h&&(l||this.options.valuePrimitive))h=null;else{for((!r||r instanceof x.data.DataSource)&&(r=this.widget.dataSource.view()),d&&(t=h.length,c=h.slice(0)),s=0,a=r.length;a>s;s++)if(i=r[s],n=i.get(o),d){for(e=0;t>e;e++)if(n==c[e]){c[e]=i;break}}else if(n==h){h=l?i:n;break}c[0]&&(h=this._valueIsObservableArray?c:l||!o?c[0]:c[0].get(o))}this.bindings.value.set(h),this._initChange=!1},refresh:function(){if(!this._initChange){var e,t=this.options.dataValueField||this.options.dataTextField,i=this.bindings.value.get(),n=0,s=[];if(t)if(i instanceof k){for(e=i.length;e>n;n++)s[n]=i[n].get(t);i=s}else i instanceof C&&(i=i.get(t));this.widget.value(i)}this._initChange=!1},destroy:function(){this.widget.unbind(L,this._change)}}),multiselect:{value:p.extend({init:function(t,i,n){p.fn.init.call(this,t.element[0],i,n),this.widget=t,this._change=e.proxy(this.change,this),this.widget.first(L,this._change),this._initChange=!1},change:function(){var e=this,t=e.bindings[N].get(),i=e.options.valuePrimitive,n=i?e.widget.value():e.widget.dataItems();e._initChange=!0,t instanceof k?(n.length&&S.call(t,0,t.length),t.splice.apply(t,[0,t.length].concat(n))):e.bindings[N].set(n),e._initChange=!1},refresh:function(){if(!this._initChange){var e,t,i=this.options.dataValueField||this.options.dataTextField,n=this.bindings.value.get(),s=0,a=[];if(i)if(n instanceof k){for(e=n.length;e>s;s++)t=n[s],a[s]=t.get?t.get(i):t;n=a}else n instanceof C&&(n=n.get(i));this.widget.value(n)}},destroy:function(){this.widget.unbind(L,this._change)}})}},m=O.extend({init:function(e,t){this.target=e,this.options=t,this.toDestroy=[]},bind:function(e){var t,i,n,s,a=this.target.nodeName.toLowerCase(),r=F[a]||{};for(t in e)t==N?i=!0:t==D?n=!0:t==I?s=!0:this.applyBinding(t,e,r);n&&this.applyBinding(D,e,r),i&&this.applyBinding(N,e,r),s&&this.applyBinding(I,e,r)},applyBinding:function(e,t,i){var n,s=i[e]||F[e],a=this.toDestroy,r=t[e];if(s)if(s=new s(this.target,t,this.options),a.push(s),r instanceof f)s.bind(r),a.push(r);else for(n in r)s.bind(r,n),a.push(r[n]);else if("template"!==e)throw Error("The "+e+" binding is not supported by the "+this.target.nodeName.toLowerCase()+" element")},destroy:function(){var e,t,i=this.toDestroy;for(e=0,t=i.length;t>e;e++)i[e].destroy()}}),y=m.extend({bind:function(e){var t,i=this,n=!1,s=!1,a=F.widget[i.target.options.name.toLowerCase()]||{};for(t in e)t==N?n=!0:t==D?s=!0:i.applyBinding(t,e);s&&i.applyBinding(D,e),n&&i.applyBinding(N,e,a[N])},applyBinding:function(e,t,i){var n,s=i||F.widget[e],a=this.toDestroy,r=t[e];if(!s)throw Error("The "+e+" binding is not supported by the "+this.target.options.name+" widget");if(s=new s(this.target,t,this.target.options),a.push(s),r instanceof f)s.bind(r),a.push(r);else for(n in r)s.bind(r,n),a.push(r[n])}}),_=/[A-Za-z0-9_\-]+:(\{([^}]*)\}|[^,}]+)/g,w=/\s/g,x.unbind=c,x.bind=h,x.data.binders=F,x.data.Binder=p,x.notify=u,x.observable=function(e){return e instanceof C||(e=new C(e)),e},x.observableHierarchy=function(e){function t(e){var i,n;for(i=0;i<e.length;i++)e[i]._initChildren(),n=e[i].children,n.fetch(),e[i].items=n.data(),t(e[i].items)}var i=x.data.HierarchicalDataSource.create(e);return i.fetch(),t(i.data()),i._data._dataSource=i,i._data}}(window.kendo.jQuery);;!function(e){var n=window.kendo,t=n.Observable,i="SCRIPT",r="init",o="show",a="hide",d=/unrecognized expression/,s=t.extend({init:function(e,n){var i=this;n=n||{},t.fn.init.call(i),i.content=e,i.tagName=n.tagName||"div",i.model=n.model,i._wrap=n.wrap!==!1,i.bind([r,o,a],n)},render:function(t){var i=this,a=!i.element;return a&&(i.element=i._createElement()),t&&e(t).append(i.element),a&&(n.bind(i.element,i.model),i.trigger(r)),t&&i.trigger(o),i.element},hide:function(){this.element.detach(),this.trigger(a)},destroy:function(){var e=this.element;e&&(n.unbind(e),n.destroy(e),e.remove())},_createElement:function(){var n,t,r=this;try{t=e(document.getElementById(r.content)||r.content)}catch(o){d.test(o.message)&&(t=r.content)}return n=e("<"+r.tagName+" />").append(t[0].tagName===i?t.html():t),r._wrap||(n=n.contents()),n}}),c=s.extend({init:function(e,n){s.fn.init.call(this,e,n),this.regions={}},showIn:function(e,n){var t=this.regions[e];t&&t.hide(),n.render(this.render().find(e),t),this.regions[e]=n}});n.Layout=c,n.View=s}(window.kendo.jQuery);;!function(e){var n=window.kendo,t=n.mobile,i=n.effects,s=t.ui,l=e.proxy,o=e.extend,a=s.Widget,r=n.Class,c=n.ui.Movable,u=n.ui.Pane,d=n.ui.PaneDimensions,m=i.Transition,p=i.Animation,h=Math.abs,f=500,v=.7,b=.96,x=10,T=55,E=.5,g="km-scroller-release",y="km-scroller-refresh",_="pull",C="change",k="resize",w="scroll",z=p.extend({init:function(e){var n=this;p.fn.init.call(n),o(n,e),n.userEvents.bind("gestureend",l(n.start,n)),n.tapCapture.bind("press",l(n.cancel,n))},done:function(){return this.dimensions.minScale-this.movable.scale<.01},tick:function(){var e=this.movable;e.scaleWith(1.1),this.dimensions.rescale(e.scale)},onEnd:function(){var e=this.movable;e.scaleTo(this.dimensions.minScale),this.dimensions.rescale(e.scale)}}),S=p.extend({init:function(e){var n=this;p.fn.init.call(n),o(n,e,{transition:new m({axis:e.axis,movable:e.movable,onEnd:function(){n._end()}})}),n.tapCapture.bind("press",function(){n.cancel()}),n.userEvents.bind("end",l(n.start,n)),n.userEvents.bind("gestureend",l(n.start,n)),n.userEvents.bind("tap",l(n.onEnd,n))},onCancel:function(){this.transition.cancel()},freeze:function(e){var n=this;n.cancel(),n._moveTo(e)},onEnd:function(){var e=this;e._outOfBounds()?e._snapBack():e._end()},done:function(){return h(this.velocity)<1},start:function(e){var n=this;n.dimension.enabled&&(n._outOfBounds()?n._snapBack():(n.velocity=Math.max(Math.min(e.touch[n.axis].velocity*x,T),-T),n.velocity&&(n.tapCapture.captureNext(),p.fn.start.call(n))))},tick:function(){var e=this,n=e.dimension,t=e._outOfBounds()?E:b,i=e.velocity*=t,s=e.movable[e.axis]+i;!e.elastic&&n.outOfBounds(s)&&(s=Math.max(Math.min(s,n.max),n.min),e.velocity=0),e.movable.moveAxis(e.axis,s)},_end:function(){this.tapCapture.cancelCapture(),this.end()},_outOfBounds:function(){return this.dimension.outOfBounds(this.movable[this.axis])},_snapBack:function(){var e=this,n=e.dimension,t=e.movable[e.axis]>n.max?n.max:n.min;e._moveTo(t)},_moveTo:function(e){this.transition.moveTo({location:e,duration:f,ease:m.easeOutExpo})}}),O=r.extend({init:function(n){var t=this,i="x"===n.axis,s=e('<div class="km-touch-scrollbar km-'+(i?"horizontal":"vertical")+'-scrollbar" />');o(t,n,{element:s,elementSize:0,movable:new c(s),scrollMovable:n.movable,size:i?"width":"height"}),t.scrollMovable.bind(C,l(t._move,t)),t.container.append(s)},_move:function(){var e=this,n=e.axis,t=e.dimension,i=t.size,s=e.scrollMovable,l=i/t.total,o=Math.round(-s[n]*l),a=Math.round(i*l);o+a>i?a=i-o:0>o&&(a+=o,o=0),e.elementSize!=a&&(e.element.css(e.size,a+"px"),e.elementSize=a),e.movable.moveAxis(n,o)},show:function(){this.element.css({opacity:v,visibility:"visible"})},hide:function(){this.element.css({opacity:0})}}),M=a.extend({init:function(t,i){var s,l,r,m,p,f,v,b,x=this;return a.fn.init.call(x,t,i),t=x.element,x._native=x.options.useNative&&n.support.hasNativeScrolling,x._native?(t.addClass("km-native-scroller").prepend('<div class="km-scroll-header"/>'),o(x,{scrollElement:t,fixedContainer:t.children().first()}),undefined):(t.css("overflow","hidden").addClass("km-scroll-wrapper").wrapInner('<div class="km-scroll-container"/>').prepend('<div class="km-scroll-header"/>'),s=t.children().eq(1),l=new n.TapCapture(t),r=new c(s),m=new d({element:s,container:t,forcedEnabled:x.options.zoom,change:function(){x.trigger(k)}}),p=this.options.avoidScrolling,f=new n.UserEvents(t,{allowSelection:!0,preventDragEvent:!0,captureUpIfMoved:!0,multiTouch:x.options.zoom,start:function(e){m.refresh();var n=h(e.x.velocity),t=h(e.y.velocity),i=2*n>=t,s=2*t>=n;!p(e)&&x.enabled&&(m.x.enabled&&i||m.y.enabled&&s)?f.capture():f.cancel()}}),v=new u({movable:r,dimensions:m,userEvents:f,elastic:x.options.elastic}),b=new z({movable:r,dimensions:m,userEvents:f,tapCapture:l}),r.bind(C,function(){x.scrollTop=-r.y,x.scrollLeft=-r.x,x.trigger(w,{scrollTop:x.scrollTop,scrollLeft:x.scrollLeft})}),o(x,{movable:r,dimensions:m,zoomSnapBack:b,userEvents:f,pane:v,tapCapture:l,pulled:!1,enabled:!0,scrollElement:s,scrollTop:0,scrollLeft:0,fixedContainer:t.children().first()}),x._initAxis("x"),x._initAxis("y"),m.refresh(),x.options.pullToRefresh&&x._initPullToRefresh(),n.onResize(e.proxy(x.reset,x)),undefined)},makeVirtual:function(){this.dimensions.y.makeVirtual()},virtualSize:function(e,n){this.dimensions.y.virtualSize(e,n)},height:function(){return this.dimensions.y.size},scrollHeight:function(){return this.scrollElement[0].scrollHeight},scrollWidth:function(){return this.scrollElement[0].scrollWidth},options:{name:"Scroller",zoom:!1,pullOffset:140,elastic:!0,useNative:!1,avoidScrolling:function(){return!1},pullToRefresh:!1,pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"},events:[_,w,k],setOptions:function(e){var n=this;a.fn.setOptions.call(n,e),e.pullToRefresh&&n._initPullToRefresh()},reset:function(){this._native?this.scrollElement.scrollTop(0):(this.movable.moveTo({x:0,y:0}),this._scale(1))},zoomOut:function(){var e=this.dimensions;e.refresh(),this._scale(e.fitScale),this.movable.moveTo(e.centerCoordinates())},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},scrollTo:function(e,n){this.dimensions.refresh(),this.movable.moveTo({x:e,y:n})},pullHandled:function(){var e=this;e.refreshHint.removeClass(y),e.hintContainer.html(e.pullTemplate({})),e.yinertia.onEnd(),e.xinertia.onEnd()},destroy:function(){a.fn.destroy.call(this),this.userEvents&&this.userEvents.destroy()},_scale:function(e){this.dimensions.rescale(e),this.movable.scaleTo(e)},_initPullToRefresh:function(){var e=this;e.dimensions.y.forceEnabled(),e.pullTemplate=n.template(e.options.pullTemplate),e.releaseTemplate=n.template(e.options.releaseTemplate),e.refreshTemplate=n.template(e.options.refreshTemplate),e.scrollElement.prepend('<span class="km-scroller-pull"><span class="km-icon"></span><span class="km-loading-left"></span><span class="km-loading-right"></span><span class="km-template">'+e.pullTemplate({})+"</span></span>"),e.refreshHint=e.scrollElement.children().first(),e.hintContainer=e.refreshHint.children(".km-template"),e.pane.y.bind("change",l(e._paneChange,e)),e.userEvents.bind("end",l(e._dragEnd,e))},_dragEnd:function(){var e=this;e.pulled&&(e.pulled=!1,e.refreshHint.removeClass(g).addClass(y),e.hintContainer.html(e.refreshTemplate({})),e.yinertia.freeze(e.options.pullOffset/2),e.trigger("pull"))},_paneChange:function(){var e=this;e.movable.y/E>e.options.pullOffset?e.pulled||(e.pulled=!0,e.refreshHint.removeClass(y).addClass(g),e.hintContainer.html(e.releaseTemplate({}))):e.pulled&&(e.pulled=!1,e.refreshHint.removeClass(g),e.hintContainer.html(e.pullTemplate({})))},_initAxis:function(e){var n=this,t=n.movable,i=n.dimensions[e],s=n.tapCapture,l=new O({axis:e,movable:t,dimension:i,container:n.element});n.pane[e].bind(C,function(){l.show()}),n[e+"inertia"]=new S({axis:e,movable:t,tapCapture:s,userEvents:n.userEvents,dimension:i,elastic:n.options.elastic,end:function(){l.hide(),n.trigger("scrollEnd",{axis:e,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft})}})}});s.plugin(M)}(window.kendo.jQuery);;!function(e){function o(o,t){return o===t||e.contains(o,t)}var t=window.kendo,n=t.ui,i=n.Widget,s=t.support,r=t.getOffset,a=t._activeElement,l="open",p="close",d="deactivate",c="activate",f="center",u="left",m="right",g="top",h="bottom",w="absolute",v="hidden",_="body",k="location",y="position",b="visible",x="effects",z="k-state-active",T="k-state-border",P=/k-state-border-(\w+)/,C=".k-picker-wrap, .k-dropdown-wrap, .k-link",S="down",E=e(window),I=e(document.documentElement),W="resize scroll",H=s.transitions.css,O=H+"transform",N=e.extend,A=".kendoPopup",L=["font-family","font-size","font-stretch","font-style","font-weight","line-height"],F=i.extend({init:function(o,n){var s,r=this;n=n||{},n.isRtl&&(n.origin=n.origin||h+" "+m,n.position=n.position||g+" "+m),i.fn.init.call(r,o,n),o=r.element,n=r.options,r.collisions=n.collision?n.collision.split(" "):[],1===r.collisions.length&&r.collisions.push(r.collisions[0]),s=e(r.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])"),n.appendTo=e(e(n.appendTo)[0]||s[0]||_),r.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!n.isRtl).css({position:w}).appendTo(n.appendTo).on("mouseenter"+A,function(){r._hovered=!0}).on("mouseleave"+A,function(){r._hovered=!1}),r.wrapper=e(),n.animation===!1&&(n.animation={open:{effects:{}},close:{hide:!0,effects:{}}}),N(n.animation.open,{complete:function(){r.wrapper.css({overflow:b}),r.trigger(c)}}),N(n.animation.close,{complete:function(){r.wrapper.hide();var i,s,a=r.wrapper.data(k),l=e(n.anchor);a&&r.wrapper.css(a),n.anchor!=_&&(i=(l[0].className.match(P)||["","down"])[1],s=T+"-"+i,l.removeClass(s).children(C).removeClass(z).removeClass(s),o.removeClass(T+"-"+t.directions[i].reverse)),r._closing=!1,r.trigger(d)}}),r._mousedownProxy=function(e){r._mousedown(e)},r._resizeProxy=function(e){r._resize(e)},n.toggleTarget&&e(n.toggleTarget).on(n.toggleEvent+A,e.proxy(r.toggle,r))},events:[l,c,p,d],options:{name:"Popup",toggleEvent:"click",origin:h+" "+u,position:g+" "+u,anchor:_,collision:"flip fit",viewport:window,copyAnchorStyles:!0,modal:!1,animation:{open:{effects:"slideIn:down",transition:!0,duration:200},close:{duration:100,hide:!0}}},destroy:function(){var o,n=this,s=n.options,r=n.element.off(A);i.fn.destroy.call(n),s.toggleTarget&&e(s.toggleTarget).off(A),s.modal||(I.unbind(S,n._mousedownProxy),E.unbind(W,n._resizeProxy)),s.appendTo[0]===document.body&&(o=r.parent(".k-animation-container"),o[0]?o.remove():r.remove()),t.destroy(n.element.children())},open:function(o,n){var i,r,a,p=this,d={isFixed:!isNaN(parseInt(n,10)),x:o,y:n},c=p.element,f=p.options,u="down",m=e(f.anchor);if(!p.visible()){if(f.copyAnchorStyles&&c.css(t.getComputedStyles(m[0],L)),c.data("animating")||p.trigger(l))return;f.modal||(I.unbind(S,p._mousedownProxy).bind(S,p._mousedownProxy),s.mobileOS.ios||s.mobileOS.android||E.unbind(W,p._resizeProxy).bind(W,p._resizeProxy)),p.wrapper=r=t.wrap(c).css({overflow:v,display:"block",position:w}),s.mobileOS.android&&r.add(m).css(O,"translatez(0)"),r.css(y),e(f.appendTo)[0]==document.body&&r.css(g,"-10000px"),i=N(!0,{},f.animation.open),p.flipped=p._position(d),i.effects=t.parseEffects(i.effects,p.flipped),u=i.effects.slideIn?i.effects.slideIn.direction:u,f.anchor!=_&&(a=T+"-"+u,c.addClass(T+"-"+t.directions[u].reverse),m.addClass(a).children(C).addClass(z).addClass(a)),c.data(x,i.effects).kendoStop(!0).kendoAnimate(i)}},toggle:function(){var e=this;e[e.visible()?p:l]()},visible:function(){return this.element.is(":"+b)},close:function(){var o,n,i,s,r=this,a=r.options;if(r.visible()){if(o=r.wrapper[0]?r.wrapper:t.wrap(r.element).hide(),r._closing||r.trigger(p))return;r.element.find(".k-popup").each(function(){var o=e(this),t=o.data("kendoPopup");t&&t.close()}),I.unbind(S,r._mousedownProxy),E.unbind(W,r._resizeProxy),n=N(!0,{},a.animation.close),i=r.element.data(x),s=n.effects,!s&&!t.size(s)&&i&&t.size(i)&&(n.effects=i,n.reverse=!0),r._closing=!0,r.element.kendoStop(!0),o.css({overflow:v}),r.element.kendoAnimate(n)}},_resize:function(e){var t=this;"resize"===e.type?(clearTimeout(t._resizeTimeout),t._resizeTimeout=setTimeout(function(){t._position(),t._resizeTimeout=null},50)):t._hovered||o(t.element[0],a())||t.close()},_mousedown:function(n){var i=this,s=i.element[0],r=i.options,a=e(r.anchor)[0],l=r.toggleTarget,p=t.eventTarget(n),d=e(p).closest(".k-popup"),c=d.parent().parent(".km-shim").length;d=d[0],(c||!d||d===i.element[0])&&"popover"!==e(n.target).closest("a").data("rel")&&(o(s,p)||o(a,p)||l&&o(e(l)[0],p)||i.close())},_fit:function(e,o,t){var n=0;return e+o>t&&(n=t-(e+o)),0>e&&(n=-e),n},_flip:function(e,o,t,n,i,s,r){var a=0;return r=r||o,s!==i&&s!==f&&i!==f&&(e+r>n&&(a+=-(t+o)),0>e+a&&(a+=t+o)),a},_position:function(o){var t,n,i,a,l,p,d,c,f,u=this,m=u.element.css(y,""),g=u.wrapper,h=u.options,v=e(h.viewport),_=e(v).offset(),b=e(h.anchor),x=h.origin.toLowerCase().split(" "),z=h.position.toLowerCase().split(" "),T=u.collisions,P=s.zoomLevel(),C=10002,S=0,E=b.parents().filter(g.siblings());if(E[0])if(n=Number(e(E).css("zIndex")))C=n+1;else for(t=b.parentsUntil(E),i=t.length;i>S;S++)n=Number(e(t[S]).css("zIndex")),n&&n>C&&(C=n+1);return g.css("zIndex",C),o&&o.isFixed?g.css({left:o.x,top:o.y}):g.css(u._align(x,z)),a=r(g,y,b[0]===g.offsetParent()[0]),l=r(g),p=b.offsetParent().parent(".k-animation-container,.k-popup,.k-group"),p.length&&(a=r(g,y,!0),l=r(g)),v[0]===window?(l.top-=window.pageYOffset||document.documentElement.scrollTop||0,l.left-=window.pageXOffset||document.documentElement.scrollLeft||0):(l.top-=_.top,l.left-=_.left),u.wrapper.data(k)||g.data(k,N({},a)),d=N({},l),c=N({},a),"fit"===T[0]&&(c.top+=u._fit(d.top,g.outerHeight(),v.height()/P)),"fit"===T[1]&&(c.left+=u._fit(d.left,g.outerWidth(),v.width()/P)),f=N({},c),"flip"===T[0]&&(c.top+=u._flip(d.top,m.outerHeight(),b.outerHeight(),v.height()/P,x[0],z[0],g.outerHeight())),"flip"===T[1]&&(c.left+=u._flip(d.left,m.outerWidth(),b.outerWidth(),v.width()/P,x[1],z[1],g.outerWidth())),m.css(y,w),g.css(c),c.left!=f.left||c.top!=f.top},_align:function(o,t){var n,i=this,s=i.wrapper,a=e(i.options.anchor),l=o[0],p=o[1],d=t[0],c=t[1],u=r(a),g=e(i.options.appendTo),w=s.outerWidth(),v=s.outerHeight(),_=a.outerWidth(),k=a.outerHeight(),y=u.top,b=u.left,x=Math.round;return g[0]!=document.body&&(n=r(g),y-=n.top,b-=n.left),l===h&&(y+=k),l===f&&(y+=x(k/2)),d===h&&(y-=v),d===f&&(y-=x(v/2)),p===m&&(b+=_),p===f&&(b+=x(_/2)),c===m&&(b-=w),c===f&&(b-=x(w/2)),{top:y,left:b}}});n.plugin(F)}(window.kendo.jQuery);;!function(e,t){function n(t,a){t.filters&&(t.filters=e.grep(t.filters,function(e){return n(e,a),e.filters?e.filters.length:e.field!=a}))}var a=window.kendo,i=a.ui,r=i.Widget,o=a.keys,l=a.support,s=a.htmlEncode,u=a._activeElement,d="id",c="li",f="change",_="character",p="k-state-focused",h="k-state-hover",v="k-loading",g="open",m="close",b="select",x="selected",S="progress",y="requestEnd",w="width",C=e.extend,k=e.proxy,F=l.browser,I=F.msie&&F.version<9,T=/"/g,D={ComboBox:"DropDownList",DropDownList:"ComboBox"},H=r.extend({init:function(t,n){var a,i=this,o=i.ns;r.fn.init.call(i,t,n),t=i.element,i._isSelect=t.is(b),i._template(),i.ul=e('<ul unselectable="on" class="k-list k-reset"/>').css({overflow:l.kineticScrollNeeded?"":"auto"}).on("mouseenter"+o,c,function(){e(this).addClass(h)}).on("mouseleave"+o,c,function(){e(this).removeClass(h)}).on("click"+o,c,k(i._click,i)).attr({tabIndex:-1,role:"listbox","aria-hidden":!0}),i.list=e("<div class='k-list-container'/>").append(i.ul).on("mousedown"+o,function(e){e.preventDefault()}),a=t.attr(d),a&&(i.list.attr(d,a+"-list"),i.ul.attr(d,a+"_listbox"),i._optionID=a+"_option_selected"),i._accessors(),i._initValue()},options:{valuePrimitive:!1},setOptions:function(e){r.fn.setOptions.call(this,e),e&&e.enable!==t&&(e.enabled=e.enable)},focus:function(){this._focused.focus()},readonly:function(e){this._editable({readonly:e===t?!0:e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===t?!0:e)})},_filterSource:function(e){var t=this,a=t.options,i=t.dataSource,r=i.filter()||{};n(r,a.dataTextField),e&&(r=r.filters||[],r.push(e)),i.filter(r)},_initValue:function(){var e=this,t=e.options.value;t?e.element.val(t):t=e.element.val(),e._old=t},_ignoreCase:function(){var e,t=this,n=t.dataSource.reader.model;n&&n.fields&&(e=n.fields[t.options.dataTextField],e&&e.type&&"string"!==e.type&&(t.options.ignoreCase=!1))},items:function(){return this.ul[0].children},current:function(e){var n=this,a=n._optionID;return e===t?n._current:(n._current&&(n._current.removeClass(p).removeAttr("aria-selected").removeAttr(d),n._focused.removeAttr("aria-activedescendant")),e&&(e.addClass(p),n._scroll(e),a&&(e.attr("id",a),n._focused.attr("aria-activedescendant",a))),n._current=e,t)},destroy:function(){var e=this,t=e.ns;r.fn.destroy.call(e),e._unbindDataSource(),e.ul.off(t),e.list.off(t),e.popup.destroy(),e._form&&e._form.off("reset",e._resetHandler)},dataItem:function(e){var n=this;return e===t&&(e=n.selectedIndex),n._data()[e]},_accessors:function(){var e=this,t=e.element,n=e.options,i=a.getter,r=t.attr(a.attr("text-field")),o=t.attr(a.attr("value-field"));r&&(n.dataTextField=r),o&&(n.dataValueField=o),e._text=i(n.dataTextField),e._value=i(n.dataValueField)},_aria:function(e){var n=this,a=n.options,i=n._focused;a.suggest!==t&&i.attr("aria-autocomplete",a.suggest?"both":"list"),e=e?e+" "+n.ul[0].id:n.ul[0].id,i.attr("aria-owns",e),n.ul.attr("aria-live",a.filter&&"none"!==a.filter?"polite":"off")},_blur:function(){var e=this;e._change(),e.close()},_change:function(){var e,n=this,a=n.selectedIndex,i=n.options.value,r=n.value();n._isSelect&&!n._bound&&i&&(r=i),r!==n._old?e=!0:a!==t&&a!==n._oldIndex&&(e=!0),e&&(n._old=r,n._oldIndex=a,n.trigger(f),n.element.trigger(f))},_click:function(t){t.isDefaultPrevented()||this._accept(e(t.currentTarget))},_data:function(){return this.dataSource.view()},_enable:function(){var e=this,n=e.options,a=e.element.is("[disabled]");n.enable!==t&&(n.enabled=n.enable),!n.enabled||a?e.enable(!1):e.readonly(e.element.is("[readonly]"))},_focus:function(e){var n=this;return n.popup.visible()&&e&&n.trigger(b,{item:e})?(n.close(),t):(n._select(e),n._triggerCascade(),n._blur(),t)},_index:function(e){var t,n,a=this,i=a._data();for(t=0,n=i.length;n>t;t++)if(a._dataValue(i[t])==e)return t;return-1},_dataValue:function(e){var n=this._value(e);return n===t&&(n=this._text(e)),n},_height:function(e){if(e){var t=this,n=t.list,a=t.popup.visible(),i=t.options.height;n=n.add(n.parent(".k-animation-container")).show().height(t.ul[0].scrollHeight>i?i:"auto"),a||n.hide()}},_adjustListWidth:function(){var e,t,n=this.list,a=n[0].style.width,i=this.wrapper;if(n.data(w)||!a)return e=window.getComputedStyle?window.getComputedStyle(i[0],null):0,t=e?parseFloat(e.width):i.outerWidth(),e&&(F.mozilla||F.msie)&&(t+=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth)),a=t-(n.outerWidth()-n.width()),n.css({fontFamily:i.css("font-family"),width:a}).data(w,a),!0},_popup:function(){var e=this,t=e.list,n=e._focused,r=e.options,o=e.wrapper;e.popup=new i.Popup(t,C({},r.popup,{anchor:o,open:function(t){e._adjustListWidth(),e.trigger(g)?t.preventDefault():(n.attr("aria-expanded",!0),e.ul.attr("aria-hidden",!1))},close:function(t){e.trigger(m)?t.preventDefault():(n.attr("aria-expanded",!1),e.ul.attr("aria-hidden",!0))},animation:r.animation,isRtl:l.isRtl(o)})),e.popup.one(g,function(){e._height(e._data().length)}),e._touchScroller=a.touchScroller(e.popup.element)},_makeUnselectable:function(){I&&this.list.find("*").attr("unselectable","on")},_toggleHover:function(t){e(t.currentTarget).toggleClass(h,"mouseenter"===t.type)},_toggle:function(e){var n=this;e=e!==t?e:!n.popup.visible(),l.touch||n._focused[0]===u()||n._focused.focus(),n[e?g:m]()},_scroll:function(e){if(e){e[0]&&(e=e[0]);var t=this.ul[0],n=e.offsetTop,a=e.offsetHeight,i=t.scrollTop,r=t.clientHeight,o=n+a;t.scrollTop=i>n?n:o>i+r?o-r:i}},_template:function(){var e=this,t=e.options,n=t.template,i=t.dataSource;e._isSelect&&e.element[0].length&&(i||(t.dataTextField=t.dataTextField||"text",t.dataValueField=t.dataValueField||"value")),n?(n=a.template(n),e.template=function(e){return'<li tabindex="-1" role="option" unselectable="on" class="k-item">'+n(e)+"</li>"}):e.template=a.template('<li tabindex="-1" role="option" unselectable="on" class="k-item">${'+a.expr(t.dataTextField,"data")+"}</li>",{useWithBlock:!1})},_triggerCascade:function(){var e=this,t=e.value();(!e._bound&&t||e._old!==t)&&e.trigger("cascade")},_unbindDataSource:function(){var e=this;e.dataSource.unbind(f,e._refreshHandler).unbind(S,e._progressHandler).unbind(y,e._requestEndHandler).unbind("error",e._errorHandler)}});C(H,{caret:function(e){var t,n=e.ownerDocument.selection;return t=n?Math.abs(n.createRange().moveStart(_,-e.value.length)):e.selectionStart},selectText:function(e,t,n){try{if(e.createTextRange){e.focus();var a=e.createTextRange();a.collapse(!0),a.moveStart(_,t),a.moveEnd(_,n-t),a.select()}else e.setSelectionRange(t,n)}catch(i){}},inArray:function(e,t){var n,a,i=t.children;if(!e||e.parentNode!==t)return-1;for(n=0,a=i.length;a>n;n++)if(e===i[n])return n;return-1}}),a.ui.List=H,i.Select=H.extend({init:function(e,t){H.fn.init.call(this,e,t),this._initial=this.element.val()},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.options.autoBind&&this.dataSource.fetch()},close:function(){this.popup.close()},select:function(e){var n=this;return e===t?n.selectedIndex:(n._select(e),n._triggerCascade(),n._old=n._accessor(),n._oldIndex=n.selectedIndex,t)},_accessor:function(e,n){var a,i=this.element[0],r=this._isSelect,o=i.selectedIndex;return e===t?(r?o>-1&&(a=i.options[o],a&&(e=a.value)):e=i.value,e):(r?(o>-1&&i.options[o].removeAttribute(x),i.selectedIndex=n,a=i.options[n],a&&a.setAttribute(x,x)):i.value=e,t)},_hideBusy:function(){var e=this;clearTimeout(e._busy),e._arrow.removeClass(v),e._focused.attr("aria-busy",!1),e._busy=null},_showBusy:function(){var e=this;e._request=!0,e._busy||(e._busy=setTimeout(function(){e._focused.attr("aria-busy",!0),e._arrow.addClass(v)},100))},_requestEnd:function(){this._request=!1},_dataSource:function(){var t,n=this,i=n.element,r=n.options,o=r.dataSource||{};o=e.isArray(o)?{data:o}:o,n._isSelect&&(t=i[0].selectedIndex,t>-1&&(r.index=t),o.select=i,o.fields=[{field:r.dataTextField},{field:r.dataValueField}]),n.dataSource&&n._refreshHandler?n._unbindDataSource():(n._refreshHandler=k(n.refresh,n),n._progressHandler=k(n._showBusy,n),n._requestEndHandler=k(n._requestEnd,n),n._errorHandler=k(n._hideBusy,n)),n.dataSource=a.data.DataSource.create(o).bind(f,n._refreshHandler).bind(S,n._progressHandler).bind(y,n._requestEndHandler).bind("error",n._errorHandler)},_get:function(t){var n,a,i=this,r=i._data();if("function"==typeof t)for(n=0,a=r.length;a>n;n++)if(t(r[n])){t=n;break}if("number"==typeof t){if(0>t)return e();t=e(i.ul[0].children[t])}return t&&t.nodeType&&(t=e(t)),t},_move:function(e){var t,n,a=this,i=e.keyCode,r=a.ul[0],l=a.popup.visible()?"_select":"_accept",s=a._current,u=i===o.DOWN;if(i===o.UP||u){if(e.altKey)a.toggle(u);else{if(t=r.firstChild,!t&&!a._accessor()&&"filter"!==a._state)return a.dataSource.one(f,function(){a._move(e)}),a._filterSource(),e.preventDefault(),!0;u?(!s||-1===a.selectedIndex&&!a.value()&&s[0]===t?s=t:(s=s[0].nextSibling,s||t!==r.lastChild||(s=t)),a[l](s)):(s=s?s[0].previousSibling:r.lastChild,s||t!==r.lastChild||(s=t),a[l](s))}e.preventDefault(),n=!0}else i===o.ENTER||i===o.TAB?(a.popup.visible()&&e.preventDefault(),a._accept(s),n=!0):i===o.ESC&&(a.popup.visible()&&e.preventDefault(),a.close(),n=!0);return n},_selectItem:function(e){var t=this,n=t.options,a=t.selectedIndex;e=t._selectedValue||n.value||t._accessor(),e?t.value(e):(!t._bound||a>-1)&&(t._bound||(a=n.index),t.select(a))},_fetchItems:function(e){var n=this,a=n.ul[0].firstChild;return n._request?!0:n._fetch||a?t:n.options.cascadeFrom?!a:(n.dataSource.one(f,function(){n.value(e),n._fetch=!1}),n._fetch=!0,n.dataSource.fetch(),!0)},_options:function(n,a){var i,r,o,l,u=this,d=u.element,c=d[0].selectedIndex,f=n.length,_="",p=0;for(a&&(p=1,_=a,-1===a.indexOf(e(d[0].firstChild).text())&&(c+=1));f>p;p++)i="<option",r=n[p],o=u._text(r),l=u._value(r),l!==t&&(l+="",-1!==l.indexOf('"')&&(l=l.replace(T,"&quot;")),i+=' value="'+l+'"'),i+=">",o!==t&&(i+=s(o)),i+="</option>",_+=i;d.html(_),d[0].selectedIndex=-1===c?0:c},_reset:function(){var t=this,n=t.element,a=n.attr("form"),i=a?e("#"+a):n.closest("form");i[0]&&(t._resetHandler=function(){setTimeout(function(){t.value(t._initial)})},t._form=i.on("reset",t._resetHandler))},_cascade:function(){var t,a,i,r,o,l=this,s=l.options,u=s.cascadeFrom;if(u){if(l._selectedValue=s.value||l._accessor(),a=e("#"+u),t=a.data("kendo"+s.name),t||(t=a.data("kendo"+D[s.name])),!t)return;s.autoBind=!1,r=t.options.dataValueField,o=function(){var e=l._selectedValue||l.value();e?(l.value(e),l.dataSource.view()[0]&&-1!==l.selectedIndex||l._clearSelection(t,!0)):l.select(s.index),l.enable(),l._triggerCascade()},i=function(){var e,a,i=t.dataItem(),s=i?t._value(i):null;s||0===s?(e=l.dataSource.filter()||{},n(e,r),a=e.filters||[],a.push({field:r,operator:"eq",value:s}),l.dataSource.one(f,o).filter(a)):(l.enable(!1),l._clearSelection(t),l._triggerCascade())},t.bind("cascade",function(){i()}),t._bound?i():t.value()||l.enable(!1)}}})}(window.kendo.jQuery);;!function(e,t){function a(e,t,a){return a?t.substring(0,e).split(a).length-1:0}function s(e,t,s){return t.split(s)[a(e,t,s)]}function r(e,t,s,r){var n=t.split(r);return n.splice(a(e,t,r),1,s),r&&""!==n[n.length-1]&&n.push(""),n.join(r)}function n(e){var t=e.value.length;S(e,t,t)}var o=window.kendo,i=o.support,l=o._activeElement,c=i.placeholder,u=o.ui,p=o.keys,d=o.data.DataSource,h=u.List,_="aria-disabled",f="aria-readonly",g="k-state-default",v="disabled",m="readonly",y="k-state-focused",C="k-state-selected",b="k-state-disabled",w="k-state-hover",k=".kendoAutoComplete",x="mouseenter"+k+" mouseleave"+k,T=h.caret,S=h.selectText,E=e.proxy,A=h.extend({init:function(t,a){var s,r=this;r.ns=k,a=e.isArray(a)?{dataSource:a}:a,h.fn.init.call(r,t,a),t=r.element,a=r.options,a.placeholder=a.placeholder||t.attr("placeholder"),c&&t.attr("placeholder",a.placeholder),r._wrapper(),r._loader(),r._dataSource(),r._ignoreCase(),t[0].type="text",s=r.wrapper,r._popup(),t.addClass("k-input").on("keydown"+k,E(r._keydown,r)).on("paste"+k,E(r._search,r)).on("focus"+k,function(){r._prev=r._accessor(),r._placeholder(!1),s.addClass(y)}).on("blur"+k,function(){r._change(),r._placeholder(),s.removeClass(y)}).attr({autocomplete:"off",role:"textbox","aria-haspopup":!0}),r._enable(),r._old=r._accessor(),t[0].id&&t.attr("aria-owns",r.ul[0].id),r._aria(),r._placeholder(),o.notify(r)},options:{name:"AutoComplete",enabled:!0,suggest:!1,template:"",dataTextField:"",minLength:1,delay:200,height:200,filter:"startswith",ignoreCase:!0,highlightFirst:!1,separator:null,placeholder:"",animation:{}},_dataSource:function(){var e=this;e.dataSource&&e._refreshHandler?e._unbindDataSource():(e._refreshHandler=E(e.refresh,e),e._progressHandler=E(e._showBusy,e)),e.dataSource=d.create(e.options.dataSource).bind("change",e._refreshHandler).bind("progress",e._progressHandler)},setDataSource:function(e){this.options.dataSource=e,this._dataSource()},events:["open","close","change","select","dataBinding","dataBound"],setOptions:function(e){h.fn.setOptions.call(this,e),this._template(),this._accessors(),this._aria()},_editable:function(e){var t=this,a=t.element,s=t.wrapper.off(k),r=e.readonly,n=e.disable;r||n?(s.addClass(n?b:g).removeClass(n?g:b),a.attr(v,n).attr(m,r).attr(_,n).attr(f,r)):(s.addClass(g).removeClass(b).on(x,t._toggleHover),a.removeAttr(v).removeAttr(m).attr(_,!1).attr(f,!1))},close:function(){var e=this,t=e._current;t&&t.removeClass(C),e.current(null),e.popup.close()},destroy:function(){var e=this;e.element.off(k),e.wrapper.off(k),h.fn.destroy.call(e)},refresh:function(){var a,s=this,r=s.ul[0],n=s.popup,i=s.options,c=s._data(),u=c.length;s.trigger("dataBinding"),r.innerHTML=o.render(s.template,c),s._height(u),n.visible()&&n._position(),u&&(i.highlightFirst&&s.current(e(r.firstChild)),i.suggest&&s.suggest(e(r.firstChild))),s._open&&(s._open=!1,a=u?"open":"close",s._typing&&s.element[0]!==l()&&(a="close"),n[a](),s._typing=t),s._touchScroller&&s._touchScroller.reset(),s._makeUnselectable(),s._hideBusy(),s.trigger("dataBound")},select:function(e){this._select(e)},search:function(e){var t,a=this,r=a.options,n=r.ignoreCase,o=r.separator;e=e||a._accessor(),a._current=null,clearTimeout(a._typing),o&&(e=s(T(a.element[0]),e,o)),t=e.length,t?t>=a.options.minLength&&(a._open=!0,a._filterSource({value:n?e.toLowerCase():e,operator:r.filter,field:r.dataTextField,ignoreCase:n})):a.popup.close()},suggest:function(e){var s,r=this,n=r._last,o=r._accessor(),i=r.element[0],l=T(i),c=r.options.separator,u=o.split(c),d=a(l,o,c),_=l;return n==p.BACKSPACE||n==p.DELETE?(r._last=t,t):(e=e||"","string"!=typeof e&&(s=h.inArray(e[0],r.ul[0]),e=s>-1?r._text(r._data()[s]):""),0>=l&&(l=o.toLowerCase().indexOf(e.toLowerCase())+1),s=o.substring(0,l).lastIndexOf(c),s=s>-1?l-(s+c.length):l,o=u[d].substring(0,s),e&&(s=e.toLowerCase().indexOf(o.toLowerCase()),s>-1&&(e=e.substring(s+o.length),_=l+e.length,o+=e),c&&""!==u[u.length-1]&&u.push("")),u[d]=o,r._accessor(u.join(c||"")),i===document.activeElement&&S(i,l,_),t)},value:function(e){return e===t?this._accessor():(this._accessor(e),this._old=e,t)},_accessor:function(e){var a=this,s=a.element[0];return e===t?(e=s.value,s.className.indexOf("k-readonly")>-1?e===a.options.placeholder?"":e:e):(s.value=null===e?"":e,a._placeholder(),t)},_accept:function(e){var t=this;t._focus(e),n(t.element[0])},_keydown:function(t){var a=this,s=a.ul[0],r=t.keyCode,n=a._current,o=a.popup.visible();a._last=r,r===p.DOWN?(o&&a._move(n?n.next():e(s.firstChild)),t.preventDefault()):r===p.UP?(o&&a._move(n?n.prev():e(s.lastChild)),t.preventDefault()):r===p.ENTER||r===p.TAB?(r===p.ENTER&&a.popup.visible()&&t.preventDefault(),a._accept(n)):r===p.ESC?(a.popup.visible()&&t.preventDefault(),a.close()):a._search()},_move:function(e){var t=this;e=e[0]?e:null,t.current(e),t.options.suggest&&t.suggest(e)},_hideBusy:function(){var e=this;clearTimeout(e._busy),e._loading.hide(),e.element.attr("aria-busy",!1),e._busy=null},_showBusy:function(){var e=this;e._busy||(e._busy=setTimeout(function(){e.element.attr("aria-busy",!0),e._loading.show()},100))},_placeholder:function(e){if(!c){var a,s=this,r=s.element,n=s.options.placeholder;if(n){if(a=r.val(),e===t&&(e=!a),e||(n=a!==n?a:""),a===s._old&&!e)return;r.toggleClass("k-readonly",e).val(n),n||r[0]!==document.activeElement||h.selectText(r[0],0,0)}}},_search:function(){var e=this;clearTimeout(e._typing),e._typing=setTimeout(function(){e._prev!==e._accessor()&&(e._prev=e._accessor(),e.search())},e.options.delay)},_select:function(t){var a,s,n=this,o=n.options.separator,i=n._data();t=e(t),t[0]&&!t.hasClass(C)&&(s=h.inArray(t[0],n.ul[0]),s>-1&&(i=i[s],a=n._text(i),o&&(a=r(T(n.element[0]),n._accessor(),a,o)),n._accessor(a),n.current(t.addClass(C))))},_loader:function(){this._loading=e('<span class="k-icon k-loading" style="display:none"></span>').insertAfter(this.element)},_toggleHover:function(t){e(t.currentTarget).toggleClass(w,"mouseenter"===t.type)},_wrapper:function(){var e,t=this,a=t.element,s=a[0];e=a.parent(),e.is("span.k-widget")||(e=a.wrap("<span />").parent()),e.attr("tabindex",-1),e.attr("role","presentation"),e[0].style.cssText=s.style.cssText,a.css({width:"100%",height:s.style.height}),t._focused=t.element,t.wrapper=e.addClass("k-widget k-autocomplete k-header").addClass(s.className)}});u.plugin(A)}(window.kendo.jQuery);;!function(t,e){function n(t,e,n,a){var r,i=t.getFullYear(),o=e.getFullYear(),l=n.getFullYear();return i-=i%a,r=i+(a-1),o>i&&(i=o),r>l&&(r=l),i+"-"+r}function a(t){for(var e,n=0,a=t.min,r=t.max,i=t.start,o=t.setter,s=t.build,u=t.cells||12,c=t.perRow||4,f=t.content||O,g=t.empty||V,d=t.html||'<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><tbody><tr role="row">';u>n;n++)n>0&&0===n%c&&(d+='</tr><tr role="row">'),e=s(i,n),d+=l(i,a,r)?f(e):g(e),o(i,1);return d+"</tr></tbody></table>"}function r(t,e,n){var a=t.getFullYear(),r=e.getFullYear(),i=r,o=0;return n&&(r-=r%n,i=r-r%n+n-1),a>i?o=1:r>a&&(o=-1),o}function i(){var t=new ve;return new ve(t.getFullYear(),t.getMonth(),t.getDate())}function o(t,e,n){var a=i();return t&&(a=new ve(+t)),e>a?a=new ve(+e):a>n&&(a=new ve(+n)),a}function l(t,e,n){return+t>=+e&&+n>=+t}function s(t,e){return t.slice(e).concat(t.slice(0,e))}function u(t,e,n){e=e instanceof ve?e.getFullYear():t.getFullYear()+n*e,t.setFullYear(e)}function c(e){t(this).toggleClass(j,ae.indexOf(e.type)>-1||e.type==ee)}function f(t){t.preventDefault()}function g(t){return M(t).calendars.standard}function d(t){var n=he[t.start],a=he[t.depth],r=M(t.culture);t.format=x(t.format||r.calendars.standard.patterns.d),isNaN(n)&&(n=0,t.start=R),(a===e||a>n)&&(t.depth=R),t.dates||(t.dates=[])}function v(t){P&&t.find("*").attr("unselectable","on")}function h(t,e){for(var n=0,a=e.length;a>n;n++)if(t===+e[n])return!0;return!1}function m(t,e){return t?t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate():!1}function _(t,e){return t?t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth():!1}var p,w=window.kendo,k=w.support,D=w.ui,F=D.Widget,Y=w.keys,b=w.parseDate,y=w.date.adjustDST,x=w._extractFormat,C=w.template,M=w.getCulture,T=w.support.transitions,S=T?T.css+"transform-origin":"",O=C('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#</a></td>',{useWithBlock:!1}),V=C('<td role="gridcell">&nbsp;</td>',{useWithBlock:!1}),A=w.support.browser,P=A.msie&&A.version<9,E=".kendoCalendar",H="click"+E,N="keydown"+E,z="id",I="min",W="left",B="slideIn",R="month",U="century",G="change",q="navigate",L="value",j="k-state-hover",K="k-state-disabled",Q="k-state-focused",J="k-other-month",X=' class="'+J+'"',Z="k-nav-today",$="td:has(.k-link)",te="blur"+E,ee="focus",ne=ee+E,ae=k.touch?"touchstart":"mouseenter",re=k.touch?"touchstart"+E:"mouseenter"+E,ie=k.touch?"touchend"+E+" touchmove"+E:"mouseleave"+E,oe=6e4,le=864e5,se="_prevArrow",ue="_nextArrow",ce="aria-disabled",fe="aria-selected",ge=t.proxy,de=t.extend,ve=Date,he={month:0,year:1,decade:2,century:3},me=F.extend({init:function(e,n){var a,r,i=this;F.fn.init.call(i,e,n),e=i.wrapper=i.element,n=i.options,n.url=window.unescape(n.url),i._templates(),i._header(),i._footer(i.footer),r=e.addClass("k-widget k-calendar").on(re+" "+ie,$,c).on(N,"table.k-content",ge(i._move,i)).on(H,$,function(e){var n=e.currentTarget.firstChild;-1!=n.href.indexOf("#")&&e.preventDefault(),i._click(t(n))}).on("mouseup"+E,function(){i._focusView(i.options.focusOnNav!==!1)}).attr(z),r&&(i._cellID=r+"_cell_selected"),a=n.value,d(n),i._index=he[n.start],i._current=new ve(+o(a,n.min,n.max)),i._addClassProxy=function(){i._active=!0,i._cell.addClass(Q)},i._removeClassProxy=function(){i._active=!1,i._cell.removeClass(Q)},i.value(a),w.notify(i)},options:{name:"Calendar",value:null,min:new ve(1900,0,1),max:new ve(2099,11,31),dates:[],url:"",culture:"",footer:"",format:"",month:{},start:R,depth:R,animation:{horizontal:{effects:B,reverse:!0,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}}},events:[G,q],setOptions:function(t){d(t),F.fn.setOptions.call(this,t)},destroy:function(){var t=this,e=t._today;t.element.off(E),t._title.off(E),t[se].off(E),t[ue].off(E),w.destroy(t._view),e&&w.destroy(e.off(E)),F.fn.destroy.call(t)},current:function(){return this._current},view:function(){return this._view},focus:function(t){t=t||this._table,this._bindTable(t),t.focus()},min:function(t){return this._option(I,t)},max:function(t){return this._option("max",t)},navigateToPast:function(){this._navigate(se,-1)},navigateToFuture:function(){this._navigate(ue,1)},navigateUp:function(){var t=this,e=t._index;t._title.hasClass(K)||t.navigate(t._current,++e)},navigateDown:function(t){var n=this,a=n._index,r=n.options.depth;if(t)return a===he[r]?(+n._value!=+t&&(n.value(t),n.trigger(G)),e):(n.navigate(t,--a),e)},navigate:function(n,a){a=isNaN(a)?he[a]:a;var r,i,l,s,u=this,c=u.options,f=c.culture,g=c.min,d=c.max,h=u._title,m=u._table,_=u._oldTable,w=u._value,k=u._current,D=n&&+n>+k,F=a!==e&&a!==u._index;n||(n=k),u._current=n=new ve(+o(n,g,d)),a===e?a=u._index:u._index=a,u._view=i=p.views[a],l=i.compare,s=a===he[U],h.toggleClass(K,s).attr(ce,s),s=l(n,g)<1,u[se].toggleClass(K,s).attr(ce,s),s=l(n,d)>-1,u[ue].toggleClass(K,s).attr(ce,s),m&&_&&_.data("animating")&&(_.kendoStop(!0,!0),m.kendoStop(!0,!0)),u._oldTable=m,(!m||u._changeView)&&(h.html(i.title(n,g,d,f)),u._table=r=t(i.content(de({min:g,max:d,date:n,url:c.url,dates:c.dates,format:c.format,culture:f},u[i.name]))),v(r),u._animate({from:m,to:r,vertical:F,future:D}),u._focus(n),u.trigger(q)),a===he[c.depth]&&w&&u._class("k-state-selected",i.toDateString(w)),u._class(Q,i.toDateString(n)),!m&&u._cell&&u._cell.removeClass(Q),u._changeView=!0},value:function(t){var n=this,a=n._view,r=n.options,i=n._view,o=r.min,s=r.max;return t===e?n._value:(t=b(t,r.format,r.culture),null!==t&&(t=new ve(+t),l(t,o,s)||(t=null)),n._value=t,i&&null===t&&n._cell?n._cell.removeClass("k-state-selected"):(n._changeView=!t||a&&0!==a.compare(t,n._current),n.navigate(t)),e)},_move:function(e){var n,a,r,i,l=this,s=l.options,u=e.keyCode,c=l._view,f=l._index,g=new ve(+l._current),d=w.support.isRtl(l.wrapper);return e.target===l._table[0]&&(l._active=!0),e.ctrlKey?u==Y.RIGHT&&!d||u==Y.LEFT&&d?(l.navigateToFuture(),a=!0):u==Y.LEFT&&!d||u==Y.RIGHT&&d?(l.navigateToPast(),a=!0):u==Y.UP?(l.navigateUp(),a=!0):u==Y.DOWN&&(l._click(t(l._cell[0].firstChild)),a=!0):(u==Y.RIGHT&&!d||u==Y.LEFT&&d?(n=1,a=!0):u==Y.LEFT&&!d||u==Y.RIGHT&&d?(n=-1,a=!0):u==Y.UP?(n=0===f?-7:-4,a=!0):u==Y.DOWN?(n=0===f?7:4,a=!0):u==Y.ENTER?(l._click(t(l._cell[0].firstChild)),a=!0):u==Y.HOME||u==Y.END?(r=u==Y.HOME?"first":"last",i=c[r](g),g=new ve(i.getFullYear(),i.getMonth(),i.getDate(),g.getHours(),g.getMinutes(),g.getSeconds(),g.getMilliseconds()),a=!0):u==Y.PAGEUP?(a=!0,l.navigateToPast()):u==Y.PAGEDOWN&&(a=!0,l.navigateToFuture()),(n||r)&&(r||c.setDate(g,n),l._focus(o(g,s.min,s.max)))),a&&e.preventDefault(),l._current},_animate:function(t){var e=this,n=t.from,a=t.to,r=e._active;n?n.parent().data("animating")?(n.parent().kendoStop(!0,!0).remove(),n.remove(),a.insertAfter(e.element[0].firstChild),e._focusView(r)):n.is(":visible")&&e.options.animation!==!1?e[t.vertical?"_vertical":"_horizontal"](n,a,t.future):(a.insertAfter(n),n.remove(),e._focusView(r)):(a.insertAfter(e.element[0].firstChild),e._bindTable(a))},_horizontal:function(t,n,a){var r=this,i=r._active,o=r.options.animation.horizontal,l=o.effects,s=t.outerWidth();l&&-1!=l.indexOf(B)&&(t.add(n).css({width:s}),t.wrap("<div/>"),r._focusView(i,t),t.parent().css({position:"relative",width:2*s,"float":W,"margin-left":a?0:-s}),n[a?"insertAfter":"insertBefore"](t),de(o,{effects:B+":"+(a?"right":W),complete:function(){t.remove(),n.unwrap(),r._focusView(i),r._oldTable=e}}),t.parent().kendoStop(!0,!0).kendoAnimate(o))},_vertical:function(t,n){var a,r,i=this,o=i.options.animation.vertical,l=o.effects,s=i._active;l&&-1!=l.indexOf("zoom")&&(n.css({position:"absolute",top:t.prev().outerHeight(),left:0}).insertBefore(t),S&&(a=i._cellByDate(i._view.toDateString(i._current)),r=a.position(),r=r.left+parseInt(a.width()/2,10)+"px"+" "+(r.top+parseInt(a.height()/2,10)+"px"),n.css(S,r)),t.kendoStop(!0,!0).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){t.remove(),n.css({position:"static",top:0,left:0}),i._focusView(s),i._oldTable=e}}),n.kendoStop(!0,!0).kendoAnimate(o))},_cellByDate:function(e){return this._table.find("td:not(."+J+")").filter(function(){return t(this.firstChild).attr(w.attr(L))===e})},_class:function(e,n){var a=this,r=a._cellID,i=a._cell;i&&i.removeAttr(fe).removeAttr(z),i=a._table.find("td:not(."+J+")").removeClass(e).filter(function(){return t(this.firstChild).attr(w.attr(L))===n}).attr(fe,!0),e!==Q||a._active||a.options.focusOnNav===!1||(e=""),i.addClass(e),i[0]&&(a._cell=i),r&&(i.attr(z,r),a._table.removeAttr("aria-activedescendant").attr("aria-activedescendant",r))},_bindTable:function(t){t.on(ne,this._addClassProxy).on(te,this._removeClassProxy)},_click:function(t){var e=this,n=e.options,a=new Date(+e._current),r=t.attr(w.attr(L)).split("/");r=new ve(r[0],r[1],r[2]),y(r),e._view.setDate(a,r),e.navigateDown(o(a,n.min,n.max))},_focus:function(t){var e=this,n=e._view;0!==n.compare(t,e._current)?e.navigate(t):(e._current=t,e._class(Q,n.toDateString(t)))},_focusView:function(t,e){t&&this.focus(e)},_footer:function(n){var a=this,r=i(),o=a.element,l=o.find(".k-footer");return n?(l[0]||(l=t('<div class="k-footer"><a href="#" class="k-link k-nav-today"></a></div>').appendTo(o)),a._today=l.show().find(".k-link").html(n(r)).attr("title",w.toString(r,"D",a.options.culture)),a._toggle(),e):(a._toggle(!1),l.hide(),e)},_header:function(){var t,e=this,n=e.element,a=e.options.focusOnNav!==!1;n.find(".k-header")[0]||n.html('<div class="k-header"><a href="#" role="button" class="k-link k-nav-prev"><span class="k-icon k-i-arrow-w"></span></a><a href="#" role="button" aria-live="assertive" aria-atomic="true" class="k-link k-nav-fast"></a><a href="#" role="button" class="k-link k-nav-next"><span class="k-icon k-i-arrow-e"></span></a></div>'),t=n.find(".k-link").on(re+" "+ie+" "+ne+" "+te,c).click(!1),e._title=t.eq(1).on(H,function(){e._focusView(a),e.navigateUp()}),e[se]=t.eq(0).on(H,function(){e._focusView(a),e.navigateToPast()}),e[ue]=t.eq(2).on(H,function(){e._focusView(a),e.navigateToFuture()})},_navigate:function(t,e){var n=this,a=n._index+1,r=new ve(+n._current);t=n[t],t.hasClass(K)||(a>3?r.setFullYear(r.getFullYear()+100*e):p.views[a].setDate(r,e),n.navigate(r))},_option:function(t,n){var a,r=this,i=r.options,o=r._value||r._current;return n===e?i[t]:(n=b(n,i.format,i.culture),n&&(i[t]=new ve(+n),a=t===I?n>o:o>n,(a||_(o,n))&&(r._value=null,r._changeView=!0),r._changeView||(r._changeView=!(!i.month.content&&!i.month.empty)),r.navigate(r._value),r._toggle()),e)},_toggle:function(t){var n=this,a=n.options,r=n._today;t===e&&(t=l(i(),a.min,a.max)),r&&(r.off(H),t?r.addClass(Z).removeClass(K).on(H,ge(n._todayClick,n)):r.removeClass(Z).addClass(K).on(H,f))},_todayClick:function(t){var e=this,n=he[e.options.depth],a=i();t.preventDefault(),0===e._view.compare(e._current,a)&&e._index==n&&(e._changeView=!1),e._value=a,e.navigate(a,n),e.trigger(G)},_templates:function(){var t=this,e=t.options,n=e.footer,a=e.month,r=a.content,i=a.empty;t.month={content:C('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" '+w.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(r||"#=data.value#")+"</a></td>",{useWithBlock:!!r}),empty:C('<td role="gridcell">'+(i||"&nbsp;")+"</td>",{useWithBlock:!!i})},n!==!1&&(t.footer=C(n||'#= kendo.toString(data,"D","'+e.culture+'") #',{useWithBlock:!1}))}});D.plugin(me),p={firstDayOfMonth:function(t){return new ve(t.getFullYear(),t.getMonth(),1)},firstVisibleDay:function(t,e){e=e||w.culture().calendar;for(var n=e.firstDay,a=new ve(t.getFullYear(),t.getMonth(),0,t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds());a.getDay()!=n;)p.setTime(a,-1*le);return a},setTime:function(t,e){var n=t.getTimezoneOffset(),a=new ve(t.getTime()+e),r=a.getTimezoneOffset()-n;t.setTime(a.getTime()+r*oe)},views:[{name:R,title:function(t,e,n,a){return g(a).months.names[t.getMonth()]+" "+t.getFullYear()},content:function(t){for(var e=this,n=0,r=t.min,i=t.max,o=t.date,l=t.dates,u=t.format,c=t.culture,f=t.url,d=f&&l[0],v=g(c),m=v.firstDay,_=v.days,k=s(_.names,m),D=s(_.namesShort,m),F=p.firstVisibleDay(o,v),Y=e.first(o),b=e.last(o),x=e.toDateString,C=new ve,M='<table tabindex="0" role="grid" class="k-content" cellspacing="0"><thead><tr role="row">';7>n;n++)M+='<th scope="col" title="'+k[n]+'">'+D[n]+"</th>";return C=new ve(C.getFullYear(),C.getMonth(),C.getDate()),y(C),C=+C,a({cells:42,perRow:7,html:M+='</tr></thead><tbody><tr role="row">',start:new ve(F.getFullYear(),F.getMonth(),F.getDate()),min:new ve(r.getFullYear(),r.getMonth(),r.getDate()),max:new ve(i.getFullYear(),i.getMonth(),i.getDate()),content:t.content,empty:t.empty,setter:e.setDate,build:function(t){var e=[],n=t.getDay(),a="",r="#";return(Y>t||t>b)&&e.push(J),+t===C&&e.push("k-today"),(0===n||6===n)&&e.push("k-weekend"),d&&h(+t,l)&&(r=f.replace("{0}",w.toString(t,u,c)),a=" k-action-link"),{date:t,dates:l,ns:w.ns,title:w.toString(t,"D",c),value:t.getDate(),dateString:x(t),cssClass:e[0]?' class="'+e.join(" ")+'"':"",linkClass:a,url:r}}})},first:function(t){return p.firstDayOfMonth(t)},last:function(t){var e=new ve(t.getFullYear(),t.getMonth()+1,0),n=p.firstDayOfMonth(t),a=Math.abs(e.getTimezoneOffset()-n.getTimezoneOffset());return a&&e.setHours(n.getHours()+a/60),e},compare:function(t,e){var n,a=t.getMonth(),r=t.getFullYear(),i=e.getMonth(),o=e.getFullYear();return n=r>o?1:o>r?-1:a==i?0:a>i?1:-1},setDate:function(t,e){var n=t.getHours();e instanceof ve?t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()):p.setTime(t,e*le),y(t,n)},toDateString:function(t){return t.getFullYear()+"/"+t.getMonth()+"/"+t.getDate()}},{name:"year",title:function(t){return t.getFullYear()},content:function(t){var e=g(t.culture).months.namesAbbr,n=this.toDateString,r=t.min,i=t.max;return a({min:new ve(r.getFullYear(),r.getMonth(),1),max:new ve(i.getFullYear(),i.getMonth(),1),start:new ve(t.date.getFullYear(),0,1),setter:this.setDate,build:function(t){return{value:e[t.getMonth()],ns:w.ns,dateString:n(t),cssClass:""}}})},first:function(t){return new ve(t.getFullYear(),0,t.getDate())},last:function(t){return new ve(t.getFullYear(),11,t.getDate())},compare:function(t,e){return r(t,e)},setDate:function(t,e){var n,a=t.getHours();e instanceof ve?(n=e.getMonth(),t.setFullYear(e.getFullYear(),n,t.getDate()),n!==t.getMonth()&&t.setDate(0)):(n=t.getMonth()+e,t.setMonth(n),n>11&&(n-=12),n>0&&t.getMonth()!=n&&t.setDate(0)),y(t,a)},toDateString:function(t){return t.getFullYear()+"/"+t.getMonth()+"/1"}},{name:"decade",title:function(t,e,a){return n(t,e,a,10)},content:function(t){var e=t.date.getFullYear(),n=this.toDateString;return a({start:new ve(e-e%10-1,0,1),min:new ve(t.min.getFullYear(),0,1),max:new ve(t.max.getFullYear(),0,1),setter:this.setDate,build:function(t,e){return{value:t.getFullYear(),ns:w.ns,dateString:n(t),cssClass:0===e||11==e?X:""}}})},first:function(t){var e=t.getFullYear();return new ve(e-e%10,t.getMonth(),t.getDate())},last:function(t){var e=t.getFullYear();return new ve(e-e%10+9,t.getMonth(),t.getDate())},compare:function(t,e){return r(t,e,10)},setDate:function(t,e){u(t,e,1)},toDateString:function(t){return t.getFullYear()+"/0/1"}},{name:U,title:function(t,e,a){return n(t,e,a,100)},content:function(t){var e=t.date.getFullYear(),n=t.min.getFullYear(),r=t.max.getFullYear(),i=this.toDateString,o=n,l=r;return o-=o%10,l-=l%10,10>l-o&&(l=o+9),a({start:new ve(e-e%100-10,0,1),min:new ve(o,0,1),max:new ve(l,0,1),setter:this.setDate,build:function(t,e){var a=t.getFullYear(),o=a+9;return n>a&&(a=n),o>r&&(o=r),{ns:w.ns,value:a+" - "+o,dateString:i(t),cssClass:0===e||11==e?X:""}}})},first:function(t){var e=t.getFullYear();return new ve(e-e%100,t.getMonth(),t.getDate())},last:function(t){var e=t.getFullYear();return new ve(e-e%100+99,t.getMonth(),t.getDate())},compare:function(t,e){return r(t,e,100)},setDate:function(t,e){u(t,e,10)},toDateString:function(t){var e=t.getFullYear();return e-e%10+"/0/1"}}]},p.isEqualDatePart=m,p.makeUnselectable=v,p.restrictValue=o,p.isInRange=l,p.normalize=d,p.viewsEnum=he,w.calendar=p}(window.kendo.jQuery);;!function(t,e){function a(t,e,a){var i=a?" k-slider-horizontal":" k-slider-vertical",n=t.style?t.style:e.attr("style"),o=e.attr("class")?" "+e.attr("class"):"",l="";return"bottomRight"==t.tickPlacement?l=" k-slider-bottomright":"topLeft"==t.tickPlacement&&(l=" k-slider-topleft"),n=n?" style='"+n+"'":"","<div class='k-widget k-slider"+i+o+"'"+n+">"+"<div class='k-slider-wrap"+(t.showButtons?" k-slider-buttons":"")+l+"'></div></div>"}function i(t,e,a){var i="";return i="increase"==e?a?"k-i-arrow-e":"k-i-arrow-n":a?"k-i-arrow-w":"k-i-arrow-s","<a class='k-button k-button-"+e+"'><span class='k-icon "+i+"' title='"+t[e+"ButtonTitle"]+"'>"+t[e+"ButtonTitle"]+"</span></a>"}function n(t,e){var a,i="<ul class='k-reset k-slider-items'>",n=k.floor(d(e/t.smallStep))+1;for(a=0;n>a;a++)i+="<li class='k-tick' role='presentation'>&nbsp;</li>";return i+="</ul>"}function o(t,e){var a=e.is("input")?1:2,i=2==a?t.leftDragHandleTitle:t.dragHandleTitle;return"<div class='k-slider-track'><div class='k-slider-selection'><!-- --></div><a href='#' class='k-draghandle' title='"+i+"' role='slider' aria-valuemin='"+t.min+"' aria-valuemax='"+t.max+"' aria-valuenow='"+(a>1?t.selectionStart||t.min:t.value||t.min)+"'>Drag</a>"+(a>1?"<a href='#' class='k-draghandle' title='"+t.rightDragHandleTitle+"'role='slider' aria-valuemin='"+t.min+"' aria-valuemax='"+t.max+"' aria-valuenow='"+(t.selectionEnd||t.max)+"'>Drag</a>":"")+"</div>"}function l(t){return function(e){return e+t}}function r(t){return function(){return t}}function s(t){return(t+"").replace(".",f.cultures.current.numberFormat["."])}function d(t){t=parseFloat(t,10);var e=k.pow(10,Z||0);return k.round(t*e)/e}function u(t,a){var i=h(t.getAttribute(a));return null===i&&(i=e),i}function c(t){return typeof t!==Y}var p,f=window.kendo,_=f.ui.Widget,v=f.ui.Draggable,m=t.extend,g=f.format,h=f.parseFloat,w=t.proxy,S=t.isArray,k=Math,x=f.support,D=x.pointers,b=x.msPointers,H="change",T="slide",y=".slider",z="touchstart"+y+" mousedown"+y,E=D?"pointerdown"+y:b?"MSPointerDown"+y:z,I="touchend"+y+" mouseup"+y,C=D?"pointerup":b?"MSPointerUp"+y:I,R="moveSelection",V="keydown"+y,q="click"+y,A="mouseover"+y,W="focus"+y,M="blur"+y,F=".k-draghandle",P=".k-slider-track",B=".k-tick",O="k-state-selected",N="k-state-default",L="k-state-disabled",Z=3,X="disabled",Y="undefined",j="tabindex",Q=f.getTouches,U=_.extend({init:function(t,e){var a,i,o,s=this;_.fn.init.call(s,t,e),e=s.options,s._distance=e.max-e.min,s._isHorizontal="horizontal"==e.orientation,s._isRtl=s._isHorizontal&&f.support.isRtl(t),s._position=s._isHorizontal?"left":"bottom",s._size=s._isHorizontal?"width":"height",s._outerSize=s._isHorizontal?"outerWidth":"outerHeight",e.tooltip.format=e.tooltip.enabled?e.tooltip.format||"{0}":"{0}",s._createHtml(),s.wrapper=s.element.closest(".k-slider"),s._trackDiv=s.wrapper.find(P),s._setTrackDivWidth(),s._maxSelection=s._trackDiv[s._size](),a=s._maxSelection/((e.max-e.min)/e.smallStep),i=s._calculateItemsWidth(k.floor(s._distance/e.smallStep)),"none"!=e.tickPlacement&&a>=2&&(s._trackDiv.before(n(e,s._distance)),s._setItemsWidth(i),s._setItemsTitle(),s._setItemsLargeTick()),s._calculateSteps(i),s._tabindex(s.wrapper.find(F)),s[e.enabled?"enable":"disable"](),o=f.support.isRtl(s.wrapper)?-1:1,s._keyMap={37:l(-1*o*e.smallStep),40:l(-e.smallStep),39:l(1*o*e.smallStep),38:l(+e.smallStep),35:r(e.max),36:r(e.min),33:l(+e.largeStep),34:l(-e.largeStep)},f.notify(s)},events:[H,T],options:{enabled:!0,min:0,max:10,smallStep:1,largeStep:5,orientation:"horizontal",tickPlacement:"both",tooltip:{enabled:!0,format:"{0}"}},_setTrackDivWidth:function(){var t=this,e=2*parseFloat(t._trackDiv.css(t._isRtl?"right":t._position),10);t._trackDiv[t._size](t.wrapper[t._size]()-2-e)},_setItemsWidth:function(e){var a,i=this,n=i.options,o=0,l=e.length-1,r=i.wrapper.find(B),s=0,d=2,u=r.length,c=0;for(a=0;u-2>a;a++)t(r[a+1])[i._size](e[a]);if(i._isHorizontal?(t(r[o]).addClass("k-first")[i._size](e[l-1]),t(r[l]).addClass("k-last")[i._size](e[l])):(t(r[l]).addClass("k-first")[i._size](e[l]),t(r[o]).addClass("k-last")[i._size](e[l-1])),0!==i._distance%n.smallStep&&!i._isHorizontal){for(a=0;a<e.length;a++)c+=e[a];s=i._maxSelection-c,s+=parseFloat(i._trackDiv.css(i._position),10)+d,i.wrapper.find(".k-slider-items").css("padding-top",s)}},_setItemsTitle:function(){for(var e=this,a=e.options,i=e.wrapper.find(B),n=a.min,o=i.length,l=e._isHorizontal&&!e._isRtl?0:o-1,r=e._isHorizontal&&!e._isRtl?o:-1,s=e._isHorizontal&&!e._isRtl?1:-1;0!==l-r;l+=s)t(i[l]).attr("title",g(a.tooltip.format,d(n))),n+=a.smallStep},_setItemsLargeTick:function(){var e,a=this,i=a.options,n=a.wrapper.find(B),o={},l=d(i.largeStep/i.smallStep);if(0===1e3*i.largeStep%(1e3*i.smallStep))if(a._isHorizontal&&!a._isRtl)for(e=0;e<n.length;e=d(e+l))o=t(n[e]),o.addClass("k-tick-large").html("<span class='k-label'>"+o.attr("title")+"</span>");else for(e=n.length-1;e>=0;e=d(e-l))o=t(n[e]),o.addClass("k-tick-large").html("<span class='k-label'>"+o.attr("title")+"</span>"),a._isRtl||0!==e&&e!==n.length-1&&o.css("line-height",o[a._size]()+"px")},_calculateItemsWidth:function(t){var e,a,i,n=this,o=n.options,l=parseFloat(n._trackDiv.css(n._size))+1,r=l/n._distance;for(n._distance/o.smallStep-k.floor(n._distance/o.smallStep)>0&&(l-=n._distance%o.smallStep*r),e=l/t,a=[],i=0;t-1>i;i++)a[i]=e;return a[t-1]=a[t]=e/2,n._roundWidths(a)},_roundWidths:function(t){var e,a=0,i=t.length;for(e=0;i>e;e++)a+=t[e]-k.floor(t[e]),t[e]=k.floor(t[e]);return a=k.round(a),this._addAdditionalSize(a,t)},_addAdditionalSize:function(t,e){if(0===t)return e;var a,i=parseFloat(e.length-1)/parseFloat(1==t?t:t-1);for(a=0;t>a;a++)e[parseInt(k.round(i*a),10)]+=1;return e},_calculateSteps:function(t){var e,a=this,i=a.options,n=i.min,o=0,l=k.ceil(a._distance/i.smallStep),r=1;if(l+=0===a._distance/i.smallStep%1?1:0,t.splice(0,0,2*t[l-2]),t.splice(l-1,1,2*t.pop()),a._pixelSteps=[o],a._values=[n],0!==l){for(;l>r;)o+=(t[r-1]+t[r])/2,a._pixelSteps[r]=o,a._values[r]=n+=i.smallStep,r++;e=0===a._distance%i.smallStep?l-1:l,a._pixelSteps[e]=a._maxSelection,a._values[e]=i.max,a._isRtl&&(a._pixelSteps.reverse(),a._values.reverse())}},_getValueFromPosition:function(t,e){var a,i=this,n=i.options,o=k.max(n.smallStep*(i._maxSelection/i._distance),0),l=0,r=o/2;if(i._isHorizontal?(l=t-e.startPoint,i._isRtl&&(l=i._maxSelection-l)):l=e.startPoint-t,i._maxSelection-(parseInt(i._maxSelection%o,10)-3)/2<l)return n.max;for(a=0;a<i._pixelSteps.length;a++)if(k.abs(i._pixelSteps[a]-l)-1<=r)return d(i._values[a])},_getFormattedValue:function(t,e){var a,i,n,o=this,l="",r=o.options.tooltip;return S(t)?(i=t[0],n=t[1]):e&&e.type&&(i=e.selectionStart,n=e.selectionEnd),e&&(a=e.tooltipTemplate),!a&&r.template&&(a=f.template(r.template)),S(t)||e&&e.type?a?l=a({selectionStart:i,selectionEnd:n}):(i=g(r.format,i),n=g(r.format,n),l=i+" - "+n):(e&&(e.val=t),l=a?a({value:t}):g(r.format,t)),l},_getDraggableArea:function(){var t=this,e=f.getOffset(t._trackDiv);return{startPoint:t._isHorizontal?e.left:e.top+t._maxSelection,endPoint:t._isHorizontal?e.left+t._maxSelection:e.top}},_createHtml:function(){var t=this,e=t.element,n=t.options,l=e.find("input");2==l.length?(l.eq(0).val(n.selectionStart),l.eq(1).val(n.selectionEnd)):e.val(n.value),e.wrap(a(n,e,t._isHorizontal)).hide(),n.showButtons&&e.before(i(n,"increase",t._isHorizontal)).before(i(n,"decrease",t._isHorizontal)),e.before(o(n,e))},_focus:function(e){var a=this,i=e.target,n=a.value(),o=a._drag;o||(i==a.wrapper.find(F).eq(0)[0]?(o=a._firstHandleDrag,a._activeHandle=0):(o=a._lastHandleDrag,a._activeHandle=1),n=n[a._activeHandle]),t(i).addClass(O),o&&(a._activeHandleDrag=o,o.selectionStart=a.options.selectionStart,o.selectionEnd=a.options.selectionEnd,o._updateTooltip(n))},_focusWithMouse:function(e){e=t(e);var a=this,i=e.is(F)?e.index():0;window.setTimeout(function(){a.wrapper.find(F)[2==i?1:0].focus()},1),a._setTooltipTimeout()},_blur:function(e){var a=this,i=a._activeHandleDrag;t(e.target).removeClass(O),i&&(i._removeTooltip(),delete a._activeHandleDrag,delete a._activeHandle)},_setTooltipTimeout:function(){var t=this;t._tooltipTimeout=window.setTimeout(function(){var e=t._drag||t._activeHandleDrag;e&&e._removeTooltip()},300)},_clearTooltipTimeout:function(){var t,e=this;window.clearTimeout(this._tooltipTimeout),t=e._drag||e._activeHandleDrag,t&&t.tooltipDiv&&t.tooltipDiv.stop(!0,!1).css("opacity",1)}}),G=U.extend({init:function(a,i){var n,o=this;a.type="text",i=m({},{value:u(a,"value"),min:u(a,"min"),max:u(a,"max"),smallStep:u(a,"step")},i),a=t(a),i&&i.enabled===e&&(i.enabled=!a.is("[disabled]")),U.fn.init.call(o,a,i),i=o.options,c(i.value)&&null!==i.value||(i.value=i.min,a.val(i.min)),i.value=k.max(k.min(i.value,i.max),i.min),n=o.wrapper.find(F),new G.Selection(n,o,i),o._drag=new G.Drag(n,"",o,i)},options:{name:"Slider",showButtons:!0,increaseButtonTitle:"Increase",decreaseButtonTitle:"Decrease",dragHandleTitle:"drag",tooltip:{format:"{0}"},value:null},enable:function(a){var i,n,o,l=this,r=l.options;l.disable(),a!==!1&&(l.wrapper.removeClass(L).addClass(N),l.wrapper.find("input").removeAttr(X),i=function(a){var i,n,o,r=Q(a)[0];if(r){if(i=l._isHorizontal?r.location.pageX:r.location.pageY,n=l._getDraggableArea(),o=t(a.target),o.hasClass("k-draghandle"))return o.addClass(O),e;l._update(l._getValueFromPosition(i,n)),l._focusWithMouse(a.target),l._drag.dragstart(a),a.preventDefault()}},l.wrapper.find(B+", "+P).on(E,i).end().on(E,function(){t(document.documentElement).one("selectstart",f.preventDefault)}).on(C,function(){l._drag._end()}),l.wrapper.find(F).attr(j,0).on(I,function(){l._setTooltipTimeout()}).on(q,function(t){l._focusWithMouse(t.target),t.preventDefault()}).on(W,w(l._focus,l)).on(M,w(l._blur,l)),n=w(function(t){var e=l._nextValueByIndex(l._valueIndex+1*t);l._setValueInRange(e),l._drag._updateTooltip(e)},l),r.showButtons&&(o=w(function(t,e){this._clearTooltipTimeout(),(1===t.which||x.touch&&0===t.which)&&(n(e),this.timeout=setTimeout(w(function(){this.timer=setInterval(function(){n(e)},60)},this),200))},l),l.wrapper.find(".k-button").on(I,w(function(t){this._clearTimer(),l._focusWithMouse(t.target)},l)).on(A,function(e){t(e.currentTarget).addClass("k-state-hover")}).on("mouseout"+y,w(function(e){t(e.currentTarget).removeClass("k-state-hover"),this._clearTimer()},l)).eq(0).on(z,w(function(t){o(t,1)},l)).click(!1).end().eq(1).on(z,w(function(t){o(t,-1)},l)).click(f.preventDefault)),l.wrapper.find(F).off(V,!1).on(V,w(this._keydown,l)),r.enabled=!0)},disable:function(){var e=this;e.wrapper.removeClass(N).addClass(L),t(e.element).prop(X,X),e.wrapper.find(".k-button").off(z).on(z,f.preventDefault).off(I).on(I,f.preventDefault).off("mouseleave"+y).on("mouseleave"+y,f.preventDefault).off(A).on(A,f.preventDefault),e.wrapper.find(B+", "+P).off(E).off(C),e.wrapper.find(F).attr(j,-1).off(I).off(V).off(q).off(W).off(M),e.options.enabled=!1},_update:function(t){var e=this,a=e.value()!=t;e.value(t),a&&e.trigger(H,{value:e.options.value})},value:function(t){var a=this,i=a.options;return t=d(t),isNaN(t)?i.value:(t>=i.min&&t<=i.max&&i.value!=t&&(a.element.prop("value",s(t)),i.value=t,a._refreshAriaAttr(t),a._refresh()),e)},_refresh:function(){this.trigger(R,{value:this.options.value})},_refreshAriaAttr:function(t){var e,a=this,i=a._drag;e=i&&i._tooltipDiv?i._tooltipDiv.text():a._getFormattedValue(t,null),this.wrapper.find(F).attr("aria-valuenow",t).attr("aria-valuetext",e)},_clearTimer:function(){clearTimeout(this.timeout),clearInterval(this.timer)},_keydown:function(t){var e=this;t.keyCode in e._keyMap&&(e._clearTooltipTimeout(),e._setValueInRange(e._keyMap[t.keyCode](e.options.value)),e._drag._updateTooltip(e.value()),t.preventDefault())},_setValueInRange:function(t){var a=this,i=a.options;return t=d(t),isNaN(t)?(a._update(i.min),e):(t=k.max(k.min(t,i.max),i.min),a._update(t),e)},_nextValueByIndex:function(t){var e=this._values.length;return this._isRtl&&(t=e-1-t),this._values[k.max(0,k.min(t,e-1))]},destroy:function(){var t=this;_.fn.destroy.call(t),t.wrapper.off(y).find(".k-button").off(y).end().find(F).off(y).end().find(B+", "+P).off(y).end(),t._drag.draggable.destroy()}});G.Selection=function(t,e,a){function i(i){var n=i-a.min,o=e._valueIndex=k.ceil(d(n/a.smallStep)),l=parseInt(e._pixelSteps[o],10),r=e._trackDiv.find(".k-slider-selection"),s=parseInt(t[e._outerSize]()/2,10),u=e._isRtl?2:0;r[e._size](e._isRtl?e._maxSelection-l:l),t.css(e._position,l-s-u)}i(a.value),e.bind([H,T,R],function(t){i(parseFloat(t.value,10))})},G.Drag=function(t,e,a,i){var n=this;n.owner=a,n.options=i,n.element=t,n.type=e,n.draggable=new v(t,{distance:0,dragstart:w(n._dragstart,n),drag:w(n.drag,n),dragend:w(n.dragend,n),dragcancel:w(n.dragcancel,n)}),t.click(!1)},G.Drag.prototype={dragstart:function(t){this.owner._activeDragHandle=this,this.draggable.userEvents.cancel(),this.draggable.userEvents._start(t)},_dragstart:function(a){var i=this,n=i.owner,o=i.options;return o.enabled?(this.owner._activeDragHandle=this,n.element.off(A),i.element.addClass(O),t(document.documentElement).css("cursor","pointer"),i.dragableArea=n._getDraggableArea(),i.step=k.max(o.smallStep*(n._maxSelection/n._distance),0),i.type?(i.selectionStart=o.selectionStart,i.selectionEnd=o.selectionEnd,n._setZIndex(i.type)):i.oldVal=i.val=o.value,i._removeTooltip(!0),i._createTooltip(),e):(a.preventDefault(),e)},_createTooltip:function(){var e,a,i=this,n=i.owner,o=i.options.tooltip,l="",r=t(window);o.enabled&&(o.template&&(e=i.tooltipTemplate=f.template(o.template)),t(".k-slider-tooltip").remove(),i.tooltipDiv=t("<div class='k-widget k-tooltip k-slider-tooltip'><!-- --></div>").appendTo(document.body),l=n._getFormattedValue(i.val||n.value(),i),i.type||(a="k-callout-"+(n._isHorizontal?"s":"e"),i.tooltipInnerDiv="<div class='k-callout "+a+"'><!-- --></div>",l+=i.tooltipInnerDiv),i.tooltipDiv.html(l),i._scrollOffset={top:r.scrollTop(),left:r.scrollLeft()},i.moveTooltip())},drag:function(t){var e,a=this,i=a.owner,n=t.x.location,o=t.y.location,l=a.dragableArea.startPoint,r=a.dragableArea.endPoint;t.preventDefault(),a.val=i._isHorizontal?i._isRtl?a.constrainValue(n,l,r,r>n):a.constrainValue(n,l,r,n>=r):a.constrainValue(o,r,l,r>=o),a.oldVal!=a.val&&(a.oldVal=a.val,a.type?("firstHandle"==a.type?a.selectionStart=a.val<a.selectionEnd?a.val:a.selectionEnd=a.val:a.val>a.selectionStart?a.selectionEnd=a.val:a.selectionStart=a.selectionEnd=a.val,e={values:[a.selectionStart,a.selectionEnd],value:[a.selectionStart,a.selectionEnd]}):e={value:a.val},i.trigger(T,e)),a._updateTooltip(a.val)},_updateTooltip:function(t){var e=this,a=e.options,i=a.tooltip,n="";i.enabled&&(e.tooltipDiv||e._createTooltip(),n=e.owner._getFormattedValue(d(t),e),e.type||(n+=e.tooltipInnerDiv),e.tooltipDiv.html(n),e.moveTooltip())},dragcancel:function(){return this.owner._refresh(),t(document.documentElement).css("cursor",""),this._end()},dragend:function(){var e=this,a=e.owner;return t(document.documentElement).css("cursor",""),e.type?a._update(e.selectionStart,e.selectionEnd):a._update(e.val),e._end()},_end:function(){var t=this,e=t.owner;return e._focusWithMouse(t.element),e.element.on(A),!1},_removeTooltip:function(e){var a=this,i=a.owner;a.tooltipDiv&&i.options.tooltip.enabled&&i.options.enabled&&(e?(a.tooltipDiv.remove(),a.tooltipDiv=null):a.tooltipDiv.fadeOut("slow",function(){t(this).remove(),a.tooltipDiv=null}))},moveTooltip:function(){var e,a,i,n,o=this,l=o.owner,r=0,s=0,d=o.element,u=f.getOffset(d),c=8,p=t(window),_=o.tooltipDiv.find(".k-callout"),v=o.tooltipDiv.outerWidth(),m=o.tooltipDiv.outerHeight();o.type?(e=l.wrapper.find(F),u=f.getOffset(e.eq(0)),a=f.getOffset(e.eq(1)),l._isHorizontal?(r=a.top,s=u.left+(a.left-u.left)/2):(r=u.top+(a.top-u.top)/2,s=a.left),n=e.eq(0).outerWidth()+2*c):(r=u.top,s=u.left,n=d.outerWidth()+2*c),l._isHorizontal?(s-=parseInt((v-d[l._outerSize]())/2,10),r-=m+_.height()+c):(r-=parseInt((m-d[l._outerSize]())/2,10),s-=v+_.width()+c),l._isHorizontal?(i=o._flip(r,m,n,p.outerHeight()+o._scrollOffset.top),r+=i,s+=o._fit(s,v,p.outerWidth()+o._scrollOffset.left)):(i=o._flip(s,v,n,p.outerWidth()+o._scrollOffset.left),r+=o._fit(r,m,p.outerHeight()+o._scrollOffset.top),s+=i),i>0&&_&&(_.removeClass(),_.addClass("k-callout k-callout-"+(l._isHorizontal?"n":"w"))),o.tooltipDiv.css({top:r,left:s})},_fit:function(t,e,a){var i=0;return t+e>a&&(i=a-(t+e)),0>t&&(i=-t),i},_flip:function(t,e,a,i){var n=0;return t+e>i&&(n+=-(a+e)),0>t+n&&(n+=a+e),n},constrainValue:function(t,e,a,i){var n=this,o=0;return o=t>e&&a>t?n.owner._getValueFromPosition(t,n.dragableArea):i?n.options.max:n.options.min}},f.ui.plugin(G),p=U.extend({init:function(a,i){var n,o=this,l=t(a).find("input"),r=l.eq(0)[0],s=l.eq(1)[0];r.type="text",s.type="text",i=m({},{selectionStart:u(r,"value"),min:u(r,"min"),max:u(r,"max"),smallStep:u(r,"step")},{selectionEnd:u(s,"value"),min:u(s,"min"),max:u(s,"max"),smallStep:u(s,"step")},i),i&&i.enabled===e&&(i.enabled=!l.is("[disabled]")),U.fn.init.call(o,a,i),i=o.options,c(i.selectionStart)&&null!==i.selectionStart||(i.selectionStart=i.min,l.eq(0).val(i.min)),c(i.selectionEnd)&&null!==i.selectionEnd||(i.selectionEnd=i.max,l.eq(1).val(i.max)),n=o.wrapper.find(F),new p.Selection(n,o,i),o._firstHandleDrag=new G.Drag(n.eq(0),"firstHandle",o,i),o._lastHandleDrag=new G.Drag(n.eq(1),"lastHandle",o,i)},options:{name:"RangeSlider",leftDragHandleTitle:"drag",rightDragHandleTitle:"drag",tooltip:{format:"{0}"},selectionStart:null,selectionEnd:null},enable:function(a){var i,n=this,o=n.options;n.disable(),a!==!1&&(n.wrapper.removeClass(L).addClass(N),n.wrapper.find("input").removeAttr(X),i=function(a){var i,l,r,s,d,u,c,p=Q(a)[0];if(p){if(s=n._isHorizontal?p.location.pageX:p.location.pageY,d=n._getDraggableArea(),u=n._getValueFromPosition(s,d),c=t(a.target),c.hasClass("k-draghandle"))return c.addClass(O),e;u<o.selectionStart?(i=u,l=o.selectionEnd,r=n._firstHandleDrag):u>n.selectionEnd?(i=o.selectionStart,l=u,r=n._lastHandleDrag):u-o.selectionStart<=o.selectionEnd-u?(i=u,l=o.selectionEnd,r=n._firstHandleDrag):(i=o.selectionStart,l=u,r=n._lastHandleDrag),r.dragstart(a),n._setValueInRange(i,l),n._focusWithMouse(r.element)}},n.wrapper.find(B+", "+P).on(E,i).end().on(E,function(){t(document.documentElement).one("selectstart",f.preventDefault)}).on(C,function(){n._activeDragHandle._end()}),n.wrapper.find(F).attr(j,0).on(I,function(){n._setTooltipTimeout()}).on(q,function(t){n._focusWithMouse(t.target),t.preventDefault()}).on(W,w(n._focus,n)).on(M,w(n._blur,n)),n.wrapper.find(F).off(V,f.preventDefault).eq(0).on(V,w(function(t){this._keydown(t,"firstHandle")},n)).end().eq(1).on(V,w(function(t){this._keydown(t,"lastHandle")},n)),n.options.enabled=!0)},disable:function(){var t=this;t.wrapper.removeClass(N).addClass(L),t.wrapper.find("input").prop(X,X),t.wrapper.find(B+", "+P).off(E).off(C),t.wrapper.find(F).attr(j,-1).off(I).off(V).off(q).off(W).off(M),t.options.enabled=!1},_keydown:function(t,e){var a,i,n,o=this,l=o.options.selectionStart,r=o.options.selectionEnd;t.keyCode in o._keyMap&&(o._clearTooltipTimeout(),"firstHandle"==e?(n=o._activeHandleDrag=o._firstHandleDrag,l=o._keyMap[t.keyCode](l),l>r&&(r=l)):(n=o._activeHandleDrag=o._lastHandleDrag,r=o._keyMap[t.keyCode](r),l>r&&(l=r)),o._setValueInRange(l,r),a=Math.max(l,o.options.selectionStart),i=Math.min(r,o.options.selectionEnd),n.selectionEnd=Math.max(i,o.options.selectionStart),n.selectionStart=Math.min(a,o.options.selectionEnd),n._updateTooltip(o.value()[o._activeHandle]),t.preventDefault())},_update:function(t,e){var a=this,i=a.value(),n=i[0]!=t||i[1]!=e;a.value([t,e]),n&&a.trigger(H,{values:[t,e],value:[t,e]})},value:function(t){return t&&t.length?this._value(t[0],t[1]):this._value()},_value:function(t,a){var i=this,n=i.options,o=n.selectionStart,l=n.selectionEnd;return isNaN(t)&&isNaN(a)?[o,l]:(t=d(t),a=d(a),t>=n.min&&t<=n.max&&a>=n.min&&a<=n.max&&a>=t&&(o!=t||l!=a)&&(i.element.find("input").eq(0).prop("value",s(t)).end().eq(1).prop("value",s(a)),n.selectionStart=t,n.selectionEnd=a,i._refresh(),i._refreshAriaAttr(t,a)),e)},values:function(t,e){return S(t)?this._value(t[0],t[1]):this._value(t,e)},_refresh:function(){var t=this,e=t.options;t.trigger(R,{values:[e.selectionStart,e.selectionEnd],value:[e.selectionStart,e.selectionEnd]}),e.selectionStart==e.max&&e.selectionEnd==e.max&&t._setZIndex("firstHandle")},_refreshAriaAttr:function(t,e){var a,i=this,n=i.wrapper.find(F),o=i._activeHandleDrag;a=i._getFormattedValue([t,e],o),n.eq(0).attr("aria-valuenow",t),n.eq(1).attr("aria-valuenow",e),n.attr("aria-valuetext",a)},_setValueInRange:function(t,e){var a=this.options;t=k.max(k.min(t,a.max),a.min),e=k.max(k.min(e,a.max),a.min),t==a.max&&e==a.max&&this._setZIndex("firstHandle"),this._update(k.min(t,e),k.max(t,e))},_setZIndex:function(e){this.wrapper.find(F).each(function(a){t(this).css("z-index","firstHandle"==e?1-a:a)})},destroy:function(){var t=this;_.fn.destroy.call(t),t.wrapper.off(y).find(B+", "+P).off(y).end().find(F).off(y),t._firstHandleDrag.draggable.destroy(),t._lastHandleDrag.draggable.destroy()}}),p.Selection=function(t,e,a){function i(i){i=i||[];var o=i[0]-a.min,l=i[1]-a.min,r=k.ceil(d(o/a.smallStep)),s=k.ceil(d(l/a.smallStep)),u=e._pixelSteps[r],c=e._pixelSteps[s],p=parseInt(t.eq(0)[e._outerSize]()/2,10),f=e._isRtl?2:0;t.eq(0).css(e._position,u-p-f).end().eq(1).css(e._position,c-p-f),n(u,c)}function n(t,a){var i,n,o=e._trackDiv.find(".k-slider-selection");i=k.abs(t-a),o[e._size](i),e._isRtl?(n=k.max(t,a),o.css("right",e._maxSelection-n-1)):(n=k.min(t,a),o.css(e._position,n-1))}i(e.value()),e.bind([H,T,R],function(t){i(t.values)})},f.ui.plugin(p)}(window.kendo.jQuery);;!function(e,t,s){function n(e,t,s){s=o(s),s&&!s.equals(e.color())&&("change"==t&&(e._value=s),s=1!=s.a?s.toCssRgba():s.toCss(),e.trigger(t,{value:s}))}function a(e,t,s){for(s||(s="0"),e=e.toString(16);t>e.length;)e="0"+e;return e}function i(e){return parseFloat((+e).toFixed(3))}function o(e,n){if(null==e||"transparent"==e)return null;if(e instanceof H)return e;var a=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(e);if(a)return new R(t(a[1],16),t(a[2],16),t(a[3],16),1);if(a=/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(e))return new R(t(a[1]+a[1],16),t(a[2]+a[2],16),t(a[3]+a[3],16),1);if(a=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(e))return new R(t(a[1],10),t(a[2],10),t(a[3],10),1);if(a=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(e))return new R(t(a[1],10),t(a[2],10),t(a[3],10),parseFloat(a[4]));if(a=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(e))return new E(parseFloat(a[1])/100,parseFloat(a[2])/100,parseFloat(a[3])/100,1);if(a=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(e))return new E(parseFloat(a[1])/100,parseFloat(a[2])/100,parseFloat(a[3])/100,parseFloat(a[4]));if(!n)throw Error("Cannot parse color: "+e);return s}function r(e,t,s){var n,a;return e=Array.prototype.slice.call(e),n=e.length,a=e.indexOf(t),0>a?0>s?e[n-1]:e[0]:(a+=s,0>a?a+=n:a%=n,e[a])}function l(e){e.preventDefault()}function c(e,t){return function(){return e.apply(t,arguments)}}var u=window.kendo,d=u.Class,p=u.ui,C=p.Widget,h=u.keys,f="background-color",F="k-state-selected",v="000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7",_="FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000",g={apply:"Apply",cancel:"Cancel"},k=".kendoColorTools",b="click"+k,y="keydown"+k,m=u.support.browser,w=m.msie&&m.version<9,S=C.extend({init:function(e,t){var s,n=this;C.fn.init.call(n,e,t),e=n.element,t=n.options,n._value=t.value=o(t.value),s=n._ariaId=t.ariaId,s&&e.attr("aria-labelledby",s),t._standalone&&(n._triggerSelect=n._triggerChange)},options:{name:"ColorSelector",value:null,_standalone:!0},events:["change","select","cancel"],color:function(e){return e!==s&&(this._value=o(e),this._updateUI(this._value)),this._value},value:function(e){return e=this.color(e),e&&(e=this.options.opacity?e.toCssRgba():e.toCss()),e||null},enable:function(t){0===arguments.length&&(t=!0),t?e(".k-disabled-overlay",this.wrapper).remove():this.wrapper.append("<div class='k-disabled-overlay'></div>"),this._onEnable(t)},_select:function(e,t){var s=this._value;e=this.color(e),t||(e.equals(s)?this._standalone||this.trigger("cancel"):this.trigger("change",{value:this.value()}))},_triggerSelect:function(e){n(this,"select",e)},_triggerChange:function(e){n(this,"change",e)},destroy:function(){this.element&&this.element.off(k),this.wrapper&&this.wrapper.off(k).find("*").off(k),this.wrapper=null,C.fn.destroy.call(this)},_updateUI:e.noop,_selectOnHide:function(){return null},_cancel:function(){this.trigger("cancel")}}),I=S.extend({init:function(t,s){var n,a,i,r,l=this;if(S.fn.init.call(l,t,s),t=l.wrapper=l.element,s=l.options,n=s.palette,"websafe"==n?(n=_,s.columns=18):"basic"==n&&(n=v),"string"==typeof n&&(n=n.split(",")),e.isArray(n)&&(n=e.map(n,function(e){return o(e)})),t.addClass("k-widget k-colorpalette").append(e(l._template({colors:n,tileSize:s.tileSize,value:l._value,id:s.ariaId}))).on(b,".k-item",function(t){l._select(e(t.currentTarget).css(f))}).attr("tabIndex",0).on(y,c(l._keydown,l)),r=s.tileSize){if(/number|string/.test(typeof r))a=i=parseFloat(r);else{if("object"!=typeof r)throw Error("Unsupported value for the 'tileSize' argument");a=parseFloat(r.width),i=parseFloat(r.height)}t.find(".k-item").css({width:a-2,height:i-2})}s.columns&&t.css("width",s.columns*(a||14))},focus:function(){this.wrapper.focus()},options:{name:"ColorPalette",columns:10,tileSize:null,palette:"basic"},_onEnable:function(e){e?this.wrapper.removeAttr("tabIndex"):this.wrapper.attr("tabIndex",0)},_keydown:function(t){var s,n,a=this,i=a.wrapper,c=i.find(".k-item"),u=c.filter("."+F).get(0),d=t.keyCode;if(d==h.LEFT?s=r(c,u,-1):d==h.RIGHT?s=r(c,u,1):d==h.DOWN?s=r(c,u,a.options.columns):d==h.UP?s=r(c,u,-a.options.columns):d==h.ENTER?(l(t),u&&this._select(e(u).css(f))):d==h.ESC&&this._cancel(),s){l(t),s=e(s),e(u).removeClass(F).removeAttr("aria-selected"),s.addClass(F).attr("aria-selected",!0);try{n=o(s.css(f)),a._triggerSelect(n)}catch(p){}}},_updateUI:function(t){var s=this,n=null;s.wrapper.find(".k-item."+F).removeClass(F).removeAttr("aria-selected"),s.wrapper.find(".k-item").each(function(){var s=o(e(this).css(f));s&&s.equals(t)&&(n=this)}),e(n).addClass(F).attr("aria-selected",!0)},_template:u.template('<ul class="k-palette k-reset"># for (var i = 0; i < colors.length; i++) { #<li unselectable="on" style="background-color:#= colors[i].toCss() #" #=(id && i === 0) ? "id=\\""+id+"\\" aria-selected=\\"true\\"" : "" # class="k-item #= colors[i].equals(value) ? "'+F+'" : "" #" aria-label="#= colors[i].toCss() #">'+"</li>"+"# } #"+"</ul>")}),x=S.extend({init:function(t,s){var n=this;S.fn.init.call(n,t,s),s=n.options,t=n.element,n.wrapper=t.addClass("k-widget k-flatcolorpicker").append(n._template(s)),n._hueElements=e(".k-hsv-rectangle, .k-transparency-slider .k-slider-track",t),n._selectedColor=e(".k-selected-color-display",t),n._colorAsText=e("input.k-color-value",t),n._sliders(),n._hsvArea(),n._updateUI(n._value||new E(1,0,0,1)),t.find("input.k-color-value").on(y,function(t){var s,a,i=this;if(t.keyCode==h.ENTER)try{s=o(i.value),a=n.color(),n._select(s,s.equals(a))}catch(r){e(i).addClass("k-state-error")}else n.options.autoupdate&&setTimeout(function(){var e=o(i.value,!0);e&&n._updateUI(e,!0)},10)}).end().on(b,".k-controls button.apply",function(){n._select(n._getHSV())}).on(b,".k-controls button.cancel",function(){n._updateUI(n.color()),n._cancel()}),w&&n._applyIEFilter()},destroy:function(){this._hueSlider.destroy(),this._opacitySlider&&this._opacitySlider.destroy(),this._hueSlider=this._opacitySlider=this._hsvRect=this._hsvHandle=this._hueElements=this._selectedColor=this._colorAsText=null,S.fn.destroy.call(this)},options:{name:"FlatColorPicker",opacity:!1,buttons:!1,input:!0,preview:!0,autoupdate:!0,messages:g},_applyIEFilter:function(){var e=this.element.find(".k-hue-slider .k-slider-track")[0],t=e.currentStyle.backgroundImage;t=t.replace(/^url\([\'\"]?|[\'\"]?\)$/g,""),e.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+t+"', sizingMethod='scale')"},_sliders:function(){function e(e){s._updateUI(s._getHSV(e.value,null,null,null))}function t(e){s._updateUI(s._getHSV(null,null,null,e.value/100))}var s=this,n=s.element;s._hueSlider=n.find(".k-hue-slider").kendoSlider({min:0,max:359,tickPlacement:"none",showButtons:!1,slide:e,change:e}).data("kendoSlider"),s._opacitySlider=n.find(".k-transparency-slider").kendoSlider({min:0,max:100,tickPlacement:"none",showButtons:!1,slide:t,change:t}).data("kendoSlider")},_hsvArea:function(){function e(e,s){var n=this.offset,a=e-n.left,i=s-n.top,o=this.width,r=this.height;a=0>a?0:a>o?o:a,i=0>i?0:i>r?r:i,t._svChange(a/o,1-i/r)}var t=this,s=t.element,n=s.find(".k-hsv-rectangle"),a=n.find(".k-draghandle").attr("tabIndex",0).on(y,c(t._keydown,t));t._hsvEvents=new u.UserEvents(n,{global:!0,press:function(t){this.offset=u.getOffset(n),this.width=n.width(),this.height=n.height(),a.focus(),e.call(this,t.x.location,t.y.location)},start:function(){n.addClass("k-dragging"),a.focus()},move:function(t){t.preventDefault(),e.call(this,t.x.location,t.y.location)},end:function(){n.removeClass("k-dragging")}}),t._hsvRect=n,t._hsvHandle=a},_onEnable:function(e){this._hueSlider.enable(e),this._opacitySlider&&this._opacitySlider.enable(e),this.wrapper.find("input").attr("disabled",!e);var t=this._hsvRect.find(".k-draghandle");e?t.attr("tabIndex",0):t.removeAttr("tabIndex")},_keydown:function(e){function t(t,s){var a=n._getHSV();a[t]+=s*(e.shiftKey?.01:.05),a[t]<0&&(a[t]=0),a[t]>1&&(a[t]=1),n._updateUI(a),l(e)}function s(t){var s=n._getHSV();s.h+=t*(e.shiftKey?1:5),s.h<0&&(s.h=0),s.h>359&&(s.h=359),n._updateUI(s),l(e)}var n=this;switch(e.keyCode){case h.LEFT:e.ctrlKey?s(-1):t("s",-1);break;case h.RIGHT:e.ctrlKey?s(1):t("s",1);break;case h.UP:t(e.ctrlKey&&n._opacitySlider?"a":"v",1);break;case h.DOWN:t(e.ctrlKey&&n._opacitySlider?"a":"v",-1);break;case h.ENTER:n._select(n._getHSV());break;case h.F2:n.wrapper.find("input.k-color-value").focus().select();break;case h.ESC:n._cancel()}},focus:function(){this._hsvHandle.focus()},_getHSV:function(e,t,s,n){var a=this._hsvRect,i=a.width(),o=a.height(),r=this._hsvHandle.position();return null==e&&(e=this._hueSlider.value()),null==t&&(t=r.left/i),null==s&&(s=1-r.top/o),null==n&&(n=this._opacitySlider?this._opacitySlider.value()/100:1),new T(e,t,s,n)},_svChange:function(e,t){var s=this._getHSV(null,e,t,null);this._updateUI(s)},_updateUI:function(e,t){var s=this,n=s._hsvRect;e&&(this._colorAsText.removeClass("k-state-error"),s._selectedColor.css(f,e.toDisplay()),t||s._colorAsText.val(s._opacitySlider?e.toCssRgba():e.toCss()),s._triggerSelect(e),e=e.toHSV(),s._hsvHandle.css({left:e.s*n.width()+"px",top:(1-e.v)*n.height()+"px"}),s._hueElements.css(f,new T(e.h,1,1,1).toCss()),s._hueSlider.value(e.h),s._opacitySlider&&s._opacitySlider.value(100*e.a))},_selectOnHide:function(){return this.options.buttons?null:this._getHSV()},_template:u.template('# if (preview) { #<div class="k-selected-color"><div class="k-selected-color-display"><input class="k-color-value" #= !data.input ? \'style="visibility: hidden;"\' : "" #></div></div># } #<div class="k-hsv-rectangle"><div class="k-hsv-gradient"></div><div class="k-draghandle"></div></div><input class="k-hue-slider" /># if (opacity) { #<input class="k-transparency-slider" /># } ## if (buttons) { #<div unselectable="on" class="k-controls"><button class="k-button apply">#: messages.apply #</button> <button class="k-button cancel">#: messages.cancel #</button></div># } #')}),H=d.extend({toHSV:function(){return this},toRGB:function(){return this},toHex:function(){return this.toBytes().toHex()},toBytes:function(){return this},toCss:function(){return"#"+this.toHex()},toCssRgba:function(){var e=this.toBytes();return"rgba("+e.r+", "+e.g+", "+e.b+", "+i(this.a)+")"},toDisplay:function(){return w?this.toCss():this.toCssRgba()},equals:function(e){return e===this||null!==e&&this.toCssRgba()==o(e).toCssRgba()},diff:function(e){if(null==e)return 0/0;var t=this.toBytes();return e=e.toBytes(),Math.sqrt(Math.pow(.3*(t.r-e.r),2)+Math.pow(.59*(t.g-e.g),2)+Math.pow(.11*(t.b-e.b),2))},clone:function(){var e=this.toBytes();return e===this&&(e=new R(e.r,e.g,e.b,e.a)),e}}),E=H.extend({init:function(e,t,s,n){this.r=e,this.g=t,this.b=s,this.a=n},toHSV:function(){var e,t,s=this.r,n=this.g,a=this.b,i=Math.min(s,n,a),o=Math.max(s,n,a),r=o,l=o-i;return 0===l?new T(0,0,r,this.a):(0!==o?(t=l/o,e=s==o?(n-a)/l:n==o?2+(a-s)/l:4+(s-n)/l,e*=60,0>e&&(e+=360)):(t=0,e=-1),new T(e,t,r,this.a))},toBytes:function(){return new R(255*this.r,255*this.g,255*this.b,this.a)}}),R=E.extend({init:function(e,t,s,n){this.r=Math.round(e),this.g=Math.round(t),this.b=Math.round(s),this.a=n},toRGB:function(){return new E(this.r/255,this.g/255,this.b/255,this.a)},toHSV:function(){return this.toRGB().toHSV()},toHex:function(){return a(this.r,2)+a(this.g,2)+a(this.b,2)},toBytes:function(){return this}}),T=H.extend({init:function(e,t,s,n){this.h=e,this.s=t,this.v=s,this.a=n},toRGB:function(){var e,t,s,n,a,i,o,r,l=this.h,c=this.s,u=this.v;if(0===c)t=s=n=u;else switch(l/=60,e=Math.floor(l),a=l-e,i=u*(1-c),o=u*(1-c*a),r=u*(1-c*(1-a)),e){case 0:t=u,s=r,n=i;break;case 1:t=o,s=u,n=i;break;case 2:t=i,s=u,n=r;break;case 3:t=i,s=o,n=u;break;case 4:t=r,s=i,n=u;break;default:t=u,s=i,n=o}return new E(t,s,n,this.a)},toBytes:function(){return this.toRGB().toBytes()}}),U=C.extend({init:function(t,s){var n,a,i,r=this;C.fn.init.call(r,t,s),s=r.options,t=r.element,n=t.attr("value")||t.val(),n=n?o(n,!0):o(s.value,!0),r._value=s.value=n,a=r.wrapper=e(r._template(s)),t.hide().after(a),t.is("input")&&t.appendTo(a),r.enable(!t.attr("disabled")),i=t.attr("accesskey"),i&&(t.attr("accesskey",null),a.attr("accesskey",i)),r.bind("activate",function(e){e.isDefaultPrevented()||r.toggle()}),r._updateUI(n)},destroy:function(){this.wrapper.off(k).find("*").off(k),this._popup&&(this._selector.destroy(),this._popup.destroy()),this._selector=this._popup=this.wrapper=null,C.fn.destroy.call(this)},enable:function(e){var t=this,s=t.wrapper,n=s.children(".k-picker-wrap"),a=n.find(".k-select");0===arguments.length&&(e=!0),t.element.attr("disabled",!e),s.attr("disabled",!e),a.off(k).on("mousedown"+k,l),e?s.removeClass("k-state-disabled").attr("tabIndex",0).on("mouseenter"+k,function(){n.addClass("k-state-hover")}).on("mouseleave"+k,function(){n.removeClass("k-state-hover")}).on("focus"+k,function(){n.addClass("k-state-focused")}).on("blur"+k,function(){n.removeClass("k-state-focused")}).on(y,c(t._keydown,t)).on(b,".k-icon",c(t.toggle,t)).on(b,t.options.toolIcon?".k-tool-icon":".k-selected-color",function(){t.trigger("activate")}):s.addClass("k-state-disabled").removeAttr("tabIndex").add("*",s).off(k)},_template:u.template('<span class="k-widget k-colorpicker k-header"><span class="k-picker-wrap k-state-default"># if (toolIcon) { #<span class="k-tool-icon #= toolIcon #"><span class="k-selected-color"></span></span># } else { #<span class="k-selected-color"></span># } #<span class="k-select" unselectable="on"><span class="k-icon k-i-arrow-s" unselectable="on"></span></span></span></span>'),options:{name:"ColorPicker",palette:null,columns:10,toolIcon:null,value:null,messages:g,opacity:!1,buttons:!0,preview:!0},events:["activate","change","select","open","close"],open:function(){this._getPopup().open()},close:function(){this._getPopup().close()},toggle:function(){this._getPopup().toggle()},color:S.fn.color,value:S.fn.value,_select:S.fn._select,_triggerSelect:S.fn._triggerSelect,_isInputTypeColor:function(){var e=this.element[0];return/^input$/i.test(e.tagName)&&/^color$/i.test(e.type)},_updateUI:function(e){e&&(this._isInputTypeColor()||1==e.a?this.element.val(e.toCss()):this.element.val(e.toCssRgba())),this._triggerSelect(e),this.wrapper.find(".k-selected-color").css(f,e?e.toDisplay():"transparent")},_keydown:function(e){var t=e.keyCode;this._getPopup().visible()?(t==h.ESC?this._selector._cancel():this._selector._keydown(e),l(e)):(t==h.ENTER||t==h.DOWN)&&(this.open(),l(e))},_getPopup:function(){var t,n,a,i=this,r=i._popup;return r||(t=this.options,n=t.palette?I:x,t._standalone=!1,delete t.select,delete t.change,delete t.cancel,a=this._selector=new n(e("<div />").appendTo(document.body),t),i._popup=r=a.wrapper.kendoPopup({anchor:i.wrapper}).data("kendoPopup"),a.bind({select:function(e){i._updateUI(o(e.value))},change:function(){i._select(a.color()),i.close()},cancel:function(){i.close()}}),r.bind({close:function(e){if(i.trigger("close"))return e.preventDefault(),s;i.wrapper.children(".k-picker-wrap").removeClass("k-state-focused");var t=a._selectOnHide();t?i._select(t):(i.wrapper.focus(),i._updateUI(i.color()))},open:function(e){i.trigger("open")?e.preventDefault():i.wrapper.children(".k-picker-wrap").addClass("k-state-focused")},activate:function(){a._select(i.color(),!0),a.focus(),i.wrapper.children(".k-picker-wrap").addClass("k-state-focused")}})),r}});p.plugin(I),p.plugin(x),p.plugin(U),u.parseColor=o,u.Color={fromBytes:function(e,t,s,n){return new R(e,t,s,null!=n?n:1)},fromRGB:function(e,t,s,n){return new E(e,t,s,null!=n?n:1)},fromHSV:function(e,t,s,n){return new T(e,t,s,null!=n?n:1)}}}(jQuery,parseInt);;!function(e,t){var n=window.kendo,a=n.ui,s=a.List,o=a.Select,i=n.support,r=i.placeholder,l=n._activeElement,c=n.keys,u=".kendoComboBox",d="click"+u,p="mousedown"+u,_="disabled",h="readonly",f="change",g="k-state-default",v="k-state-focused",m="k-state-disabled",x="aria-disabled",C="aria-readonly",y="k-state-selected",w="filter",b="accept",k="rebind",L="mouseenter"+u+" mouseleave"+u,S=null,T=e.proxy,B=o.extend({init:function(t,a){var s,i=this;i.ns=u,a=e.isArray(a)?{dataSource:a}:a,o.fn.init.call(i,t,a),i._focusHandler=function(){i.input.focus()},a=i.options,t=i.element.on("focus"+u,i._focusHandler),a.placeholder=a.placeholder||t.attr("placeholder"),i._reset(),i._wrapper(),i._input(),i._tabindex(i.input),i._popup(),i._dataSource(),i._ignoreCase(),i._enable(),i._cascade(),i._aria(),i._oldIndex=i.selectedIndex=-1,a.autoBind?i._filterSource():(s=a.text,!s&&i._isSelect&&(s=t.children(":selected").text()),s&&(i.input.val(s),i._prev=s)),s||i._placeholder(),n.notify(i)},options:{name:"ComboBox",enabled:!0,index:-1,text:null,value:null,autoBind:!0,delay:200,dataTextField:"",dataValueField:"",minLength:0,height:200,highlightFirst:!0,template:"",filter:"none",placeholder:"",suggest:!1,ignoreCase:!0,animation:{}},events:["open","close",f,"select","dataBinding","dataBound","cascade"],setOptions:function(e){o.fn.setOptions.call(this,e),this._template(),this._accessors(),this._aria()},current:function(e){var n=this,a=n._current;return e===t?a:(a&&a.removeClass(y),o.fn.current.call(n,e),t)},destroy:function(){var e=this;e.input.off(u),e.element.off(u),e._inputWrapper.off(u),o.fn.destroy.call(e)},_editable:function(e){var t=this,n=e.disable,a=e.readonly,s=t._inputWrapper.off(u),o=t.element.add(t.input.off(u)),i=t._arrow.parent().off(d+" "+p);a||n?(s.addClass(n?m:g).removeClass(n?g:m),o.attr(_,n).attr(h,a).attr(x,n).attr(C,a)):(s.addClass(g).removeClass(m).on(L,t._toggleHover),o.removeAttr(_).removeAttr(h).attr(x,!1).attr(C,!1),i.on(d,function(){t.toggle()}).on(p,function(e){e.preventDefault()}),t.input.on("keydown"+u,T(t._keydown,t)).on("focus"+u,function(){s.addClass(v),t._placeholder(!1)}).on("blur"+u,function(){s.removeClass(v),clearTimeout(t._typing),t.options.text!==t.input.val()&&t.text(t.text()),t._placeholder(),t._blur(),t.element.blur()}))},open:function(){var e=this,t=e.dataSource.options.serverFiltering;e.popup.visible()||(!e.ul[0].firstChild||e._state===b&&!t?(e._open=!0,e._state=k,e._filterSource()):(e.popup.open(),e._scroll(e._current)))},refresh:function(){var a,s,o,i,r=this,c=r.ul[0],u=r.options,d=r._state,p=r._data(),_=p.length;r.trigger("dataBinding"),c.innerHTML=n.render(r.template,p),r._height(_),r.popup.visible()&&r.popup._position(),r._isSelect&&(a=r.element[0].firstChild,d===k&&(r._state="",s=r.value()),i=r._option,r._option=t,r._options(p),i&&i[0].selected?r._custom(i.val()):r._bound||a||r._custom("")),_&&(u.highlightFirst&&r.current(e(c.firstChild)),u.suggest&&r.input.val()&&r._request!==t&&r.suggest(e(c.firstChild))),d===w||r._fetch||r._selectItem(),r._open&&(r._open=!1,o=!!_,r._typing&&r.input[0]!==l()&&(o=!1),r.toggle(o),r._typing=t),r._touchScroller&&r._touchScroller.reset(),r._makeUnselectable(),r._hideBusy(),r._bound=!0,r.trigger("dataBound")},search:function(e){e="string"==typeof e?e:this.text();var t=this,n=e.length,a=t.options,s=a.ignoreCase,o=a.filter,i=a.dataTextField;clearTimeout(t._typing),n>=a.minLength&&(t._state=w,"none"===o?t._filter(e):(t._open=!0,t._filterSource({value:s?e.toLowerCase():e,field:i,operator:o,ignoreCase:s})))},suggest:function(e){var n,a=this,o=a.input[0],i=a.text(),r=s.caret(o),l=a._last;return l==c.BACKSPACE||l==c.DELETE?(a._last=t,t):(e=e||"","string"!=typeof e&&(n=s.inArray(e[0],a.ul[0]),e=n>-1?a._text(a.dataSource.view()[n]):""),0>=r&&(r=i.toLowerCase().indexOf(e.toLowerCase())+1),e?(n=e.toLowerCase().indexOf(i.toLowerCase()),n>-1&&(i+=e.substring(n+i.length))):i=i.substring(0,r),i.length===r&&e||(o.value=i,s.selectText(o,r,i.length)),t)},text:function(e){e=null===e?"":e;var n,a=this,s=a._text,o=a.input[0],i=a.options.ignoreCase,r=e;return e===t?o.value:(n=a.dataItem(),n&&s(n)===e?(a._triggerCascade(),t):(i&&(r=r.toLowerCase()),a._select(function(e){return e=s(e),i&&(e=(e+"").toLowerCase()),e===r}),a.selectedIndex<0&&(a._custom(e),o.value=e),a._prev=o.value,a._triggerCascade(),t))},toggle:function(e){var t=this;t._toggle(e)},value:function(e){var n,a=this,s=a.options;return e===t?a._accessor():(null!==e&&(e=""+e),a._selectedValue=e,!a._open&&e&&a._fetchItems(e)||(n=a._index(e),n>-1?a.select(n):(a.current(S),a._custom(e),(s.value!==e||s.text!==a.input.val())&&(a.text(e),a._placeholder())),a._old=a._accessor(),a._oldIndex=a.selectedIndex),t)},_accept:function(e){var t=this;e?t._focus(e):(t.text(t.text()),t._change())},_custom:function(t){var n=this,a=n.element,s=n._option;n._state===w&&(n._state=b),n._isSelect?(s||(s=n._option=e("<option/>"),a.append(s)),s.text(t),s[0].selected=!0):a.val(t),n._selectedValue=t},_filter:function(e){var n=this,a=n.options,s=n.dataSource,o=a.ignoreCase,i=function(a){var s=n._text(a);return s!==t?(s+="",""!==s&&""===e?!1:(o&&(s=s.toLowerCase()),0===s.indexOf(e))):t};return o&&(e=e.toLowerCase()),n.ul[0].firstChild?(-1!==n._highlight(i)&&(a.suggest&&n._current&&n.suggest(n._current),n.open()),n._hideBusy(),t):(s.one(f,function(){s.data()[0]&&n.search(e)}).fetch(),t)},_highlight:function(n){var a,o=this;return n===t||null===n?-1:(n=o._get(n),a=s.inArray(n[0],o.ul[0]),-1==a&&(n=o.options.highlightFirst&&!o.text()?e(o.ul[0].firstChild):S),o.current(n),a)},_input:function(){var t,n=this,a=n.element.removeClass("k-input")[0],s=a.accessKey,o=n.wrapper,i="input.k-input",l=a.name||"";l&&(l='name="'+l+'_input" '),t=o.find(i),t[0]||(o.append('<span tabindex="-1" unselectable="on" class="k-dropdown-wrap k-state-default"><input '+l+'class="k-input" type="text" autocomplete="off"/><span tabindex="-1" unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(n.element),t=o.find(i)),t[0].style.cssText=a.style.cssText,a.maxLength>-1&&(t[0].maxLength=a.maxLength),t.addClass(a.className).val(a.value).css({width:"100%",height:a.style.height}).attr({role:"combobox","aria-expanded":!1}).show(),r&&t.attr("placeholder",n.options.placeholder),s&&(a.accessKey="",t[0].accessKey=s),n._focused=n.input=t,n._inputWrapper=e(o[0].firstChild),n._arrow=o.find(".k-icon").attr({role:"button",tabIndex:-1}),a.id&&n._arrow.attr("aria-controls",n.ul[0].id)},_keydown:function(e){var t=this,n=e.keyCode;t._last=n,clearTimeout(t._typing),n==c.TAB||t._move(e)||t._search()},_placeholder:function(e){if(!r){var n,a=this,o=a.input,i=a.options.placeholder;if(i){if(n=a.value(),e===t&&(e=!n),o.toggleClass("k-readonly",e),!e){if(n)return;i=""}o.val(i),i||o[0]!==document.activeElement||s.selectText(o[0],0,0)}}},_search:function(){var e=this;e._typing=setTimeout(function(){var t=e.text();e._prev!==t&&(e._prev=t,e.search(t))},e.options.delay)},_select:function(e){var n,a,s=this,o=s._data(),i=s._highlight(e);s.selectedIndex=i,-1!==i&&(s._state===w&&(s._state=b),s._current.addClass(y),o=o[i],n=s._text(o),a=s._value(o),s._prev=s.input[0].value=n,s._accessor(a!==t?a:n,i),s._selectedValue=s._accessor(),s._placeholder(),s._optionID&&s._current.attr("aria-selected",!0))},_wrapper:function(){var e=this,t=e.element,n=t.parent();n.is("span.k-widget")||(n=t.hide().wrap("<span />").parent(),n[0].style.cssText=t[0].style.cssText),e.wrapper=n.addClass("k-widget k-combobox k-header").addClass(t[0].className).css("display","")},_clearSelection:function(e,t){var n=this,a=e._selectedValue||e.value(),s=a&&-1===e.selectedIndex;(t||!a||s)&&n.value("")}});a.plugin(B)}(window.kendo.jQuery);;!function(e,t){function a(t){var a=t.parseFormats,n=t.format;H.normalize(t),a=e.isArray(a)?a:[a],-1===e.inArray(n,a)&&a.splice(0,0,t.format),t.parseFormats=a}function n(e){e.preventDefault()}var o,r=window.kendo,i=r.ui,l=i.Widget,s=r.parseDate,d=r.keys,u=r.template,p=r._activeElement,c="<div />",f="<span />",m=".kendoDatePicker",_="click"+m,v="open",h="close",k="change",w="dateView",g="disabled",y="readonly",b="k-state-default",x="k-state-focused",C="k-state-selected",V="k-state-disabled",D="k-state-hover",T="keydown"+m,A="mouseenter"+m+" mouseleave"+m,I="mousedown"+m,W="id",R="min",E="max",N="month",F="aria-disabled",O="aria-expanded",P="aria-hidden",S="aria-readonly",H=r.calendar,B=H.isInRange,z=H.restrictValue,K=H.isEqualDatePart,U=e.extend,j=e.proxy,q=Date,Q=function(t){var a,n=this,l=document.body,s=o.sharedCalendar,d=e(c).attr(P,"true").addClass("k-calendar-container").appendTo(l);s||(s=o.sharedCalendar=new i.Calendar(e(c).attr(W,r.guid()).hide().appendTo(l),{focusOnNav:!1}),H.makeUnselectable(s.element)),n.calendar=s,n.options=t=t||{},a=t.id,a&&(a+="_dateview",d.attr(W,a),n._dateViewID=a),n.popup=new i.Popup(d,U(t.popup,t,{name:"Popup",isRtl:r.support.isRtl(t.anchor)})),n.div=d,n._templates(),n.value(t.value)};Q.prototype={_calendar:function(){var e=this,t=e.popup,a=e.options,o=e.calendar,r=o.element;r.data(w)!==e&&(r.appendTo(t.element).data(w,e).off(_+" "+T).on(_,"td:has(.k-link)",j(e._click,e)).on(I,n).show(),o.unbind(k).bind(k,a),o.month=e.month,o.options.dates=a.dates,o.options.depth=a.depth,o.options.culture=a.culture,o._footer(e.footer),o.min(a.min),o.max(a.max),o._value=null,o.navigate(e._value||e._current,a.start),e.value(e._value))},destroy:function(){var a,n=this,r=n.calendar,i=r.element,l=i.data(w);(l===t||l===n)&&(a=e(".k-calendar-container"),a.length>1?i.hide().appendTo(document.body):(i.off(m),r.destroy(),r.element.remove(),o.sharedCalendar=null)),n.popup.destroy()},open:function(){var e=this;e._calendar(),e.popup.open()},close:function(){this.popup.close()},min:function(e){this._option(R,e)},max:function(e){this._option(E,e)},toggle:function(){var e=this;e[e.popup.visible()?h:v]()},move:function(e){var a=this,n=e.keyCode,o=a.calendar,r=e.ctrlKey&&n==d.DOWN||n==d.ENTER;if(n==d.ESC)return a.close(),t;if(e.altKey)return n==d.DOWN?(a.open(),e.preventDefault()):n==d.UP&&(a.close(),e.preventDefault()),t;if(a.popup.visible())return r&&o._cell.hasClass(C)?(a.close(),e.preventDefault(),t):(a._current=o._move(e),t)},value:function(e){var t=this,a=t.calendar,n=t.options;t._value=e,t._current=new q(+z(e,n.min,n.max)),a.element.data(w)===t&&a.value(e)},_click:function(e){-1!==e.currentTarget.className.indexOf(C)&&this.close()},_option:function(e,t){var a=this,n=a.options,o=a.calendar;n[e]=t,o.element.data(w)===a&&o[e](t)},_templates:function(){var e=this,t=e.options,a=t.footer,n=t.month||{},o=n.content,i=n.empty;e.month={content:u('<td#=data.cssClass#><a tabindex="-1" class="k-link" href="\\#" '+r.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(o||"#=data.value#")+"</a></td>",{useWithBlock:!!o}),empty:u("<td>"+(i||"&nbsp;")+"</td>",{useWithBlock:!!i})},a!==!1&&(e.footer=u(a||'#= kendo.toString(data,"D","'+t.culture+'") #',{useWithBlock:!1}))}},Q.normalize=a,r.DateView=Q,o=l.extend({init:function(e,t){var n,o,i=this;l.fn.init.call(i,e,t),e=i.element,t=i.options,a(t),i._wrapper(),i.dateView=new Q(U({},t,{id:e.attr(W),anchor:i.wrapper,change:function(){i._change(this.value()),i.close()},close:function(t){i.trigger(h)?t.preventDefault():(e.attr(O,!1),o.attr(P,!0))},open:function(t){var a,n=i.options;i.trigger(v)?t.preventDefault():(i.element.val()!==i._oldText&&(a=s(e.val(),n.parseFormats,n.culture),a?(i.dateView._current=a,i.dateView.calendar._focus(a)):i.dateView.value(a)),e.attr(O,!0),o.attr(P,!1))}})),o=i.dateView.div,i._icon(),e[0].type="text",e.addClass("k-input").attr({role:"textbox","aria-haspopup":!0,"aria-expanded":!1,"aria-owns":i.dateView._dateViewID}),i._reset(),i._template(),n=e.is("[disabled]"),n?i.enable(!1):i.readonly(e.is("[readonly]")),i._old=i._update(t.value||i.element.val()),i._oldText=e.val(),r.notify(i)},events:[v,h,k],options:{name:"DatePicker",value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:N,depth:N,animation:{},month:{},dates:[],ARIATemplate:'Current focused date is #=kendo.toString(data.current, "D")#'},setOptions:function(e){var t=this,n=t.dateView,o=n.options;l.fn.setOptions.call(t,e),a(t.options),n.options=U(o,t.options,{change:o.change,close:o.close,open:o.open})},_editable:function(e){var t=this,a=t._dateIcon.off(m),o=t.element.off(m),r=t._inputWrapper.off(m),i=e.readonly,l=e.disable;i||l?(r.addClass(l?V:b).removeClass(l?b:V),o.attr(g,l).attr(y,i).attr(F,l).attr(S,i)):(r.addClass(b).removeClass(V).on(A,t._toggleHover),o.removeAttr(g).removeAttr(y).attr(F,!1).attr(S,!1).on("keydown"+m,j(t._keydown,t)).on("blur"+m,j(t._blur,t)).on("focus"+m,function(){t._inputWrapper.addClass(x)}),a.on(_,j(t._click,t)).on(I,n))},readonly:function(e){this._editable({readonly:e===t?!0:e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===t?!0:e)})},destroy:function(){var e=this;l.fn.destroy.call(e),e.dateView.destroy(),e.element.off(m),e._dateIcon.off(m),e._inputWrapper.off(m),e._form&&e._form.off("reset",e._resetHandler)},open:function(){this.dateView.open()},close:function(){this.dateView.close()},min:function(e){return this._option(R,e)},max:function(e){return this._option(E,e)},value:function(e){var a=this;return e===t?a._value:(a._old=a._update(e),null===a._old&&a.element.val(""),a._oldText=a.element.val(),t)},_toggleHover:function(t){e(t.currentTarget).toggleClass(D,"mouseenter"===t.type)},_blur:function(){var e=this,t=e.element.val();e.close(),t!==e._oldText&&e._change(t),e._inputWrapper.removeClass(x)},_click:function(){var e=this,t=e.element;e.dateView.toggle(),r.support.touch||t[0]===p()||t.focus()},_change:function(e){var t=this;e=t._update(e),+t._old!=+e&&(t._old=e,t._oldText=t.element.val(),t.trigger(k),t.element.trigger(k))},_keydown:function(e){var t=this,a=t.dateView,n=t.element.val();a.popup.visible()||e.keyCode!=d.ENTER||n===t._oldText?(a.move(e),t._updateARIA(a._current)):t._change(n)},_icon:function(){var t,a=this,n=a.element;t=n.next("span.k-select"),t[0]||(t=e('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span></span>').insertAfter(n)),a._dateIcon=t.attr({role:"button","aria-controls":a.dateView._dateViewID})},_option:function(e,a){var n=this,o=n.options;return a===t?o[e]:(a=s(a,o.parseFormats,o.culture),a&&(o[e]=new q(+a),n.dateView[e](a)),t)},_update:function(e){var t,a=this,n=a.options,o=n.min,i=n.max,l=s(e,n.parseFormats,n.culture);return+l===+a._value?(t=r.toString(l,n.format,n.culture),t!==e&&a.element.val(null===l?e:t),l):(null!==l&&K(l,o)?l=z(l,o,i):B(l,o,i)||(l=null),a._value=l,a.dateView.value(l),a.element.val(l?r.toString(l,n.format,n.culture):e),a._updateARIA(l),l)},_wrapper:function(){var t,a=this,n=a.element;t=n.parents(".k-datepicker"),t[0]||(t=n.wrap(f).parent().addClass("k-picker-wrap k-state-default"),t=t.wrap(f).parent()),t[0].style.cssText=n[0].style.cssText,n.css({width:"100%",height:n[0].style.height}),a.wrapper=t.addClass("k-widget k-datepicker k-header").addClass(n[0].className),a._inputWrapper=e(t[0].firstChild)},_reset:function(){var t=this,a=t.element,n=a.attr("form"),o=n?e("#"+n):a.closest("form");o[0]&&(t._resetHandler=function(){t.value(a[0].defaultValue)},t._form=o.on("reset",t._resetHandler))},_template:function(){this._ariaTemplate=u(this.options.ARIATemplate)},_updateARIA:function(e){this.element.attr("aria-label",this._ariaTemplate({current:e}))}}),i.plugin(o)}(window.kendo.jQuery);;!function(e,t){function n(e,t,n){var i,o=e.getTimezoneOffset();e.setTime(e.getTime()+t),n||(i=e.getTimezoneOffset()-o,e.setTime(e.getTime()+i*M))}function i(){var e=new Q,t=new Q(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0),n=new Q(e.getFullYear(),e.getMonth(),e.getDate(),12,0,0);return-1*(t.getTimezoneOffset()-n.getTimezoneOffset())}function o(e){return 60*e.getHours()*M+e.getMinutes()*M+1e3*e.getSeconds()+e.getMilliseconds()}function a(e,t,n){var i,a=o(t),r=o(n);return e&&a!=r?(i=o(e),a>i&&(i+=A),a>r&&(r+=A),i>=a&&r>=i):!0}function r(e){var t=e.parseFormats;e.format=f(e.format||c.getCulture(e.culture).calendars.standard.patterns.t),t=Y(t)?t:[t],t.splice(0,0,e.format),e.parseFormats=t}function s(e){e.preventDefault()}var l,u,c=window.kendo,p=c.keys,d=c._activeElement,f=c._extractFormat,m=c.support,h=m.browser,v=c.ui,_=v.Widget,g="open",w="close",k="change",y=".kendoTimePicker",b="click"+y,x="k-state-default",T="disabled",C="readonly",D="li",V="<span/>",F="k-state-focused",W="k-state-hover",S="mouseenter"+y+" mouseleave"+y,H="mousedown"+y,M=6e4,A=864e5,I="k-state-selected",O="k-state-disabled",B="aria-selected",E="aria-expanded",L="aria-hidden",N="aria-disabled",R="aria-readonly",z="aria-activedescendant",P="id",Y=e.isArray,j=e.extend,K=e.proxy,Q=Date,U=new Q;U=new Q(U.getFullYear(),U.getMonth(),U.getDate(),0,0,0),l=function(t){var n=this,i=t.id;n.options=t,n.ul=e('<ul tabindex="-1" role="listbox" aria-hidden="true" unselectable="on" class="k-list k-reset"/>').css({overflow:m.kineticScrollNeeded?"":"auto"}).on(b,D,K(n._click,n)).on("mouseenter"+y,D,function(){e(this).addClass(W)}).on("mouseleave"+y,D,function(){e(this).removeClass(W)}),n.list=e("<div class='k-list-container'/>").append(n.ul).on(H,s),i&&(n._timeViewID=i+"_timeview",n._optionID=i+"_option_selected",n.ul.attr(P,n._timeViewID)),n._popup(),n.template=c.template('<li tabindex="-1" role="option" class="k-item" unselectable="on">#=data#</li>',{useWithBlock:!1})},l.prototype={current:function(n){var i=this,o=i.options.active;return n===t?i._current:(i._current&&i._current.removeClass(I).removeAttr(B).removeAttr(P),n&&(n=e(n).addClass(I).attr(P,i._optionID).attr(B,!0),i.scroll(n[0])),i._current=n,o&&o(n),t)},close:function(){this.popup.close()},destroy:function(){var e=this;e.ul.off(y),e.list.off(y),e.popup.destroy()},open:function(){var e=this;e.ul[0].firstChild||e.bind(),e.popup.open(),e._current&&e.scroll(e._current[0])},dataBind:function(e){for(var t,n=this,i=n.options,o=i.format,r=c.toString,s=n.template,l=e.length,u=0,p="";l>u;u++)t=e[u],a(t,i.min,i.max)&&(p+=s(r(t,o,i.culture)));n._html(p,l)},refresh:function(){var e,t,a,r=this,s=r.options,l=s.format,u=i(),p=0>u,d=s.min,f=s.max,m=o(d),h=o(f),v=s.interval*M,_=c.toString,g=r.template,w=new Q(+d),k=w.getDate(),y=0,b="";for(a=p?(A+u*M)/v:A/v,m!=h&&(m>h&&(h+=A),a=(h-m)/v+1),t=parseInt(a,10);a>y;y++)y&&n(w,v,p),h&&t==y&&(e=o(w),k<w.getDate()&&(e+=A),e>h&&(w=new Q(+f))),b+=g(_(w,l,s.culture));r._html(b,a)},bind:function(){var e=this,t=e.options.dates;t&&t[0]?e.dataBind(t):e.refresh()},_html:function(e,t){var n=this;n.ul[0].innerHTML=e,n._height(t),n.current(null),n.select(n._value)},scroll:function(e){if(e){var t=this.ul[0],n=e.offsetTop,i=e.offsetHeight,o=t.scrollTop,a=t.clientHeight,r=n+i;t.scrollTop=o>n?n:r>o+a?r-a:o}},select:function(t){var n=this,i=n.options,o=n._current;t instanceof Date&&(t=c.toString(t,i.format,i.culture)),"string"==typeof t&&(o&&o.text()===t?t=o:(t=e.grep(n.ul[0].childNodes,function(e){return(e.textContent||e.innerText)==t}),t=t[0]?t:null)),n.current(t)},toggle:function(){var e=this;e.popup.visible()?e.close():e.open()},value:function(e){var t=this;t._value=e,t.ul[0].firstChild&&t.select(e)},_click:function(t){var n=this,i=e(t.currentTarget);t.isDefaultPrevented()||(n.select(i),n.options.change(i.text(),!0),n.close())},_height:function(e){if(e){var t=this,n=t.list,i=n.parent(".k-animation-container"),o=t.options.height;n.add(i).show().height(t.ul[0].scrollHeight>o?o:"auto").hide()}},_parse:function(e){var t=this,n=t.options,i=t._value||U;return e instanceof Q?e:(e=c.parseDate(e,n.parseFormats,n.culture),e&&(e=new Q(i.getFullYear(),i.getMonth(),i.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())),e)},_adjustListWidth:function(){var e,t,n=this.list,i=n[0].style.width,o=this.options.anchor;(n.data("width")||!i)&&(e=window.getComputedStyle?window.getComputedStyle(o[0],null):0,t=e?parseFloat(e.width):o.outerWidth(),e&&(h.mozilla||h.msie)&&(t+=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth)),i=t-(n.outerWidth()-n.width()),n.css({fontFamily:o.css("font-family"),width:i}).data("width",i))},_popup:function(){var e=this,t=e.list,n=e.options,i=n.anchor;e.popup=new v.Popup(t,j(n.popup,{anchor:i,open:n.open,close:n.close,animation:n.animation,isRtl:m.isRtl(n.anchor)})),c.touchScroller(e.popup.element)},move:function(e){var n=this,i=e.keyCode,o=n.ul[0],a=n._current,r=i===p.DOWN;if(i===p.UP||r){if(e.altKey)return n.toggle(r),t;a=r?a?a[0].nextSibling:o.firstChild:a?a[0].previousSibling:o.lastChild,a&&n.select(a),n.options.change(n._current.text()),e.preventDefault()}else(i===p.ENTER||i===p.TAB||i===p.ESC)&&(e.preventDefault(),a&&n.options.change(a.text(),!0),n.close())}},l.getMilliseconds=o,c.TimeView=l,u=_.extend({init:function(e,t){var n,i,o,a=this;_.fn.init.call(a,e,t),e=a.element,t=a.options,r(t),a._wrapper(),a.timeView=i=new l(j({},t,{id:e.attr(P),anchor:a.wrapper,format:t.format,change:function(t,n){n?a._change(t):e.val(t)},open:function(t){a.timeView._adjustListWidth(),a.trigger(g)?t.preventDefault():(e.attr(E,!0),n.attr(L,!1))},close:function(t){a.trigger(w)?t.preventDefault():(e.attr(E,!1),n.attr(L,!0))},active:function(t){e.removeAttr(z),t&&e.attr(z,i._optionID)}})),n=i.ul,a._icon(),a._reset(),e[0].type="text",e.addClass("k-input").attr({role:"textbox","aria-haspopup":!0,"aria-expanded":!1,"aria-owns":i._timeViewID}),o=e.is("[disabled]"),o?a.enable(!1):a.readonly(e.is("[readonly]")),a._old=a._update(t.value||a.element.val()),a._oldText=e.val(),c.notify(a)},options:{name:"TimePicker",min:U,max:U,format:"",dates:[],parseFormats:[],value:null,interval:30,height:200,animation:{}},events:[g,w,k],setOptions:function(e){var t=this,n=t.timeView,i=n.options;_.fn.setOptions.call(t,e),r(t.options),n.options=j(i,t.options,{active:i.active,change:i.change,close:i.close,open:i.open}),n.ul[0].innerHTML=""},dataBind:function(e){Y(e)&&this.timeView.dataBind(e)},_editable:function(e){var t=this,n=e.disable,i=e.readonly,o=t._arrow.off(y),a=t.element.off(y),r=t._inputWrapper.off(y);i||n?(r.addClass(n?O:x).removeClass(n?x:O),a.attr(T,n).attr(C,i).attr(N,n).attr(R,i)):(r.addClass(x).removeClass(O).on(S,t._toggleHover),a.removeAttr(T).removeAttr(C).attr(N,!1).attr(R,!1).on("keydown"+y,K(t._keydown,t)).on("blur"+y,K(t._blur,t)).on("focus"+y,function(){t._inputWrapper.addClass(F)}),o.on(b,K(t._click,t)).on(H,s))},readonly:function(e){this._editable({readonly:e===t?!0:e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===t?!0:e)})},destroy:function(){var e=this;_.fn.destroy.call(e),e.timeView.destroy(),e.element.off(y),e._arrow.off(y),e._inputWrapper.off(y),e._form&&e._form.off("reset",e._resetHandler)},close:function(){this.timeView.close()},open:function(){this.timeView.open()},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},value:function(e){var n=this;return e===t?n._value:(n._old=n._update(e),null===n._old&&n.element.val(""),n._oldText=n.element.val(),t)},_blur:function(){var e=this,t=e.element.val();e.close(),t!==e._oldText&&e._change(t),e._inputWrapper.removeClass(F)},_click:function(){var e=this,t=e.element;e.timeView.toggle(),m.touch||t[0]===d()||t.focus()},_change:function(e){var t=this;e=t._update(e),+t._old!=+e&&(t._old=e,t._oldText=t.element.val(),t.trigger(k),t.element.trigger(k))},_icon:function(){var t,n=this,i=n.element;t=i.next("span.k-select"),t[0]||(t=e('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(i)),n._arrow=t.attr({role:"button","aria-controls":n.timeView._timeViewID})},_keydown:function(e){var t=this,n=e.keyCode,i=t.timeView,o=t.element.val();i.popup.visible()||e.altKey?i.move(e):n===p.ENTER&&o!==t._oldText&&t._change(o)},_option:function(e,n){var i=this,o=i.options;return n===t?o[e]:(n=i.timeView._parse(n),n&&(n=new Q(+n),o[e]=n,i.timeView.options[e]=n,i.timeView.bind()),t)},_toggleHover:function(t){e(t.currentTarget).toggleClass(W,"mouseenter"===t.type)},_update:function(e){var t=this,n=t.options,i=t.timeView,o=i._parse(e);return a(o,n.min,n.max)||(o=null),t._value=o,t.element.val(o?c.toString(o,n.format,n.culture):e),i.value(o),o},_wrapper:function(){var t,n=this,i=n.element;t=i.parents(".k-timepicker"),t[0]||(t=i.wrap(V).parent().addClass("k-picker-wrap k-state-default"),t=t.wrap(V).parent()),t[0].style.cssText=i[0].style.cssText,n.wrapper=t.addClass("k-widget k-timepicker k-header").addClass(i[0].className),i.css({width:"100%",height:i[0].style.height}),n._inputWrapper=e(t[0].firstChild)},_reset:function(){var t=this,n=t.element,i=n.attr("form"),o=i?e("#"+i):n.closest("form");o[0]&&(t._resetHandler=function(){t.value(n[0].defaultValue)},t._form=o.on("reset",t._resetHandler))}}),v.plugin(u)}(window.kendo.jQuery);;!function(e,t){function a(e){e.preventDefault()}function n(t){var a,n=i.getCulture(t.culture).calendars.standard.patterns;t.format=s(t.format||n.g),t.timeFormat=a=s(t.timeFormat||n.t),i.DateView.normalize(t),-1===e.inArray(a,t.parseFormats)&&t.parseFormats.splice(1,0,a)}var i=window.kendo,o=i.TimeView,r=i.parseDate,l=i._activeElement,s=i._extractFormat,d=i.calendar,u=d.isInRange,c=d.restrictValue,m=d.isEqualDatePart,p=o.getMilliseconds,f=i.ui,_=f.Widget,v="open",h="close",w="change",g=".kendoDateTimePicker",x="click"+g,k="disabled",V="readonly",y="k-state-default",b="k-state-focused",D="k-state-hover",A="k-state-disabled",I="mouseenter"+g+" mouseleave"+g,T="mousedown"+g,C="month",F="<span/>",R="aria-activedescendant",W="aria-expanded",H="aria-hidden",S="aria-owns",E="aria-disabled",M="aria-readonly",q=Date,B=new q(1900,0,1),N=new q(2099,11,31),O={view:"date"},P={view:"time"},j=e.extend,L=_.extend({init:function(e,t){var a,o=this;_.fn.init.call(o,e,t),e=o.element,t=o.options,n(t),o._wrapper(),o._views(),o._icons(),o._reset(),o._template(),e[0].type="text",e.addClass("k-input").attr({role:"textbox","aria-haspopup":!0,"aria-expanded":!1}),o._midnight=0===p(t.min)+p(t.max),a=e.is("[disabled]"),a?o.enable(!1):o.readonly(e.is("[readonly]")),o._old=o._update(t.value||o.element.val()),o._oldText=e.val(),i.notify(o)},options:{name:"DateTimePicker",value:null,format:"",timeFormat:"",culture:"",parseFormats:[],dates:[],min:new q(B),max:new q(N),interval:30,height:200,footer:"",start:C,depth:C,animation:{},month:{},ARIATemplate:'Current focused date is #=kendo.toString(data.current, "G")#'},events:[v,h,w],setOptions:function(e){var t,a,i,o=this,r=o.dateView.options,l=o.timeView.options;_.fn.setOptions.call(o,e),n(o.options),e=o.options,t=e.min,a=e.max,i=e.value||o._value||o.dateView._current,t&&!m(t,i)&&(t=new q(B)),a&&!m(a,i)&&(a=new q(N)),j(r,e,{change:r.change,close:r.close,open:r.open}),j(l,e,{format:e.timeFormat,active:l.active,change:l.change,close:l.close,open:l.open,min:t,max:a}),o.timeView.ul[0].innerHTML=""},_editable:function(t){var n=this,o=n.element.off(g),r=n._dateIcon.off(g),s=n._timeIcon.off(g),d=n._inputWrapper.off(g),u=t.readonly,c=t.disable;u||c?(d.addClass(c?A:y).removeClass(c?y:A),o.attr(k,c).attr(V,u).attr(E,c).attr(M,u)):(d.addClass(y).removeClass(A).on(I,n._toggleHover),o.removeAttr(k).removeAttr(V).attr(E,!1).attr(M,!1).on("keydown"+g,e.proxy(n._keydown,n)).on("focus"+g,function(){n._inputWrapper.addClass(b)}).on("blur"+g,function(){n._inputWrapper.removeClass(b),o.val()!==n._oldText&&n._change(o.val()),n.close("date"),n.close("time")}),r.on(T,a).on(x,function(){n.toggle("date"),i.support.touch||o[0]===l()||o.focus()}),s.on(T,a).on(x,function(){n.toggle("time"),i.support.touch||o[0]===l()||o.focus()}))},readonly:function(e){this._editable({readonly:e===t?!0:e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===t?!0:e)})},destroy:function(){var e=this;_.fn.destroy.call(e),e.dateView.destroy(),e.timeView.destroy(),e.element.off(g),e._dateIcon.off(g),e._timeIcon.off(g),e._inputWrapper.off(g),e._form&&e._form.off("reset",e._resetHandler)},close:function(e){"time"!==e&&(e="date"),this[e+"View"].close()},open:function(e){"time"!==e&&(e="date"),this[e+"View"].open()},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},toggle:function(e){var t="timeView";"time"!==e?e="date":t="dateView",this[e+"View"].toggle(),this[t].close()},value:function(e){var a=this;return e===t?a._value:(a._old=a._update(e),null===a._old&&a.element.val(""),a._oldText=a.element.val(),t)},_change:function(e){var t=this;e=t._update(e),+t._old!=+e&&(t._old=e,t._oldText=t.element.val(),t.trigger(w),t.element.trigger(w))},_option:function(e,a){var n=this,i=n.options,o=n.timeView,l=o.options,s=n._value||n._old;if(a===t)return i[e];if(a=r(a,i.parseFormats,i.culture)){if(i[e]=new q(+a),n.dateView[e](a),n._midnight=0===p(i.min)+p(i.max),s&&m(a,s)){if(n._midnight&&"max"==e)return l[e]=N,o.dataBind([N]),t;l[e]=a}else l.max=N,l.min=B;o.bind()}},_toggleHover:function(t){e(t.currentTarget).toggleClass(D,"mouseenter"===t.type)},_update:function(t){var a,n,o,l,s,d=this,p=d.options,f=p.min,_=p.max,v=p.dates,h=d.timeView,w=r(t,p.parseFormats,p.culture);return+w===+d._value?(s=i.toString(w,p.format,p.culture),s!==t&&d.element.val(null===w?t:s),w):(null!==w&&m(w,f)?w=c(w,f,_):u(w,f,_)||(w=null),d._value=w,h.value(w),d.dateView.value(w),w&&(o=d._old,n=h.options,v[0]&&(v=e.grep(v,function(e){return m(w,e)}),v[0]&&(h.dataBind(v),l=!0)),l||(m(w,f)&&(n.min=f,n.max=N,a=!0),m(w,_)&&(d._midnight?(h.dataBind([N]),l=!0):(n.max=_,a||(n.min=B),a=!0))),!l&&(!o&&a||o&&!m(o,w))&&(a||(n.max=N,n.min=B),h.bind())),d.element.val(w?i.toString(w,p.format,p.culture):t),d._updateARIA(w),w)},_keydown:function(e){var t=this,a=t.dateView,n=t.timeView,o=t.element.val(),r=a.popup.visible();e.altKey&&e.keyCode===i.keys.DOWN?t.toggle(r?"time":"date"):r?(a.move(e),t._updateARIA(a._current)):n.popup.visible()?n.move(e):e.keyCode===i.keys.ENTER&&o!==t._oldText&&t._change(o)},_views:function(){var e,t,a,n,l,s=this,d=s.element,c=s.options,m=d.attr("id");s.dateView=e=new i.DateView(j({},c,{id:m,anchor:s.wrapper,change:function(){var t,a=e.calendar.value(),n=+a,i=+c.min,o=+c.max;(n===i||n===o)&&(t=new q(+s._value),t.setFullYear(a.getFullYear()),t.setMonth(a.getMonth()),t.setDate(a.getDate()),u(t,i,o)&&(a=t)),s._change(a),s.close("date")},close:function(e){s.trigger(h,O)?e.preventDefault():(d.attr(W,!1),a.attr(H,!0),t.popup.visible()||d.removeAttr(S))},open:function(t){s.trigger(v,O)?t.preventDefault():(s.element.val()!==s._oldText&&(l=r(d.val(),c.parseFormats,c.culture),l?(s.dateView._current=l,s.dateView.calendar._focus(l)):s.dateView.value(l)),a.attr(H,!1),d.attr(W,!0).attr(S,e._dateViewID))}})),a=e.div,s.timeView=t=new o({id:m,value:c.value,anchor:s.wrapper,animation:c.animation,format:c.timeFormat,culture:c.culture,height:c.height,interval:c.interval,min:new q(B),max:new q(N),parseFormats:c.parseFormats,change:function(a,n){a=t._parse(a),a<c.min?(a=new q(+c.min),t.options.min=a):a>c.max&&(a=new q(+c.max),t.options.max=a),n?(s._timeSelected=!0,s._change(a)):(d.val(i.toString(a,c.format,c.culture)),e.value(a),s._updateARIA(a))},close:function(t){s.trigger(h,P)?t.preventDefault():(n.attr(H,!0),d.attr(W,!1),e.popup.visible()||d.removeAttr(S))},open:function(e){t._adjustListWidth(),s.trigger(v,P)?e.preventDefault():(n.attr(H,!1),d.attr(W,!0).attr(S,t._timeViewID))},active:function(e){d.removeAttr(R),e&&d.attr(R,t._optionID)}}),n=t.ul},_icons:function(){var t,a=this,n=a.element;t=n.next("span.k-select"),t[0]||(t=e('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(n)),t=t.children(),a._dateIcon=t.eq(0).attr({role:"button","aria-controls":a.dateView._dateViewID}),a._timeIcon=t.eq(1).attr({role:"button","aria-controls":a.timeView._timeViewID})},_wrapper:function(){var t,a=this,n=a.element;t=n.parents(".k-datetimepicker"),t[0]||(t=n.wrap(F).parent().addClass("k-picker-wrap k-state-default"),t=t.wrap(F).parent()),t[0].style.cssText=n[0].style.cssText,n.css({width:"100%",height:n[0].style.height}),a.wrapper=t.addClass("k-widget k-datetimepicker k-header").addClass(n[0].className),a._inputWrapper=e(t[0].firstChild)},_reset:function(){var t=this,a=t.element,n=a.attr("form"),i=n?e("#"+n):a.closest("form");i[0]&&(t._resetHandler=function(){t.value(a[0].defaultValue)},t._form=i.on("reset",t._resetHandler))},_template:function(){this._ariaTemplate=i.template(this.options.ARIATemplate)},_updateARIA:function(e){this.element.attr("aria-label",this._ariaTemplate({current:e}))}});f.plugin(L)}(window.kendo.jQuery);;!function(e,t){function n(e,t,n){for(var a,o=0,s=t.length-1;s>o;++o)a=t[o],a in e||(e[a]={}),e=e[a];e[t[s]]=n}var a=window.kendo,o=a.ui,s=o.Select,i=a.support.mobileOS,r=".kendoDropDownList",l="disabled",d="readonly",p="change",c="k-state-focused",u="k-state-default",_="k-state-disabled",f="aria-disabled",h="aria-readonly",v="k-state-selected",g="mouseenter"+r+" mouseleave"+r,w="tabindex",x=e.proxy,b=s.extend({init:function(n,o){var i,l,d,p=this,c=o&&o.index;p.ns=r,o=e.isArray(o)?{dataSource:o}:o,s.fn.init.call(p,n,o),p._focusHandler=function(){p.wrapper.focus()},o=p.options,n=p.element.on("focus"+r,p._focusHandler),p._reset(),p._word="",p._wrapper(),p._tabindex(),p.wrapper.data(w,p.wrapper.attr(w)),p._aria(),p._span(),p._popup(),p._mobile(),p._dataSource(),p._ignoreCase(),p._enable(),p._oldIndex=p.selectedIndex=-1,p._cascade(),c!==t&&(o.index=c),o.autoBind?p.dataSource.fetch():-1===p.selectedIndex&&(d=o.text||"",d||(i=p._optionLabelText(o.optionLabel),l=i&&0===o.index,p._isSelect?d=l?i:n.children(":selected").text():!n[0].value&&l&&(d=i)),p.text(d)),a.notify(p)},options:{name:"DropDownList",enabled:!0,autoBind:!0,index:0,text:null,value:null,template:"",delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",ignoreCase:!0,animation:{}},events:["open","close",p,"select","dataBinding","dataBound","cascade"],setOptions:function(e){s.fn.setOptions.call(this,e),this._template(),this._accessors(),this._aria()},destroy:function(){var e=this;e.wrapper.off(r),e.element.off(r),e._inputWrapper.off(r),s.fn.destroy.call(e)},open:function(){var e=this;e.ul[0].firstChild?(e.popup.open(),e._scroll(e._current)):(e._open=!0,e._request||e.dataSource.fetch())},toggle:function(e){this._toggle(e)},refresh:function(){var e=this,t=e._data(),n=t.length,o=e.options.optionLabel;e.trigger("dataBinding"),e._current&&e.current(null),e.ul[0].innerHTML=a.render(e.template,t),e._height(n),e.popup.visible()&&e.popup._position(),e._isSelect&&(o&&n&&(o=e._optionLabelText(o),o='<option value="">'+o+"</option>"),e._options(t,o)),e._open&&(e._open=!1,e.toggle(!!n)),e._hideBusy(),e._makeUnselectable(),!e._fetch&&n&&e._selectItem(),e._bound=!0,e.trigger("dataBound")},search:function(e){if(e){var n=this,a=n.options.ignoreCase;a&&(e=e.toLowerCase()),n._select(function(o){var s=n._text(o);return s!==t?(s+="",a&&(s=s.toLowerCase()),0===s.indexOf(e)):t})}},text:function(e){var n=this.span;return e===t?n.text():(n.text(e),t)},value:function(e){var n,a,o=this;return e===t?o._accessor():(null!==e&&(e=""+e),o._selectedValue=e,a=e||o.options.optionLabel&&!o.element[0].disabled&&""===e,a&&o._fetchItems(e)||(n=o._index(e),o.select(n>-1?n:0)),t)},_editable:function(e){var t=this,n=t.element,o=e.disable,s=e.readonly,i=t.wrapper.off(r),p=t._inputWrapper.off(g),v=function(){p.addClass(c),t._blured=!1},b=function(){if(!t._blured){t._triggerCascade();var e=window.self!==window.top;a.support.mobileOS.ios&&e?t._change():t._blur(),p.removeClass(c),t._blured=!0,n.blur()}};s||o?(o?(i.removeAttr(w),p.addClass(_).removeClass(u)):(p.addClass(u).removeClass(_),i.on("focusin"+r,v).on("focusout"+r,b)),n.attr(l,o).attr(d,s),i.attr(f,o).attr(h,s)):(n.removeAttr(l).removeAttr(d),p.addClass(u).removeClass(_).on(g,t._toggleHover),i.attr(w,i.data(w)).attr(f,!1).attr(h,!1).on("click"+r,function(e){t._blured=!1,e.preventDefault(),t.toggle()}).on("keydown"+r,x(t._keydown,t)).on("keypress"+r,x(t._keypress,t)).on("focusin"+r,v).on("focusout"+r,b))},_accept:function(e){this._focus(e)},_optionLabelText:function(){var e=this.options,t=e.dataTextField,n=e.optionLabel;return n&&t&&"object"==typeof n?this._text(n):n},_data:function(){var e=this,t=e.options,o=t.optionLabel,s=t.dataTextField,i=t.dataValueField,r=e.dataSource.view(),l=r.length,d=o,p=0;if(o&&l){for("object"==typeof o?d=o:s&&(d={},s=s.split("."),i=i.split("."),n(d,i,""),n(d,s,o)),d=new a.data.ObservableArray([d]);l>p;p++)d.push(r[p]);r=d}return r},_keydown:function(e){var t=this,n=e.keyCode,o=a.keys,s=t.ul[0];n===o.LEFT?n=o.UP:n===o.RIGHT&&(n=o.DOWN),e.keyCode=n,t._move(e),n===o.HOME?(e.preventDefault(),t._select(s.firstChild)):n===o.END&&(e.preventDefault(),t._select(s.lastChild))},_selectNext:function(e,n){for(var a,o=this,s=n,i=o._data(),r=i.length,l=o.options.ignoreCase,d=function(n,a){return n+="",l&&(n=n.toLowerCase()),0===n.indexOf(e)?(o._select(a),o._triggerEvents(),!0):t};r>n;n++)if(a=o._text(i[n]),a&&d(a,n))return!0;if(s>0)for(n=0;s>=n;n++)if(a=o._text(i[n]),a&&d(a,n))return!0;return!1},_keypress:function(e){var t=this,n=String.fromCharCode(e.charCode||e.keyCode),a=t.selectedIndex,o=t._word;t.options.ignoreCase&&(n=n.toLowerCase())," "===n&&e.preventDefault(),t._last===n&&o.length<=1&&a>-1&&(o||(o=n),t._selectNext(o,a+1))||(t._word=o+n,t._last=n,t._search())},_popup:function(){s.fn._popup.call(this),this.popup.one("open",function(){this.wrapper=a.wrap(this.element).addClass("km-popup")})},_search:function(){var e=this,n=e.dataSource,a=e.selectedIndex,o=e._word;return clearTimeout(e._typing),e._typing=setTimeout(function(){e._word=""},e.options.delay),e.ul[0].firstChild?(e._selectNext(o,a),e._triggerEvents(),t):(n.one(p,function(){n.data()[0]&&e._selectNext(o,a)}).fetch(),t)},_select:function(e){var n,a,s,i=this,r=i._current,l=i._data();e=i._get(e),e&&e[0]&&!e.hasClass(v)&&(r&&r.removeClass(v),s=o.List.inArray(e[0],i.ul[0]),s>-1&&(l=l[s],a=i._text(l),n=i._value(l),i.selectedIndex=s,i.text(a),i._accessor(n!==t?n:a,s),i._selectedValue=i._accessor(),i.current(e.addClass(v)),i._optionID&&i._current.attr("aria-selected",!0)))},_triggerEvents:function(){this.popup.visible()||(this._triggerCascade(),this._change())},_mobile:function(){var e=this,t=e.popup,n=t.element.parents(".km-root").eq(0);n.length&&i&&(t.options.animation.open.effects=i.android||i.meego?"fadeIn":i.ios||i.wp?"slideIn:up":t.options.animation.open.effects)},_span:function(){var t,n=this,a=n.wrapper,o="span.k-input";t=a.find(o),t[0]||(a.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(n.element),t=a.find(o)),n.span=t,n._inputWrapper=e(a[0].firstChild),n._arrow=a.find(".k-icon").mousedown(function(e){e.preventDefault()})},_wrapper:function(){var e,t=this,n=t.element,a=n[0];e=n.parent(),e.is("span.k-widget")||(e=n.wrap("<span />").parent(),e[0].style.cssText=a.style.cssText),n.hide(),t._focused=t.wrapper=e.addClass("k-widget k-dropdown k-header").addClass(a.className).css("display","").attr({unselectable:"on",role:"listbox","aria-haspopup":!0,"aria-expanded":!1})},_clearSelection:function(){var e=this,n=e.options.optionLabel;return e.dataSource.view()[0]&&n?(e.select(0),t):(e.text(n),e.element.val(""),e.selectedIndex=-1,t)}});o.plugin(b)}(window.kendo.jQuery);;!function(e,t){var a=window.kendo,r="change",n="cancel",i="dataBound",l="dataBinding",o=a.ui.Widget,s=a.keys,d=">*",c="progress",u="error",m="k-state-focused",f="k-state-selected",p="k-edit-item",g="string",v="edit",h="remove",_="save",b="click",S=".kendoListView",E=e.proxy,w=a._activeElement,y=a.ui.progress,k=a.data.DataSource,T=o.extend({init:function(t,r){var n=this;r=e.isArray(r)?{dataSource:r}:r,o.fn.init.call(n,t,r),r=n.options,n.wrapper=t=n.element,t[0].id&&(n._itemId=t[0].id+"_lv_active"),n._element(),n._dataSource(),n.template=a.template(r.template||""),n.altTemplate=a.template(r.altTemplate||r.template),n.editTemplate=a.template(r.editTemplate||""),n._navigatable(),n._selectable(),n._pageable(),n._crudHandlers(),n.options.autoBind&&n.dataSource.fetch(),a.notify(n)},events:[r,n,l,i,v,h,_],options:{name:"ListView",autoBind:!0,selectable:!1,navigatable:!1,template:"",altTemplate:"",editTemplate:""},_item:function(e){return this.element.children()[e]()},items:function(){return this.element.children()},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.options.autoBind&&e.fetch()},_unbindDataSource:function(){var e=this;e.dataSource.unbind(r,e._refreshHandler).unbind(c,e._progressHandler).unbind(u,e._errorHandler)},_dataSource:function(){var e=this;e.dataSource&&e._refreshHandler?e._unbindDataSource():(e._refreshHandler=E(e.refresh,e),e._progressHandler=E(e._progress,e),e._errorHandler=E(e._error,e)),e.dataSource=k.create(e.options.dataSource).bind(r,e._refreshHandler).bind(c,e._progressHandler).bind(u,e._errorHandler)},_progress:function(){y(this.element,!0)},_error:function(){y(this.element,!1)},_element:function(){this.element.addClass("k-widget k-listview").attr("role","listbox")},refresh:function(e){var r,n,o,s,d,c=this,u=c.dataSource.view(),m="",f=c.template,p=c.altTemplate,g=w();if(e=e||{},"itemchange"===e.action)return c._hasBindingTarget()||c.editable||(r=e.items[0],o=c.items().filter("["+a.attr("uid")+"="+r.uid+"]"),o.length>0&&(s=o.index(),o.replaceWith(f(r)),o=c.items().eq(s),o.attr(a.attr("uid"),r.uid),c.trigger("itemChange",{item:o,data:r}))),t;if(!c.trigger(l,{action:e.action||"rebind",items:e.items,index:e.index})){for(c._destroyEditable(),s=0,d=u.length;d>s;s++)m+=s%2?p(u[s]):f(u[s]);for(c.element.html(m),n=c.items(),s=0,d=u.length;d>s;s++)n.eq(s).attr(a.attr("uid"),u[s].uid).attr("role","option").attr("aria-selected","false");c.element[0]===g&&c.options.navigatable&&c.current(n.eq(0)),c.trigger(i)}},_pageable:function(){var t,r,n=this,i=n.options.pageable;e.isPlainObject(i)&&(r=i.pagerId,t=e.extend({},i,{dataSource:n.dataSource,pagerId:null}),n.pager=new a.ui.Pager(e("#"+r),t))},_selectable:function(){var e,n,i=this,l=i.options.selectable,o=i.options.navigatable;l&&(e=typeof l===g&&l.toLowerCase().indexOf("multiple")>-1,e&&i.element.attr("aria-multiselectable",!0),i.selectable=new a.ui.Selectable(i.element,{aria:!0,multiple:e,filter:d,change:function(){i.trigger(r)}}),o&&i.element.on("keydown"+S,function(a){if(a.keyCode===s.SPACEBAR){if(n=i.current(),a.target==a.currentTarget&&a.preventDefault(),e)if(a.ctrlKey){if(n&&n.hasClass(f))return n.removeClass(f),t}else i.selectable.clear();else i.selectable.clear();i.selectable.value(n)}}))},current:function(e){var a=this,r=a.element,n=a._current,i=a._itemId;return e===t?n:(n&&n[0]&&(n[0].id===i&&n.removeAttr("id"),n.removeClass(m),r.removeAttr("aria-activedescendant")),e&&e[0]&&(i=e[0].id||i,a._scrollTo(e[0]),r.attr("aria-activedescendant",i),e.addClass(m).attr("id",i)),a._current=e,t)},_scrollTo:function(t){var a,r,n=this,i=!1,l="scroll";"auto"==n.wrapper.css("overflow")||n.wrapper.css("overflow")==l?a=n.wrapper[0]:(a=window,i=!0),r=function(r,n){var o=i?e(t).offset()[r.toLowerCase()]:t["offset"+r],s=t["client"+n],d=e(a)[l+r](),c=e(a)[n.toLowerCase()]();o+s>d+c?e(a)[l+r](o+s-c):d>o&&e(a)[l+r](o)},r("Top","Height"),r("Left","Width")},_navigatable:function(){var t=this,r=t.options.navigatable,n=t.element,i=function(a){t.current(e(a.currentTarget)),e(a.target).is(":button,a,:input,a>.k-icon,textarea")||n.focus()};r&&(t._tabindex(),n.on("focus"+S,function(){var e=t._current;e&&e.is(":visible")||(e=t._item("first")),t.current(e)}).on("focusout"+S,function(){t._current&&t._current.removeClass(m)}).on("keydown"+S,function(r){var i,l,o=r.keyCode,d=t.current(),c=e(r.target),u=!c.is(":button,textarea,a,a>.t-icon,input"),m=c.is(":text"),f=a.preventDefault,g=n.find("."+p),v=w();if(!(!u&&!m&&s.ESC!=o||m&&s.ESC!=o&&s.ENTER!=o))if(s.UP===o||s.LEFT===o)d&&(d=d.prev()),t.current(d&&d[0]?d:t._item("last")),f(r);else if(s.DOWN===o||s.RIGHT===o)d&&(d=d.next()),t.current(d&&d[0]?d:t._item("first")),f(r);else if(s.PAGEUP===o)t.current(null),t.dataSource.page(t.dataSource.page()-1),f(r);else if(s.PAGEDOWN===o)t.current(null),t.dataSource.page(t.dataSource.page()+1),f(r);else if(s.HOME===o)t.current(t._item("first")),f(r);else if(s.END===o)t.current(t._item("last")),f(r);else if(s.ENTER===o)0!==g.length&&(u||m)?(i=t.items().index(g),v&&v.blur(),t.save(),l=function(){t.element.trigger("focus"),t.current(t.items().eq(i))},t.one("dataBound",l)):""!==t.options.editTemplate&&t.edit(d);else if(s.ESC===o){if(g=n.find("."+p),0===g.length)return;i=t.items().index(g),t.cancel(),t.element.trigger("focus"),t.current(t.items().eq(i))}}),n.on("mousedown"+S+" touchstart"+S,d,E(i,t)))},clearSelection:function(){var e=this;e.selectable.clear(),e.trigger(r)},select:function(a){var r=this,n=r.selectable;return a=e(a),a.length?(n.options.multiple||(n.clear(),a=a.first()),n.value(a),t):n.value()},_destroyEditable:function(){var e=this;e.editable&&(e.editable.destroy(),delete e.editable)},_modelFromElement:function(e){var t=e.attr(a.attr("uid"));return this.dataSource.getByUid(t)},_closeEditable:function(e){var t,r,n=this,i=n.editable,l=n.template,o=!0;return i&&(e&&(o=i.end()),o&&(i.element.index()%2&&(l=n.altTemplate),t=n._modelFromElement(i.element),n._destroyEditable(),r=i.element.index(),i.element.replaceWith(l(t)),n.items().eq(r).attr(a.attr("uid"),t.uid))),o},edit:function(e){var t,r,n=this,i=n._modelFromElement(e),l=i.uid;n.cancel(),e=n.items().filter("["+a.attr("uid")+"="+l+"]"),r=e.index(),e.replaceWith(n.editTemplate(i)),t=n.items().eq(r).addClass(p).attr(a.attr("uid"),i.uid),n.editable=t.kendoEditable({model:i,clearContainer:!1,errorTemplate:!1}).data("kendoEditable"),n.trigger(v,{model:i,item:t})},save:function(){var e,t=this,a=t.editable;a&&(a=a.element,e=t._modelFromElement(a),!t.trigger(_,{model:e,item:a})&&t._closeEditable(!0)&&t.dataSource.sync())},remove:function(e){var t=this,a=t.dataSource,r=t._modelFromElement(e);t.trigger(h,{model:r,item:e})||(e.hide(),a.remove(r),a.sync())},add:function(){var e=this,t=e.dataSource,a=t.indexOf((t.view()||[])[0]);0>a&&(a=0),e.cancel(),t.insert(a,{}),e.edit(e.element.children().first())},cancel:function(){var e,t,a=this,r=a.dataSource;a.editable&&(e=a.editable.element,t=a._modelFromElement(e),a.trigger(n,{model:t,container:e})||(r.cancelChanges(t),a._closeEditable(!1)))},_crudHandlers:function(){var t=this,r=b+S;t.element.on(r,".k-edit-button",function(r){var n=e(this).closest("["+a.attr("uid")+"]");t.edit(n),r.preventDefault()}),t.element.on(r,".k-delete-button",function(r){var n=e(this).closest("["+a.attr("uid")+"]");t.remove(n),r.preventDefault()}),t.element.on(r,".k-update-button",function(e){t.save(),e.preventDefault()}),t.element.on(r,".k-cancel-button",function(e){t.cancel(),e.preventDefault()})},destroy:function(){var e=this;o.fn.destroy.call(e),e._unbindDataSource(),e._destroyEditable(),e.element.off(S),e.pager&&e.pager.destroy(),e.selectable&&e.selectable.destroy(),a.destroy(e.element)}});a.ui.plugin(T)}(window.kendo.jQuery);;!function(e,t){function a(t){return e.map(o(t),function(e){return e.name}).join(", ")}function o(e){var t=e[0];return t.files?n(t.files):[{name:i(t.value),extension:s(t.value),size:null}]}function n(t){return e.map(t,function(e){return r(e)})}function r(e){var t=e.name||e.fileName;return{name:k.htmlEncode(t),extension:s(t),size:e.size||e.fileSize,rawFile:e}}function s(e){var t=e.match(y);return t?t[0]:""}function i(e){var t=e.lastIndexOf("\\");return-1!=t?e.substr(t+1):e}function l(t,a,o){var n,r;a._supportsRemove()&&(n=t.data("fileNames"),r=e.map(n,function(e){return e.name}),a._submitRemove(r,o,function(e,o,r){a._removeFileEntry(t),a.trigger(C,{operation:"remove",files:n,response:e,XMLHttpRequest:r})},function(e){a.trigger(S,{operation:"remove",files:n,XMLHttpRequest:e}),w("Server response: "+e.responseText)}))}function p(t,a,o){var n=!1,r="";try{r=e.parseJSON(u(t)),n=!0}catch(s){o()}n&&a(r)}function u(e){return(t===e||""===e)&&(e="{}"),e}function d(e){e.stopPropagation(),e.preventDefault()}function c(e,t,a,o){var n,r;e.on("dragenter"+t,function(){a(),r=new Date,n||(n=setInterval(function(){var e=new Date-r;e>100&&(o(),clearInterval(n),n=null)},100))}).on("dragover"+t,function(){r=new Date})}function f(e){return e.is(".k-file-progress, .k-file-success, .k-file-error")}function m(t){return e(t.target).closest(".k-file")}function h(){var a={},o=e("meta[name=csrf-token]").attr("content"),n=e("meta[name=csrf-param]").attr("content");return e("input[name^='__RequestVerificationToken']").each(function(){a[this.name]=this.value}),n!==t&&o!==t&&(a[n]=o),a}var v,g,k=window.kendo,_=k.ui.Widget,w=k.logToConsole,y=/\.([^\.]+)$/,F=".kendoUpload",U="select",b="upload",C="success",S="error",x="complete",R="cancel",A="progress",E="remove",z=_.extend({init:function(t,a){var o,n,r,s=this;_.fn.init.call(s,t,a),s.name=t.name,s.multiple=s.options.multiple,s.localization=s.options.localization,o=s.element,s.wrapper=o.closest(".k-upload"),0===s.wrapper.length&&(s.wrapper=s._wrapInput(o)),s._activeInput(o),s.toggle(s.options.enabled),n=s._ns=F+"-"+k.guid(),o.closest("form").on("submit"+n,e.proxy(s._onParentFormSubmit,s)).on("reset"+n,e.proxy(s._onParentFormReset,s)),s.options.async.saveUrl?(s._module=s._supportsFormData()?new g(s):new v(s),s._async=!0,r=s.options.files,r.length>0&&s._renderInitialFiles(r)):s._module=new D(s),s._supportsDrop()&&s._setupDropZone(),s.wrapper.on("click",".k-upload-action",e.proxy(s._onFileAction,s)).on("click",".k-upload-selected",e.proxy(s._onUploadSelected,s))},events:[U,b,C,S,x,R,A,E],options:{name:"Upload",enabled:!0,multiple:!0,showFileList:!0,template:"",files:[],async:{removeVerb:"POST",autoUpload:!0},localization:{select:"Select files...",cancel:"Cancel",retry:"Retry",remove:"Remove",uploadSelectedFiles:"Upload files",dropFilesHere:"drop files here to upload",statusUploading:"uploading",statusUploaded:"uploaded",statusFailed:"failed",headerStatusUploading:"Uploading...",headerStatusUploaded:"Done"}},setOptions:function(e){var t=this,a=t.element;_.fn.setOptions.call(t,e),t.multiple=t.options.multiple,a.attr("multiple",t._supportsMultiple()?t.multiple:!1),t.toggle(t.options.enabled)},enable:function(e){e=t===e?!0:e,this.toggle(e)},disable:function(){this.toggle(!1)},toggle:function(e){e=t===e?e:!e,this.wrapper.toggleClass("k-state-disabled",e),this.element.prop("disabled",e)},destroy:function(){var t=this;e(document).add(e(".k-dropzone",t.wrapper)).add(t.wrapper.closest("form")).off(t._ns),e(t.element).off(F),_.fn.destroy.call(t)},_addInput:function(t){if(t[0].nodeType){var a=this,o=t.clone().val("");o.insertAfter(a.element).data("kendoUpload",a),e(a.element).hide().removeAttr("id").off(F),a._activeInput(o)}},_activeInput:function(t){var a=this,o=a.wrapper;a.element=t,t.attr("multiple",a._supportsMultiple()?a.multiple:!1).attr("autocomplete","off").on("click"+F,function(e){o.hasClass("k-state-disabled")&&e.preventDefault()}).on("focus"+F,function(){e(this).parent().addClass("k-state-focused")}).on("blur"+F,function(){e(this).parent().removeClass("k-state-focused")}).on("change"+F,e.proxy(a._onInputChange,a))},_onInputChange:function(t){var a=this,n=e(t.target),r=a.trigger(U,{files:o(n)});r?(a._addInput(n),n.remove()):a._module.onSelect(t)},_onDrop:function(t){var a,o=t.originalEvent.dataTransfer,r=this,s=o.files;d(t),s.length>0&&(a=r.trigger(U,{files:n(s)}),a||r._module.onSelect({target:e(".k-dropzone",r.wrapper)},s))},_renderInitialFiles:function(t){var a,o,n=this,r=0;for(r=0;r<t.length;r++)a=t[r],o=n._enqueueFile(a.name,{fileNames:[a]}),o.addClass("k-file-success").data("files",[t[r]]),e(".k-progress",o).width("100%"),e(".k-upload-status",o).prepend("<span class='k-upload-pct'>100%</span>"),n._fileAction(o,E)},_prepareTemplateData:function(e,t){var a=t.fileNames,o={},n=0,r=0;for(r=0;r<a.length;r++)n+=a[r].size;return o.name=e,o.size=n,o.files=t.fileNames,o},_prepareDefaultFileEntryTemplate:function(t,a){var o="",n=e("<li class='k-file'><span class='k-progress'></span><span class='k-icon'></span><span class='k-filename' title='"+t+"'>"+t+"</span>"+"<strong class='k-upload-status'></strong>"+"</li>");return 1==a.fileNames.length&&a.fileNames[0].extension&&(o=a.fileNames[0].extension.substring(1),e(".k-icon",n).addClass("k-i-"+o)),n},_enqueueFile:function(t,a){var o,n,r,s=this,i=e(".k-upload-files",s.wrapper),l=s.options,p=l.template;return 0===i.length&&(i=e("<ul class='k-upload-files k-reset'></ul>").appendTo(s.wrapper),s.options.showFileList||i.hide(),s.wrapper.removeClass("k-upload-empty")),o=e(".k-file",i),p?(r=s._prepareTemplateData(t,a),p=k.template(p),n=e("<li class='k-file'>"+p(r)+"</li>"),n.find(".k-upload-action").addClass("k-button k-button-bare")):n=s._prepareDefaultFileEntryTemplate(t,a),n.appendTo(i).data(a),s._async||e(".k-progress",n).width("100%"),!s.multiple&&o.length>0&&s._module.onRemove({target:e(o,s.wrapper)}),n},_removeFileEntry:function(t){var a,o,n=this,r=t.closest(".k-upload-files");t.remove(),a=e(".k-file",r),o=e(".k-file-success, .k-file-error",r),o.length===a.length&&this._hideUploadButton(),0===a.length&&(r.remove(),n.wrapper.addClass("k-upload-empty"),n._hideHeaderUploadstatus())},_fileAction:function(e,t){var a={remove:"k-delete",cancel:"k-cancel",retry:"k-retry"},o={remove:"k-i-close",cancel:"k-i-close",retry:"k-i-refresh"};a.hasOwnProperty(t)&&(this._clearFileAction(e),this.options.template?e.find(".k-upload-action").addClass("k-button k-button-bare").append("<span class='k-icon "+o[t]+" "+a[t]+"' title='"+this.localization[t]+"'></span>").show():(e.find(".k-upload-status .k-upload-action").remove(),e.find(".k-upload-status").append(this._renderAction(a[t],this.localization[t],o[t]))))},_fileState:function(t,a){var o=this.localization,n={uploading:{text:o.statusUploading},uploaded:{text:o.statusUploaded},failed:{text:o.statusFailed}},r=n[a];r&&e(".k-icon:not(.k-delete, .k-cancel, .k-retry)",t).text(r.text)},_renderAction:function(t,a,o){return""!==t?e("<button type='button' class='k-button k-button-bare k-upload-action'><span class='k-icon "+o+" "+t+"' title='"+a+"'></span>"+"</button>"):e("<button type='button' class='k-button'>"+a+"</button>")},_clearFileAction:function(t){e(".k-upload-action",t).empty().hide()},_onFileAction:function(t){var a,o,n,r,s=this;return s.wrapper.hasClass("k-state-disabled")||(a=e(t.target).closest(".k-upload-action"),o=a.find(".k-icon"),n=a.closest(".k-file"),r={files:n.data("fileNames")},o.hasClass("k-delete")?s.trigger(E,r)||s._module.onRemove({target:e(n,s.wrapper)},r.data):o.hasClass("k-cancel")?(s.trigger(R,r),s._module.onCancel({target:e(n,s.wrapper)}),this._checkAllComplete(),s._updateHeaderUploadStatus()):o.hasClass("k-retry")&&(e(".k-warning",n).remove(),s._module.onRetry({target:e(n,s.wrapper)}))),!1},_onUploadSelected:function(){return this._module.onSaveSelected(),!1},_onFileProgress:function(t,a){var o;this.options.template?e(".k-progress",t.target).width(a+"%"):(o=e(".k-upload-pct",t.target),0===o.length&&e(".k-upload-status",t.target).prepend("<span class='k-upload-pct'></span>"),e(".k-upload-pct",t.target).text(a+"%"),e(".k-progress",t.target).width(a+"%")),this.trigger(A,{files:m(t).data("fileNames"),percentComplete:a})},_onUploadSuccess:function(e,t,a){var o=m(e);this._fileState(o,"uploaded"),o.removeClass("k-file-progress").addClass("k-file-success"),this._updateHeaderUploadStatus(),this.trigger(C,{files:o.data("fileNames"),response:t,operation:"upload",XMLHttpRequest:a}),this._supportsRemove()?this._fileAction(o,E):this._clearFileAction(o),this._checkAllComplete()},_onUploadError:function(t,a){var o=m(t),n=e(".k-upload-pct",o);this._fileState(o,"failed"),o.removeClass("k-file-progress").addClass("k-file-error"),e(".k-progress",o).width("100%"),n.length>0?n.empty().removeClass("k-upload-pct").addClass("k-icon k-warning"):e(".k-upload-status",o).prepend("<span class='k-icon k-warning'></span>"),this._updateHeaderUploadStatus(),this._fileAction(o,"retry"),this.trigger(S,{operation:"upload",files:o.data("fileNames"),XMLHttpRequest:a}),w("Server response: "+a.responseText),this._checkAllComplete()},_showUploadButton:function(){var t=e(".k-upload-selected",this.wrapper);0===t.length&&(t=this._renderAction("",this.localization.uploadSelectedFiles).addClass("k-upload-selected")),this.wrapper.append(t)},_hideUploadButton:function(){e(".k-upload-selected",this.wrapper).remove()},_showHeaderUploadStatus:function(){var t=this.localization,a=e(".k-dropzone",this.wrapper),o=e(".k-upload-status-total",this.wrapper);0!==o.length&&o.remove(),o='<strong class="k-upload-status k-upload-status-total">'+t.headerStatusUploading+'<span class="k-icon k-loading">'+t.statusUploading+"</span>"+"</strong>",a.length>0?a.append(o):e(".k-upload-button",this.wrapper).after(o)},_updateHeaderUploadStatus:function(){var t,a,o=e(".k-file",this.wrapper).not(".k-file-success, .k-file-error");0===o.length&&(t=e(".k-upload-status-total",this.wrapper),a=e(".k-icon",t).removeClass("k-loading").addClass("k-warning").text(this.localization.statusUploaded),t.text(this.localization.headerStatusUploaded).append(a))},_hideHeaderUploadstatus:function(){e(".k-upload-status-total",this.wrapper).remove()},_onParentFormSubmit:function(){var a,o=this,n=o.element;t!==this._module.onAbort&&this._module.onAbort(),n.value||(a=e(n),a.attr("disabled","disabled"),window.setTimeout(function(){a.removeAttr("disabled")},0))},_onParentFormReset:function(){e(".k-upload-files",this.wrapper).remove()},_supportsFormData:function(){return"undefined"!=typeof FormData},_supportsMultiple:function(){var e=this._userAgent().indexOf("Windows")>-1;return!(k.support.browser.opera||k.support.browser.safari&&e)},_supportsDrop:function(){var e=this._userAgent().toLowerCase(),t=/chrome/.test(e),a=!t&&/safari/.test(e),o=a&&/windows/.test(e);return!o&&this._supportsFormData()&&this.options.async.saveUrl},_userAgent:function(){return navigator.userAgent},_setupDropZone:function(){var t,a,o=this;e(".k-upload-button",this.wrapper).wrap("<div class='k-dropzone'></div>"),t=o._ns,a=e(".k-dropzone",o.wrapper).append(e("<em>"+o.localization.dropFilesHere+"</em>")).on("dragenter"+t,d).on("dragover"+t,function(e){e.preventDefault()}).on("drop"+t,e.proxy(this._onDrop,this)),c(a,t,function(){a.addClass("k-dropzone-hovered")},function(){a.removeClass("k-dropzone-hovered")}),c(e(document),t,function(){a.addClass("k-dropzone-active"),a.closest(".k-upload").removeClass("k-upload-empty")},function(){a.removeClass("k-dropzone-active"),0===e("li.k-file",a.closest(".k-upload")).length&&a.closest(".k-upload").addClass("k-upload-empty")})},_supportsRemove:function(){return!!this.options.async.removeUrl},_submitRemove:function(t,a,o,n){var r=this,s=r.options.async.removeField||"fileNames",i=e.extend(a,h());i[s]=t,jQuery.ajax({type:this.options.async.removeVerb,dataType:"json",dataFilter:u,url:this.options.async.removeUrl,traditional:!0,data:i,success:o,error:n})},_wrapInput:function(e){var t=this,a=t.options;return e.wrap("<div class='k-widget k-upload k-header'><div class='k-button k-upload-button'></div></div>"),a.async.saveUrl||e.closest(".k-upload").addClass("k-upload-sync"),e.closest(".k-upload").addClass("k-upload-empty"),e.closest(".k-button").append("<span>"+this.localization.select+"</span>"),e.closest(".k-upload")},_checkAllComplete:function(){0===e(".k-file.k-file-progress",this.wrapper).length&&this.trigger(x)}}),D=function(e){this.name="syncUploadModule",this.element=e.wrapper,this.upload=e,this.element.closest("form").attr("enctype","multipart/form-data").attr("encoding","multipart/form-data")};D.prototype={onSelect:function(t){var n,r=this.upload,s=e(t.target);r._addInput(s),n=r._enqueueFile(a(s),{relatedInput:s,fileNames:o(s)}),r._fileAction(n,E)},onRemove:function(e){var t=m(e);t.data("relatedInput").remove(),this.upload._removeFileEntry(t)}},v=function(e){this.name="iframeUploadModule",this.element=e.wrapper,this.upload=e,this.iframes=[]},z._frameId=0,v.prototype={onSelect:function(t){var a=this.upload,o=e(t.target),n=this.prepareUpload(o);a.options.async.autoUpload?this.performUpload(n):(a._supportsRemove()&&this.upload._fileAction(n,E),a._showUploadButton())},prepareUpload:function(t){var n,r,s,i=this.upload,l=e(i.element),p=i.options.async.saveField||t.attr("name");return i._addInput(t),t.attr("name",p),n=this.createFrame(i.name+"_"+z._frameId++),this.registerFrame(n),r=this.createForm(i.options.async.saveUrl,n.attr("name")).append(l),s=i._enqueueFile(a(t),{frame:n,relatedInput:l,fileNames:o(t)}),n.data({form:r,file:s}),s},performUpload:function(t){var a,o,n,r={files:t.data("fileNames")},s=t.data("frame"),i=this.upload;if(i.trigger(b,r))i._removeFileEntry(s.data("file")),this.cleanupFrame(s),this.unregisterFrame(s);else{i._hideUploadButton(),i._showHeaderUploadStatus(),s.appendTo(document.body),a=s.data("form").attr("action",i.options.async.saveUrl).appendTo(document.body),r.data=e.extend({},r.data,h());for(o in r.data)n=a.find("input[name='"+o+"']"),0===n.length&&(n=e("<input>",{type:"hidden",name:o}).appendTo(a)),n.val(r.data[o]);i._fileAction(t,R),i._fileState(t,"uploading"),e(t).addClass("k-file-progress"),s.one("load",e.proxy(this.onIframeLoad,this)),a[0].submit()}},onSaveSelected:function(){var t=this;e(".k-file",this.element).each(function(){var a=e(this),o=f(a);o||t.performUpload(a)})},onIframeLoad:function(t){var a,o=e(t.target);try{a=o.contents().text()}catch(n){a="Error trying to get server response: "+n}this.processResponse(o,a)},processResponse:function(t,a){var o=t.data("file"),n=this,r={responseText:a};p(a,function(a){e.extend(r,{statusText:"OK",status:"200"}),n.upload._onFileProgress({target:e(o,n.upload.wrapper)},100),n.upload._onUploadSuccess({target:e(o,n.upload.wrapper)},a,r),n.cleanupFrame(t),n.unregisterFrame(t)},function(){e.extend(r,{statusText:"error",status:"500"}),n.upload._onUploadError({target:e(o,n.upload.wrapper)},r)})},onCancel:function(t){var a=e(t.target).data("frame");this.stopFrameSubmit(a),this.cleanupFrame(a),this.unregisterFrame(a),this.upload._removeFileEntry(a.data("file"))},onRetry:function(e){var t=m(e);this.performUpload(t)},onRemove:function(e,t){var a=m(e),o=a.data("frame");o?(this.unregisterFrame(o),this.upload._removeFileEntry(a),this.cleanupFrame(o)):l(a,this.upload,t)},onAbort:function(){var t=this.element,a=this;e.each(this.iframes,function(){e("input",this.data("form")).appendTo(t),a.stopFrameSubmit(this[0]),this.data("form").remove(),this.remove()}),this.iframes=[]},createFrame:function(t){return e("<iframe name='"+t+"'"+" id='"+t+"'"+" style='display:none;' />")},createForm:function(t,a){return e("<form enctype='multipart/form-data' method='POST' action='"+t+"'"+" target='"+a+"'"+"/>")},stopFrameSubmit:function(e){t!==e.stop?e.stop():e.document&&e.document.execCommand("Stop")},registerFrame:function(e){this.iframes.push(e)},unregisterFrame:function(t){this.iframes=e.grep(this.iframes,function(e){return e.attr("name")!=t.attr("name")})},cleanupFrame:function(e){var t=e.data("form");e.data("file").data("frame",null),setTimeout(function(){t.remove(),e.remove()},1)}},g=function(e){this.name="formDataUploadModule",this.element=e.wrapper,this.upload=e},g.prototype={onSelect:function(t,a){var o=this.upload,r=this,s=e(t.target),i=a?n(a):this.inputFiles(s),l=this.prepareUpload(s,i);e.each(l,function(){o.options.async.autoUpload?r.performUpload(this):(o._supportsRemove()&&o._fileAction(this,E),o._showUploadButton())})},prepareUpload:function(t,a){var o=this.enqueueFiles(a);return t.is("input")&&(e.each(o,function(){e(this).data("relatedInput",t)}),t.data("relatedFileEntries",o),this.upload._addInput(t)),o},enqueueFiles:function(t){var a,o,n,r,s=this.upload,i=t.length,l=[];if(s.options.async.batch===!0)a=e.map(t,function(e){return e.name}).join(", "),r=s._enqueueFile(a,{fileNames:t}),r.data("files",t),l.push(r);else for(o=0;i>o;o++)n=t[o],a=n.name,r=s._enqueueFile(a,{fileNames:[n]}),r.data("files",[n]),l.push(r);return l},inputFiles:function(e){return o(e)},performUpload:function(t){var a,o=this.upload,n=this.createFormData(t.data("files")),r=new XMLHttpRequest,s={files:t.data("fileNames"),XMLHttpRequest:r};if(o.trigger(b,s))this.removeFileEntry(t);else{o._fileAction(t,R),o._hideUploadButton(),o._showHeaderUploadStatus(),s.data=e.extend({},s.data,h());for(a in s.data)n.append(a,s.data[a]);o._fileState(t,"uploading"),e(t).addClass("k-file-progress"),this.postFormData(o.options.async.saveUrl,n,t,r)}},onSaveSelected:function(){var t=this;e(".k-file",this.element).each(function(){var a=e(this),o=f(a);o||t.performUpload(a)})},onCancel:function(e){var t=m(e);this.stopUploadRequest(t),this.removeFileEntry(t)},onRetry:function(e){var t=m(e);this.performUpload(t)},onRemove:function(e,t){var a=m(e);a.hasClass("k-file-success")?l(a,this.upload,t):this.removeFileEntry(a)},postFormData:function(e,t,a,o){var n=this;a.data("request",o),o.addEventListener("load",function(e){n.onRequestSuccess.call(n,e,a)},!1),o.addEventListener(S,function(e){n.onRequestError.call(n,e,a)},!1),o.upload.addEventListener("progress",function(e){n.onRequestProgress.call(n,e,a)},!1),o.open("POST",e,!0),o.withCredentials="true",o.send(t)},createFormData:function(e){var t,a=new FormData,o=this.upload,n=e.length;for(t=0;n>t;t++)a.append(o.options.async.saveField||o.name,e[t].rawFile);return a},onRequestSuccess:function(t,a){function o(){r.upload._onUploadError({target:e(a,r.upload.wrapper)},n)}var n=t.target,r=this;n.status>=200&&n.status<=299?p(n.responseText,function(t){r.upload._onFileProgress({target:e(a,r.upload.wrapper)},100),r.upload._onUploadSuccess({target:e(a,r.upload.wrapper)},t,n),r.cleanupFileEntry(a)},o):o()},onRequestError:function(t,a){var o=t.target;this.upload._onUploadError({target:e(a,this.upload.wrapper)},o)},cleanupFileEntry:function(t){var a=t.data("relatedInput"),o=!0;a&&(e.each(a.data("relatedFileEntries")||[],function(){this.parent().length>0&&this[0]!=t[0]&&(o=o&&this.hasClass("k-file-success"))}),o&&a.remove())},removeFileEntry:function(e){this.cleanupFileEntry(e),this.upload._removeFileEntry(e)},onRequestProgress:function(t,a){var o=Math.round(100*t.loaded/t.total);this.upload._onFileProgress({target:e(a,this.upload.wrapper)},o)},stopUploadRequest:function(e){e.data("request").abort()}},k.ui.plugin(z)}(window.kendo.jQuery);;!function(e,t){function a(e,t,a){var r,o;e.on("dragenter"+S,function(){t(),o=new Date,r||(r=setInterval(function(){var e=new Date-o;e>100&&(a(),clearInterval(r),r=null)},100))}).on("dragover"+S,function(){o=new Date})}function r(e,a){return e!==t&&e.match(/\/$/)||(e=(e||"")+"/"),e+a}function o(e){if(!e)return"";var t=" bytes";return e>=1073741824?(t=" GB",e/=1073741824):e>=1048576?(t=" MB",e/=1048576):e>=1024&&(t=" KB",e/=1024),Math.round(100*e)/100+t}function n(e,t){var a=e[t];return p(a)?a.from||a.field||t:a}var i,s,l,d,c=window.kendo,u=c.ui.Widget,p=e.isPlainObject,h=e.proxy,f=e.extend,m=c.support.placeholder,v=c.support.browser,g=e.isFunction,k=/(^\/|\/$)/g,_="change",w="apply",y="error",b="click",S=".kendoImageBrowser",x=".kendoBreadcrumbs",T=".kendoSearchBox",B="name",C="size",D="type",F={field:D,dir:"asc"},z=c.template('<li class="k-tile-empty"><strong>${text}</strong></li>'),U='<div class="k-widget k-toolbar k-header k-floatwrap"><div class="k-toolbar-wrap"># if (showUpload) { # <div class="k-widget k-upload"><div class="k-button k-button-icontext k-upload-button"><span class="k-icon k-add"></span>#=messages.uploadFile#<input type="file" name="file" /></div></div># } ## if (showCreate) { #<button type="button" class="k-button k-button-icon"><span class="k-icon k-addfolder" /></button># } ## if (showDelete) { #<button type="button" class="k-button k-button-icon k-state-disabled"><span class="k-icon k-delete" /></button>&nbsp;# } #</div><div class="k-tiles-arrange"><label>#=messages.orderBy#: <select /></label></a></div></div>';f(!0,c.data,{schemas:{imagebrowser:{data:function(e){return e.items||e||[]},model:{id:"name",fields:{name:"name",size:"size",type:"type"}}}}}),f(!0,c.data,{transports:{imagebrowser:c.data.RemoteTransport.extend({init:function(t){c.data.RemoteTransport.fn.init.call(this,e.extend(!0,{},this.options,t))},_call:function(t,a){a.data=e.extend({},a.data,{path:this.options.path()}),g(this.options[t])?this.options[t].call(this,a):c.data.RemoteTransport.fn[t].call(this,a)},read:function(e){this._call("read",e)},create:function(e){this._call("create",e)},destroy:function(e){this._call("destroy",e)},update:function(){},options:{read:{type:"POST"},update:{type:"POST"},create:{type:"POST"},destroy:{type:"POST"}}})}}),i=v.msie&&v.version<8?function(e){return e.offsetTop}:function(t){return t.offsetTop-e(t).height()},s=u.extend({init:function(e,t){var a=this;t=t||{},u.fn.init.call(a,e,t),a.element.addClass("k-imagebrowser k-secondary"),a.element.on(b+S,".k-toolbar button:not(.k-state-disabled):has(.k-delete)",h(a._deleteClick,a)).on(b+S,".k-toolbar button:not(.k-state-disabled):has(.k-addfolder)",h(a._addClick,a)).on("keydown"+S,"li.k-state-selected input",h(a._directoryKeyDown,a)).on("blur"+S,"li.k-state-selected input",h(a._directoryBlur,a)),a._dataSource(),a.refresh(),a.path(a.options.path)},options:{name:"ImageBrowser",messages:{uploadFile:"Upload",orderBy:"Arrange by",orderByName:"Name",orderBySize:"Size",directoryNotFound:"A directory with this name was not found.",emptyFolder:"Empty Folder",deleteFile:'Are you sure you want to delete "{0}"?',invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',dropFilesHere:"drop file here to upload",search:"Search"},transport:{},path:"/",fileTypes:"*.png,*.gif,*.jpg,*.jpeg"},events:[y,_,w],destroy:function(){var e=this;u.fn.destroy.call(e),e.dataSource.unbind(y,e._errorHandler),e.element.add(e.list).add(e.toolbar).off(S),e.arrangeBy&&e.arrangeBy.destroy(),c.destroy(e.element)},value:function(){var e,a=this,o=a._selectedItem(),n=a.options.transport.imageUrl;return o&&"f"===o.get(D)?(e=r(a.path(),o.get(B)).replace(k,""),n&&(e=g(n)?n(e):c.format(n,encodeURIComponent(e))),e):t},_selectedItem:function(){var e=this.listView,a=e.select();return a.length?this.dataSource.getByUid(a.attr(c.attr("uid"))):t},_toolbar:function(){var t=this,a=c.template(U),r=t.options.messages,o=[{text:r.orderByName,value:"name"},{text:r.orderBySize,value:"size"}];t.toolbar=e(a({messages:r,showUpload:t.options.transport.uploadUrl,showCreate:t.options.transport.create,showDelete:t.options.transport.destroy})).appendTo(t.element).find(".k-upload input").kendoUpload({multiple:!1,localization:{dropFilesHere:r.dropFilesHere},async:{saveUrl:t.options.transport.uploadUrl,autoUpload:!0},upload:h(t._fileUpload,t),error:function(e){t._error({xhr:e.XMLHttpRequest,status:"error"})}}).end(),t.upload=t.toolbar.find(".k-upload input").data("kendoUpload"),t.arrangeBy=t.toolbar.find(".k-tiles-arrange select").kendoDropDownList({dataSource:o,dataTextField:"text",dataValueField:"value",change:function(){t.orderBy(this.value())}}).data("kendoDropDownList"),t._attachDropzoneEvents()},_attachDropzoneEvents:function(){var t=this;t.options.transport.uploadUrl&&(a(e(document.documentElement),e.proxy(t._dropEnter,t),e.proxy(t._dropLeave,t)),t._scrollHandler=h(t._positionDropzone,t))},_dropEnter:function(){this._positionDropzone(),e(document).on("scroll"+S,this._scrollHandler)},_dropLeave:function(){this._removeDropzone(),e(document).off("scroll"+S,this._scrollHandler)},_positionDropzone:function(){var e=this,t=e.element,a=t.offset();e.toolbar.find(".k-dropzone").addClass("k-imagebrowser-dropzone").offset(a).css({width:t[0].clientWidth,height:t[0].clientHeight,lineHeight:t[0].clientHeight+"px"})},_removeDropzone:function(){this.toolbar.find(".k-dropzone").removeClass("k-imagebrowser-dropzone").css({width:"",height:"",lineHeight:"",top:"",left:""})},_deleteClick:function(){var e=this,t=e.listView.select(),a=c.format(e.options.messages.deleteFile,t.find("strong").text());t.length&&e._showMessage(a,"confirm")&&e.listView.remove(t)},_addClick:function(){this.createDirectory()},_getFieldName:function(e){return n(this.dataSource.reader.model.fields,e)},_fileUpload:function(e){var t,a=this,r=a.options,o=r.fileTypes,n=RegExp(("("+o.split(",").join(")|(")+")").replace(/\*\./g,".*."),"i"),i=e.files[0].name,s=B,l=C;n.test(i)?(e.data={path:a.path()},t=a._createFile(i),t?a.upload.one("success",function(e){t.set(s,e.response[a._getFieldName(s)]),t.set(l,e.response[a._getFieldName(l)]),a._tiles=a.listView.items().filter("["+c.attr("type")+"=f]"),a._scroll()}):e.preventDefault()):(e.preventDefault(),a._showMessage(c.format(r.messages.invalidFileType,i,o)))},_findFile:function(e){var t,a,r,o=this.dataSource.data(),n=D,i=B;for(e=e.toLowerCase(),t=0,r=o.length;r>t;t++)if("f"===o[t].get(n)&&o[t].get(i).toLowerCase()===e){a=o[t];break}return a},_createFile:function(e){var t,a,r=this,o=0,n={},i=D,s=r.dataSource.view(),l=r._findFile(e);if(l&&!r._showMessage(c.format(r.options.messages.overwriteFile,e),"confirm"))return null;if(l)return l;for(t=0,a=s.length;a>t;t++)if("f"===s[t].get(i)){o=t;break}return n[i]="f",n[B]=e,n[C]=0,r.dataSource.insert(++o,n)},createDirectory:function(){var e,t,a=this,r=0,o=D,n=B,i=a.dataSource.data(),s=a._nameDirectory(),l=new a.dataSource.reader.model;for(e=0,t=i.length;t>e;e++)"d"===i[e].get(o)&&(r=e);l.set(o,"d"),l.set(n,s),a.listView.one("dataBound",function(){var e=a.listView.items().filter("["+c.attr("uid")+"="+l.uid+"]"),t=e.find("input");e.length&&this.edit(e),this.element.scrollTop(e.attr("offsetTop")-this.element[0].offsetHeight),setTimeout(function(){t.select()})}).one("save",function(e){var t=e.model.get(n);t?e.model.set(n,a._nameExists(t,l.uid)?a._nameDirectory():t):e.model.set(n,s)}),a.dataSource.insert(++r,l)},_directoryKeyDown:function(e){13==e.keyCode&&e.currentTarget.blur()},_directoryBlur:function(){this.listView.save()},_nameExists:function(e,t){var a,r,o=this.dataSource.data(),n=D,i=B;for(a=0,r=o.length;r>a;a++)if("d"===o[a].get(n)&&o[a].get(i).toLowerCase()===e.toLowerCase()&&o[a].uid!==t)return!0;return!1},_nameDirectory:function(){var t,a,r,o="New folder",n=this.dataSource.data(),i=[],s=D,l=B;for(a=0,r=n.length;r>a;a++)"d"===n[a].get(s)&&n[a].get(l).toLowerCase().indexOf(o.toLowerCase())>-1&&i.push(n[a].get(l));if(e.inArray(o,i)>-1){a=2;do t=o+" ("+a+")",a++;while(e.inArray(t,i)>-1);o=t}return o},orderBy:function(e){this.dataSource.sort([{field:D,dir:"asc"},{field:e,dir:"asc"}])},search:function(e){this.dataSource.filter({field:B,operator:"contains",value:e})},_content:function(){var t=this;t.list=e('<ul class="k-reset k-floats k-tiles" />').appendTo(t.element).on("scroll"+S,h(t._scroll,t)).on("dblclick"+S,"li",h(t._dblClick,t)),t.listView=new c.ui.ListView(t.list,{dataSource:t.dataSource,template:t._itemTmpl(),editTemplate:t._editTmpl(),selectable:!0,autoBind:!1,dataBinding:function(e){t.toolbar.find(".k-delete").parent().addClass("k-state-disabled"),("remove"===e.action||"sync"===e.action)&&e.preventDefault()},dataBound:function(){t.dataSource.view().length?(t._tiles=this.items().filter("["+c.attr("type")+"=f]"),t._scroll()):this.wrapper.append(z({text:t.options.messages.emptyFolder}))},change:h(t._listViewChange,t)})},_dblClick:function(t){var a,o=this,n=e(t.currentTarget);n.filter("["+c.attr("type")+"=d]").length?(a=o.dataSource.getByUid(n.attr(c.attr("uid"))),a&&(o.path(r(o.path(),a.get(B))),o.breadcrumbs.value(o.path()))):n.filter("["+c.attr("type")+"=f]").length&&o.trigger(w)},_listViewChange:function(){var e=this._selectedItem();e&&(this.toolbar.find(".k-delete").parent().removeClass("k-state-disabled"),"f"===e.get(D)&&this.trigger(_))},_dataSource:function(){var e,t=this,a=t.options,r=a.transport,o=f({},F),n={field:B,dir:"asc"},i={type:r.type||"imagebrowser",sort:[o,n]};p(r)&&(r.path=h(t.path,t),i.transport=r),p(a.schema)?i.schema=a.schema:r.type&&p(c.data.schemas[r.type])&&(e=c.data.schemas[r.type]),t.dataSource&&t._errorHandler?t.dataSource.unbind(y,t._errorHandler):t._errorHandler=h(t._error,t),t.dataSource=c.data.DataSource.create(i).bind(y,t._errorHandler)},_navigation:function(){var t=this,a=e('<div class="k-floatwrap"><input/><input/></div>').appendTo(this.element);t.breadcrumbs=a.find("input:first").kendoBreadcrumbs({value:t.options.path,change:function(){t.path(this.value())}}).data("kendoBreadcrumbs"),t.searchBox=a.parent().find("input:last").kendoSearchBox({label:t.options.messages.search,change:function(){t.search(this.value())}}).data("kendoSearchBox")},_error:function(e){var t,a=this;a.trigger(y,e)||(t=e.xhr.status,"error"==e.status?"404"==t?a._showMessage(a.options.messages.directoryNotFound):"0"!=t&&a._showMessage("Error! The requested URL returned "+t+" - "+e.xhr.statusText):"timeout"==t&&a._showMessage("Error! Server timeout."))},_showMessage:function(e,t){return window[t||"alert"](e)},refresh:function(){var e=this;e._navigation(),e._toolbar(),e._content()},_loadImage:function(t){var a=this,r=e(t),o=a.dataSource.getByUid(r.attr(c.attr("uid"))),n=o.get(B),i=a.options.transport.thumbnailUrl,s=e("<img />",{alt:n}),l="?";s.hide().on("load"+S,function(){e(this).prev().remove().end().addClass("k-image").fadeIn()}),r.find(".k-loading").after(s),g(i)?i=i(a.path(),encodeURIComponent(n)):(i.indexOf("?")>=0&&(l="&"),i=i+l+"path="+a.path()+encodeURIComponent(n)),s.attr("src",i),t.loaded=!0},_scroll:function(){var e=this;e.options.transport&&e.options.transport.thumbnailUrl&&(clearTimeout(e._timeout),e._timeout=setTimeout(function(){var a=e.list.outerHeight(),r=e.list.scrollTop(),o=r+a;e._tiles.each(function(){var a=i(this),n=a+this.offsetHeight;return(a>=r&&o>a||n>=r&&o>n)&&e._loadImage(this),a>o?!1:t}),e._tiles=e._tiles.filter(function(){return!this.loaded})},250))},_editTmpl:function(){var e='<li class="k-tile k-state-selected" '+c.attr("uid")+'="#=uid#" ';return e+=c.attr("type")+'="${'+D+'}">',e+="#if("+D+' == "d") { #',e+='<div class="k-thumb"><span class="k-icon k-folder"></span></div>',e+="#}else{#",e+='<div class="k-thumb"><span class="k-icon k-loading"></span></div>',e+="#}#",e+="#if("+D+' == "d") { #',e+='<input class="k-input" '+c.attr("bind")+'="value:'+B+'"/>',e+="#}#",e+="</li>",h(c.template(e),{sizeFormatter:o})},_itemTmpl:function(){var e=this,t='<li class="k-tile" '+c.attr("uid")+'="#=uid#" ';return t+=c.attr("type")+'="${'+D+'}">',t+="#if("+D+' == "d") { #',t+='<div class="k-thumb"><span class="k-icon k-folder"></span></div>',t+="#}else{#",t+=e.options.transport&&e.options.transport.thumbnailUrl?'<div class="k-thumb"><span class="k-icon k-loading"></span></div>':'<div class="k-thumb"><span class="k-icon k-file"></span></div>',t+="#}#",t+="<strong>${"+B+"}</strong>",t+="#if("+D+' == "f") { # <span class="k-filesize">${this.sizeFormatter('+C+")}</span> #}#",t+="</li>",h(c.template(t),{sizeFormatter:o})},path:function(e){var a=this,r=a._path||"";return e!==t?(a._path=e.replace(k,"")+"/",a.dataSource.read({path:a._path}),t):(r&&(r=r.replace(k,"")),"/"===r||""===r?"":r+"/")}}),l=u.extend({init:function(e,t){var a=this;t=t||{},u.fn.init.call(a,e,t),m&&a.element.attr("placeholder",a.options.label),a._wrapper(),a.element.on("keydown"+T,h(a._keydown,a)).on("change"+T,h(a._updateValue,a)),a.wrapper.on(b+T,"a",h(a._click,a)),m||a.element.on("focus"+T,h(a._focus,a)).on("blur"+T,h(a._blur,a))},options:{name:"SearchBox",label:"Search",value:""},events:[_],destroy:function(){var e=this;e.wrapper.add(e.element).add(e.label).off(T),u.fn.destroy.call(e)},_keydown:function(e){13===e.keyCode&&this._updateValue()},_click:function(e){e.preventDefault(),this._updateValue()},_updateValue:function(){var e=this,t=e.element.val();t!==e.value()&&(e.value(t),e.trigger(_))},_blur:function(){this._updateValue(),this._toggleLabel()},_toggleLabel:function(){m||this.label.toggle(!this.element.val())},_focus:function(){this.label.hide()},_wrapper:function(){var t=this.element,a=t.parents(".k-search-wrap");t[0].style.width="",t.addClass("k-input"),a.length||(a=t.wrap(e('<div class="k-widget k-search-wrap k-textbox"/>')).parent(),m||e('<label style="display:block">'+this.options.label+"</label>").insertBefore(t),e('<a href="#" class="k-icon k-i-search k-search"/>').appendTo(a)),this.wrapper=a,this.label=a.find(">label")},value:function(e){var a=this;return e!==t?(a.options.value=e,a.element.val(e),a._toggleLabel(),t):a.options.value}}),d=u.extend({init:function(e,t){var a=this;t=t||{},u.fn.init.call(a,e,t),a._wrapper(),a.wrapper.on("focus"+x,"input",h(a._focus,a)).on("blur"+x,"input",h(a._blur,a)).on("keydown"+x,"input",h(a._keydown,a)).on(b+x,"a.k-i-arrow-n:first",h(a._rootClick,a)).on(b+x,"a:not(.k-i-arrow-n)",h(a._click,a)),a.value(a.options.value)},options:{name:"Breadcrumbs",gap:50},events:[_],destroy:function(){var e=this;u.fn.destroy.call(e),e.wrapper.add(e.wrapper.find("input")).add(e.wrapper.find("a")).off(x)},_update:function(e){e="/"===(e||"").charAt(0)?e:"/"+(e||""),e!==this.value()&&(this.value(e),this.trigger(_))},_click:function(t){t.preventDefault(),this._update(this._path(e(t.target).prevAll("a:not(.k-i-arrow-n)").andSelf()))},_rootClick:function(e){e.preventDefault(),this._update("")},_focus:function(){var e=this,t=e.element;e.overlay.hide(),e.element.val(e.value()),setTimeout(function(){t.select()})},_blur:function(){if(!this.overlay.is(":visible")){var e=this,t=e.element,a=t.val().replace(/\/{2,}/g,"/");e.overlay.show(),t.val(""),e._update(a)}},_keydown:function(e){var t=this;13===e.keyCode&&(t._blur(),setTimeout(function(){t.overlay.find("a:first").focus()}))},_wrapper:function(){var t,a=this.element,r=a.parents(".k-breadcrumbs");a[0].style.width="",a.addClass("k-input"),r.length||(r=a.wrap(e('<div class="k-widget k-breadcrumbs k-textbox"/>')).parent()),t=r.find(".k-breadcrumbs-wrap"),t.length||(t=e('<div class="k-breadcrumbs-wrap"/>').appendTo(r)),this.wrapper=r,this.overlay=t},refresh:function(){var a,r,o,n,i="",s=this.value();for(s!==t&&s.match(/^\//)||(s="/"+(s||"")),a=s.split("/"),o=0,n=a.length;n>o;o++)r=a[o],r&&(i||(i+='<a href="#" class="k-icon k-i-arrow-n">root</a>'),i+='<a class="k-link" href="#">'+a[o]+"</a>",i+='<span class="k-icon k-i-arrow-e">&gt;</span>');this.overlay.empty().append(e(i)),this._adjustSectionWidth()},_adjustSectionWidth:function(){var t,a=this,r=a.wrapper,o=r.width()-a.options.gap,n=a.overlay.find("a");n.each(function(a){t=e(this),t.parent().width()>o&&(a==n.length-1?t.width(o):t.prev().andSelf().hide())})},value:function(e){return e!==t?(this._value=e.replace(/\/{2,}/g,"/"),this.refresh(),t):this._value},_path:function(t){return"/"+e.map(t,function(t){return e(t).text()}).join("/")}}),c.ui.plugin(s),c.ui.plugin(d),c.ui.plugin(l)}(window.kendo.jQuery);;!function(i,e){function t(i){return e!==i}function n(i,e,t){return Math.max(Math.min(parseInt(i,10),1/0===t?t:parseInt(t,10)),parseInt(e,10))}function o(i,e){return function(){var t=this,n=t.wrapper,o=n[0].style,s=t.options;if(!s.isMaximized&&!s.isMinimized)return t.restoreOptions={width:o.width,height:o.height},n.find(x).hide().end().find(q).parent().hide().eq(0).before(J.action({name:"Restore"})),e.call(t),"maximize"==i?t.wrapper.find(z).find(K).parent().hide():t.wrapper.find(z).find(K).parent().show(),t}}function s(i){var e=this;e.owner=i,e._draggable=new l(i.wrapper,{filter:x,group:i.wrapper.id+"-resizing",dragstart:h(e.dragstart,e),drag:h(e.drag,e),dragend:h(e.dragend,e)})}function r(i,e){var t=this;t.owner=i,t._draggable=new l(i.wrapper,{filter:e,group:i.wrapper.id+"-moving",dragstart:h(t.dragstart,t),drag:h(t.drag,t),dragend:h(t.dragend,t),dragcancel:h(t.dragcancel,t)})}var a=window.kendo,d=a.ui.Widget,l=a.ui.Draggable,c=i.isPlainObject,p=a._activeElement,h=i.proxy,f=i.extend,g=i.each,u=a.template,m="body",w=".kendoWindow",v=".k-window",k=".k-window-title",z=k+"bar",_=".k-window-content",x=".k-resize-handle",y=".k-overlay",b="k-content-frame",T="k-loading",M="k-state-hover",W="k-state-focused",H=":visible",O="hidden",C="cursor",P="open",S="activate",I="deactivate",F="close",D="refresh",L="resize",j="dragstart",R="dragend",A="error",E="overflow",N="zIndex",q=".k-window-actions .k-i-minimize,.k-window-actions .k-i-maximize",G=".k-i-pin",U=".k-i-unpin",K=G+","+U,V=".k-window-titlebar .k-window-action",B=a.isLocalUrl,Q=d.extend({init:function(n,o){var s,r,l,p,f,g,u=this,m={},x=!1,y=o&&o.actions&&!o.actions.length;d.fn.init.call(u,n,o),o=u.options,n=u.element,p=o.content,y&&(o.actions=[]),u.appendTo=i(i(o.appendTo)[0]||document.body),u._animations(),p&&!c(p)&&(p=o.content={url:p}),n.find("script").filter(function(){return!this.type||this.type.toLowerCase().indexOf("script")>=0}).remove(),n.parent().is(u.appendTo)||o.position.top!==e&&o.position.left!==e||(n.is(H)?(m=n.offset(),x=!0):(r=n.css("visibility"),l=n.css("display"),n.css({visibility:O,display:""}),m=n.offset(),n.css({visibility:r,display:l}))),t(o.visible)&&null!==o.visible||(o.visible=n.is(H)),s=u.wrapper=n.closest(v),n.is(".k-content")&&s[0]||(n.addClass("k-window-content k-content"),u._createWindow(n,o),s=u.wrapper=n.closest(v),u._dimensions()),s.css({top:o.position.top||m.top||"",left:o.position.left||m.left||""}),o.pinned&&u.pin(!0),p&&u.refresh(p),o.visible&&u.toFront(),f=s.children(_),u._tabindex(f),o.visible&&o.modal&&u._overlay(s.is(H)).css({opacity:.5}),s.on("mouseenter"+w,V,function(){i(this).addClass(M)}).on("mouseleave"+w,V,function(){i(this).removeClass(M)}).on("click"+w,V,h(u._windowActionHandler,u)),f.on("keydown"+w,h(u._keydown,u)).on("focus"+w,function(){s.addClass(W)}).on("blur"+w,function(){s.removeClass(W)}),this._resizable(),this._draggable(),g=n.attr("id"),g&&(g+="_wnd_title",s.find(z).children(k).attr("id",g),f.attr({role:"dialog","aria-labelledby":g})),s.add(s.find(".k-resize-handle,.k-window-titlebar")).on("mousedown"+w,h(u.toFront,u)),u.touchScroller=a.touchScroller(n),u._resizeHandler=function(i){return u._onDocumentResize(i)},i(window).on("resize",u._resizeHandler),o.visible&&(u.trigger(P),u.trigger(S)),a.notify(u)},_dimensions:function(){var i=this,e=i.wrapper,t=i.options,o=t.width,s=t.height,r=t.maxHeight;i.title(t.title),g(["minWidth","minHeight","maxWidth","maxHeight"],function(i,n){var o=t[n];o&&1/0!=o&&e.css(n,o)}),r&&1/0!=r&&i.element.css("maxHeight",r),o&&((""+o).indexOf("%")>0?e.width(o):e.width(n(o,t.minWidth,t.maxWidth))),s&&((""+s).indexOf("%")>0?e.height(s):e.height(n(s,t.minHeight,t.maxHeight))),t.visible||e.hide()},_animations:function(){var i=this.options;i.animation===!1&&(i.animation={open:{effects:{}},close:{hide:!0,effects:{}}})},_resizable:function(){var e=this.options.resizable,t=this.wrapper;e?(t.on("dblclick"+w,z,h(function(e){i(e.target).closest(".k-window-action").length||this.toggleMaximization()},this)),g("n e s w se sw ne nw".split(" "),function(i,e){t.append(J.resizeHandle(e))}),this.resizing=new s(this)):this.resizing&&(t.off("dblclick"+w).find(x).remove(),this.resizing.destroy(),this.resizing=null)},_draggable:function(){var i=this.options.draggable;i?this.dragging=new r(this,i.dragHandle||z):this.dragging&&(this.dragging.destroy(),this.dragging=null)},setOptions:function(i){d.fn.setOptions.call(this,i),this._animations(),this._dimensions(),this._resizable(),this._draggable()},events:[P,S,I,F,D,L,j,R,A],options:{name:"Window",animation:{open:{effects:{zoom:{direction:"in"},fade:{direction:"in"}},duration:350},close:{effects:{zoom:{direction:"out",properties:{scale:.7}},fade:{direction:"out"}},duration:350,hide:!0}},title:"",actions:["Close"],autoFocus:!0,modal:!1,resizable:!0,draggable:!0,minWidth:90,minHeight:50,maxWidth:1/0,maxHeight:1/0,pinned:!1,position:{},content:null,visible:null,height:null,width:null},_closable:function(){return i.inArray("close",i.map(this.options.actions,function(i){return i.toLowerCase()}))>-1},_keydown:function(i){var e,t,o,s,r=this,d=r.options,l=a.keys,c=i.keyCode,p=r.wrapper,h=10,f=r.options.isMaximized;i.target!=i.currentTarget||r._closing||(c==l.ESC&&r._closable()&&r._close(!0),!d.draggable||i.ctrlKey||f||(e=a.getOffset(p),c==l.UP?t=p.css("top",e.top-h):c==l.DOWN?t=p.css("top",e.top+h):c==l.LEFT?t=p.css("left",e.left-h):c==l.RIGHT&&(t=p.css("left",e.left+h))),d.resizable&&i.ctrlKey&&!f&&(c==l.UP?(t=!0,s=p.height()-h):c==l.DOWN&&(t=!0,s=p.height()+h),c==l.LEFT?(t=!0,o=p.width()-h):c==l.RIGHT&&(t=!0,o=p.width()+h),t&&(p.css({width:n(o,d.minWidth,d.maxWidth),height:n(s,d.minHeight,d.maxHeight)}),r.trigger(L))),t&&i.preventDefault())},_overlay:function(e){var t=this.appendTo.children(y),n=this.wrapper;return t.length||(t=i("<div class='k-overlay' />")),t.insertBefore(n[0]).toggle(e).css(N,parseInt(n.css(N),10)-1),t},_windowActionHandler:function(t){var n=i(t.target).closest(".k-window-action").find(".k-icon"),o=this;o._closing||g({"k-i-close":function(){o._close(!0)},"k-i-maximize":o.maximize,"k-i-minimize":o.minimize,"k-i-restore":o.restore,"k-i-refresh":o.refresh,"k-i-pin":o.pin,"k-i-unpin":o.unpin},function(i,s){return n.hasClass(i)?(t.preventDefault(),s.call(o),!1):e})},_modals:function(){var e=this;return i(v).filter(function(){var t=i(this),n=e._object(t).options;return n.modal&&n.visible&&t.is(H)}).sort(function(e,t){return+i(e).css("zIndex")-+i(t).css("zIndex")})},_object:function(i){var e=i.children(_);return e.data("kendoWindow")||e.data("kendo"+this.options.name)},center:function(){var e=this,t=e.wrapper,n=i(window);return e.options.isMaximized?e:(t.css({left:n.scrollLeft()+Math.max(0,(n.width()-t.width())/2),top:n.scrollTop()+Math.max(0,(n.height()-t.height())/2)}),e)},title:function(i){var e=this,t=e.wrapper,n=e.options,o=t.find(z),s=o.children(k),r=o.outerHeight();return arguments.length?(i===!1?(t.addClass("k-window-titleless"),o.remove()):(o.length||t.prepend(J.titlebar(f(J,n))),t.css("padding-top",r),o.css("margin-top",-r)),s.text(i),e):s.text()},content:function(i){var e=this.wrapper.children(_),t=e.children(".km-scroll-container");return e=t[0]?t:e,i?(a.destroy(this.element.children()),e.html(i),this):e.html()},open:function(){var e,t,n=this,o=n.wrapper,s=n.options,r=s.animation.open,d=o.children(_),l=d.css(E);return n.trigger(P)||(n._closing&&o.kendoStop(!0,!0),n._closing=!1,n.toFront(),s.autoFocus&&n.element.focus(),s.visible=!0,s.modal&&(e=n._overlay(!1),e.kendoStop(!0,!0),r.duration&&a.effects.Fade?(t=a.fx(e).fadeIn(),t.duration(r.duration||0),t.endValue(.5),t.play()):e.css("opacity",.5),e.show()),o.is(H)||(d.css(E,O),o.show().kendoStop().kendoAnimate({effects:r.effects,duration:r.duration,complete:function(){s.autoFocus&&n.element.focus(),n.trigger(S),d.css(E,l)}}))),s.isMaximized&&(n._documentScrollTop=i(document).scrollTop(),i("html, body").css(E,O)),n},_removeOverlay:function(t){var n,o=this._modals(),s=this.options,r=s.modal&&!o.length,d=s.modal?this._overlay(!0):i(e),l=s.animation.close;r?!t&&l.duration&&a.effects.Fade?(n=a.fx(d).fadeOut(),n.duration(l.duration||0),n.startValue(.5),n.play()):this._overlay(!1).remove():o.length&&this._object(o.last())._overlay(!0)},_close:function(e){var t=this,n=t.wrapper,o=t.options,s=o.animation.open,r=o.animation.close;n.is(H)&&!t.trigger(F,{userTriggered:!!e})&&(t._closing=!0,o.visible=!1,i(v).each(function(e,t){var o=i(t).find(_);t!=n&&o.find("> ."+b).length>0&&o.children(y).remove()}),this._removeOverlay(),n.kendoStop().kendoAnimate({effects:r.effects||s.effects,reverse:r.reverse===!0,duration:r.duration,complete:function(){n.hide().css("opacity",""),t.trigger(I);var i=t._object(t._modals().last());i&&i.toFront()}})),t.options.isMaximized&&(i("html, body").css(E,""),t._documentScrollTop&&t._documentScrollTop>0&&i(document).scrollTop(t._documentScrollTop))},close:function(){return this._close(!1),this},toFront:function(e){var t,n,o=this,s=o.wrapper,r=s[0],a=+s.css(N),d=a,l=p(),c=o.element,h=e&&e.target?e.target:null;return i(v).each(function(e,t){var n=i(t),o=n.css(N),s=n.find(_);isNaN(o)||(a=Math.max(+o,a)),t!=r&&s.find("> ."+b).length>0&&s.append(J.overlay)}),(!s[0].style.zIndex||a>d)&&s.css(N,a+2),o.element.find("> .k-overlay").remove(),!o.options.autoFocus||i(l).is(c)||i(h).is(V+","+V+" .k-icon,:input,a")||c.find(l).length&&c.find(h).length||(c.focus(),t=i(window).scrollTop(),n=parseInt(o.wrapper.position().top,10),n>0&&0>n-t&&(t>0?i(window).scrollTop(n):o.wrapper.css("top",t))),o},toggleMaximization:function(){return this._closing?this:this[this.options.isMaximized?"restore":"maximize"]()},restore:function(){var e=this,t=e.options,n=t.minHeight,o=e.restoreOptions;if(t.isMaximized||t.isMinimized)return n&&1/0!=n&&e.wrapper.css("min-height",n),e.wrapper.css({position:t.pinned?"fixed":"absolute",left:o.left,top:o.top,width:o.width,height:o.height}).find(".k-window-content,.k-resize-handle").show().end().find(".k-window-titlebar .k-i-restore").parent().remove().end().end().find(q).parent().show().end().end().find(K).parent().show(),i("html, body").css(E,""),this._documentScrollTop&&this._documentScrollTop>0&&i(document).scrollTop(this._documentScrollTop),t.isMaximized=t.isMinimized=!1,e.trigger(L),e},maximize:o("maximize",function(){var e=this,t=e.wrapper,n=t.position();f(e.restoreOptions,{left:n.left,top:n.top}),t.css({left:0,top:0,position:"fixed"}),this._documentScrollTop=i(document).scrollTop(),i("html, body").css(E,O),e.options.isMaximized=!0,e._onDocumentResize()}),minimize:o("minimize",function(){var i=this;i.wrapper.css({height:"",minHeight:""}),i.element.hide(),i.options.isMinimized=!0}),pin:function(e){var t=this,n=i(window),o=t.wrapper,s=parseInt(o.css("top"),10),r=parseInt(o.css("left"),10);(e||!t.options.pinned&&!t.options.isMaximized)&&(o.css({position:"fixed",top:s-n.scrollTop(),left:r-n.scrollLeft()}),o.find(z).find(G).addClass("k-i-unpin").removeClass("k-i-pin"),t.options.pinned=!0)},unpin:function(){var e=this,t=i(window),n=e.wrapper,o=parseInt(n.css("top"),10),s=parseInt(n.css("left"),10);e.options.pinned&&!e.options.isMaximized&&(n.css({position:"",top:o+t.scrollTop(),left:s+t.scrollLeft()}),n.find(z).find(U).addClass("k-i-pin").removeClass("k-i-unpin"),e.options.pinned=!1)},_onDocumentResize:function(){var e=this,t=e.wrapper,n=i(window);e.options.isMaximized&&(t.css({width:n.width(),height:n.height()-parseInt(t.css("padding-top"),10)}),e.trigger(L))},refresh:function(e){var n,o,s,r=this,a=r.options,d=i(r.element);return c(e)||(e={url:e}),e=f({},a.content,e),o=t(a.iframe)?a.iframe:e.iframe,s=e.url,s?(t(o)||(o=!B(s)),o?(n=d.find("."+b)[0],n?n.src=s||n.src:d.html(J.contentFrame(f({},a,{content:e}))),d.find("."+b).unbind("load"+w).on("load"+w,function(){r.trigger(D)})):r._ajaxRequest(e)):(e.template&&r.content(u(e.template)({})),r.trigger(D)),r},_ajaxRequest:function(e){var t=this,n=e.template,o=t.wrapper.find(".k-window-titlebar .k-i-refresh"),s=setTimeout(function(){o.addClass(T)},100);i.ajax(f({type:"GET",dataType:"html",cache:!1,error:function(i,e){t.trigger(A,{status:e,xhr:i})},complete:function(){clearTimeout(s),o.removeClass(T)},success:function(i){n&&(i=u(n)(i||{})),t.content(i),t.element.prop("scrollTop",0),t.trigger(D)}},e))},destroy:function(){var e=this.wrapper;d.fn.destroy.call(this),a.destroy(e),this.resizing&&this.resizing.destroy(),this.dragging&&this.dragging.destroy(),this.element.children("iframe").remove(),e.find(".k-resize-handle,.k-window-titlebar").off(w),e.remove().off(w),i(window).off("resize",this._resizeHandler),this._removeOverlay(!0)},_createWindow:function(){var e,t,n=this,o=n.element,s=n.options,r=a.support.isRtl(o);s.scrollable===!1&&o.attr("style","overflow:hidden;"),t=i(J.wrapper(s)),s.title!==!1&&t.append(J.titlebar(f(J,s))),e=o.find("iframe:not(.k-content)").map(function(){var i=this.getAttribute("src");return this.src="",i}),t.toggleClass("k-rtl",r).appendTo(n.appendTo).append(o).find("iframe:not(.k-content)").each(function(i){this.src=e[i]}),t.find(".k-window-title").css(r?"left":"right",t.find(".k-window-actions").outerWidth()+10),o.show(),o.find("[data-role=editor]").each(function(){var e=i(this).data("kendoEditor");e&&e.refresh()})}}),J={wrapper:u("<div class='k-widget k-window' />"),action:u("<a role='button' href='\\#' class='k-window-action k-link'><span role='presentation' class='k-icon k-i-#= name.toLowerCase() #'>#= name #</span></a>"),titlebar:u("<div class='k-window-titlebar k-header'>&nbsp;<span class='k-window-title'>#= title #</span><div class='k-window-actions'># for (var i = 0; i < actions.length; i++) { ##= action({ name: actions[i] }) ## } #</div></div>"),overlay:"<div class='k-overlay' />",contentFrame:u("<iframe frameborder='0' title='#= title #' class='"+b+"' "+"src='#= content.url #'>"+"This page requires frames in order to show content"+"</iframe>"),resizeHandle:u("<div class='k-resize-handle k-resize-#= data #'></div>")};s.prototype={dragstart:function(e){var t=this,n=t.owner,o=n.wrapper;t.elementPadding=parseInt(n.wrapper.css("padding-top"),10),t.initialCursorPosition=a.getOffset(o,"position"),t.resizeDirection=e.currentTarget.prop("className").replace("k-resize-handle k-resize-",""),t.initialSize={width:o.width(),height:o.height()},t.containerOffset=a.getOffset(n.appendTo),o.append(J.overlay).find(x).not(e.currentTarget).hide(),i(m).css(C,e.currentTarget.css(C))},drag:function(i){var e,t,o,s,r=this,a=r.owner,d=a.wrapper,l=a.options,c=r.resizeDirection,p=r.containerOffset,h=r.initialCursorPosition,f=r.initialSize,g=Math.max(i.x.location,p.left),u=Math.max(i.y.location,p.top);c.indexOf("e")>=0?(e=g-h.left,d.width(n(e,l.minWidth,l.maxWidth))):c.indexOf("w")>=0&&(s=h.left+f.width,e=n(s-g,l.minWidth,l.maxWidth),d.css({left:s-e-p.left,width:e})),c.indexOf("s")>=0?(t=u-h.top-r.elementPadding,d.height(n(t,l.minHeight,l.maxHeight))):c.indexOf("n")>=0&&(o=h.top+f.height,t=n(o-u,l.minHeight,l.maxHeight),d.css({top:o-t-p.top,height:t})),a.trigger(L)},dragend:function(e){var t=this,n=t.owner,o=n.wrapper;return o.find(y).remove().end().find(x).not(e.currentTarget).show(),i(m).css(C,""),n.touchScroller&&n.touchScroller.reset(),27==e.keyCode&&o.css(t.initialCursorPosition).css(t.initialSize),!1},destroy:function(){this._draggable.destroy()}},r.prototype={dragstart:function(e){var t=this.owner,n=t.element,o=n.find(".k-window-actions"),s=a.getOffset(t.appendTo);t.trigger(j),t.initialWindowPosition=a.getOffset(t.wrapper,"position"),t.startPosition={left:e.x.client-t.initialWindowPosition.left,top:e.y.client-t.initialWindowPosition.top},t.minLeftPosition=o.length>0?o.outerWidth()+parseInt(o.css("right"),10)-n.outerWidth():20-n.outerWidth(),t.minLeftPosition-=s.left,t.minTopPosition=-s.top,t.wrapper.append(J.overlay).find(x).hide(),i(m).css(C,e.currentTarget.css(C))},drag:function(e){var t=this.owner,n={left:Math.max(e.x.client-t.startPosition.left,t.minLeftPosition),top:Math.max(e.y.client-t.startPosition.top,t.minTopPosition)};i(t.wrapper).css(n)},_finishDrag:function(){var e=this.owner;e.wrapper.find(x).toggle(!e.options.isMinimized).end().find(y).remove(),i(m).css(C,"")},dragcancel:function(i){this._finishDrag(),i.currentTarget.closest(v).css(this.owner.initialWindowPosition)},dragend:function(){return this._finishDrag(),this.owner.trigger(R),!1},destroy:function(){this._draggable.destroy()}},a.ui.plugin(Q)}(window.kendo.jQuery);;!function(e,t){var n,o,i=window.kendo,r=i.Class,a=i.ui.Widget,s=i.support.mobileOS,l=i.support.browser,d=e.extend,c=e.proxy,u=i.deepExtend,f=".kendoEditor",p=i.keys,m=r.extend({init:function(e){this.options=e},getHtml:function(){var e=this.options;return i.template(e.template,{useWithBlock:!1})(e)}}),h={editorWrapperTemplate:'<table cellspacing="4" cellpadding="0" class="k-widget k-editor k-header" role="presentation"><tbody><tr role="presentation"><td class="k-editor-toolbar-wrap k-secondary" role="presentation"><ul class="k-editor-toolbar" role="toolbar" /></td></tr><tr><td class="k-editable-area" /></tr></tbody></table>',buttonTemplate:'<a href="" role="button" class="k-tool-icon #= data.cssClass #"#= data.popup ? " data-popup" : "" # unselectable="on" title="#= data.title #">#= data.title #</a>',colorPickerTemplate:'<div class="k-colorpicker #= data.cssClass #" />',comboBoxTemplate:'<select title="#= data.title #" class="#= data.cssClass #" />',dropDownListTemplate:'<select title="#= data.title #" class="#= data.cssClass #" />',separatorTemplate:'<span class="k-separator" />',formatByName:function(t,n){for(var o=0;o<n.length;o++)if(e.inArray(t,n[o].tags)>=0)return n[o]},registerTool:function(e,t){var n=t.options;n&&n.template&&(n.template.options.cssClass="k-"+e),t.name||(t.options.name=e,t.name=e.toLowerCase()),y.defaultTools[e]=t},registerFormat:function(e,t){y.fn.options.formats[e]=t}},g={bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",superscript:"Superscript",subscript:"Subscript",justifyCenter:"Center text",justifyLeft:"Align text left",justifyRight:"Align text right",justifyFull:"Justify",insertUnorderedList:"Insert unordered list",insertOrderedList:"Insert ordered list",indent:"Indent",outdent:"Outdent",createLink:"Insert hyperlink",unlink:"Remove hyperlink",insertImage:"Insert image",insertHtml:"Insert HTML",viewHtml:"View HTML",fontName:"Select font family",fontNameInherit:"(inherited font)",fontSize:"Select font size",fontSizeInherit:"(inherited size)",formatBlock:"Format",formatting:"Format",foreColor:"Color",backColor:"Background color",style:"Styles",emptyFolder:"Empty Folder",uploadFile:"Upload",orderBy:"Arrange by:",orderBySize:"Size",orderByName:"Name",invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',deleteFile:'Are you sure you want to delete "{0}"?',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',directoryNotFound:"A directory with this name was not found.",imageWebAddress:"Web address",imageAltText:"Alternate text",linkWebAddress:"Web address",linkText:"Text",linkToolTip:"ToolTip",linkOpenInNewWindow:"Open link in new window",dialogUpdate:"Update",dialogInsert:"Insert",dialogButtonSeparator:"or",dialogCancel:"Cancel",createTable:"Create table",addColumnLeft:"Add column on the left",addColumnRight:"Add column on the right",addRowAbove:"Add row above",addRowBelow:"Add row below",deleteRow:"Delete row",deleteColumn:"Delete column"},v=!s||s.ios&&s.flatVersion>=500||!s.ios&&t!==document.documentElement.contentEditable,b={basic:["bold","italic","underline"],alignment:["justifyLeft","justifyCenter","justifyRight"],lists:["insertUnorderedList","insertOrderedList"],indenting:["indent","outdent"],links:["createLink","unlink"],tables:["createTable","addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"]},y=a.extend({init:function(t,n){var o,r,s,l=this,p=i.ui.editor,m=p.Dom.name(t);v&&(a.fn.init.call(l,t,n),l.options=u({},l.options,n),t=l.element,t.closest("form").on("submit"+f,function(){l.update()}),s=d({},l.options),s.editor=l,"textarea"==m?(l._wrapTextarea(),r=l.wrapper.find(".k-editor-toolbar"),t[0].id&&r.attr("aria-controls",t[0].id)):(l.element.addClass("k-widget k-editor k-editor-inline"),s.popup=!0,r=e('<ul class="k-editor-toolbar k-secondary" role="toolbar" />').insertBefore(t)),l.toolbar=new p.Toolbar(r[0],s),l.toolbar.bindTo(l),l._initializeContentElement(l),l.keyboard=new p.Keyboard([new p.TypingHandler(l),new p.SystemHandler(l)]),l.clipboard=new p.Clipboard(this),l.undoRedoStack=new p.UndoRedoStack,o=n&&n.value?n.value:l.textarea?t.val().replace(/[\r\n\v\f\t ]+/gi," "):t[0].innerHTML,l.value(o),e(document).on("mousedown",c(l._endTyping,l)).on("mouseup",c(l._mouseup,l)),i.notify(l))},_endTyping:function(){var e=this.keyboard;try{e.isTypingInProgress()&&(e.endTyping(!0),this.saveSelection())}catch(t){}},_selectionChange:function(){this._selectionStarted=!1,this.saveSelection(),this.trigger("select",{})},_wrapTextarea:function(){var t=this,n=t.element,o=n[0].style.width,i=n[0].style.height,r=h.editorWrapperTemplate,a=e(r).insertBefore(n).width(o).height(i),s=a.find(".k-editable-area");n.attr("autocomplete","off").appendTo(s).addClass("k-content k-raw-content").css("display","none"),t.textarea=n,t.wrapper=a},_createContentElement:function(t){var n,o,r,a=this,s=a.textarea,l=i.support.isRtl(s)?"direction:rtl;":"";return s.hide(),n=e("<iframe />",{src:'javascript:""',frameBorder:"0"}).css("display","").addClass("k-content").insertBefore(s)[0],o=n.contentWindow||n,r=o.document||n.contentDocument,e(n).one("load",function(){var e=a.toolbar.items().filter(".k-decorated");e.kendoSelectBox("decorate",r)}),r.open(),r.write("<!DOCTYPE html><html><head><meta charset='utf-8' /><style>html,body{padding:0;margin:0;background:#fff;height:100%;min-height:100%;}body{font-size:12px;font-family:Verdana,Geneva,sans-serif;padding-top:1px;margin-top:-1px;word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;"+l+"}"+"h1{font-size:2em;margin:.67em 0}h2{font-size:1.5em}h3{font-size:1.16em}h4{font-size:1em}h5{font-size:.83em}h6{font-size:.7em}"+"p{margin:0 0 1em;padding:0 .2em}.k-marker{display:none;}.k-paste-container,.Apple-style-span{position:absolute;left:-10000px;width:1px;height:1px;overflow:hidden}"+"ul,ol{padding-left:2.5em}"+"a{color:#00a}"+"code{font-size:1.23em}"+".k-table{width:100%;border-spacing:0;margin: 0 0 1em;}"+".k-table td{min-width:1px;padding:.2em .3em;}"+".k-table,.k-table td{outline:0;border: 1px dotted #ccc;}"+".k-table p{margin:0;padding:0;}"+"</style>"+"<script>(function(d,c){d[c]('header'),d[c]('article'),d[c]('nav'),d[c]('section'),d[c]('footer');})(document, 'createElement');</script>"+e.map(t,function(e){return"<link rel='stylesheet' href='"+e+"'>"}).join("")+"</head><body autocorrect='off' contenteditable='true'></body></html>"),r.close(),o},_initializeContentElement:function(){var n,o,r,a=this;a.textarea?(a.window=a._createContentElement(a.options.stylesheets),n=a.document=a.window.contentDocument||a.window.document,a.body=n.body,o=a.window,e(n).on("mouseup"+f,c(a._mouseup,a))):(a.window=window,n=a.document=document,a.body=a.element[0],o=a.body,r=a.toolbar.items().filter(".k-decorated"),r.kendoSelectBox("decorate",n)),e(o).on("blur"+f,function(){var e=a.textarea?a.textarea.val():a._oldValue,t=a.options.encoded?a.encodedValue():a.value();a.update(),t!=e&&a.trigger("change")});try{n.execCommand("enableInlineTableEditing",null,!1)}catch(s){}i.support.touch&&e(n).on("selectionchange"+f,function(){a._selectionChange()}),e(a.body).on("keydown"+f,function(e){var n,o,r,s,d,u,f,m,h;return e.keyCode===p.F10?(setTimeout(c(a.toolbar.focus,a.toolbar),100),e.preventDefault(),t):(e.keyCode===p.BACKSPACE?(n=a.getRange(),r=l.msie?"":'<br _moz_dirty="" />',s=i.ui.editor.Dom,n.deleteContents(),o=n.commonAncestorContainer,"p"===s.name(o)&&""===o.innerHTML&&(o.innerHTML=r,n.setStart(o,0),n.collapse(!0),a.selectRange(n))):(e.keyCode==p.LEFT||e.keyCode==p.RIGHT)&&(n=a.getRange(),d=e.keyCode==p.LEFT,u=n[d?"startContainer":"endContainer"],f=n[d?"startOffset":"endOffset"],m=d?-1:1,d&&(f-=1),f+m>0&&3==u.nodeType&&"﻿"==u.nodeValue[f]&&(n.setStart(u,f+m),n.collapse(!0),a.selectRange(n))),(h=a.keyboard.toolFromShortcut(a.toolbar.tools,e))?(e.preventDefault(),/undo|redo/.test(h)||a.keyboard.endTyping(!0),a.trigger("keydown",e),a.exec(h),!1):(a.keyboard.clearTimeout(),a.keyboard.keydown(e),t))}).on("keyup"+f,function(t){var n=[8,9,33,34,35,36,37,38,39,40,40,45,46];(e.inArray(t.keyCode,n)>-1||65==t.keyCode&&t.ctrlKey&&!t.altKey&&!t.shiftKey)&&a._selectionChange(),a.keyboard.keyup(t)}).on("mousedown"+f,function(t){a._selectionStarted=!0;var n=e(t.target);!l.gecko&&2==t.which&&n.is("a[href]")&&window.open(n.attr("href"),"_new")}).on("click"+f,function(e){var t,n=i.ui.editor.Dom;"img"===n.name(e.target)&&(t=a.createRange(),t.selectNode(e.target),a.selectRange(t))}).on("cut"+f+" paste"+f,function(e){a.clipboard["on"+e.type](e)}).on("focusin"+f,function(){e(this).addClass("k-state-active"),a.toolbar.show()}).on("focusout"+f,function(){setTimeout(function(){var t=i._activeElement(),n=a.body,o=a.toolbar;t==n||e.contains(n,t)||o.focused()||(e(n).removeClass("k-state-active"),o.hide())},10)})},_mouseup:function(){var e=this;e._selectionStarted&&setTimeout(function(){e._selectionChange()},1)},refresh:function(){var e=this;e.textarea.val(e.value()),e.wrapper.find("iframe").remove(),e._initializeContentElement(e),e.value(e.textarea.val())},events:["select","change","execute","error","paste","keydown","keyup"],options:{name:"Editor",messages:g,formats:{},encoded:!0,stylesheets:[],dialogOptions:{modal:!0,resizable:!1,draggable:!0,animation:!1},fontName:[{text:"Arial",value:"Arial,Helvetica,sans-serif"},{text:"Courier New",value:"'Courier New',Courier,monospace"},{text:"Georgia",value:"Georgia,serif"},{text:"Impact",value:"Impact,Charcoal,sans-serif"},{text:"Lucida Console",value:"'Lucida Console',Monaco,monospace"},{text:"Tahoma",value:"Tahoma,Geneva,sans-serif"},{text:"Times New Roman",value:"'Times New Roman',Times,serif"},{text:"Trebuchet MS",value:"'Trebuchet MS',Helvetica,sans-serif"},{text:"Verdana",value:"Verdana,Geneva,sans-serif"}],fontSize:[{text:"1 (8pt)",value:"xx-small"},{text:"2 (10pt)",value:"x-small"},{text:"3 (12pt)",value:"small"},{text:"4 (14pt)",value:"medium"},{text:"5 (18pt)",value:"large"},{text:"6 (24pt)",value:"x-large"},{text:"7 (36pt)",value:"xx-large"}],formatBlock:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],tools:[].concat.call(["formatting"],b.basic,b.alignment,b.lists,b.indenting,b.links,["insertImage"],b.tables)},destroy:function(){var t=this;a.fn.destroy.call(t),e(t.window).add(t.document).add(t.body).add(t.wrapper).add(t.element.closest("form")).off(f),e(document).off("mousedown",c(t._endTyping,t)).off("mouseup",c(t._mouseup,t)),i.destroy(t.wrapper)},value:function(n){var o,r,a,s=this.body,d=i.ui.editor,c=d.Dom,u=d.Serializer.domToXhtml(s);return n===t?u:(n!=u&&(o=/onerror\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/i,n=(n||"").replace(/<!\[CDATA\[(.*)?\]\]>/g,"<!--[CDATA[$1]]-->").replace(/<script([^>]*)>(.*)?<\/script>/gi,"<telerik:script $1>$2</telerik:script>").replace(/<img([^>]*)>/gi,function(e){return e.replace(o,"")}).replace(/(<\/?img[^>]*>)[\r\n\v\f\t ]+/gi,"$1").replace(/<p([^>]*)>(\s*)?<\/p>/gi,"<p$1>"+d.emptyElementContent+"</p>"),l.msie&&l.version<9?(n="<br/>"+n,r="originalsrc",a="originalhref",n=n.replace(/href\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,a+'="$1"'),n=n.replace(/src\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,r+'="$1"'),s.innerHTML=n,c.remove(s.firstChild),e(s).find("telerik\\:script,script,link,img,a").each(function(){var e=this;e[a]&&(e.setAttribute("href",e[a]),e.removeAttribute(a)),e[r]&&(e.setAttribute("src",e[r]),e.removeAttribute(r))})):(s.innerHTML=n,l.msie&&(c.normalize(s),setTimeout(function(){var e,t,n,o=s.getElementsByTagName("ol");for(e=0;e<o.length;e++)t=o[e],n=t.getAttribute("start"),t.setAttribute("start",1),n?t.setAttribute("start",n):t.removeAttribute(n)},1))),e("table",this.body).addClass("k-table"),this.selectionRestorePoint=null,this.update()),t)},saveSelection:function(t){t=t||this.getRange();var n=t.commonAncestorContainer,o=this.body;(n==o||e.contains(o,n))&&(this.selectionRestorePoint=new i.ui.editor.RestorePoint(t))},_focusBody:function(){var e=this.body;i._activeElement()!=e&&e.focus()},restoreSelection:function(){this._focusBody(),this.selectionRestorePoint&&this.selectRange(this.selectionRestorePoint.toRange())},focus:function(){this.restoreSelection()},update:function(e){e=e||this.options.encoded?this.encodedValue():this.value(),this.textarea?this.textarea.val(e):this._oldValue=e},encodedValue:function(){return i.ui.editor.Dom.encode(this.value())},createRange:function(e){return i.ui.editor.RangeUtils.createRange(e||this.document)},getSelection:function(){return i.ui.editor.SelectionUtils.selectionFromDocument(this.document)},selectRange:function(e){this._focusBody();var t=this.getSelection();t.removeAllRanges(),t.addRange(e),this.saveSelection(e)},getRange:function(){var e=this.getSelection(),t=e.rangeCount>0?e.getRangeAt(0):this.createRange(),n=this.document;return t.startContainer!=n||t.endContainer!=n||t.startOffset||t.endOffset||(t.setStart(this.body,0),t.collapse(!0)),t},selectedHtml:function(){return i.ui.editor.Serializer.domToXhtml(this.getRange().cloneContents())},paste:function(e,t){this.clipboard.paste(e,t)},exec:function(e,n){var o,i,r,a=this,s=null;if(!e)throw Error("kendoEditor.exec(): `name` parameter cannot be empty");if(e=e.toLowerCase(),a.keyboard.isTypingInProgress()||a.restoreSelection(),i=a.toolbar.toolById(e),!i)for(r in y.defaultTools)if(r.toLowerCase()==e){i=y.defaultTools[r];break}if(i){if(o=a.getRange(),i.command&&(s=i.command(d({range:o},n))),a.trigger("execute",{name:e,command:s}),/undo|redo/i.test(e))a.undoRedoStack[e]();else if(s&&(s.managesUndoRedo||a.undoRedoStack.push(s),s.editor=a,s.exec(),s.async))return s.change=c(a._selectionChange,a),t;a._selectionChange()}}});y.defaultTools={undo:{options:{key:"Z",ctrl:!0}},redo:{options:{key:"Y",ctrl:!0}}},i.ui.plugin(y),n=r.extend({init:function(e){this.options=e},initialize:function(e,t){e.attr({unselectable:"on",title:t.title})},command:function(e){return new this.options.command(e)},update:e.noop}),n.exec=function(e,t,n){e.exec(t,{value:n})},o=n.extend({init:function(e){n.fn.init.call(this,e)},command:function(e){var t=this;return new i.ui.editor.FormatCommand(d(e,{formatter:t.options.formatter}))},update:function(e,t){var n=this.options.finder.isFormatted(t);e.toggleClass("k-state-selected",n),e.attr("aria-pressed",n)}}),h.registerTool("separator",new n({template:new m({template:h.separatorTemplate})})),d(i.ui,{editor:{ToolTemplate:m,EditorUtils:h,Tool:n,FormatTool:o,_bomFill:l.msie&&l.version<9?"﻿":"",emptyElementContent:l.msie?l.version<9?"﻿":"":'<br _moz_dirty="" />'}})}(window.jQuery),function(e){function t(e){var t,n,o={};for(t=0,n=e.length;n>t;t++)o[e[t]]=!0;return o}var n,o,i,r,a,s,l,d,c=window.kendo,u=e.map,f=e.extend,p=c.support.browser,m="style",h="float",g="cssFloat",v="styleFloat",b="class",y="k-marker",k=t("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed".split(",")),w="div,p,h1,h2,h3,h4,h5,h6,address,applet,blockquote,button,center,dd,dir,dl,dt,fieldset,form,frameset,hr,iframe,isindex,li,map,menu,noframes,noscript,object,ol,pre,script,table,tbody,td,tfoot,th,thead,tr,ul,header,article,nav,footer,section,aside,main,figure,figcaption".split(","),C=t(w),x="span,em,a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,strike,strong,sub,sup,textarea,tt,u,var,data,time,mark,ruby".split(","),T=t(x),S=t("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected".split(",")),N=function(e){1==e.nodeType&&e.normalize()};p.msie&&p.version>=8&&(N=function(e){if(1==e.nodeType&&e.firstChild)for(var t=e.firstChild,n=t;;){if(n=n.nextSibling,!n)break;3==n.nodeType&&3==t.nodeType&&(n.nodeValue=t.nodeValue+n.nodeValue,d.remove(t)),t=n}}),o=/^\s+$/,i=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,r=/\ufeff/g,a="color,padding-left,padding-right,padding-top,padding-bottom,background-color,background-attachment,background-image,background-position,background-repeat,border-top-style,border-top-width,border-top-color,border-bottom-style,border-bottom-width,border-bottom-color,border-left-style,border-left-width,border-left-color,border-right-style,border-right-width,border-right-color,font-family,font-size,font-style,font-variant,font-weight,line-height".split(","),s=/[\u00A0-\u2666<>\&]/g,l={34:"quot",38:"amp",39:"apos",60:"lt",62:"gt",160:"nbsp",161:"iexcl",162:"cent",163:"pound",164:"curren",165:"yen",166:"brvbar",167:"sect",168:"uml",169:"copy",170:"ordf",171:"laquo",172:"not",173:"shy",174:"reg",175:"macr",176:"deg",177:"plusmn",178:"sup2",179:"sup3",180:"acute",181:"micro",182:"para",183:"middot",184:"cedil",185:"sup1",186:"ordm",187:"raquo",188:"frac14",189:"frac12",190:"frac34",191:"iquest",192:"Agrave",193:"Aacute",194:"Acirc",195:"Atilde",196:"Auml",197:"Aring",198:"AElig",199:"Ccedil",200:"Egrave",201:"Eacute",202:"Ecirc",203:"Euml",204:"Igrave",205:"Iacute",206:"Icirc",207:"Iuml",208:"ETH",209:"Ntilde",210:"Ograve",211:"Oacute",212:"Ocirc",213:"Otilde",214:"Ouml",215:"times",216:"Oslash",217:"Ugrave",218:"Uacute",219:"Ucirc",220:"Uuml",221:"Yacute",222:"THORN",223:"szlig",224:"agrave",225:"aacute",226:"acirc",227:"atilde",228:"auml",229:"aring",230:"aelig",231:"ccedil",232:"egrave",233:"eacute",234:"ecirc",235:"euml",236:"igrave",237:"iacute",238:"icirc",239:"iuml",240:"eth",241:"ntilde",242:"ograve",243:"oacute",244:"ocirc",245:"otilde",246:"ouml",247:"divide",248:"oslash",249:"ugrave",250:"uacute",251:"ucirc",252:"uuml",253:"yacute",254:"thorn",255:"yuml",402:"fnof",913:"Alpha",914:"Beta",915:"Gamma",916:"Delta",917:"Epsilon",918:"Zeta",919:"Eta",920:"Theta",921:"Iota",922:"Kappa",923:"Lambda",924:"Mu",925:"Nu",926:"Xi",927:"Omicron",928:"Pi",929:"Rho",931:"Sigma",932:"Tau",933:"Upsilon",934:"Phi",935:"Chi",936:"Psi",937:"Omega",945:"alpha",946:"beta",947:"gamma",948:"delta",949:"epsilon",950:"zeta",951:"eta",952:"theta",953:"iota",954:"kappa",955:"lambda",956:"mu",957:"nu",958:"xi",959:"omicron",960:"pi",961:"rho",962:"sigmaf",963:"sigma",964:"tau",965:"upsilon",966:"phi",967:"chi",968:"psi",969:"omega",977:"thetasym",978:"upsih",982:"piv",8226:"bull",8230:"hellip",8242:"prime",8243:"Prime",8254:"oline",8260:"frasl",8472:"weierp",8465:"image",8476:"real",8482:"trade",8501:"alefsym",8592:"larr",8593:"uarr",8594:"rarr",8595:"darr",8596:"harr",8629:"crarr",8656:"lArr",8657:"uArr",8658:"rArr",8659:"dArr",8660:"hArr",8704:"forall",8706:"part",8707:"exist",8709:"empty",8711:"nabla",8712:"isin",8713:"notin",8715:"ni",8719:"prod",8721:"sum",8722:"minus",8727:"lowast",8730:"radic",8733:"prop",8734:"infin",8736:"ang",8743:"and",8744:"or",8745:"cap",8746:"cup",8747:"int",8756:"there4",8764:"sim",8773:"cong",8776:"asymp",8800:"ne",8801:"equiv",8804:"le",8805:"ge",8834:"sub",8835:"sup",8836:"nsub",8838:"sube",8839:"supe",8853:"oplus",8855:"otimes",8869:"perp",8901:"sdot",8968:"lceil",8969:"rceil",8970:"lfloor",8971:"rfloor",9001:"lang",9002:"rang",9674:"loz",9824:"spades",9827:"clubs",9829:"hearts",9830:"diams",338:"OElig",339:"oelig",352:"Scaron",353:"scaron",376:"Yuml",710:"circ",732:"tilde",8194:"ensp",8195:"emsp",8201:"thinsp",8204:"zwnj",8205:"zwj",8206:"lrm",8207:"rlm",8211:"ndash",8212:"mdash",8216:"lsquo",8217:"rsquo",8218:"sbquo",8220:"ldquo",8221:"rdquo",8222:"bdquo",8224:"dagger",8225:"Dagger",8240:"permil",8249:"lsaquo",8250:"rsaquo",8364:"euro"},d={findNodeIndex:function(e,t){for(var n=0;;){if(e=e.previousSibling,!e)break;t&&3==e.nodeType||n++}return n},isDataNode:function(e){return e&&null!==e.nodeValue&&null!==e.data},isAncestorOf:function(t,n){try{return!d.isDataNode(t)&&(e.contains(t,d.isDataNode(n)?n.parentNode:n)||n.parentNode==t)}catch(o){return!1}},isAncestorOrSelf:function(e,t){return d.isAncestorOf(e,t)||e==t},findClosestAncestor:function(e,t){if(d.isAncestorOf(e,t))for(;t&&t.parentNode!=e;)t=t.parentNode;return t},getNodeLength:function(e){return d.isDataNode(e)?e.length:e.childNodes.length},splitDataNode:function(e,t){for(var n=e.cloneNode(!1),o="",i=e;i.nextSibling&&3==i.nextSibling.nodeType&&i.nextSibling.nodeValue;)o+=i.nextSibling.nodeValue,i=i.nextSibling;e.deleteData(t,e.length),n.deleteData(0,t),n.nodeValue+=o,d.insertAfter(n,e)},attrEquals:function(t,n){var o,i;for(o in n)if(i=t[o],o==h&&(i=t[e.support.cssFloat?g:v]),"object"==typeof i){if(!d.attrEquals(i,n[o]))return!1}else if(i!=n[o])return!1;return!0},blockParentOrBody:function(e){return d.parentOfType(e,w)||e.ownerDocument.body},blockParents:function(t){var n,o,i,r=[];for(n=0,o=t.length;o>n;n++)i=d.parentOfType(t[n],d.blockElements),i&&e.inArray(i,r)<0&&r.push(i);return r},windowFromDocument:function(e){return e.defaultView||e.parentWindow},normalize:N,blockElements:w,inlineElements:x,empty:k,fillAttrs:S,toHex:function(e){var t=i.exec(e);return t?"#"+u(t.slice(1),function(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e}).join(""):e},encode:function(e){return e.replace(s,function(e){var t=e.charCodeAt(0),n=l[t];return n?"&"+n+";":e})},stripBom:function(e){return e.replace(r,"")},name:function(e){return e.nodeName.toLowerCase()},significantChildNodes:function(t){return e.grep(t.childNodes,function(e){return 3!=e.nodeType||!d.isWhitespace(e)})},lastTextNode:function(e){var t,n=null;if(3==e.nodeType)return e;for(t=e.lastChild;t;t=t.previousSibling)if(n=d.lastTextNode(t))return n;return n},is:function(e,t){return d.name(e)==t},isMarker:function(e){return e.className==y},isWhitespace:function(e){return o.test(e.nodeValue)},isBlock:function(e){return C[d.name(e)]},isEmpty:function(e){return k[d.name(e)]},isInline:function(e){return T[d.name(e)]},scrollContainer:function(e){var t=d.windowFromDocument(e),n=(t.contentWindow||t).document||t.ownerDocument||t;return n=c.support.browser.webkit||"BackCompat"==n.compatMode?n.body:n.documentElement},scrollTo:function(t){var n,o,i=e(d.isDataNode(t)?t.parentNode:t),r=d.windowFromDocument(t.ownerDocument),a=r.innerHeight,s=d.scrollContainer(t.ownerDocument);"br"==d.name(i[0])&&(i=i.parent()),n=i.offset().top,o=i[0].offsetHeight,o+n>s.scrollTop+a&&(s.scrollTop=o+n-a)},persistScrollTop:function(e){n=d.scrollContainer(e).scrollTop},restoreScrollTop:function(e){d.scrollContainer(e).scrollTop=n},insertAt:function(e,t,n){e.insertBefore(t,e.childNodes[n]||null)},insertBefore:function(e,t){return t.parentNode?t.parentNode.insertBefore(e,t):t},insertAfter:function(e,t){return t.parentNode.insertBefore(e,t.nextSibling)},remove:function(e){e.parentNode.removeChild(e)},removeTextSiblings:function(e){for(var t=e.parentNode;e.nextSibling&&3==e.nextSibling.nodeType;)t.removeChild(e.nextSibling);for(;e.previousSibling&&3==e.previousSibling.nodeType;)t.removeChild(e.previousSibling)},trim:function(e){var t,n;for(t=e.childNodes.length-1;t>=0;t--)n=e.childNodes[t],d.isDataNode(n)?(d.stripBom(n.nodeValue).length||d.remove(n),d.isWhitespace(n)&&d.insertBefore(n,e)):n.className!=y&&(d.trim(n),n.childNodes.length||d.isEmpty(n)||d.remove(n));return e},closest:function(e,t){for(;e&&d.name(e)!=t;)e=e.parentNode;return e},sibling:function(e,t){do e=e[t];while(e&&1!=e.nodeType);return e},next:function(e){return d.sibling(e,"nextSibling")},prev:function(e){return d.sibling(e,"previousSibling")},parentOfType:function(e,t){do e=e.parentNode;while(e&&!d.ofType(e,t));return e},ofType:function(t,n){return e.inArray(d.name(t),n)>=0},changeTag:function(e,t){var n,o,i,r,a,s=d.create(e.ownerDocument,t),l=e.attributes;for(n=0,o=l.length;o>n;n++)a=l[n],a.specified&&(i=a.nodeName,r=a.nodeValue,i==b?s.className=r:i==m?s.style.cssText=e.style.cssText:s.setAttribute(i,r));for(;e.firstChild;)s.appendChild(e.firstChild);return d.insertBefore(s,e),d.remove(e),s},wrap:function(e,t){return d.insertBefore(t,e),t.appendChild(e),t},unwrap:function(e){for(var t=e.parentNode;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)},create:function(e,t,n){return d.attr(e.createElement(t),n)},attr:function(e,t){t=f({},t),t&&m in t&&(d.style(e,t.style),delete t.style);for(var n in t)null===t[n]?(e.removeAttribute(n),delete t[n]):"className"==n&&(e[n]=t[n]);return f(e,t)},style:function(t,n){e(t).css(n||{})},unstyle:function(t,n){for(var o in n)o==h&&(o=e.support.cssFloat?g:v),t.style[o]="";""===t.style.cssText&&t.removeAttribute(m)},inlineStyle:function(t,n,o){var i,r=e(d.create(t,n,o));return t.body.appendChild(r[0]),i=u(a,function(e){return p.msie&&"line-height"==e&&"1px"==r.css(e)?"line-height:1.5":e+":"+r.css(e)}).join(";"),r.remove(),i},removeClass:function(t,n){var o,i,r=" "+t.className+" ",a=n.split(" ");for(o=0,i=a.length;i>o;o++)r=r.replace(" "+a[o]+" "," ");r=e.trim(r),r.length?t.className=r:t.removeAttribute(b)},commonAncestor:function(){var e,t,n,o,i,r=arguments.length,a=[],s=1/0,l=null;if(!r)return null;if(1==r)return arguments[0];for(e=0;r>e;e++){for(t=[],n=arguments[e];n;)t.push(n),n=n.parentNode;a.push(t.reverse()),s=Math.min(s,t.length)}if(1==r)return a[0][0];for(e=0;s>e;e++){for(o=a[0][e],i=1;r>i;i++)if(o!=a[i][e])return l;l=o}return l},closestSplittableParent:function(e){var t;return t=1==e.length?d.parentOfType(e[0],["ul","ol"]):d.commonAncestor.apply(null,e),t||(t=d.parentOfType(e[0],["p","td"])||e[0].ownerDocument.body),d.isInline(t)&&(t=d.blockParentOrBody(t)),t}},c.ui.editor.Dom=d}(window.kendo.jQuery),function(e,t){var n=window.kendo,o=n.ui.editor,i=o.Dom,r=e.extend,a="xx-small,x-small,small,medium,large,x-large,xx-large".split(","),s=/"/g,l=/<br[^>]*>/i,d=/<p><\/p>/i,c=/([\w|\-]+)\s*:\s*([^;]+);?/i,u=/^sizzle-\d+/i,f={domToXhtml:function(n){function o(t){var n,o,r,a,l=e.trim,d=l(t).split(";"),u=d.length;for(n=0,u=d.length;u>n;n++)d[n].length&&(o=c.exec(d[n]),o&&(r=l(o[1].toLowerCase()),a=l(o[2]),"font-size-adjust"!=r&&"font-stretch"!=r&&(r.indexOf("color")>=0?a=i.toHex(a):r.indexOf("font")>=0?a=a.replace(s,"'"):/\burl\(/g.test(a)&&(a=a.replace(s,"")),h.push(r),h.push(":"),h.push(a),h.push(";"))))}function r(n){var r,a,s,l,d,c,f,p,m,g=[],v=n.attributes;for(i.is(n,"img")&&(f=n.style.width,p=n.style.height,m=e(n),f&&(m.attr("width",parseInt(f,10)),i.unstyle(n,{width:t})),p&&(m.attr("height",parseInt(p,10)),i.unstyle(n,{height:t}))),a=0,s=v.length;s>a;a++)r=v[a],l=r.nodeName,d=r.nodeValue,c=r.specified,"value"==l&&"value"in n&&n.value?c=!0:"type"==l&&"text"==d?c=!0:"class"!=l||d?u.test(l)?c=!1:"complete"==l?c=!1:"altHtml"==l?c=!1:l.indexOf("_moz")>=0&&(c=!1):c=!1,c&&g.push(r);if(g.length)for(g.sort(function(e,t){return e.nodeName>t.nodeName?1:e.nodeName<t.nodeName?-1:0}),a=0,s=g.length;s>a;a++)r=g[a],l=r.nodeName,d=r.nodeValue,("contenteditable"!=l.toLowerCase()||!i.is(n,"table")&&!i.is(n,"td"))&&("class"!=l||"k-table"!=d)&&(h.push(" "),h.push(l),h.push('="'),"style"==l?o(d||n.style.cssText):"src"==l||"href"==l?h.push(n.getAttribute(l,2)):h.push(i.fillAttrs[l]?l:d),h.push('"'))}function f(e,t){for(var n=e.firstChild;n;n=n.nextSibling)m(n,t)}function p(e){return e.nodeValue.replace(/\ufeff/g,"")}function m(n,o){var a,s,l,d,c,u=n.nodeType;if(1==u){if(a=i.name(n),!a||(n.attributes._moz_dirty||n.attributes._moz_editor_bogus_node)&&i.is(n,"br")||"k-marker"==n.className)return;if(i.isInline(n)&&1==n.childNodes.length&&3==n.firstChild.nodeType&&!p(n.firstChild))return;if(s=g[a])return s.start(n),f(n),s.end(n),t;h.push("<"),h.push(a),r(n),i.empty[a]?h.push(" />"):(h.push(">"),f(n,o||i.is(n,"pre")),h.push("</"),h.push(a),h.push(">"))}else 3==u?(d=p(n),!o&&e.support.leadingWhitespace&&(l=n.parentNode,c=n.previousSibling,c||(c=(i.isInline(l)?l:n).previousSibling),(!c||""===c.innerHTML||i.isBlock(c))&&(d=d.replace(/^[\r\n\v\f\t ]+/,"")),d=d.replace(/ +/," ")),h.push(i.encode(d))):4==u?(h.push("<![CDATA["),h.push(n.data),h.push("]]>")):8==u&&(n.data.indexOf("[CDATA[")<0?(h.push("<!--"),h.push(n.data),h.push("-->")):(h.push("<!"),h.push(n.data),h.push(">")))}var h=[],g={"telerik:script":{start:function(e){h.push("<script"),r(e),h.push(">")},end:function(){h.push("</script>")}},b:{start:function(){h.push("<strong>")},end:function(){h.push("</strong>")}},i:{start:function(){h.push("<em>")},end:function(){h.push("</em>")}},u:{start:function(){h.push('<span style="text-decoration:underline;">')},end:function(){h.push("</span>")}},iframe:{start:function(e){h.push("<iframe"),r(e),h.push(">")},end:function(){h.push("</iframe>")}},font:{start:function(e){var t,n,o;h.push('<span style="'),t=e.getAttribute("color"),n=a[e.getAttribute("size")],o=e.getAttribute("face"),t&&(h.push("color:"),h.push(i.toHex(t)),h.push(";")),o&&(h.push("font-face:"),h.push(o),h.push(";")),n&&(h.push("font-size:"),h.push(n),h.push(";")),h.push('">')},end:function(){h.push("</span>")}}};return 1==n.childNodes.length&&3==n.firstChild.nodeType?i.encode(p(n.firstChild).replace(/[\r\n\v\f\t ]+/," ")):(f(n),h=h.join(""),""===h.replace(l,"").replace(d,"")?"":h)}};r(o,{Serializer:f})}(window.kendo.jQuery),function(e){function t(e,t,n,o){var i,r,a,s;if(e==t)return o-n;for(i=t;i&&i.parentNode!=e;)i=i.parentNode;if(i)return p(i)-n;for(i=e;i&&i.parentNode!=t;)i=i.parentNode;if(i)return o-p(i)-1;for(r=f.commonAncestor(e,t),a=e;a&&a.parentNode!=r;)a=a.parentNode;for(a||(a=r),s=t;s&&s.parentNode!=r;)s=s.parentNode;return s||(s=r),a==s?0:p(s)-p(a)}function n(e,n){function o(e){try{return t(e.startContainer,e.endContainer,e.startOffset,e.endOffset)<0}catch(n){return!0}}o(e)&&(n?(e.commonAncestorContainer=e.endContainer=e.startContainer,e.endOffset=e.startOffset):(e.commonAncestorContainer=e.startContainer=e.endContainer,e.startOffset=e.endOffset),e.collapsed=!0)}function o(e){e.collapsed=e.startContainer==e.endContainer&&e.startOffset==e.endOffset;for(var t=e.startContainer;t&&t!=e.endContainer&&!f.isAncestorOf(t,e.endContainer);)t=t.parentNode;e.commonAncestorContainer=t}function i(e){var t=e.duplicate(),n=e.duplicate();return t.collapse(!0),n.collapse(!1),f.commonAncestor(e.parentElement(),t.parentElement(),n.parentElement())}function r(e,t,n){var o,i=t[n?"startContainer":"endContainer"],r=t[n?"startOffset":"endOffset"],a=0,s=m(i),l=s?i:i.childNodes[r]||null,d=s?i.parentNode:i,c=t.ownerDocument,u=c.body.createTextRange();(3==i.nodeType||4==i.nodeType)&&(a=r),d||(d=c.body),"img"==d.nodeName.toLowerCase()?(u.moveToElementText(d),u.collapse(!1),e.setEndPoint(n?"StartToStart":"EndToStart",u)):(o=d.insertBefore(f.create(c,"a"),l),u.moveToElementText(o),f.remove(o),u[n?"moveStart":"moveEnd"]("character",a),u.collapse(!1),e.setEndPoint(n?"StartToStart":"EndToStart",u))}function a(e,t,n,o){var i,r,a,s,l,d,c,u=f.create(t.ownerDocument,"a"),h=e.duplicate(),g=o?"StartToStart":"StartToEnd";u.innerHTML="﻿",h.collapse(o),r=h.parentElement(),f.isAncestorOrSelf(n,r)||(r=n);do r.insertBefore(u,u.previousSibling),h.moveToElementText(u);while((i=h.compareEndPoints(g,e))>0&&u.previousSibling);a=u.nextSibling,-1==i&&m(a)?(h.setEndPoint(o?"EndToStart":"EndToEnd",e),f.remove(u),d=[a,h.text.length]):(s=!o&&u.previousSibling,l=o&&u.nextSibling,m(l)?d=[l,0]:m(s)?d=[s,s.length]:(c=p(u),d=r.nextSibling&&c==r.childNodes.length-1?[r.nextSibling,0]:[r,c]),f.remove(u)),t[o?"setStart":"setEnd"].apply(t,d)}var s=window.kendo,l=s.Class,d=e.extend,c=s.ui.editor,u=s.support.browser,f=c.Dom,p=f.findNodeIndex,m=f.isDataNode,h=f.findClosestAncestor,g=f.getNodeLength,v=f.normalize,b={selectionFromWindow:function(e){return"getSelection"in e?e.getSelection():new w(e.document)},selectionFromRange:function(e){var t=N.documentFromRange(e);return b.selectionFromDocument(t)},selectionFromDocument:function(e){return b.selectionFromWindow(f.windowFromDocument(e))}},y=l.extend({init:function(t){e.extend(this,{ownerDocument:t,startContainer:t,endContainer:t,commonAncestorContainer:t,startOffset:0,endOffset:0,collapsed:!0})},setStart:function(e,t){this.startContainer=e,this.startOffset=t,o(this),n(this,!0)},setEnd:function(e,t){this.endContainer=e,this.endOffset=t,o(this),n(this,!1)},setStartBefore:function(e){this.setStart(e.parentNode,p(e))},setStartAfter:function(e){this.setStart(e.parentNode,p(e)+1)},setEndBefore:function(e){this.setEnd(e.parentNode,p(e))
},setEndAfter:function(e){this.setEnd(e.parentNode,p(e)+1)},selectNode:function(e){this.setStartBefore(e),this.setEndAfter(e)},selectNodeContents:function(e){this.setStart(e,0),this.setEnd(e,e[1===e.nodeType?"childNodes":"nodeValue"].length)},collapse:function(e){var t=this;e?t.setEnd(t.startContainer,t.startOffset):t.setStart(t.endContainer,t.endOffset)},deleteContents:function(){var e=this,t=e.cloneRange();e.startContainer!=e.commonAncestorContainer&&e.setStartAfter(h(e.commonAncestorContainer,e.startContainer)),e.collapse(!0),function n(e){for(;e.next();)e.hasPartialSubtree()?n(e.getSubtreeIterator()):e.remove()}(new k(t))},cloneContents:function(){var e=N.documentFromRange(this);return function t(n){for(var o,i=e.createDocumentFragment();o=n.next();)o=o.cloneNode(!n.hasPartialSubtree()),n.hasPartialSubtree()&&o.appendChild(t(n.getSubtreeIterator())),i.appendChild(o);return i}(new k(this))},extractContents:function(){var e,t=this,n=t.cloneRange();return t.startContainer!=t.commonAncestorContainer&&t.setStartAfter(h(t.commonAncestorContainer,t.startContainer)),t.collapse(!0),e=N.documentFromRange(t),function o(n){for(var i,r=e.createDocumentFragment();i=n.next();)n.hasPartialSubtree()?(i=i.cloneNode(!1),i.appendChild(o(n.getSubtreeIterator()))):n.remove(t.originalRange),r.appendChild(i);return r}(new k(n))},insertNode:function(e){var t=this;m(t.startContainer)?(t.startOffset!=t.startContainer.nodeValue.length&&f.splitDataNode(t.startContainer,t.startOffset),f.insertAfter(e,t.startContainer)):f.insertAt(t.startContainer,e,t.startOffset),t.setStart(t.startContainer,t.startOffset)},cloneRange:function(){return e.extend(new y(this.ownerDocument),{startContainer:this.startContainer,endContainer:this.endContainer,commonAncestorContainer:this.commonAncestorContainer,startOffset:this.startOffset,endOffset:this.endOffset,collapsed:this.collapsed,originalRange:this})},toString:function(){var e=this.startContainer.nodeName,t=this.endContainer.nodeName;return["#text"==e?this.startContainer.nodeValue:e,"(",this.startOffset,") : ","#text"==t?this.endContainer.nodeValue:t,"(",this.endOffset,")"].join("")}}),k=l.extend({init:function(t){if(e.extend(this,{range:t,_current:null,_next:null,_end:null}),!t.collapsed){var n=t.commonAncestorContainer;this._next=t.startContainer!=n||m(t.startContainer)?h(n,t.startContainer):t.startContainer.childNodes[t.startOffset],this._end=t.endContainer!=n||m(t.endContainer)?h(n,t.endContainer).nextSibling:t.endContainer.childNodes[t.endOffset]}},hasNext:function(){return!!this._next},next:function(){var e=this,t=e._current=e._next;return e._next=e._current&&e._current.nextSibling!=e._end?e._current.nextSibling:null,m(e._current)&&(e.range.endContainer==e._current&&(t=t.cloneNode(!0),t.deleteData(e.range.endOffset,t.length-e.range.endOffset)),e.range.startContainer==e._current&&(t=t.cloneNode(!0),t.deleteData(0,e.range.startOffset))),t},traverse:function(e){function t(){return o._current=o._next,o._next=o._current&&o._current.nextSibling!=o._end?o._current.nextSibling:null,o._current}for(var n,o=this;n=t();)o.hasPartialSubtree()?o.getSubtreeIterator().traverse(e):e(n);return n},remove:function(e){var t,n,o,i,r,a=this,s=a.range.startContainer==a._current,l=a.range.endContainer==a._current;m(a._current)&&(s||l)?(t=s?a.range.startOffset:0,n=l?a.range.endOffset:a._current.length,o=n-t,e&&(s||l)&&(a._current==e.startContainer&&t<=e.startOffset&&(e.startOffset-=o),a._current==e.endContainer&&n<=e.endOffset&&(e.endOffset-=o)),a._current.deleteData(t,o)):(i=a._current.parentNode,!e||a.range.startContainer!=i&&a.range.endContainer!=i||(r=p(a._current),i==e.startContainer&&r<=e.startOffset&&(e.startOffset-=1),i==e.endContainer&&r<e.endOffset&&(e.endOffset-=1)),f.remove(a._current))},hasPartialSubtree:function(){return!m(this._current)&&(f.isAncestorOrSelf(this._current,this.range.startContainer)||f.isAncestorOrSelf(this._current,this.range.endContainer))},getSubtreeIterator:function(){var e=this,t=e.range.cloneRange();return t.selectNodeContents(e._current),f.isAncestorOrSelf(e._current,e.range.startContainer)&&t.setStart(e.range.startContainer,e.range.startOffset),f.isAncestorOrSelf(e._current,e.range.endContainer)&&t.setEnd(e.range.endContainer,e.range.endOffset),new k(t)}}),w=l.extend({init:function(e){this.ownerDocument=e,this.rangeCount=1},addRange:function(e){var t=this.ownerDocument.body.createTextRange();r(t,e,!1),r(t,e,!0),t.select()},removeAllRanges:function(){this.ownerDocument.selection.empty()},getRangeAt:function(){var e,t,n,o,r,s,l,d,c=new y(this.ownerDocument),u=this.ownerDocument.selection;try{if(e=u.createRange(),t=e.item?e.item(0):e.parentElement(),t.ownerDocument!=this.ownerDocument)return c}catch(f){return c}if("Control"==u.type)c.selectNode(e.item(0));else if(n=i(e),a(e,c,n,!0),a(e,c,n,!1),9==c.startContainer.nodeType&&c.setStart(c.endContainer,c.startOffset),9==c.endContainer.nodeType&&c.setEnd(c.startContainer,c.endOffset),0===e.compareEndPoints("StartToEnd",e)&&c.collapse(!1),o=c.startContainer,r=c.endContainer,s=this.ownerDocument.body,!(c.collapsed||0!==c.startOffset||c.endOffset!=g(c.endContainer)||o==r&&m(o)&&o.parentNode==s)){for(l=!1,d=!1;0===p(o)&&o==o.parentNode.firstChild&&o!=s;)o=o.parentNode,l=!0;for(;p(r)==g(r.parentNode)-1&&r==r.parentNode.lastChild&&r!=s;)r=r.parentNode,d=!0;o==s&&r==s&&l&&d&&(c.setStart(o,0),c.setEnd(r,g(s)))}return c}}),C=l.extend({init:function(e){this.enumerate=function(){function t(e){if(f.is(e,"img")||3==e.nodeType&&(!f.isWhitespace(e)||"﻿"==e.nodeValue))n.push(e);else for(e=e.firstChild;e;)t(e),e=e.nextSibling}var n=[];return new k(e).traverse(t),n}}}),x=l.extend({init:function(e){var t=this;t.range=e,t.rootNode=N.documentFromRange(e),t.body=t.getEditable(e),"body"!=f.name(t.body)&&(t.rootNode=t.body),t.html=t.body.innerHTML,t.startContainer=t.nodeToPath(e.startContainer),t.endContainer=t.nodeToPath(e.endContainer),t.startOffset=t.offset(e.startContainer,e.startOffset),t.endOffset=t.offset(e.endContainer,e.endOffset)},index:function(e){for(var t,n=0,o=e.nodeType;e=e.previousSibling;)t=e.nodeType,(3!=t||o!=t)&&n++,o=t;return n},getEditable:function(e){for(var t=e.commonAncestorContainer;t&&(3==t.nodeType||t.attributes&&!t.attributes.contentEditable);)t=t.parentNode;return t},restoreHtml:function(){this.body.innerHTML=this.html},offset:function(e,t){if(3==e.nodeType)for(;(e=e.previousSibling)&&3==e.nodeType;)t+=e.nodeValue.length;return t},nodeToPath:function(e){for(var t=[];e!=this.rootNode;)t.push(this.index(e)),e=e.parentNode;return t},toRangePoint:function(e,t,n,o){for(var i=this.rootNode,r=n.length,a=o;r--;)i=i.childNodes[n[r]];for(;3==i.nodeType&&i.nodeValue.length<a;)a-=i.nodeValue.length,i=i.nextSibling;e[t?"setStart":"setEnd"](i,a)},toRange:function(){var e=this,t=e.range.cloneRange();return e.toRangePoint(t,!0,e.startContainer,e.startOffset),e.toRangePoint(t,!1,e.endContainer,e.endOffset),t}}),T=l.extend({init:function(){this.caret=null},addCaret:function(e){var t=this;return t.caret=f.create(N.documentFromRange(e),"span",{className:"k-marker"}),e.insertNode(t.caret),e.selectNode(t.caret),t.caret},removeCaret:function(e){var t,n,o,i,r=this,a=r.caret.previousSibling,s=0;a&&(s=m(a)?a.nodeValue.length:p(a)),t=r.caret.parentNode,n=a?p(a):0,f.remove(r.caret),v(t),o=t.childNodes[n],m(o)?e.setStart(o,s):o?(i=f.lastTextNode(o),i?e.setStart(i,i.nodeValue.length):e[a?"setStartAfter":"setStartBefore"](o)):(u.msie||t.innerHTML||(t.innerHTML='<br _moz_dirty="" />'),e.selectNodeContents(t)),e.collapse(!0)},add:function(e,t){var n,o,i=this,r=e.collapsed&&!N.isExpandable(e),a=N.documentFromRange(e);return t&&e.collapsed&&(i.addCaret(e),e=N.expand(e)),n=e.cloneRange(),n.collapse(!1),i.end=f.create(a,"span",{className:"k-marker"}),n.insertNode(i.end),n=e.cloneRange(),n.collapse(!0),i.start=i.end.cloneNode(!0),n.insertNode(i.start),i._removeDeadMarkers(i.start,i.end),r&&(o=a.createTextNode("﻿"),f.insertAfter(o.cloneNode(),i.start),f.insertBefore(o,i.end)),e.setStartBefore(i.start),e.setEndAfter(i.end),v(e.commonAncestorContainer),e},_removeDeadMarkers:function(e,t){e.previousSibling&&"﻿"==e.previousSibling.nodeValue&&f.remove(e.previousSibling),t.nextSibling&&"﻿"==t.nextSibling.nodeValue&&f.remove(t.nextSibling)},remove:function(e){var t,n,o,i,r,a,s,l,d,c,u,h,g,b=this,y=b.start,k=b.end;for(v(e.commonAncestorContainer);!y.nextSibling&&y.parentNode;)y=y.parentNode;for(;!k.previousSibling&&k.parentNode;)k=k.parentNode;if(t=y.previousSibling&&3==y.previousSibling.nodeType&&y.nextSibling&&3==y.nextSibling.nodeType,n=k.previousSibling&&3==k.previousSibling.nodeType&&k.nextSibling&&3==k.nextSibling.nodeType,o=t&&n,y=y.nextSibling,k=k.previousSibling,i=!1,r=!1,y==b.end&&(r=!!b.start.previousSibling,y=k=b.start.previousSibling||b.end.nextSibling,i=!0),f.remove(b.start),f.remove(b.end),!y||!k)return e.selectNodeContents(e.commonAncestorContainer),e.collapse(!0),void 0;if(a=i?m(y)?y.nodeValue.length:y.childNodes.length:0,s=m(k)?k.nodeValue.length:k.childNodes.length,3==y.nodeType)for(;y.previousSibling&&3==y.previousSibling.nodeType;)y=y.previousSibling,a+=y.nodeValue.length;if(3==k.nodeType)for(;k.previousSibling&&3==k.previousSibling.nodeType;)k=k.previousSibling,s+=k.nodeValue.length;for(l=p(y),d=y.parentNode,c=p(k),u=k.parentNode,h=y;h.previousSibling;h=h.previousSibling)3==h.nodeType&&3==h.previousSibling.nodeType&&l--;for(g=k;g.previousSibling;g=g.previousSibling)3==g.nodeType&&3==g.previousSibling.nodeType&&c--;v(d),3==y.nodeType&&(y=d.childNodes[l]),v(u),3==k.nodeType&&(k=u.childNodes[c]),i?(3==y.nodeType?e.setStart(y,a):e[r?"setStartAfter":"setStartBefore"](y),e.collapse(!0)):(3==y.nodeType?e.setStart(y,a):e.setStartBefore(y),3==k.nodeType?e.setEnd(k,s):e.setEndAfter(k)),b.caret&&b.removeCaret(e)}}),S=/[\u0009-\u000d]|\u0020|\u00a0|\ufeff|\.|,|;|:|!|\(|\)|\?/,N={nodes:function(e){var t=N.textNodes(e);return t.length||(e.selectNodeContents(e.commonAncestorContainer),t=N.textNodes(e),t.length||(t=f.significantChildNodes(e.commonAncestorContainer))),t},textNodes:function(e){return new C(e).enumerate()},documentFromRange:function(e){var t=e.startContainer;return 9==t.nodeType?t:t.ownerDocument},createRange:function(e){return u.msie&&u.version<9?new y(e):e.createRange()},selectRange:function(e){var t,n=N.image(e);n&&(e.setStartAfter(n),e.setEndAfter(n)),t=b.selectionFromRange(e),t.removeAllRanges(),t.addRange(e)},stringify:function(e){return s.format("{0}:{1} - {2}:{3}",f.name(e.startContainer),e.startOffset,f.name(e.endContainer),e.endOffset)},split:function(e,t,n){function o(o){var i,r=e.cloneRange();r.collapse(o),r[o?"setStartBefore":"setEndAfter"](t),i=r.extractContents(),n&&(i=f.trim(i)),f[o?"insertBefore":"insertAfter"](i,t)}o(!0),o(!1)},getMarkers:function(e){var t=[];return new k(e).traverse(function(e){"k-marker"==e.className&&t.push(e)}),t},image:function(e){var t=[];return new k(e).traverse(function(e){f.is(e,"img")&&t.push(e)}),1==t.length?t[0]:void 0},expand:function(e){var t,n,o,i,r=e.cloneRange(),a=r.startContainer.childNodes[0===r.startOffset?0:r.startOffset-1],s=r.endContainer.childNodes[r.endOffset];return m(a)&&m(s)?(t=a.nodeValue,n=s.nodeValue,t&&n?(o=t.split("").reverse().join("").search(S),i=n.search(S),o&&i?(i=-1==i?n.length:i,o=-1==o?0:t.length-o,r.setStart(a,o),r.setEnd(s,i),r):r):r):r},isExpandable:function(e){var t,n,o,i,r,a,s=e.startContainer,l=N.documentFromRange(e);return s==l||s==l.body?!1:(t=e.cloneRange(),(n=s.nodeValue)?(o=n.substring(0,t.startOffset),i=n.substring(t.startOffset),r=0,a=0,o&&(r=o.split("").reverse().join("").search(S)),i&&(a=i.search(S)),r&&a):!1)}};d(c,{SelectionUtils:b,W3CRange:y,RangeIterator:k,W3CSelection:w,RangeEnumerator:C,RestorePoint:x,Marker:T,RangeUtils:N})}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,o=t.ui.editor,i=o.EditorUtils,r=i.registerTool,a=o.Dom,s=o.Tool,l=o.ToolTemplate,d=o.RestorePoint,c=o.Marker,u=e.extend,f=n.extend({init:function(e){this.options=e,this.restorePoint=new d(e.range),this.marker=new c,this.formatter=e.formatter},getRange:function(){return this.restorePoint.toRange()},lockRange:function(e){return this.marker.add(this.getRange(),e)},releaseRange:function(e){this.marker.remove(e),this.editor.selectRange(e)},undo:function(){var e=this.restorePoint;e.restoreHtml(),this.editor.selectRange(e.toRange())},redo:function(){this.exec()},createDialog:function(n,o){var i=this.editor;return e(n).appendTo(document.body).kendoWindow(u({},i.options.dialogOptions,o)).closest(".k-window").toggleClass("k-rtl",t.support.isRtl(i.wrapper)).end()},exec:function(){var e=this.lockRange(!0);this.formatter.editor=this.editor,this.formatter.toggle(e),this.releaseRange(e)}}),p=n.extend({init:function(e,t){this.body=e.body,this.startRestorePoint=e,this.endRestorePoint=t},redo:function(){this.body.innerHTML=this.endRestorePoint.html,this.editor.selectRange(this.endRestorePoint.toRange())},undo:function(){this.body.innerHTML=this.startRestorePoint.html,this.editor.selectRange(this.startRestorePoint.toRange())}}),m=f.extend({init:function(e){f.fn.init.call(this,e),this.managesUndoRedo=!0},exec:function(){var e,t=this.editor,n=this.options,o=n.range,i=new d(o),r=n.html||n.value||"";t.selectRange(o),t.clipboard.paste(r,n),e=new p(i,new d(t.getRange())),e.editor=t,t.undoRedoStack.push(e),t.focus()}}),h=s.extend({initialize:function(e,t){var n=t.editor,i=this.options,r=i.items?i.items:n.options.insertHtml;new o.SelectBox(e,{dataSource:r,dataTextField:"text",dataValueField:"value",change:function(){s.exec(n,"insertHtml",this.value())},title:n.options.messages.insertHtml,highlightFirst:!1})},command:function(e){return new m(e)},update:function(e){var t=e.data("kendoSelectBox")||e.find("select").data("kendoSelectBox");t.close(),t.value(t.options.title)}}),g=n.extend({init:function(){this.stack=[],this.currentCommandIndex=-1},push:function(e){this.stack=this.stack.slice(0,this.currentCommandIndex+1),this.currentCommandIndex=this.stack.push(e)-1},undo:function(){this.canUndo()&&this.stack[this.currentCommandIndex--].undo()},redo:function(){this.canRedo()&&this.stack[++this.currentCommandIndex].redo()},canUndo:function(){return this.currentCommandIndex>=0},canRedo:function(){return this.currentCommandIndex!=this.stack.length-1}}),v=n.extend({init:function(e){this.editor=e},keydown:function(t){var n,o=this,i=o.editor,r=i.keyboard,a=r.isTypingKey(t),s=u(e.Event(),t);return o.editor.trigger("keydown",s),s.isDefaultPrevented()&&t.preventDefault(),s.isDefaultPrevented()||!a||r.isTypingInProgress()?!1:(n=i.getRange(),o.startRestorePoint=new d(n),r.startTyping(function(){i.selectionRestorePoint=o.endRestorePoint=new d(i.getRange());var e=new p(o.startRestorePoint,o.endRestorePoint);e.editor=i,i.undoRedoStack.push(e)}),!0)},keyup:function(e){var t=this.editor.keyboard;return this.editor.trigger("keyup",e),t.isTypingInProgress()?(t.endTyping(),!0):!1}}),b=n.extend({init:function(e){this.editor=e,this.systemCommandIsInProgress=!1},createUndoCommand:function(){var e,t=this;t.endRestorePoint=new d(t.editor.getRange()),e=new p(t.startRestorePoint,t.endRestorePoint),e.editor=t.editor,t.editor.undoRedoStack.push(e),t.startRestorePoint=t.endRestorePoint},changed:function(){return this.startRestorePoint?this.startRestorePoint.html!=this.editor.body.innerHTML:!1},keydown:function(e){var t=this,n=t.editor,o=n.keyboard;return o.isModifierKey(e)?(o.isTypingInProgress()&&o.endTyping(!0),t.startRestorePoint=new d(n.getRange()),!0):o.isSystem(e)?(t.systemCommandIsInProgress=!0,t.changed()&&(t.systemCommandIsInProgress=!1,t.createUndoCommand()),!0):!1},keyup:function(e){var t=this;return t.systemCommandIsInProgress&&t.changed()?(t.systemCommandIsInProgress=!1,t.createUndoCommand(e),!0):!1}}),y=n.extend({init:function(e){this.handlers=e,this.typingInProgress=!1},isCharacter:function(e){return e>=48&&90>=e||e>=96&&111>=e||e>=186&&192>=e||e>=219&&222>=e},toolFromShortcut:function(t,n){var o,i,r=String.fromCharCode(n.keyCode);for(o in t)if(i=e.extend({ctrl:!1,alt:!1,shift:!1},t[o].options),(i.key==r||i.key==n.keyCode)&&i.ctrl==n.ctrlKey&&i.alt==n.altKey&&i.shift==n.shiftKey)return o},isTypingKey:function(e){var t=e.keyCode;return this.isCharacter(t)&&!e.ctrlKey&&!e.altKey||32==t||13==t||8==t||46==t&&!e.shiftKey&&!e.ctrlKey&&!e.altKey},isModifierKey:function(e){var t=e.keyCode;return 17==t&&!e.shiftKey&&!e.altKey||16==t&&!e.ctrlKey&&!e.altKey||18==t&&!e.ctrlKey&&!e.shiftKey},isSystem:function(e){return 46==e.keyCode&&e.ctrlKey&&!e.altKey&&!e.shiftKey},startTyping:function(e){this.onEndTyping=e,this.typingInProgress=!0},stopTyping:function(){this.typingInProgress=!1,this.onEndTyping&&this.onEndTyping()},endTyping:function(t){var n=this;n.clearTimeout(),t?n.stopTyping():n.timeout=window.setTimeout(e.proxy(n.stopTyping,n),1e3)},isTypingInProgress:function(){return this.typingInProgress},clearTimeout:function(){window.clearTimeout(this.timeout)},notify:function(e,t){var n,o=this.handlers;for(n=0;n<o.length&&!o[n][t](e);n++);},keydown:function(e){this.notify(e,"keydown")},keyup:function(e){this.notify(e,"keyup")}}),k=n.extend({init:function(e){this.editor=e,this.cleaners=[new C,new x]},htmlToFragment:function(e){var t=this.editor,n=t.document,o=a.create(n,"div"),i=n.createDocumentFragment();for(o.innerHTML=e;o.firstChild;)i.appendChild(o.firstChild);return i},isBlock:function(e){return/<(div|p|ul|ol|table|h[1-6])/i.test(e)},_contentModification:function(e,t){var n=this.editor,o=n.getRange(),i=new d(o);a.persistScrollTop(n.document),e.call(this,n,o),setTimeout(function(){var e,r;t.call(this,n,o),e=new d(n.getRange()),r=new p(i,e),r.editor=n,n.undoRedoStack.push(r),n._selectionChange()})},oncut:function(){this._contentModification(e.noop,e.noop)},onpaste:function(t){this._contentModification(function(n,o){var i,r,s,l=a.create(n.document,"div",{className:"k-paste-container",innerHTML:"﻿"});n.body.appendChild(l),n.body.createTextRange?(t.preventDefault(),i=n.createRange(),i.selectNodeContents(l),n.selectRange(i),r=n.body.createTextRange(),r.moveToElementText(l),e(n.body).unbind("paste"),r.execCommand("Paste"),e(n.body).bind("paste",e.proxy(this.onpaste,this))):(s=n.createRange(),s.selectNodeContents(l),n.selectRange(s)),o.deleteContents()},function(t,n){var o,i="",r={html:""};t.selectRange(n),o=e(t.body).children(".k-paste-container"),o.each(function(){var e=this.lastChild;e&&a.is(e,"br")&&a.remove(e),i+=this.innerHTML}),o.remove(),i=i.replace(/\ufeff/g,""),r.html=i,t.trigger("paste",r),t.clipboard.paste(r.html,{clean:!0})})},splittableParent:function(e,t){var n,o;if(e)return a.parentOfType(t,["p","ul","ol"])||t.parentNode;if(n=t.parentNode,o=t.ownerDocument.body,a.isInline(n))for(;n.parentNode!=o&&!a.isBlock(n.parentNode);)n=n.parentNode;return n},paste:function(e,t){var n,i,r,s,l,d,f,p,m,h,g,v=this.editor;for(t=u({clean:!1,split:!0},t),n=0,i=this.cleaners.length;i>n;n++)this.cleaners[n].applicable(e)&&(e=this.cleaners[n].clean(e));if(t.clean&&(e=e.replace(/(<br>(\s|&nbsp;)*)+(<\/?(div|p|li|col|t))/gi,"$3"),e=e.replace(/<(a|span)[^>]*><\/\1>/gi,"")),e=e.replace(/^<li/i,"<ul><li").replace(/li>$/g,"li></ul>"),r=this.isBlock(e),v.focus(),s=v.getRange(),s.deleteContents(),s.startContainer==v.document&&s.selectNodeContents(v.body),l=new c,d=l.addCaret(s),f=this.splittableParent(r,d),p=!1,m=f!=v.body&&!a.is(f,"td"),t.split&&m&&(r||a.isInline(f))&&(s.selectNode(d),o.RangeUtils.split(s,f,!0),p=!0),h=this.htmlToFragment(e),h.firstChild&&"k-paste-container"===h.firstChild.className){for(g=[],n=0,i=h.childNodes.length;i>n;n++)g.push(h.childNodes[n].innerHTML);h=this.htmlToFragment(g.join("<br />"))}if(s.insertNode(h),f=this.splittableParent(r,d),p){for(;d.parentNode!=f;)a.unwrap(d.parentNode);a.unwrap(d.parentNode)}a.normalize(s.commonAncestorContainer),d.style.display="inline",a.restoreScrollTop(v.document),a.scrollTo(d),l.removeCaret(s),v.selectRange(s)}}),w=n.extend({clean:function(e){var t,n,o=this,i=o.replacements;for(t=0,n=i.length;n>t;t+=2)e=e.replace(i[t],i[t+1]);return e}}),C=w.extend({init:function(){this.replacements=[/<\?xml[^>]*>/gi,"",/<!--(.|\n)*?-->/g,"",/&quot;/g,"'",/(?:<br>&nbsp;[\s\r\n]+|<br>)*(<\/?(h[1-6]|hr|p|div|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|caption|address|pre|form|blockquote|dl|dt|dd|dir|fieldset)[^>]*>)(?:<br>&nbsp;[\s\r\n]+|<br>)*/g,"$1",/<br><br>/g,"<BR><BR>",/<br>(?!\n)/g," ",/<table([^>]*)>(\s|&nbsp;)+<t/gi,"<table$1><t",/<tr[^>]*>(\s|&nbsp;)*<\/tr>/gi,"",/<tbody[^>]*>(\s|&nbsp;)*<\/tbody>/gi,"",/<table[^>]*>(\s|&nbsp;)*<\/table>/gi,"",/<BR><BR>/g,"<br>",/^\s*(&nbsp;)+/gi,"",/(&nbsp;|<br[^>]*>)+\s*$/gi,"",/mso-[^;"]*;?/gi,"",/<(\/?)b(\s[^>]*)?>/gi,"<$1strong$2>",/<(\/?)i(\s[^>]*)?>/gi,"<$1em$2>",/<\/?(meta|link|style|o:|v:|x:)[^>]*>((?:.|\n)*?<\/(meta|link|style|o:|v:|x:)[^>]*>)?/gi,"",/style=(["|'])\s*\1/g,""]},applicable:function(e){return/class="?Mso|style="[^"]*mso-/i.test(e)},stripEmptyAnchors:function(e){return e.replace(/<a([^>]*)>\s*<\/a>/gi,function(e,t){return!t||t.indexOf("href")<0?"":e})},listType:function(e){var t;return/^(<span [^>]*texhtml[^>]*>)?<span [^>]*(Symbol|Wingdings)[^>]*>/i.test(e)&&(t=!0),e=e.replace(/<\/?\w+[^>]*>/g,"").replace(/&nbsp;/g," "),!t&&/^[\u2022\u00b7\u00a7\u00d8o]\u00a0+/.test(e)||t&&/^.\u00a0+/.test(e)?"ul":/^\s*\w+[\.\)]\u00a0{2,}/.test(e)?"ol":void 0},lists:function(t){var n,o,i,r,s,l,d,c,u=e(a.blockElements.join(","),t),f=-1,p={ul:{},ol:{}},m=t;for(o=0;o<u.length;o++)if(i=u[o],r=this.listType(i.innerHTML),r&&"p"==a.name(i)){if(s=parseFloat(i.style.marginLeft||0),l=p[r][s],(s>f||!l)&&(l=a.create(document,r),m==t?a.insertBefore(l,i):m.appendChild(l),p[r][s]=l),n!=r)for(d in p)for(c in p[d])e.contains(l,p[d][c])&&delete p[d][c];a.remove(i.firstChild),m=a.create(document,"li",{innerHTML:i.innerHTML}),l.appendChild(m),a.remove(i),f=s,n=r}else i.innerHTML?(p={ul:{},ol:{}},m=t,f=-1):a.remove(i)},removeAttributes:function(e){for(var t=e.attributes,n=t.length;n--;)e.removeAttributeNode(t[n])},createColGroup:function(n){var o,i=n.cells;i.length<2||(o=e(e.map(i,function(e){var n=e.width;return n&&0!==parseInt(n,10)?t.format('<col style="width:{0}px;"/>',n):"<col />"}).join("")),o.is("colgroup")||(o=e("<colgroup/>").append(o)),o.prependTo(e(n).closest("table")))},convertHeaders:function(t){var n,o=t.cells,i=e.map(o,function(t){var n=e(t).children("p").children("strong")[0];return n&&"strong"==a.name(n)?n:void 0});if(i.length==o.length){for(n=0;n<i.length;n++)a.unwrap(i[n]);e(t).closest("table").find("colgroup").after("<thead><tr>"+e.map(o,function(t){return"<th>"+e(t).html()+"</th>"}).join("")+"</tr></thead>").end().end().remove()}},removeParagraphs:function(t){var n,o,i,r,s;for(n=0;n<t.length;n++)for(this.removeAttributes(t[n]),r=e(t[n]),s=r.children("p"),o=0,i=s.length;i>o;o++)i-1>o&&a.insertAfter(a.create(document,"br"),s[o]),a.unwrap(s[o])},removeDefaultColors:function(e){for(var t=0;t<e.length;t++)/^\s*color:\s*[^;]*;?$/i.test(e[t].style.cssText)&&a.unwrap(e[t])},tables:function(t){var n,o,i=e(t).find("table"),r=this;for(o=0;o<i.length;o++)n=i[o].rows[0],r.createColGroup(n),r.convertHeaders(n),r.removeAttributes(i[o]),r.removeParagraphs(i.eq(o).find("td,th")),r.removeDefaultColors(i.eq(o).find("span"))},clean:function(e){var t,n=this;return e=w.fn.clean.call(n,e),e=n.stripEmptyAnchors(e),t=a.create(document,"div",{innerHTML:e}),n.lists(t),n.tables(t),e=t.innerHTML.replace(/\s+class="?[^"\s>]*"?/gi,"")}}),x=w.extend({init:function(){this.replacements=[/\s+class="Apple-style-span[^"]*"/gi,"",/<(div|p|h[1-6])\s+style="[^"]*"/gi,"<$1",/^<div>(.*)<\/div>$/,"$1"]},applicable:function(e){return/class="?Apple-style-span|style="[^"]*-webkit-nbsp-mode/i.test(e)}});u(o,{Command:f,GenericCommand:p,InsertHtmlCommand:m,InsertHtmlTool:h,UndoRedoStack:g,TypingHandler:v,SystemHandler:b,Keyboard:y,Clipboard:k,Cleaner:w,MSWordFormatCleaner:C,WebkitFormatCleaner:x}),r("insertHtml",new h({template:new l({template:i.dropDownListTemplate,title:"Insert HTML",initialValue:"Insert HTML"})}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,o=t.ui.editor,i=t.ui.Editor.fn.options.formats,r=o.EditorUtils,a=o.Tool,s=o.ToolTemplate,l=o.FormatTool,d=o.Dom,c=o.RangeUtils,u=e.extend,f=o.EditorUtils.registerTool,p=o.EditorUtils.registerFormat,m="k-marker",h=n.extend({init:function(e){this.format=e},numberOfSiblings:function(e){var t,n=0,o=0,i=0,r=e.parentNode;for(t=r.firstChild;t;t=t.nextSibling)t!=e&&(t.className==m?i++:3==t.nodeType?n++:o++);return i>1&&r.firstChild.className==m&&r.lastChild.className==m?0:o+n},findSuitable:function(e,t){return!t&&this.numberOfSiblings(e)>0?null:d.parentOfType(e,this.format[0].tags)},findFormat:function(e){var t,n,o,i,r,a=this.format,s=d.attrEquals;for(t=0,n=a.length;n>t;t++){if(o=e,i=a[t].tags,r=a[t].attr,o&&d.ofType(o,i)&&s(o,r))return o;for(;o;)if(o=d.parentOfType(o,i),o&&s(o,r))return o}return null},isFormatted:function(e){var t,n;for(t=0,n=e.length;n>t;t++)if(this.findFormat(e[t]))return!0;return!1}}),g=n.extend({init:function(e,t){var n=this;n.finder=new h(e),n.attributes=u({},e[0].attr,t),n.tag=e[0].tags[0]},wrap:function(e){return d.wrap(e,d.create(e.ownerDocument,this.tag,this.attributes))},activate:function(e,t){var n=this;n.finder.isFormatted(t)?(n.split(e),n.remove(t)):n.apply(t)},toggle:function(e){var t=c.textNodes(e);t.length>0&&this.activate(e,t)},apply:function(e){var t,n,o,i,r=this,a=[];for(t=0,n=e.length;n>t;t++)o=e[t],i=r.finder.findSuitable(o),i?d.attr(i,r.attributes):i=r.wrap(o),a.push(i);r.consolidate(a)},remove:function(e){var t,n,o,i=this;for(t=0,n=e.length;n>t;t++)o=i.finder.findFormat(e[t]),o&&(i.attributes&&i.attributes.style?(d.unstyle(o,i.attributes.style),o.style.cssText||o.attributes["class"]||d.unwrap(o)):d.unwrap(o))},split:function(e){var t,n,o=c.textNodes(e),i=o.length;if(i>0)for(t=0;i>t;t++)n=this.finder.findFormat(o[t]),n&&c.split(e,n,!0)},consolidate:function(e){for(var t,n;e.length>1;)if(t=e.pop(),n=e[e.length-1],t.previousSibling&&t.previousSibling.className==m&&n.appendChild(t.previousSibling),t.tagName==n.tagName&&t.previousSibling==n&&t.style.cssText==n.style.cssText){for(;t.firstChild;)n.appendChild(t.firstChild);d.remove(t)}}}),v=h.extend({init:function(e,t){var n=this;n.format=e,n.greedyProperty=t,h.fn.init.call(n,e)},getInlineCssValue:function(t){var n,o,i,r,a,s,l,c,u,f,p,m,h=t.attributes,g=e.trim;if(h)for(n=0,o=h.length;o>n;n++)if(i=h[n],r=i.nodeName,a=i.nodeValue,i.specified&&"style"==r)for(s=g(a||t.style.cssText).split(";"),c=0,u=s.length;u>c;c++)if(l=s[c],l.length){if(f=l.split(":"),p=g(f[0].toLowerCase()),m=g(f[1]),p!=this.greedyProperty)continue;return p.indexOf("color")>=0?d.toHex(m):m}},getFormatInner:function(t){var n,o,i,r=e(d.isDataNode(t)?t.parentNode:t),a=r.parentsUntil("[contentEditable]").addBack();for(n=0,o=a.length;o>n;n++)if(i="className"==this.greedyProperty?a[n].className:this.getInlineCssValue(a[n]))return i;return"inherit"},getFormat:function(e){var t,n,o=this.getFormatInner(e[0]);for(t=1,n=e.length;n>t;t++)if(o!=this.getFormatInner(e[t]))return"";return o},isFormatted:function(e){return""!==this.getFormat(e)}}),b=g.extend({init:function(e,t,n){var o=this;g.fn.init.call(o,e,t),o.greedyProperty=n,o.values=t,o.finder=new v(e,n)},activate:function(e,t){var n,o=this,i=o.greedyProperty,r="apply";o.split(e),i&&(n=i.replace(/-([a-z])/,function(e,t){return t.toUpperCase()}),"inherit"==o.values.style[n]&&(r="remove")),o[r](t)}}),y=l.extend({init:function(e){l.fn.init.call(this,u(e,{finder:new h(e.format),formatter:function(){return new g(e.format)}}))}}),k=a.extend({update:function(e,t){var n=e.data(this.type);n.close(),n.value(this.finder.getFormat(t))}}),w=k.extend({init:function(e){var n=this;a.fn.init.call(n,e),n.type=t.support.browser.msie||t.support.touch?"kendoDropDownList":"kendoComboBox",n.format=[{tags:["span"]}],n.finder=new v(n.format,e.cssAttr)},command:function(e){var t=this.options,n=this.format,i={};return new o.FormatCommand(u(e,{formatter:function(){return i[t.domAttr]=e.value,new b(n,{style:i},t.cssAttr)}}))},initialize:function(e,t){var n,o=t.editor,i=this.options,r=i.name,s=[];i.defaultValue&&(s=[{text:o.options.messages[i.defaultValue[0].text],value:i.defaultValue[0].value}]),n=s.concat(i.items?i.items:o.options[r]),e[this.type]({dataTextField:"text",dataValueField:"value",dataSource:n,change:function(){a.exec(o,r,this.value())},highlightFirst:!1}),e.closest(".k-widget").removeClass("k-"+r).find("*").addBack().attr("unselectable","on"),e.data(this.type).value("inherit")}}),C=a.extend({init:function(e){a.fn.init.call(this,e),this.format=[{tags:["span"]}]},options:{palette:"websafe"},update:function(){this._widget.close()},command:function(e){var t=this.options,n=this.format,i={};return new o.FormatCommand(u(e,{formatter:function(){return i[t.domAttr]=e.value,new b(n,{style:i},t.cssAttr)}}))},initialize:function(n,o){var i=o.editor,r=this.name,s=u({},C.fn.options,this.options),l=s.palette;n=this._widget=new t.ui.ColorPicker(n,{value:e.isArray(l)?l[0]:"#000",toolIcon:"k-"+s.name,palette:l,change:function(){var e=n.value();e&&a.exec(i,r,e),i.focus()},activate:function(e){e.preventDefault(),n.trigger("change")}}),n.wrapper.attr({title:o.title,unselectable:"on"}).find("*").attr("unselectable","on")}});u(o,{InlineFormatFinder:h,InlineFormatter:g,DelayedExecutionTool:k,GreedyInlineFormatFinder:v,GreedyInlineFormatter:b,InlineFormatTool:y,FontTool:w,ColorTool:C}),p("bold",[{tags:["strong","b"]},{tags:["span"],attr:{style:{fontWeight:"bold"}}}]),f("bold",new y({key:"B",ctrl:!0,format:i.bold,template:new s({template:r.buttonTemplate,title:"Bold"})})),p("italic",[{tags:["em","i"]},{tags:["span"],attr:{style:{fontStyle:"italic"}}}]),f("italic",new y({key:"I",ctrl:!0,format:i.italic,template:new s({template:r.buttonTemplate,title:"Italic"})})),p("underline",[{tags:["span"],attr:{style:{textDecoration:"underline"}}},{tags:["u"]}]),f("underline",new y({key:"U",ctrl:!0,format:i.underline,template:new s({template:r.buttonTemplate,title:"Underline"})})),p("strikethrough",[{tags:["del"]},{tags:["span"],attr:{style:{textDecoration:"line-through"}}}]),f("strikethrough",new y({format:i.strikethrough,template:new s({template:r.buttonTemplate,title:"Strikethrough"})})),p("superscript",[{tags:["sup"]}]),f("superscript",new y({format:i.superscript,template:new s({template:r.buttonTemplate,title:"Superscript"})})),p("subscript",[{tags:["sub"]}]),f("subscript",new y({format:i.subscript,template:new s({template:r.buttonTemplate,title:"Subscript"})})),f("foreColor",new C({cssAttr:"color",domAttr:"color",name:"foreColor",template:new s({template:r.colorPickerTemplate,title:"Color"})})),f("backColor",new C({cssAttr:"background-color",domAttr:"backgroundColor",name:"backColor",template:new s({template:r.colorPickerTemplate,title:"Background Color"})})),f("fontName",new w({cssAttr:"font-family",domAttr:"fontFamily",name:"fontName",defaultValue:[{text:"fontNameInherit",value:"inherit"}],template:new s({template:r.comboBoxTemplate,title:"Font Name"})})),f("fontSize",new w({cssAttr:"font-size",domAttr:"fontSize",name:"fontSize",defaultValue:[{text:"fontSizeInherit",value:"inherit"}],template:new s({template:r.comboBoxTemplate,title:"Font Size"})}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,o=e.extend,i=t.ui.editor,r=t.ui.Editor.fn.options.formats,a=i.Dom,s=i.Command,l=i.ToolTemplate,d=i.FormatTool,c=i.EditorUtils,u=c.registerTool,f=c.registerFormat,p=i.RangeUtils,m=n.extend({init:function(e){this.format=e},contains:function(e,t){var n,o,i;for(n=0,o=t.length;o>n;n++)if(i=t[n],!i||!a.isAncestorOrSelf(e,i))return!1;return!0},findSuitable:function(t){var n,o,i,r=this.format,s=[];for(n=0,o=t.length;o>n;n++){if(i=a.ofType(t[n],r[0].tags)?t[n]:a.parentOfType(t[n],r[0].tags),!i)return[];e.inArray(i,s)<0&&s.push(i)}for(n=0,o=s.length;o>n;n++)if(this.contains(s[n],s))return[s[n]];return s},findFormat:function(e){var t,n,o,i,r,s=this.format;for(t=0,n=s.length;n>t;t++)for(o=e,i=s[t].tags,r=s[t].attr;o;){if(a.ofType(o,i)&&a.attrEquals(o,r))return o;o=o.parentNode}return null},getFormat:function(e){var t,n,o=this,i=function(e){return o.findFormat(a.isDataNode(e)?e.parentNode:e)
},r=i(e[0]);if(!r)return"";for(t=1,n=e.length;n>t;t++)if(r!=i(e[t]))return"";return r.nodeName.toLowerCase()},isFormatted:function(e){for(var t=0,n=e.length;n>t;t++)if(!this.findFormat(e[t]))return!1;return!0}}),h=n.extend({init:function(e,t){this.format=e,this.values=t,this.finder=new m(e)},wrap:function(e,t,n){var o,i,r,s,l,d=1==n.length?a.blockParentOrBody(n[0]):a.commonAncestor.apply(null,n);for(a.isInline(d)&&(d=a.blockParentOrBody(d)),r=a.significantChildNodes(d),s=a.findNodeIndex(r[0]),l=a.create(d.ownerDocument,e,t),o=0;o<r.length;o++)i=r[o],a.isBlock(i)?(a.attr(i,t),l.childNodes.length&&(a.insertBefore(l,i),l=l.cloneNode(!1)),s=a.findNodeIndex(i)+1):l.appendChild(i);l.firstChild&&a.insertAt(d,l,s)},apply:function(e){var t,n,i,r,s=this,l=a.is(e[0],"img")?[e[0]]:s.finder.findSuitable(e),d=l.length?c.formatByName(a.name(l[0]),s.format):s.format[0];if(d)if(t=d.tags[0],n=o({},d.attr,s.values),l.length)for(i=0,r=l.length;r>i;i++)a.attr(l[i],n);else s.wrap(t,n,e)},remove:function(e){var t,n,o,i,r;for(t=0,n=e.length;n>t;t++)o=this.finder.findFormat(e[t]),o&&(r=a.name(o),"div"!=r||o.getAttribute("class")?(i=c.formatByName(r,this.format),i.attr.style&&a.unstyle(o,i.attr.style),i.attr.className&&a.removeClass(o,i.attr.className)):a.unwrap(o))},toggle:function(e){var t=this,n=p.nodes(e);t.finder.isFormatted(n)?t.remove(n):t.apply(n)}}),g=n.extend({init:function(e,t){var n=this;n.format=e,n.values=t,n.finder=new m(e)},apply:function(e){var t,n,o,r,s,l,d=this.format,c=a.blockParents(e),u=d[0].tags[0];if(c.length&&c[0].attributes.contentEditable&&(c=[]),c.length)for(t=0,n=c.length;n>t;t++)a.is(c[t],"li")?(o=c[t].parentNode,r=new i.ListFormatter(o.nodeName.toLowerCase(),u),s=this.editor.createRange(),s.selectNode(c[t]),r.toggle(s)):(l=a.changeTag(c[t],u),a.attr(l,d[0].attr));else new h(d,this.values).apply(e)},toggle:function(e){var t=p.textNodes(e);t.length||(e.selectNodeContents(e.commonAncestorContainer),t=p.textNodes(e),t.length||(t=a.significantChildNodes(e.commonAncestorContainer))),this.apply(t)}}),v=s.extend({init:function(e){e.formatter=e.formatter(),s.fn.init.call(this,e)}}),b=d.extend({init:function(e){d.fn.init.call(this,o(e,{finder:new m(e.format),formatter:function(){return new h(e.format)}}))}});o(i,{BlockFormatFinder:m,BlockFormatter:h,GreedyBlockFormatter:g,FormatCommand:v,BlockFormatTool:b}),f("justifyLeft",[{tags:a.blockElements,attr:{style:{textAlign:"left"}}},{tags:["img"],attr:{style:{"float":"left"}}}]),u("justifyLeft",new b({format:r.justifyLeft,template:new l({template:c.buttonTemplate,title:"Justify Left"})})),f("justifyCenter",[{tags:a.blockElements,attr:{style:{textAlign:"center"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto"}}}]),u("justifyCenter",new b({format:r.justifyCenter,template:new l({template:c.buttonTemplate,title:"Justify Center"})})),f("justifyRight",[{tags:a.blockElements,attr:{style:{textAlign:"right"}}},{tags:["img"],attr:{style:{"float":"right"}}}]),u("justifyRight",new b({format:r.justifyRight,template:new l({template:c.buttonTemplate,title:"Justify Right"})})),f("justifyFull",[{tags:a.blockElements,attr:{style:{textAlign:"justify"}}}]),u("justifyFull",new b({format:r.justifyFull,template:new l({template:c.buttonTemplate,title:"Justify Full"})}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=e.extend,o=t.ui.editor,i=o.Dom,r=o.Command,a=o.Tool,s=o.BlockFormatter,l=i.normalize,d=o.RangeUtils,c=o.EditorUtils.registerTool,u=r.extend({init:function(e){this.options=e,r.fn.init.call(this,e)},_insertMarker:function(e,t){var n,o=i.create(e,"a");return t.insertNode(o),o.parentNode||(n=t.commonAncestorContainer,n.innerHTML="",n.appendChild(o)),l(o.parentNode),o},_moveFocus:function(e,t){if(i.is(t,"img"))e.setStartBefore(t);else{e.selectNodeContents(t);var n=d.textNodes(e)[0];if(n)e.selectNodeContents(n);else{for(;t.childNodes.length&&!i.is(t.firstChild,"br");)t=t.firstChild;e.selectNodeContents(t)}}},shouldTrim:function(e){var t="p,h1,h2,h3,h4,h5,h6".split(","),n=i.parentOfType(e.startContainer,t),o=i.parentOfType(e.endContainer,t);return n&&!o||!n&&o},exec:function(){var e,t,n,r,a,c,u,f,p=this.getRange(),m=d.documentFromRange(p),h=o.emptyElementContent,g=this.shouldTrim(p);p.deleteContents(),a=this._insertMarker(m,p),c=i.parentOfType(a,["li"]),u=i.parentOfType(a,"h1,h2,h3,h4,h5,h6".split(",")),c?(f=p.cloneRange(),f.selectNode(c),d.textNodes(f).length||(r=i.create(m,"p"),c.nextSibling&&d.split(f,c.parentNode),i.insertAfter(r,c.parentNode),i.remove(1==c.parentNode.childNodes.length?c.parentNode:c),r.innerHTML=h,n=r)):u&&!a.nextSibling&&(r=i.create(m,"p"),i.insertAfter(r,u),r.innerHTML=h,i.remove(a),n=r),n||(c||u||new s([{tags:["p"]}]).apply([a]),p.selectNode(a),e=i.parentOfType(a,[c?"li":u?i.name(u):"p"]),d.split(p,e,g),t=e.previousSibling,i.is(t,"li")&&t.firstChild&&!i.is(t.firstChild,"br")&&(t=t.firstChild),n=e.nextSibling,i.is(n,"li")&&n.firstChild&&!i.is(n.firstChild,"br")&&(n=n.firstChild),i.remove(e),this.clean(t),this.clean(n),l(t)),l(n),this._moveFocus(p,n),p.collapse(!0),i.scrollTo(n),d.selectRange(p)},clean:function(e){if(e.firstChild&&i.is(e.firstChild,"br")&&i.remove(e.firstChild),i.isDataNode(e)&&!e.nodeValue&&(e=e.parentNode),e){for(;e.firstChild&&1==e.firstChild.nodeType;)e=e.firstChild;!i.isEmpty(e)&&/^\s*$/.test(e.innerHTML)&&(e.innerHTML=o.emptyElementContent)}}}),f=r.extend({init:function(e){this.options=e,r.fn.init.call(this,e)},exec:function(){var e,n=this.getRange(),o=i.create(d.documentFromRange(n),"br");n.deleteContents(),n.insertNode(o),l(o.parentNode),t.support.browser.msie||o.nextSibling&&!i.isWhitespace(o.nextSibling)||(e=o.cloneNode(!0),e.setAttribute("_moz_dirty",""),i.insertAfter(e,o)),n.setStartAfter(o),n.collapse(!0),i.scrollTo(o.nextSibling||o),d.selectRange(n)}});n(o,{ParagraphCommand:u,NewLineCommand:f}),c("insertLineBreak",new a({key:13,shift:!0,command:f})),c("insertParagraph",new a({key:13,command:u}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,o=e.extend,i=t.ui.editor,r=i.Dom,a=i.RangeUtils,s=i.EditorUtils,l=i.Command,d=i.ToolTemplate,c=i.FormatTool,u=i.BlockFormatFinder,f=a.textNodes,p=i.EditorUtils.registerTool,m=u.extend({init:function(e){this.tag=e;var t=this.tags=["ul"==e?"ol":"ul",e];u.fn.init.call(this,[{tags:t}])},isFormatted:function(e){var t,n,o=[];for(n=0;n<e.length;n++)(t=this.findFormat(e[n]))&&r.name(t)==this.tag&&o.push(t);if(o.length<1)return!1;if(o.length!=e.length)return!1;for(n=0;n<o.length&&o[n].parentNode==t.parentNode;n++)if(o[n]!=t)return!1;return!0},findSuitable:function(e){var t=r.parentOfType(e[0],this.tags);return t&&r.name(t)==this.tag?t:null}}),h=n.extend({init:function(e,t){var n=this;n.finder=new m(e),n.tag=e,n.unwrapTag=t},isList:function(e){var t=r.name(e);return"ul"==t||"ol"==t||"dl"==t},wrap:function(e,t){var n,o,i=r.create(e.ownerDocument,"li");for(n=0;n<t.length;n++)if(o=t[n],r.is(o,"li"))e.appendChild(o);else if(this.isList(o))for(;o.firstChild;)e.appendChild(o.firstChild);else if(r.is(o,"td")){for(;o.firstChild;)i.appendChild(o.firstChild);e.appendChild(i),o.appendChild(e),e=e.cloneNode(!1),i=i.cloneNode(!1)}else i.appendChild(o),r.isBlock(o)&&(e.appendChild(i),r.unwrap(o),i=i.cloneNode(!1));i.firstChild&&e.appendChild(i)},containsAny:function(e,t){for(var n=0;n<t.length;n++)if(r.isAncestorOrSelf(e,t[n]))return!0;return!1},suitable:function(e,t){if("k-marker"==e.className){var n=e.nextSibling;if(n&&r.isBlock(n))return!1;if(n=e.previousSibling,n&&r.isBlock(n))return!1}return this.containsAny(e,t)||r.isInline(e)||3==e.nodeType},split:function(t){var n,o,i,s,l,d,c=f(t);if(c.length)for(n=r.parentOfType(c[0],["li"]),o=r.parentOfType(c[c.length-1],["li"]),t.setStartBefore(n),t.setEndAfter(o),i=0,s=c.length;s>i;i++)l=this.finder.findFormat(c[i]),l&&(d=e(l).parents("ul,ol"),d[0]?a.split(t,d.last()[0],!0):a.split(t,l,!0))},merge:function(e,t){for(var n,o=t.previousSibling;o&&("k-marker"==o.className||3==o.nodeType&&r.isWhitespace(o));)o=o.previousSibling;if(o&&r.name(o)==e){for(;t.firstChild;)o.appendChild(t.firstChild);r.remove(t),t=o}for(n=t.nextSibling;n&&("k-marker"==n.className||3==n.nodeType&&r.isWhitespace(n));)n=n.nextSibling;if(n&&r.name(n)==e){for(;t.lastChild;)n.insertBefore(t.lastChild,n.firstChild);r.remove(t)}},breakable:function(e){return e!=e.ownerDocument.body&&!/table|tbody|tr|td/.test(r.name(e))&&!e.attributes.contentEditable},applyOnSection:function(t,n){function o(){u.push(this)}var i,a,s,l,d=this.tag,c=r.closestSplittableParent(n),u=[],f=this.finder.findSuitable(n);for(f||(f=new m("ul"==d?"ol":"ul").findSuitable(n)),/table|tbody/.test(r.name(c))?i=e.map(n,function(e){return r.parentOfType(e,["td"])}):(i=r.significantChildNodes(c),e.grep(i,r.isBlock).length&&(i=e.grep(i,e.proxy(function(e){return this.containsAny(e,n)},this))),i.length||(i=n)),a=0;a<i.length;a++)s=i[a],l=(!f||!r.isAncestorOrSelf(f,s))&&this.suitable(s,n),l&&(f&&this.isList(s)?(e.each(s.childNodes,o),r.remove(s)):u.push(s));u.length==i.length&&this.breakable(c)&&(u=[c]),f||(f=r.create(c.ownerDocument,d),r.insertBefore(f,u[0])),this.wrap(f,u),r.is(f,d)||r.changeTag(f,d),this.merge(d,f)},apply:function(e){var t,n,o,i=0,a=[];do o=r.parentOfType(e[i],["td","body"]),t&&o==t?n.push(e[i]):(t&&a.push({section:t,nodes:n}),n=[e[i]],t=o),i++;while(i<e.length);for(a.push({section:t,nodes:n}),i=0;i<a.length;i++)this.applyOnSection(a[i].section,a[i].nodes)},unwrap:function(t){var n,o,i,a,s=t.ownerDocument.createDocumentFragment(),l=this.unwrapTag;for(o=t.firstChild;o;o=o.nextSibling){for(i=r.create(t.ownerDocument,l||"p");o.firstChild;)a=o.firstChild,r.isBlock(a)?(i.firstChild&&(s.appendChild(i),i=r.create(t.ownerDocument,l||"p")),s.appendChild(a)):i.appendChild(a);i.firstChild&&s.appendChild(i)}n=e(t).parents("ul,ol"),n[0]?(r.insertAfter(s,n.last()[0]),n.last().remove()):r.insertAfter(s,t),r.remove(t)},remove:function(e){var t,n,o;for(n=0,o=e.length;o>n;n++)t=this.finder.findFormat(e[n]),t&&this.unwrap(t)},toggle:function(e){var t,n=this,o=f(e),i=e.commonAncestorContainer;o.length||(e.selectNodeContents(i),o=f(e),o.length||(t=i.ownerDocument.createTextNode(""),e.startContainer.appendChild(t),o=[t],e.selectNode(t.parentNode))),n.finder.isFormatted(o)?(n.split(e),n.remove(o)):n.apply(o)}}),g=l.extend({init:function(e){e.formatter=new h(e.tag),l.fn.init.call(this,e)}}),v=c.extend({init:function(e){this.options=e,c.fn.init.call(this,o(e,{finder:new m(e.tag)}))},command:function(e){return new g(o(e,{tag:this.options.tag}))}});o(i,{ListFormatFinder:m,ListFormatter:h,ListCommand:g,ListTool:v}),p("insertUnorderedList",new v({tag:"ul",template:new d({template:s.buttonTemplate,title:"Remove Link"})})),p("insertOrderedList",new v({tag:"ol",template:new d({template:s.buttonTemplate,title:"Remove Link"})}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.Class,o=e.extend,i=t.ui.editor,r=i.Dom,a=i.RangeUtils,s=i.EditorUtils,l=i.Command,d=i.Tool,c=i.ToolTemplate,u=i.InlineFormatter,f=i.InlineFormatFinder,p=a.textNodes,m=i.EditorUtils.registerTool,h=n.extend({findSuitable:function(e){return r.parentOfType(e,["a"])}}),g=n.extend({init:function(){this.finder=new h},apply:function(e,t){var n,o,i,s,l=p(e);t.innerHTML?(n=a.getMarkers(e),o=a.documentFromRange(e),e.deleteContents(),s=r.create(o,"a",t),e.insertNode(s),"a"==r.name(s.parentNode)&&r.insertAfter(s,s.parentNode),n.length>1&&(r.insertAfter(n[n.length-1],s),r.insertAfter(n[1],s),r[l.length>0?"insertBefore":"insertAfter"](n[0],s))):(i=new u([{tags:["a"]}],t),i.finder=this.finder,i.apply(l))}}),v=l.extend({init:function(e){e.formatter={toggle:function(e){new u([{tags:["a"]}]).remove(p(e))}},this.options=e,l.fn.init.call(this,e)}}),b=l.extend({init:function(e){var t=this;t.options=e,l.fn.init.call(t,e),t.formatter=new g,e.url?this.exec=function(){this.formatter.apply(e.range,{href:e.url,innerHTML:e.text||e.url,target:e.target})}:(t.attributes=null,t.async=!0)},_dialogTemplate:function(){return t.template("<div class=\"k-editor-dialog k-popup-edit-form k-edit-form-container\"><div class='k-edit-label'><label for='k-editor-link-url'>#: messages.linkWebAddress #</label></div><div class='k-edit-field'><input type='text' class='k-input k-textbox' id='k-editor-link-url'></div><div class='k-edit-label'><label for='k-editor-link-text'>#: messages.linkText #</label></div><div class='k-edit-field'><input type='text' class='k-input k-textbox' id='k-editor-link-text'></div><div class='k-edit-label'><label for='k-editor-link-title'>#: messages.linkToolTip #</label></div><div class='k-edit-field'><input type='text' class='k-input k-textbox' id='k-editor-link-title'></div><div class='k-edit-label'></div><div class='k-edit-field'><input type='checkbox' class='k-checkbox' id='k-editor-link-target'><label for='k-editor-link-target'>#: messages.linkOpenInNewWindow #</label></div><div class='k-edit-buttons k-state-default'><button class=\"k-dialog-insert k-button\">#: messages.dialogInsert #</button><button class=\"k-dialog-close k-button k-secondary\">#: messages.dialogCancel #</button></div></div>")({messages:this.editor.options.messages})},exec:function(){function n(t){var n,a,s,u=l.element,p=e("#k-editor-link-url",u).val();p&&"http://"!=p&&(p.indexOf("@")>0&&!/^(\w+:)|(\/\/)/i.test(p)&&(p="mailto:"+p),d.attributes={href:p},n=e("#k-editor-link-title",u).val(),n&&(d.attributes.title=n),a=e("#k-editor-link-text",u).val(),a===f||!a&&0!==i.length||(d.attributes.innerHTML=r.stripBom(a)||p),s=e("#k-editor-link-target",u).is(":checked"),d.attributes.target=s?"_blank":null,d.formatter.apply(c,d.attributes)),o(t),d.change&&d.change()}function o(e){e.preventDefault(),l.destroy(),r.windowFromDocument(a.documentFromRange(c)).focus(),d.releaseRange(c)}var i,s,l,d=this,c=d.getRange(),u=c.collapsed,f=null,m=d.editor.options.messages;c=d.lockRange(!0),i=p(c),s=i.length?d.formatter.finder.findSuitable(i[0]):null,l=this.createDialog(d._dialogTemplate(),{title:m.createLink,close:o,visible:!1}).find(".k-dialog-insert").click(n).end().find(".k-dialog-close").click(o).end().find(".k-edit-field input").keydown(function(e){var i=t.keys;e.keyCode==i.ENTER?n(e):e.keyCode==i.ESC&&o(e)}).end().find("#k-editor-link-url").val(s?s.getAttribute("href",2):"http://").end().find("#k-editor-link-text").val(i.length>0?1==i.length?i[0].nodeValue:i[0].nodeValue+i[1].nodeValue:"").end().find("#k-editor-link-title").val(s?s.title:"").end().find("#k-editor-link-target").attr("checked",s?"_blank"==s.target:!1).end().data("kendoWindow").center().open(),i.length>0&&!u&&(f=e("#k-editor-link-text",l.element).val()),e("#k-editor-link-url",l.element).focus().select()},redo:function(){var e=this,t=e.lockRange(!0);e.formatter.apply(t,e.attributes),e.releaseRange(t)}}),y=d.extend({init:function(t){this.options=t,this.finder=new f([{tags:["a"]}]),d.fn.init.call(this,e.extend(t,{command:v}))},initialize:function(e,t){d.fn.initialize.call(this,e,t),e.addClass("k-state-disabled")},update:function(e,t){e.toggleClass("k-state-disabled",!this.finder.isFormatted(t)).removeClass("k-state-hover")}});o(t.ui.editor,{LinkFormatFinder:h,LinkFormatter:g,UnlinkCommand:v,LinkCommand:b,UnlinkTool:y}),m("createLink",new d({key:"K",ctrl:!0,command:b,template:new c({template:s.buttonTemplate,title:"Create Link"})})),m("unlink",new y({key:"K",ctrl:!0,shift:!0,template:new c({template:s.buttonTemplate,title:"Remove Link"})}))}(window.kendo.jQuery),function(e,t){var n=window.kendo,o=e.extend,i=n.ui.editor,r=i.EditorUtils,a=i.Dom,s=r.registerTool,l=i.ToolTemplate,d=i.RangeUtils,c=i.Command,u=n.keys,f="#k-editor-image-url",p="#k-editor-image-title",m=c.extend({init:function(e){var t=this;c.fn.init.call(t,e),t.async=!0,t.attributes={}},insertImage:function(e,t){var n=this.attributes,o=d.documentFromRange(t);if(n.src&&"http://"!=n.src){if(!e)return e=a.create(o,"img",n),e.onload=e.onerror=function(){e.removeAttribute("complete"),e.removeAttribute("width"),e.removeAttribute("height")},t.deleteContents(),t.insertNode(e),e.nextSibling||a.insertAfter(o.createTextNode("﻿"),e),t.setStartAfter(e),t.setEndAfter(e),d.selectRange(t),!0;a.attr(e,n)}return!1},_dialogTemplate:function(e){return n.template('<div class="k-editor-dialog k-popup-edit-form k-edit-form-container"># if (showBrowser) { #<div class="k-imagebrowser"></div># } #<div class=\'k-edit-label\'><label for="k-editor-image-url">#: messages.imageWebAddress #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-url"></div><div class=\'k-edit-label\'><label for="k-editor-image-title">#: messages.imageAltText #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-title"></div><div class="k-edit-buttons k-state-default"><button class="k-dialog-insert k-button">#: messages.dialogInsert #</button><button class="k-dialog-close k-button k-secondary">#: messages.dialogCancel #</button></div></div>')({messages:this.editor.options.messages,showBrowser:e})},redo:function(){var e=this,t=e.lockRange();e.insertImage(d.image(t),t)||e.releaseRange(t)},exec:function(){function e(e){var t=s.element;l.attributes={src:t.find(f).val().replace(/ /g,"%20"),alt:t.find(p).val()},m=l.insertImage(h,c),i(e),l.change&&l.change()}function i(e){e.preventDefault(),s.destroy(),a.windowFromDocument(d.documentFromRange(c)).focus(),m||l.releaseRange(c)}function r(t){t.keyCode==u.ENTER?e(t):t.keyCode==u.ESC&&i(t)}var s,l=this,c=l.lockRange(),m=!1,h=d.image(c),g=l.editor.options,v=g.messages,b=g.imageBrowser,y=!!(n.ui.ImageBrowser&&b&&b.transport&&b.transport.read!==t);s=this.createDialog(l._dialogTemplate(y),{title:v.insertImage,close:i,visible:!1,resizable:y}).toggleClass("k-imagebrowser-dialog",y).find(".k-dialog-insert").click(e).end().find(".k-dialog-close").click(i).end().find(".k-edit-field input").keydown(r).end().find(f).val(h?h.getAttribute("src",2):"http://").end().find(p).val(h?h.alt:"").end().data("kendoWindow"),y&&new n.ui.ImageBrowser(s.element.find(".k-imagebrowser"),o({},b,{change:function(){s.element.find(f).val(this.value())},apply:e})),s.center().open(),s.element.find(f).focus().select()}});n.ui.editor.ImageCommand=m,s("insertImage",new i.Tool({command:m,template:new l({template:r.buttonTemplate,title:"Insert Image"})}))}(window.kendo.jQuery),function(e,t){var n=window.kendo,o=n.ui.DropDownList,i=n.ui.editor.Dom,r=o.extend({init:function(e,t){var i=this;o.fn.init.call(i,e,t),i.value(i.options.title),n.support.mobileOS.ios&&i._initSelectOverlay(e),i.bind("open",function(){if(i.options.autoSize){var e,t=i.list;t.css({whiteSpace:"nowrap",width:"auto"}),e=t.width(),e?e+=20:e=i._listWidth,t.css("width",e+n.support.scrollbar()),i._listWidth=e}})},options:{name:"SelectBox"},_initSelectOverlay:function(t){var n,o,i;t=e(t),n=e("<select class='k-select-overlay' />"),o=t.closest(".k-widget"),i=t.data(this.type).kendoSelectBox,n.on("change",function(){i.value(this.value),i.trigger("change")}),this.bind("dataBound",function(){var e,t,o=i.value(),r=this.dataSource.view(),a="";for(t=0;t<r.length;t++)e=r[t],a+="<option value='"+e.value+"'",e.value==o&&(a+=" selected"),a+=">"+e.text+"</option>";n.html(a)}),n.insertAfter(o)},value:function(e){var n=this,i=o.fn.value.call(n,e);return e===t?i:(e!==o.fn.value.call(n)&&(n.text(n.options.title),n._current&&n._current.removeClass("k-state-selected"),n.current(null),n._oldIndex=n.selectedIndex=-1),t)},decorate:function(e){var t,n,o,r=this.dataSource.data();for(t=0;t<r.length;t++)n=r[t].tag||"span",o=r[t].className,r[t].style=i.inlineStyle(e,n,{className:o})+";display:inline-block";this.dataSource.trigger("change")}});n.ui.plugin(r),n.ui.editor.SelectBox=r}(window.kendo.jQuery),function(e,t){function n(n,o){var i="rtl"==e(n).css("direction"),r=i?"Right":"Left",a="td"!=s.name(n)?"margin"+r:"padding"+r;return o===t?n.style[a]||0:(o>0?n.style[a]=o+"px":(n.style[a]="",n.style.cssText||n.removeAttribute("style")),t)}var o=window.kendo,i=o.Class,r=e.extend,a=o.ui.editor,s=a.Dom,l=a.EditorUtils,d=l.registerTool,c=a.Command,u=a.Tool,f=a.ToolTemplate,p=a.RangeUtils,m=s.blockElements,h=a.BlockFormatFinder,g=a.BlockFormatter,v=i.extend({init:function(){this.finder=new h([{tags:s.blockElements}])},apply:function(t){var o,i,r,a,l,d,c,u,f,p,m=this.finder.findSuitable(t),h=[];if(m.length){for(o=0,i=m.length;i>o;o++)s.is(m[o],"li")?e(m[o]).index()?e.inArray(m[o].parentNode,h)<0&&h.push(m[o]):h.push(m[o].parentNode):h.push(m[o]);for(;h.length;)if(r=h.shift(),s.is(r,"li"))if(a=r.parentNode,l=e(r).prev("li"),d=l.find("ul,ol").last(),c=e(r).children("ul,ol")[0],c&&l[0])d[0]?(d.append(r),d.append(e(c).children()),s.remove(c)):(l.append(c),c.insertBefore(r,c.firstChild));else for(c=l.children("ul,ol")[0],c||(c=s.create(r.ownerDocument,s.name(a)),l.append(c));r&&r.parentNode==a;)c.appendChild(r),r=h.shift();else for(u=parseInt(n(r),10)+30,n(r,u),f=0;f<h.length;f++)e.contains(r,h[f])&&h.splice(f,1)}else p=new g([{tags:["p"]}],{style:{marginLeft:30}}),p.apply(t)},remove:function(t){var o,i,r,a,s,l,d,c,u=this.finder.findSuitable(t);for(i=0,r=u.length;r>i;i++){if(d=e(u[i]),d.is("li")){if(a=d.parent(),s=a.parent(),s.is("li,ul,ol")&&!n(a[0])){if(o&&e.contains(o,s[0]))continue;l=d.nextAll("li"),l.length&&e(a[0].cloneNode(!1)).appendTo(d).append(l),s.is("li")?d.insertAfter(s):d.appendTo(s),a.children("li").length||a.remove();continue}if(o==a[0])continue;o=a[0]}else o=u[i];c=parseInt(n(o),10)-30,n(o,c)}}}),b=c.extend({init:function(e){e.formatter={toggle:function(e){(new v).apply(p.nodes(e))}},c.fn.init.call(this,e)}}),y=c.extend({init:function(e){e.formatter={toggle:function(e){(new v).remove(p.nodes(e))}},c.fn.init.call(this,e)}}),k=u.extend({init:function(e){u.fn.init.call(this,e),this.finder=new h([{tags:m}])},initialize:function(e,t){u.fn.initialize.call(this,e,t),e.addClass("k-state-disabled")},update:function(o,i){var r,a,l,d,c=this.finder.findSuitable(i);for(l=0,d=c.length;d>l;l++)if(r=n(c[l]),r||(a=e(c[l]).parents("ul,ol").length,r=s.is(c[l],"li")&&(a>1||n(c[l].parentNode))||s.ofType(c[l],["ul","ol"])&&a>0),r)return o.removeClass("k-state-disabled"),t;o.addClass("k-state-disabled").removeClass("k-state-hover")}});r(a,{IndentFormatter:v,IndentCommand:b,OutdentCommand:y,OutdentTool:k}),d("indent",new u({command:b,template:new f({template:l.buttonTemplate,title:"Indent"})})),d("outdent",new k({command:y,template:new f({template:l.buttonTemplate,title:"Outdent"})}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=e.extend,o=t.ui.editor,i=o.Dom,r=o.RangeUtils,a=o.EditorUtils,s=o.Command,l=o.Tool,d=o.ToolTemplate,c=s.extend({init:function(e){var t=this;t.options=e,s.fn.init.call(t,e),t.attributes=null,t.async=!0},exec:function(){function n(e){s.value(u.find(p).val()),o(e),a.change&&a.change(),s.trigger("change")}function o(e){e.preventDefault(),u.data("kendoWindow").destroy();try{i.windowFromDocument(r.documentFromRange(l)).focus()}catch(t){}}var a=this,s=a.editor,l=s.getRange(),d=s.options.messages,u=e(t.template(c.template)(d)).appendTo(document.body),f=c.indent(s.value()),p=".k-editor-textarea";this.createDialog(u,{title:d.viewHtml,close:o,visible:!1}).find(p).val(f).end().find(".k-dialog-update").click(n).end().find(".k-dialog-close").click(o).end().data("kendoWindow").center().open(),u.find(p).focus()}});n(c,{template:"<div class='k-editor-dialog k-viewhtml-dialog'><textarea class='k-editor-textarea k-input'></textarea><div class='k-button-wrapper'><button class='k-dialog-update k-button'>#: dialogUpdate #</button>&nbsp;#: dialogButtonSeparator #&nbsp;<a href='\\#' class='k-dialog-close k-link'>#: dialogCancel #</a></div></div>",indent:function(e){return e.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/gi,"</$1>\n").replace(/<(ul|ol)([^>]*)><li/gi,"<$1$2>\n<li").replace(/<br \/>/gi,"<br />\n").replace(/\n$/,"")}}),t.ui.editor.ViewHtmlCommand=c,o.EditorUtils.registerTool("viewHtml",new l({command:c,template:new d({template:a.buttonTemplate,title:"View HTML"})}))}(window.kendo.jQuery),function(e){function t(t,n,o){return c.extend({init:function(e){c.fn.init.call(this,e),this.finder=o},command:function(t){var o=t.value;return e.isPlainObject(o)?o[n]=o.value:(t.value={},t.value[n]=o),c.fn.command.call(this,t)},initialize:function(e,t){var o,i=window.console,r=this.options.items;for(o=0;o<r.length;o++)r[o][n]=r[o].value;i&&i.warn("The `"+this.options.name+"` tool has been deprecated in favor of the `formatting` tool. See http://docs.kendoui.com/getting-started/changes-and-backward-compatibility for more information"),c.fn.initialize.call(this,e,t)}})}var n=window.kendo,o=n.ui.editor,i=o.Tool,r=o.ToolTemplate,a=o.DelayedExecutionTool,s=o.Dom,l=o.EditorUtils.dropDownListTemplate,d=o.EditorUtils.registerTool,c=a.extend({init:function(e){var t=this;i.fn.init.call(t,n.deepExtend({},t.options,e)),t.type="kendoSelectBox",t.finder={getFormat:function(){return""}}},options:{items:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],width:90},toFormattingItem:function(e){var t,n=e.value;return n?e.tag||e.className?e:(t=n.indexOf("."),0===t?e.className=n.substring(1):-1==t?e.tag=n:(e.tag=n.substring(0,t),e.className=n.substring(t+1)),e):e},command:function(t){var n=t.value;return n=this.toFormattingItem(n),new o.FormatCommand({range:t.range,formatter:function(){var t,i=(n.tag||n.context||"span").split(","),r=[{tags:i,attr:{className:n.className||""}}];return t=e.inArray(i[0],s.inlineElements)>=0?new o.GreedyInlineFormatter(r):new o.GreedyBlockFormatter(r)}})},initialize:function(e,t){var o=t.editor,r=this.options,a=r.name,s=this;e.width(r.width),e.kendoSelectBox({dataTextField:"text",dataValueField:"value",dataSource:r.items||o.options[a],title:o.options.messages[a],autoSize:!0,change:function(){i.exec(o,a,this.dataItem().toJSON())},dataBound:function(){var e,t=this.dataSource.data();for(e=0;e<t.length;e++)t[e]=s.toFormattingItem(t[e])},highlightFirst:!1,template:n.template('<span unselectable="on" style="display:block;#=data.style#">#:data.text#</span>')}),e.addClass("k-decorated").closest(".k-widget").removeClass("k-"+a).find("*").addBack().attr("unselectable","on")},getFormattingValue:function(t,n){var o,i,r,a,s,l,d;for(o=0;o<t.length;o++)if(i=t[o],r=i.tag||i.context||"",a=i.className?"."+i.className:"",s=r+a,l=e(n[0]).closest(s)[0]){if(1==n.length)return i.value;for(d=1;d<n.length&&e(n[d]).closest(s)[0]==l;d++)if(d==n.length-1)return i.value}return""},update:function(t,n){var o,i,r,l,d,c=e(t).data(this.type);if(c){for(r=c.dataSource,l=r.data(),d=s.commonAncestor.apply(null,n),o=0;o<l.length;o++)i=l[o].context,l[o].visible=!i||!!e(d).closest(i).length;r.filter([{field:"visible",operator:"eq",value:!0}]),a.fn.update.call(this,t,n),c.value(this.getFormattingValue(r.view(),n)),c.wrapper.toggleClass("k-state-disabled",!r.view().length)}}}),u=t("style","className",new o.GreedyInlineFormatFinder([{tags:["span"]}],"className")),f=t("formatBlock","tag",new o.BlockFormatFinder([{tags:s.blockElements}]));e.extend(o,{FormattingTool:c,StyleTool:u,FormatBlockTool:f}),d("formatting",new c({template:new r({template:l,title:"Format"})})),d("style",new u({template:new r({template:l,title:"Styles"})})),d("formatBlock",new f({template:new r({template:l})}))}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.ui,o=n.editor,i=n.Widget,r=e.extend,a=e.proxy,s=t.keys,l=".kendoEditor",d=".k-colorpicker,a.k-tool-icon:not(.k-state-disabled),.k-selectbox, .k-combobox .k-input",c=i.extend({init:function(e,t){var n=this;t=r({},t,{name:"EditorToolbar"}),i.fn.init.call(n,e,t),t.popup&&n._initPopup()},events:["execute"],groups:{basic:["bold","italic","underline","strikethrough"],scripts:["subscript","superscript"],alignment:["justifyLeft","justifyCenter","justifyRight","justifyFull"],links:["insertImage","createLink","unlink"],lists:["insertUnorderedList","insertOrderedList","indent","outdent"],tables:["createTable","addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"],advanced:["viewHtml"]},_initPopup:function(){this.window=e(this.element).wrap("<div class='editorToolbarWindow k-header' />").parent().prepend("<button class='k-button k-button-bare k-editortoolbar-dragHandle'><span class='k-icon k-i-move' /></button>").kendoWindow({title:!1,resizable:!1,draggable:{dragHandle:".k-editortoolbar-dragHandle"},animation:{open:{effects:"fade:in"},close:{effects:"fade:out"}},minHeight:42,visible:!1,autoFocus:!1,actions:[],dragend:function(){this._moved=!0}}).on("mousedown",function(t){e(t.target).is(".k-icon")||t.preventDefault()}).data("kendoWindow")},items:function(){return this.element.children().find("> *, select")},focused:function(){return this.element.find(".k-state-focused").length>0},toolById:function(e){var t,n=this.tools;for(t in n)if(t.toLowerCase()==e)return n[t]},toolGroupFor:function(t){var n,o=this.groups;if(this.isCustomTool(t))return"custom";for(n in o)if(e.inArray(t,o[n])>=0)return n},bindTo:function(t){var n=this,o=n.window;n._editor&&n._editor.unbind("select",a(n._update,n)),n._editor=t,n.tools=n.expandTools(t.options.tools),n.render(),n.element.find(".k-combobox .k-input").keydown(function(t){var n=e(this).closest(".k-combobox").data("kendoComboBox"),o=t.keyCode;o==s.RIGHT||o==s.LEFT?n.close():o==s.DOWN&&(n.dropDown.isOpened()||(t.stopImmediatePropagation(),n.open()))}),n._attachEvents(),n.items().each(function(){var o,i=n._toolFromClassName(this),r=n.tools[i],a=t.options.messages,s=a[i],l=e(this);r&&r.initialize&&(("fontSize"==i||"fontName"==i)&&(o=a[i+"Inherit"],l.find("input").val(o).end().find("span.k-input").text(o).end()),r.initialize(l,{title:n._appendShortcutSequence(s,r),editor:n._editor}),l.closest(".k-widget",n.element).addClass("k-editor-widget"),l.closest(".k-colorpicker",n.element).next(".k-colorpicker").addClass("k-editor-widget"))}),t.bind("select",a(n._update,n)),n._updateContext(),o&&o.wrapper.css({top:"",left:"",width:""})},show:function(){var e,t,n=this,o=n.window,i=n.options.editor;o&&(e=o.wrapper,t=i.element,e.is(":visible")&&n.window.options.visible||(e[0].style.width||e.width(t.outerWidth()-parseInt(e.css("border-left-width"),10)-parseInt(e.css("border-right-width"),10)),o._moved||(e.css("top",parseInt(t.offset().top,10)-e.outerHeight()-parseInt(n.window.element.css("padding-bottom"),10)),e.css("left",parseInt(t.offset().left,10))),o.open()))},hide:function(){this.window&&this.window.close()},focus:function(){var e="tabIndex",t=this._editor.element,n=t.attr(e);t.attr(e,n||0).focus().find("li:has("+d+")").first().focus(),n||0===n||t.removeAttr(e)},_appendShortcutSequence:function(e,t){if(!t.key)return e;var n=e+" (";return t.ctrl&&(n+="Ctrl + "),t.shift&&(n+="Shift + "),t.alt&&(n+="Alt + "),n+=t.key+")"},_nativeTools:["insertLineBreak","insertParagraph","redo","undo"],tools:{},isCustomTool:function(e){return!(e in t.ui.Editor.defaultTools)},expandTools:function(n){var i,a,s,l,d=this._nativeTools,c=t.deepExtend({},t.ui.Editor.defaultTools),u={};for(a=0;a<n.length;a++)i=n[a],l=i.name,e.isPlainObject(i)?l&&c[l]?(u[l]=r({},c[l]),r(u[l].options,i)):(s=r({cssClass:"k-i-custom",type:"button",title:""},i),s.name||(s.name="custom"),s.cssClass="k-"+("custom"==s.name?"i-custom":s.name),s.template||"button"!=s.type||(s.template=o.EditorUtils.buttonTemplate,s.title=s.title||s.tooltip),u[l]={options:s}):c[i]&&(u[i]=c[i]);for(a=0;a<d.length;a++)u[d[a]]||(u[d[a]]=c[d[a]]);return u},render:function(){function n(n){var o;return n.getHtml?o=n.getHtml():(e.isFunction(n)||(n=t.template(n)),o=n(r)),e.trim(o)}function o(){f.children().length&&f.appendTo(v)}function i(){f=e("<li class='k-tool-group' role='presentation' />")}var r,s,l,d,c,u,f,p,m=this,h=m.tools,g=m._editor.element,v=m.element.empty(),b=m._editor.options.tools,y=t.support.browser;for(v.empty(),i(),p=0;p<b.length;p++)d=b[p].name||b[p],r=h[d]&&h[d].options,!r&&e.isPlainObject(d)&&(r=d),s=r&&r.template,"break"==d&&(o(),e("<li class='k-row-break' />").appendTo(m.element),i()),s&&(u=m.toolGroupFor(d),c!=u&&(o(),i(),c=u),s=n(s),l=e(s).appendTo(f),"custom"==u&&(o(),i()),r.exec&&l.hasClass("k-tool-icon")&&l.click(a(r.exec,g[0])));
o(),e(m.element).children(":has(> .k-tool-icon)").addClass("k-button-group"),m.options.popup&&y.msie&&y.version<9&&m.window.wrapper.find("*").attr("unselectable","on"),this.updateGroups()},updateGroups:function(){e(this.element).children().each(function(){e(this).children().filter(function(){return"none"!==this.style.display}).first().addClass("k-group-start").end().last().addClass("k-group-end").end()})},_attachEvents:function(){var t=this,n="[role=button].k-tool-icon",o=n+":not(.k-state-disabled)",i=n+".k-state-disabled";t.element.off(l).on("mouseenter"+l,o,function(){e(this).addClass("k-state-hover")}).on("mouseleave"+l,o,function(){e(this).removeClass("k-state-hover")}).on("mousedown"+l,n,!1).on("keydown"+l,d,function(n){var o,i=e(this).closest("li"),r="li:has("+d+")",a=n.keyCode;if(a==s.RIGHT)o=i.nextAll(r).first().find(d);else if(a==s.LEFT)o=i.prevAll(r).first().find(d);else if(a==s.ESC)o=t;else if(a==s.TAB&&!n.ctrlKey&&!n.altKey)if(n.shiftKey){if(o=i.prevAll(r).first().find(d),!o.length)return;n.preventDefault()}else n.preventDefault(),o=i.nextAll(r).first().find(d),o.length||(o=t);o&&o.focus()}).on("click"+l,o,function(n){var o=e(this);n.preventDefault(),n.stopPropagation(),o.removeClass("k-state-hover"),o.is("[data-popup]")||t._editor.exec(t._toolFromClassName(this))}).on("click"+l,i,function(e){e.preventDefault()})},_toolFromClassName:function(t){if(t){var n=e.grep(t.className.split(" "),function(e){return!/^k-(widget|tool-icon|state-hover|header|combobox|dropdown|selectbox|colorpicker)$/i.test(e)});return n[0]?n[0].substring(n[0].lastIndexOf("-")+1):"custom"}},_update:function(){var n=this,o=n._editor,i=o.getRange(),r=t.ui.editor.RangeUtils.textNodes(i);r.length||(r=[i.startContainer]),n.items().each(function(){var t=n.tools[n._toolFromClassName(this)];t&&t.update&&t.update(e(this),r)}),this._updateContext()},_updateContext:function(){this.element.children().children().each(function(){var t=e(this);t.css("display",t.hasClass("k-state-disabled")?"none":"")}),this.updateGroups()}});e.extend(o,{Toolbar:c})}(window.jQuery),function(e){var t=window.kendo,n=e.extend,o=e.proxy,i=t.ui.editor,r=i.Dom,a=i.EditorUtils,s=i.Command,l=".kendoEditor",d="k-state-active",c="k-state-selected",u=i.Tool,f=i.ToolTemplate,p=i.BlockFormatFinder,m=i.EditorUtils.registerTool,h="<td contentEditable='true'>"+i.emptyElementContent+"</td>",g=new p([{tags:["table"]}]),v=s.extend({_tableHtml:function(e,t){return e=e||1,t=t||1,"<table class='k-table' contentEditable='false' data-last>"+Array(e+1).join("<tr>"+Array(t+1).join(h)+"</tr>")+"</table>"},exec:function(){var t,n,o=this.options,i=this.editor,r=this._tableHtml(o.rows,o.columns);i.selectRange(o.range),i.clipboard.paste(r),t=i.getRange(),n=e("table[data-last]",i.document).removeAttr("data-last"),t.selectNodeContents(n.find("td")[0]),i.selectRange(t)}}),b=u.extend({initialize:function(t,n){u.fn.initialize.call(this,t,n);var i=e(this.options.popupTemplate).appendTo("body").kendoPopup({anchor:t,copyAnchorStyles:!1,open:o(this._open,this),activate:o(this._activate,this),close:o(this._close,this)}).data("kendoPopup");t.click(o(this._toggle,this)),this._editor=n.editor,this._popup=i},popup:function(){return this._popup},_activate:e.noop,_open:function(){this._popup.options.anchor.addClass(d)},_close:function(){this._popup.options.anchor.removeClass(d)},_toggle:function(t){var n=e(t.target).closest(".k-tool-icon");n.hasClass("k-state-disabled")||this.popup().toggle()},update:function(e){this.popup().close(),e.removeClass("k-state-hover")}}),y=b.extend({init:function(t){this.cols=8,this.rows=6,b.fn.init.call(this,e.extend(t,{command:v,popupTemplate:"<div class='k-ct-popup'>"+Array(this.cols*this.rows+1).join("<div class='k-ct-cell k-state-disabled' />")+"<div class='k-status'>Cancel</div>"+"</div>"}))},_activate:function(){function n(t){var n=e(window);return{row:Math.floor((t.clientY+n.scrollTop()-m.top)/r)+1,col:Math.floor((t.clientX+n.scrollLeft()-m.left)/i)+1}}function o(e){return e.row>0&&e.col>0&&e.row<=v&&e.col<=g}var i,r,a=this,s=a._popup.element,d=s.find(".k-status"),u=s.find(".k-ct-cell"),f=u.eq(0),p=u.eq(u.length-1),m=t.getOffset(f),h=t.getOffset(p),g=a.cols,v=a.rows;h.left+=p[0].offsetWidth,h.top+=p[0].offsetHeight,i=(h.left-m.left)/g,r=(h.top-m.top)/v,s.on("mousemove"+l,function(i){var r=n(i);o(r)?(d.text(t.format("Create a {0} x {1} table",r.row,r.col)),u.each(function(t){e(this).toggleClass(c,t%g<r.col&&t/g<r.row)})):(d.text("Cancel"),u.removeClass(c))}).on("mouseleave"+l,function(){u.removeClass(c),d.text("Cancel")}).on("mousedown"+l,!1).on("mouseup"+l,function(e){var t=n(e);o(t)&&(a._editor.exec("createTable",{rows:t.row,columns:t.col}),a._popup.close())})},_open:function(){b.fn._open.call(this),this.popup().element.find(".k-ct-cell").removeClass(c)},_close:function(){b.fn._close.call(this),this.popup().element.off(l)},update:function(e,t){var n;b.fn.update.call(this,e),n=g.isFormatted(t),e.toggleClass("k-state-disabled",n)}}),k=s.extend({exec:function(){for(var e,t,n,o,a=this.lockRange(!0),s=a.endContainer;"td"!=r.name(s);)s=s.parentNode;for(t=s.parentNode,e=t.children.length,n=t.cloneNode(!0),o=0;o<t.cells.length;o++)n.cells[o].innerHTML=i.emptyElementContent;"before"==this.options.position?r.insertBefore(n,t):r.insertAfter(n,t),this.releaseRange(a)}}),w=s.extend({exec:function(){var e,t,n,o,a=this.lockRange(!0),s=r.closest(a.endContainer,"td"),l=r.closest(s,"table"),d=l.rows,c=this.options.position;for(e=r.findNodeIndex(s),t=0;t<d.length;t++)n=d[t].cells[e],o=n.cloneNode(),o.innerHTML=i.emptyElementContent,"before"==c?r.insertBefore(o,n):r.insertAfter(o,n);this.releaseRange(a)}}),C=s.extend({exec:function(){var e,t=this.lockRange(),n=r.closest(t.endContainer,"tr"),o=r.closest(n,"table"),i=o.rows.length;1==i?(e=r.next(o)||r.prev(o),r.remove(o)):(r.removeTextSiblings(n),e=r.next(n)||r.prev(n),e=e.cells[0],r.remove(n)),e&&(t.setStart(e,0),t.collapse(!0),this.editor.selectRange(t))}}),x=s.extend({exec:function(){var e,t,n=this.lockRange(),o=r.closest(n.endContainer,"td"),i=r.closest(o,"table"),a=i.rows,s=r.findNodeIndex(o,!0),l=a[0].cells.length;if(1==l)e=r.next(i)||r.prev(i),r.remove(i);else for(r.removeTextSiblings(o),e=r.next(o)||r.prev(o),t=0;t<a.length;t++)r.remove(a[t].cells[s]);e&&(n.setStart(e,0),n.collapse(!0),this.editor.selectRange(n))}}),T=u.extend({command:function(e){return e=n(e,this.options),"delete"==e.action?"row"==e.type?new C(e):new x(e):"row"==e.type?new k(e):new w(e)},initialize:function(e,t){u.fn.initialize.call(this,e,t),e.addClass("k-state-disabled")},update:function(e,t){var n=!g.isFormatted(t);e.toggleClass("k-state-disabled",n)}});n(t.ui.editor,{PopupTool:b,TableCommand:v,InsertTableTool:y,TableModificationTool:T,InsertRowCommand:k,InsertColumnCommand:w,DeleteRowCommand:C,DeleteColumnCommand:x}),m("createTable",new y({template:new f({template:a.buttonTemplate,popup:!0,title:"Create table"})})),m("addColumnLeft",new T({type:"column",position:"before",template:new f({template:a.buttonTemplate,title:"Add column on the left"})})),m("addColumnRight",new T({type:"column",template:new f({template:a.buttonTemplate,title:"Add column on the right"})})),m("addRowAbove",new T({type:"row",position:"before",template:new f({template:a.buttonTemplate,title:"Add row above"})})),m("addRowBelow",new T({type:"row",template:new f({template:a.buttonTemplate,title:"Add row below"})})),m("deleteRow",new T({type:"row",action:"delete",template:new f({template:a.buttonTemplate,title:"Delete row"})})),m("deleteColumn",new T({type:"column",action:"delete",template:new f({template:a.buttonTemplate,title:"Delete column"})}))}(window.kendo.jQuery);;!function(e,t){function n(e,t){return'<span unselectable="on" class="k-link"><span unselectable="on" class="k-icon k-i-arrow-'+e+'" title="'+t+'">'+t+"</span></span>"}function r(n,r){var a,s,o,i,l,u=r!==t;return n.selectionStart!==t?u?(n.focus(),n.setSelectionRange(r,r)):r=[n.selectionStart,n.selectionEnd]:document.selection&&(e(n).is(":visible")&&n.focus(),a=document.selection.createRange(),u?(a.move("character",r),a.select()):(i=n.createTextRange(),l=i.duplicate(),i.moveToBookmark(a.getBookmark()),l.setEndPoint("EndToStart",i),s=l.text.length,o=s+i.text.length,r=[s,o])),r}var a=window.kendo,s=a.keys,o=a.ui,i=o.Widget,l=a._activeElement,u=a._extractFormat,p=a.parseFloat,d=a.support.placeholder,c=a.getCulture,_=a._round,f="change",m="disabled",v="readonly",g="k-input",h="spin",x=".kendoNumericTextBox",w="touchend",y="mouseleave"+x,b="mouseenter"+x+" "+y,k="k-state-default",T="k-state-focused",A="k-state-hover",E="focus",C=".",H="k-state-selected",N="k-state-disabled",R="aria-disabled",S="aria-readonly",O=null,W=e.proxy,B={190:".",188:","},D=i.extend({init:function(e,n){var r,s,o,l,p,d=this,c=n&&n.step!==t;i.fn.init.call(d,e,n),n=d.options,e=d.element.on("blur"+x,W(d._focusout,d)).attr("role","spinbutton"),n.placeholder=n.placeholder||e.attr("placeholder"),d._reset(),d._wrapper(),d._arrows(),d._input(),a.support.mobileOS?d._text.on(w+x+" "+E+x,function(t){d._toggleText(!1),t.type===E&&e.focus()}):d._text.on(E+x,W(d._click,d)),r=d.min(e.attr("min")),s=d.max(e.attr("max")),o=d._parse(e.attr("step")),n.min===O&&r!==O&&(n.min=r),n.max===O&&s!==O&&(n.max=s),c||o===O||(n.step=o),e.attr("aria-valuemin",n.min).attr("aria-valuemax",n.max),n.format=u(n.format),l=n.value,d.value(l!==O?l:e.val()),p=e.is("[disabled]"),p?d.enable(!1):d.readonly(e.is("[readonly]")),a.notify(d)},options:{name:"NumericTextBox",decimals:O,min:O,max:O,value:O,step:1,culture:"",format:"n",spinners:!0,placeholder:"",upArrowText:"Increase value",downArrowText:"Decrease value"},events:[f,h],_editable:function(e){var t=this,n=t.element,r=e.disable,a=e.readonly,s=t._text.add(n),o=t._inputWrapper.off(b);t._toggleText(!0),t._upArrowEventHandler.unbind("press"),t._downArrowEventHandler.unbind("press"),n.off("keydown"+x).off("paste"+x),a||r?(o.addClass(r?N:k).removeClass(r?k:N),s.attr(m,r).attr(v,a).attr(R,r).attr(S,a)):(o.addClass(k).removeClass(N).on(b,t._toggleHover),s.removeAttr(m).removeAttr(v).attr(R,!1).attr(S,!1),t._upArrowEventHandler.bind("press",function(e){e.preventDefault(),t._spin(1),t._upArrow.addClass(H)}),t._downArrowEventHandler.bind("press",function(e){e.preventDefault(),t._spin(-1),t._downArrow.addClass(H)}),t.element.on("keydown"+x,W(t._keydown,t)).on("paste"+x,W(t._paste,t)))},readonly:function(e){this._editable({readonly:e===t?!0:e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===t?!0:e)})},destroy:function(){var e=this;e.element.add(e._text).add(e._upArrow).add(e._downArrow).add(e._inputWrapper).off(x),e._upArrowEventHandler.destroy(),e._downArrowEventHandler.destroy(),e._form&&e._form.off("reset",e._resetHandler),i.fn.destroy.call(e)},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},step:function(e){return this._option("step",e)},value:function(e){var n,r=this;return e===t?r._value:(e=r._parse(e),n=r._adjust(e),e===n&&(r._update(e),r._old=r._value),t)},focus:function(){this._focusin()},_adjust:function(e){var t=this,n=t.options,r=n.min,a=n.max;return e===O?e:(r!==O&&r>e?e=r:a!==O&&e>a&&(e=a),e)},_arrows:function(){var t,r=this,s=function(){clearTimeout(r._spinning),t.removeClass(H)},o=r.options,i=o.spinners,l=r.element;t=l.siblings(".k-icon"),t[0]||(t=e(n("n",o.upArrowText)+n("s",o.downArrowText)).insertAfter(l),t.wrapAll('<span class="k-select"/>')),i||(t.parent().toggle(i),r._inputWrapper.addClass("k-expand-padding")),r._upArrow=t.eq(0),r._upArrowEventHandler=new a.UserEvents(r._upArrow,{release:s}),r._downArrow=t.eq(1),r._downArrowEventHandler=new a.UserEvents(r._downArrow,{release:s})},_blur:function(){var e=this;e._toggleText(!0),e._change(e.element.val())},_click:function(e){var t=this;clearTimeout(t._focusing),t._focusing=setTimeout(function(){var n,a,s,o=e.target,i=r(o)[0],l=o.value.substring(0,i),u=t._format(t.options.format),p=u[","],d=0;p&&(a=RegExp("\\"+p,"g"),s=RegExp("([\\d\\"+p+"]+)(\\"+u[C]+")?(\\d+)?")),s&&(n=s.exec(l)),n&&(d=n[0].replace(a,"").length,-1!=l.indexOf("(")&&t._value<0&&d++),t._focusin(),r(t.element[0],d)})},_change:function(e){var t=this;t._update(e),e=t._value,t._old!=e&&(t._old=e,t.trigger(f),t.element.trigger(f))},_culture:function(e){return e||c(this.options.culture)},_focusin:function(){var e=this;e._inputWrapper.addClass(T),e._toggleText(!1),e.element[0].focus()},_focusout:function(){var e=this;clearTimeout(e._focusing),e._inputWrapper.removeClass(T).removeClass(A),e._blur()},_format:function(e,t){var n=this._culture(t).numberFormat;return e=e.toLowerCase(),e.indexOf("c")>-1?n=n.currency:e.indexOf("p")>-1&&(n=n.percent),n},_input:function(){var t,n=this,r="k-formatted-value",a=n.element.addClass(g).show()[0],s=a.accessKey,o=n.wrapper;t=o.find(C+r),t[0]||(t=e('<input type="text"/>').insertBefore(a).addClass(r)),a.type="text",t[0].tabIndex=a.tabIndex,t[0].style.cssText=a.style.cssText,t.prop("placeholder",n.options.placeholder),s&&(t.attr("accesskey",s),a.accessKey=""),n._text=t.addClass(a.className)},_keydown:function(e){var t=this,n=e.keyCode;n==s.DOWN?t._step(-1):n==s.UP?t._step(1):n==s.ENTER&&t._change(t.element.val()),t._prevent(n,e.shiftKey)&&!e.ctrlKey&&e.preventDefault()},_paste:function(e){var t=this,n=e.target,r=n.value;setTimeout(function(){t._parse(n.value)===O&&t._update(r)})},_prevent:function(e,t){var n,a=this,o=a.element[0],i=o.value,l=a.options,u=l.min,p=a._format(l.format),d=p[C],c=l.decimals,_=r(o),f=_[0],m=_[1],v=0===f&&m===i.length,g=!0;return c===O&&(c=p.decimals),e>16&&21>e||e>32&&37>e||e>47&&58>e||e>95&&106>e||e==s.INSERT||e==s.DELETE||e==s.LEFT||e==s.RIGHT||e==s.TAB||e==s.BACKSPACE||e==s.ENTER?(g=!1,t&&(n=parseInt(String.fromCharCode(e),10),isNaN(n)||(n+="",i=i.substring(0,f)+n+i.substring(m),(-1===o.maxLength||o.maxLength>=i.length)&&(o.value=i,r(o,f+n.length)),g=!0))):(B[e]===d||110==e)&&c>0&&(-1==i.indexOf(d)||v)?110==e?(o.value=i.substring(0,f)+d+i.substring(m),r(o,f+d.length)):t||(g=!1):!(u===O||0>u)||-1!=i.indexOf("-")||189!=e&&109!=e&&173!=e||0!==f||(g=!1),g},_option:function(e,n){var r=this,a=r.options;return n===t?a[e]:(n=r._parse(n),(n||"step"!==e)&&(a[e]=n,r.element.attr("aria-value"+e,n).attr(e,n)),t)},_spin:function(e,t){var n=this;t=t||500,clearTimeout(n._spinning),n._spinning=setTimeout(function(){n._spin(e,50)},t),n._step(e)},_step:function(e){var t=this,n=t.element,r=t._parse(n.val())||0;l()!=n[0]&&t._focusin(),r+=t.options.step*e,t._update(t._adjust(r)),t.trigger(h)},_toggleHover:function(t){e(t.currentTarget).toggleClass(A,"mouseenter"===t.type)},_toggleText:function(e){var t=this;t._text.toggle(e),t.element.toggle(!e)},_parse:function(e,t){return p(e,this._culture(t),this.options.format)},_update:function(e){var t,n=this,r=n.options,s=r.format,o=r.decimals,i=n._culture(),l=n._format(s,i);o===O&&(o=l.decimals),e=n._parse(e,i),t=e!==O,t&&(e=parseFloat(_(e,o))),n._value=e=n._adjust(e),n._placeholder(a.toString(e,s,i)),t?(e=""+e,-1!==e.indexOf("e")&&(e=_(+e,o)),e=e.replace(C,l[C])):e="",n.element.val(e).attr("aria-valuenow",e)},_placeholder:function(e){this._text.val(e),d||e||this._text.val(this.options.placeholder)},_wrapper:function(){var t,n=this,r=n.element,a=r[0];t=r.parents(".k-numerictextbox"),t.is("span.k-numerictextbox")||(t=r.hide().wrap('<span class="k-numeric-wrap k-state-default" />').parent(),t=t.wrap("<span/>").parent()),t[0].style.cssText=a.style.cssText,a.style.width="",n.wrapper=t.addClass("k-widget k-numerictextbox").addClass(a.className).css("display",""),n._inputWrapper=e(t[0].firstChild)},_reset:function(){var t=this,n=t.element,r=n.attr("form"),a=r?e("#"+r):n.closest("form");a[0]&&(t._resetHandler=function(){setTimeout(function(){t.value(n[0].value)})},t._form=a.on("reset",t._resetHandler))}});o.plugin(D)}(window.kendo.jQuery);;!function(t){function e(e){var a,u=n.ui.validator.ruleResolvers||{},F={};for(a in u)t.extend(!0,F,u[a].resolve(e));return F}function a(t){return t.replace(/&amp/g,"&amp;").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">")}function u(t){return t=(t+"").split("."),t.length>1?t[1].length:0}function F(e){return t.parseHTML?t(t.parseHTML(e)):t(e)}var r,n=window.kendo,i=n.ui.Widget,l=".kendoValidator",s="k-invalid-msg",o=RegExp(s,"i"),d="k-invalid",p=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,f=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,D=":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])",m=":checkbox:not([disabled],[readonly])",c="[type=number],[type=range]",v="blur",g="name",h="form",x="novalidate",y=t.proxy,C=function(t,e){return"string"==typeof e&&(e=RegExp("^(?:"+e+")$")),e.test(t)},E=function(t,e,a){var u=t.val();return t.filter(e).length&&""!==u?C(u,a):!0},_=function(t,e){return t.length?null!=t[0].attributes[e]:!1};n.ui.validator||(n.ui.validator={rules:{},messages:{}}),r=i.extend({init:function(a,u){var F=this,r=e(a);u=u||{},u.rules=t.extend({},n.ui.validator.rules,r.rules,u.rules),u.messages=t.extend({},n.ui.validator.messages,r.messages,u.messages),i.fn.init.call(F,a,u),F._errorTemplate=n.template(F.options.errorTemplate),F.element.is(h)&&F.element.attr(x,x),F._errors={},F._attachEvents()},events:["validate"],options:{name:"Validator",errorTemplate:'<span class="k-widget k-tooltip k-tooltip-validation"><span class="k-icon k-warning"> </span> #=message#</span>',messages:{required:"{0} is required",pattern:"{0} is not valid",min:"{0} should be greater than or equal to {1}",max:"{0} should be smaller than or equal to {1}",step:"{0} is not valid",email:"{0} is not valid email",url:"{0} is not valid URL",date:"{0} is not valid date"},rules:{required:function(t){var e=t.filter("[type=checkbox]").length&&!t.is(":checked"),a=t.val();return!(_(t,"required")&&(""===a||!a||e))},pattern:function(t){return t.filter("[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]").filter("[pattern]").length&&""!==t.val()?C(t.val(),t.attr("pattern")):!0},min:function(t){if(t.filter(c+",["+n.attr("type")+"=number]").filter("[min]").length&&""!==t.val()){var e=parseFloat(t.attr("min"))||0,a=n.parseFloat(t.val());return a>=e}return!0},max:function(t){if(t.filter(c+",["+n.attr("type")+"=number]").filter("[max]").length&&""!==t.val()){var e=parseFloat(t.attr("max"))||0,a=n.parseFloat(t.val());return e>=a}return!0},step:function(t){if(t.filter(c+",["+n.attr("type")+"=number]").filter("[step]").length&&""!==t.val()){var e,a=parseFloat(t.attr("min"))||0,F=parseFloat(t.attr("step"))||1,r=parseFloat(t.val()),i=u(F);return i?(e=Math.pow(10,i),0===(r-a)*e%(F*e)/Math.pow(100,i)):0===(r-a)%F}return!0},email:function(t){return E(t,"[type=email],["+n.attr("type")+"=email]",p)},url:function(t){return E(t,"[type=url],["+n.attr("type")+"=url]",f)},date:function(t){return t.filter("[type^=date],["+n.attr("type")+"=date]").length&&""!==t.val()?null!==n.parseDate(t.val(),t.attr(n.attr("format"))):!0}},validateOnBlur:!0},destroy:function(){i.fn.destroy.call(this),this.element.off(l)},_submit:function(t){return this.validate()?!0:(t.stopPropagation(),t.stopImmediatePropagation(),t.preventDefault(),!1)},_attachEvents:function(){var e=this;e.element.is(h)&&e.element.on("submit"+l,y(e._submit,e)),e.options.validateOnBlur&&(e.element.is(D)?(e.element.on(v+l,function(){e.validateInput(e.element)}),e.element.is(m)&&e.element.on("click"+l,function(){e.validateInput(e.element)})):(e.element.on(v+l,D,function(){e.validateInput(t(this))}),e.element.on("click"+l,m,function(){e.validateInput(t(this))})))},validate:function(){var t,e,a,u,F=!1;if(this._errors={},this.element.is(D))F=this.validateInput(this.element);else{for(u=!1,t=this.element.find(D),e=0,a=t.length;a>e;e++)this.validateInput(t.eq(e))||(u=!0);F=!u}return this.trigger("validate",{valid:F}),F},validateInput:function(e){var u,r,n,i,l,o,p,f,D;return e=t(e),r=this,n=r._errorTemplate,i=r._checkValidity(e),l=i.valid,o="."+s,p=e.attr(g)||"",f=r._findMessageContainer(p).add(e.next(o)).hide(),e.removeAttr("aria-invalid"),l||(u=r._extractMessage(e,i.key),r._errors[p]=u,D=F(n({message:a(u)})),r._decorateMessageContainer(D,p),f.replaceWith(D).length||D.insertAfter(e),D.show(),e.attr("aria-invalid",!0)),e.toggleClass(d,!l),l},hideMessages:function(){var t=this,e="."+s,a=t.element;a.is(D)?a.next(e).hide():a.find(e).hide()},_findMessageContainer:function(e){var a,u,F,r,i,l=n.ui.validator.messageLocators,s=t(),d=this.element[0].getElementsByTagName("*");for(u=0,F=d.length;F>u;u++)r=d[u],o.test(r.className)&&(i=r.getAttribute(n.attr("for")),i===e&&(s=s.add(r)));for(a in l)s=s.add(l[a].locate(this.element,e));return s},_decorateMessageContainer:function(t,e){var a,u=n.ui.validator.messageLocators;t.addClass(s).attr(n.attr("for"),e||"");for(a in u)u[a].decorate(t,e);t.attr("role","alert")},_extractMessage:function(e,a){var u=this,F=u.options.messages[a],r=e.attr(g);return F=t.isFunction(F)?F(e):F,n.format(e.attr(n.attr(a+"-msg"))||e.attr("validationMessage")||e.attr("title")||F||"",r,e.attr(a))},_checkValidity:function(t){var e,a=this.options.rules;for(e in a)if(!a[e](t))return{valid:!1,key:e};return{valid:!0}},errors:function(){var t,e=[],a=this._errors;for(t in a)e.push(a[t]);return e}}),n.ui.plugin(r)}(window.kendo.jQuery);;!function(e,t){function a(t){return t=null!=t?t:"",t.type||e.type(t)||"string"}function n(t){t.find(":input:not(:button, ["+l.attr("role")+"=upload], ["+l.attr("skip")+"], [type=file]), select").each(function(){var t=l.attr("bind"),a=this.getAttribute(t)||"",n="checkbox"===this.type||"radio"===this.type?"checked:":"value:",i=this.name;-1===a.indexOf(n)&&i&&(a+=(a.length?",":"")+n+i,e(this).attr(t,a))})}function i(e){var t,n,i=(e.model.fields||e.model)[e.field],o=a(i),r=i?i.validation:{},d=l.attr("type"),s=l.attr("bind"),u={name:e.field};for(t in r)n=r[t],c(t,y)>=0?u[d]=t:f(n)||(u[t]=v(n)?n.value||t:n),u[l.attr(t+"-msg")]=n.message;return c(o,y)>=0&&(u[d]=o),u[s]=("boolean"===o?"checked:":"value:")+e.field,u}function o(e){var t,a,n,i,o,r;if(e&&e.length)for(r=[],t=0,a=e.length;a>t;t++)n=e[t],o=n.text||n.value||n,i=null==n.value?n.text||n:n.value,r[t]={text:o,value:i};return r}function r(e,t){var a,n,i=e?e.validation||{}:{};for(a in i)n=i[a],v(n)&&n.value&&(n=n.value),f(n)&&(t[a]=n)}var l=window.kendo,d=l.ui,s=d.Widget,u=e.extend,p=l.support.browser.msie&&l.support.browser.version<9,f=e.isFunction,v=e.isPlainObject,c=e.inArray,m=/("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g,g='<div class="k-widget k-tooltip k-tooltip-validation" style="margin:0.5em"><span class="k-icon k-warning"> </span>#=message#<div class="k-callout k-callout-n"></div></div>',h="change",y=["url","email","number","date","boolean"],b={number:function(t,a){var n=i(a);e('<input type="text"/>').attr(n).appendTo(t).kendoNumericTextBox({format:a.format}),e("<span "+l.attr("for")+'="'+a.field+'" class="k-invalid-msg"/>').hide().appendTo(t)},date:function(t,a){var n=i(a),o=a.format;o&&(o=l._extractFormat(o)),n[l.attr("format")]=o,e('<input type="text"/>').attr(n).appendTo(t).kendoDatePicker({format:a.format}),e("<span "+l.attr("for")+'="'+a.field+'" class="k-invalid-msg"/>').hide().appendTo(t)},string:function(t,a){var n=i(a);e('<input type="text" class="k-input k-textbox"/>').attr(n).appendTo(t)},"boolean":function(t,a){var n=i(a);e('<input type="checkbox" />').attr(n).appendTo(t)},values:function(t,a){var n=i(a);e("<select "+l.attr("text-field")+'="text"'+l.attr("value-field")+'="value"'+l.attr("source")+"='"+l.stringify(o(a.values)).replace(/\'/g,"&apos;")+"'"+l.attr("role")+'="dropdownlist"/>').attr(n).appendTo(t),e("<span "+l.attr("for")+'="'+a.field+'" class="k-invalid-msg"/>').hide().appendTo(t)}},k=s.extend({init:function(t,a){var n=this;s.fn.init.call(n,t,a),n._validateProxy=e.proxy(n._validate,n),n.refresh()},events:[h],options:{name:"Editable",editors:b,clearContainer:!0,errorTemplate:g},editor:function(e,t){var n=this,i=n.options.editors,o=v(e),r=o?e.field:e,d=n.options.model||{},s=o&&e.values,p=s?"values":a(t),f=o&&e.editor,c=f?e.editor:i[p],g=n.element.find("["+l.attr("container-for")+"="+r.replace(m,"\\$1")+"]");c=c?c:i.string,f&&"string"==typeof e.editor&&(c=function(t){t.append(e.editor)}),g=g.length?g:n.element,c(g,u(!0,{},o?e:{field:r},{model:d}))},_validate:function(t){var a,n=this,i="boolean"==typeof t.value,o=n._validationEventInProgress,r={};r[t.field]=t.value,a=e(":input["+l.attr("bind")+'="'+(i?"checked:":"value:")+t.field.replace(m,"\\$1")+'"]',n.element);try{n._validationEventInProgress=!0,(!n.validatable.validateInput(a)||!o&&n.trigger(h,{values:r}))&&t.preventDefault()}finally{n._validationEventInProgress=!1}},end:function(){return this.validatable.validate()},destroy:function(){var e=this;s.fn.destroy.call(e),e.options.model.unbind("set",e._validateProxy),l.unbind(e.element),l.destroy(e.element),e.element.removeData("kendoValidator")},refresh:function(){var a,i,o,d,s,u,f,c,m=this,g=m.options.fields||[],h=m.options.clearContainer?m.element.empty():m.element,y=m.options.model||{},b={};for(e.isArray(g)||(g=[g]),a=0,i=g.length;i>a;a++)o=g[a],d=v(o),s=d?o.field:o,u=(y.fields||y)[s],r(u,b),m.editor(o,u);if(!i){f=y.fields||y;for(s in f)r(f[s],b)}n(h),l.bind(h,m.options.model),m.options.model.bind("set",m._validateProxy),m.validatable=h.kendoValidator({validateOnBlur:!1,errorTemplate:m.options.errorTemplate||t,rules:b}).data("kendoValidator"),c=h.find(":focusable:first").focus(),p&&c.focus()}});d.plugin(k)}(window.kendo.jQuery);;!function(e){function t(l,r){l.filters&&(l.filters=e.grep(l.filters,function(e){return t(e,r),e.filters?e.filters.length:e.field!=r}))}function l(e){var t,l,r,s,i,a;if(e&&e.length)for(a=[],t=0,l=e.length;l>t;t++)r=e[t],i=r.text||r.value||r,s=null==r.value?r.text||r:r.value,a[t]={text:i,value:s};return a}function r(t,l){return e.grep(t,function(t){return t.filters?(t.filters=e.grep(t.filters,function(e){return e.field!=l}),t.filters.length):t.field!=l})}var s=window.kendo,i=s.ui,a=e.proxy,n="kendoPopup",o="init",d=".kendoFilterMenu",f="Is equal to",u="Is not equal to",p={number:"numerictextbox",date:"datepicker"},c=e.isFunction,v=i.Widget,m='<div><div class="k-filter-help-text">#=messages.info#</div><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label><div><button type="submit" class="k-button">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>',g='<div><div class="k-filter-help-text">#=messages.info#</div><select data-#=ns#bind="value: filters[0].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[0].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#"></select>#}else{#<input data-#=ns#bind="value:filters[0].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}##if(extra){#<select class="k-filter-and" data-#=ns#bind="value: logic" data-#=ns#role="dropdownlist"><option value="and">#=messages.and#</option><option value="or">#=messages.or#</option></select><select data-#=ns#bind="value: filters[1].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[1].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#"></select>#}else{#<input data-#=ns#bind="value: filters[1].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""#/>#}##}#<div><button type="submit" class="k-button">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>',h=v.extend({init:function(t,l){var r,i,n,o,f=this,u="string";v.fn.init.call(f,t,l),r=f.operators=l.operators||{},t=f.element,l=f.options,l.appendToElement||(n=t.addClass("k-filterable").find(".k-grid-filter"),n[0]||(n=t.prepend('<a class="k-grid-filter" href="#"><span class="k-icon k-filter"/></a>').find(".k-grid-filter")),n.attr("tabindex",-1).on("click"+d,a(f._click,f))),f.link=n||e(),f.dataSource=l.dataSource,f.field=l.field||t.attr(s.attr("field")),f.model=f.dataSource.reader.model,f._parse=function(e){return e+""},f.model&&f.model.fields&&(o=f.model.fields[f.field],o&&(u=o.type||"string",o.parse&&(f._parse=a(o.parse,o)))),l.values&&(u="enums"),f.type=u,r=r[u]||l.operators[u];for(i in r)break;f._defaultFilter=function(){return{field:f.field,operator:i||"eq",value:""}},f._refreshHandler=a(f.refresh,f),f.dataSource.bind("change",f._refreshHandler),l.appendToElement?f._init():f.refresh()},_init:function(){var t,r=this,i=r.options,f=r.operators||{},u=i.ui,v=c(u),h=r.type;f=f[h]||i.operators[h],v||(t=u||p[h]),r.form=e('<form class="k-filter-menu k-secondary"/>').html(s.template("boolean"===h?m:g)({field:r.field,format:i.format,ns:s.ns,messages:i.messages,extra:i.extra,operators:f,type:h,role:t,values:l(i.values)})).on("keydown"+d,a(r._keydown,r)).on("submit"+d,a(r._submit,r)).on("reset"+d,a(r._reset,r)),i.appendToElement?(r.element.append(r.form),r.popup=r.element.closest(".k-popup").data(n)):r.popup=r.form[n]({anchor:r.link,open:a(r._open,r),activate:a(r._activate,r),close:r.options.closeCallback}).data(n),v&&r.form.find(".k-textbox").removeClass("k-textbox").each(function(){u(e(this))}),r.form.find("["+s.attr("role")+"=numerictextbox]").removeClass("k-textbox").end().find("["+s.attr("role")+"=datetimepicker]").removeClass("k-textbox").end().find("["+s.attr("role")+"=timepicker]").removeClass("k-textbox").end().find("["+s.attr("role")+"=datepicker]").removeClass("k-textbox"),r.refresh(),r.trigger(o,{field:r.field,container:r.form})},refresh:function(){var e=this,t=e.dataSource.filter()||{filters:[],logic:"and"};e.filterModel=s.observable({logic:"and",filters:[e._defaultFilter(),e._defaultFilter()]}),e.form&&s.bind(e.form.children().first(),e.filterModel),e._bind(t)?e.link.addClass("k-state-active"):e.link.removeClass("k-state-active")},destroy:function(){var e=this;v.fn.destroy.call(e),e.form&&(s.unbind(e.form),s.destroy(e.form),e.form.unbind(d),e.popup.destroy()),e.link.unbind(d),e._refreshHandler&&e.dataSource.unbind("change",e._refreshHandler)},_bind:function(e){var t,l,r,s,i=this,a=e.filters,n=!1,o=0,d=i.filterModel;for(t=0,l=a.length;l>t;t++)s=a[t],s.field==i.field?(d.set("logic",e.logic),r=d.filters[o],r||(d.filters.push({field:i.field}),r=d.filters[o]),r.set("value",i._parse(s.value)),r.set("operator",s.operator),o++,n=!0):s.filters&&(n=n||i._bind(s));return n},_merge:function(l){var r,s,i,a=this,n=l.logic||"and",o=l.filters,d=a.dataSource.filter()||{filters:[],logic:"and"};for(t(d,a.field),o=e.grep(o,function(e){return""!==e.value&&null!=e.value}),s=0,i=o.length;i>s;s++)r=o[s],r.value=a._parse(r.value);return o.length&&(d.filters.length?(l.filters=o,"and"!==d.logic&&(d.filters=[{logic:d.logic,filters:d.filters}],d.logic="and"),o.length>1?d.filters.push(l):d.filters.push(o[0])):(d.filters=o,d.logic=n)),d},filter:function(e){e=this._merge(e),e.filters.length&&this.dataSource.filter(e)},clear:function(){var t=this,l=t.dataSource.filter()||{filters:[]};l.filters=e.grep(l.filters,function(e){return e.filters?(e.filters=r(e.filters,t.field),e.filters.length):e.field!=t.field}),l.filters.length||(l=null),t.dataSource.filter(l)},_submit:function(e){var t=this;e.preventDefault(),t.filter(t.filterModel.toJSON()),t.popup.close()},_reset:function(){this.clear(),this.popup.close()},_click:function(e){e.preventDefault(),e.stopPropagation(),this.popup||this._init(),this.popup.toggle()},_open:function(){var t;e(".k-filter-menu").not(this.form).each(function(){t=e(this).data(n),t&&t.close()})},_activate:function(){this.form.find(":focusable:first").focus()},_keydown:function(e){e.keyCode==s.keys.ESC&&this.popup.close()},events:[o],options:{name:"FilterMenu",extra:!0,appendToElement:!1,type:"string",operators:{string:{eq:f,neq:u,startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with"},number:{eq:f,neq:u,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than"},date:{eq:f,neq:u,gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before"},enums:{eq:f,neq:u}},messages:{info:"Show items with value that:",isTrue:"is true",isFalse:"is false",filter:"Filter",clear:"Clear",and:"And",or:"Or",selectValue:"-Select value-"}}});i.plugin(h)}(window.kendo.jQuery);;!function(e,t){function n(e,t){return e=e.split(" ")[!t+0]||e,e.replace("top","up").replace("bottom","down")}function i(e,t,n){e=e.split(" ")[!t+0]||e;var i={origin:["bottom",n?"right":"left"],position:["top",n?"right":"left"]},r=/left|right/.test(e);return r?(i.origin=["top",e],i.position[1]=l.directions[e].reverse):(i.origin[0]=e,i.position[0]=l.directions[e].reverse),i.origin=i.origin.join(" "),i.position=i.position.join(" "),i}function r(t,n){try{return e.contains(t,n)}catch(i){return!1}}function o(t){t=e(t),t.addClass("k-item").children(w).addClass(O),t.children("a").addClass(I).children(w).addClass(O),t.filter(":not([disabled])").addClass(W),t.filter(".k-separator:empty").append("&nbsp;"),t.filter("li[disabled]").addClass(q).removeAttr("disabled").attr("aria-disabled",!0),t.filter("[role]").length||t.attr("role","menuitem"),t.children("."+I).length||t.contents().filter(function(){return!(this.nodeName.match(C)||3==this.nodeType&&!e.trim(this.nodeValue))}).wrapAll("<span class='"+I+"'/>"),a(t),s(t)}function a(t){t=e(t),t.find("> .k-link > [class*=k-i-arrow]").remove(),t.filter(":has(.k-group)").children(".k-link:not(:has([class*=k-i-arrow]))").each(function(){var t=e(this),n=t.parent().parent();t.append("<span class='k-icon "+(n.hasClass(x+"-horizontal")?"k-i-arrow-s":"k-i-arrow-e")+"'/>")})}function s(t){t=e(t),t.filter(".k-first:not(:first-child)").removeClass(A),t.filter(".k-last:not(:last-child)").removeClass(y),t.filter(":first-child").addClass(A),t.filter(":last-child").addClass(y)}var l=window.kendo,c=l.ui,d=l._activeElement,u=l.support.touch&&l.support.mobileOS,p="mousedown",m="click",f=e.extend,h=e.proxy,v=e.each,g=l.template,k=l.keys,_=c.Widget,C=/^(ul|a|div)$/i,b=".kendoMenu",w="img",T="open",x="k-menu",I="k-link",y="k-last",H="close",P="timer",A="k-first",O="k-image",D="select",E="zIndex",R="activate",U="deactivate",S="touchstart"+b+" MSPointerDown"+b+" pointerdown"+b,z=l.support.pointers,L=l.support.msPointers,B=z?"pointerover":L?"MSPointerOver":"mouseenter",M=z?"pointerout":L?"MSPointerOut":"mouseleave",N=u||L||z,G="kendoPopup",W="k-state-default",j="k-state-hover",V="k-state-focused",q="k-state-disabled",F=".k-group",K=":not(.k-list) > .k-item",Z=".k-item.k-state-disabled",$=".k-item:not(.k-state-disabled)",Q=".k-item:not(.k-state-disabled) > .k-link",Y=":not(.k-item.k-separator)",J=Y+":eq(0)",X=Y+":last",et="div:not(.k-animation-container,.k-list-container)",tt={content:g("<div class='k-content k-group' tabindex='-1'>#= content(item) #</div>"),group:g("<ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'>#= renderItems(data) #</ul>"),itemWrapper:g("<#= tag(item) # class='#= textClass(item) #'#= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:g("<li class='#= wrapperCssClass(group, item) #' role='menuitem' #=item.items ? \"aria-haspopup='true'\": \"\"##=item.enabled === false ? \"aria-disabled='true'\" : ''#>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),image:g("<img class='k-image' alt='' src='#= imageUrl #' />"),arrow:g("<span class='#= arrowClass(item, group) #'></span>"),sprite:g("<span class='k-sprite #= spriteCssClass #'></span>"),empty:g("")},nt={wrapperCssClass:function(e,t){var n="k-item",i=t.index;return n+=t.enabled===!1?" k-state-disabled":" k-state-default",e.firstLevel&&0===i&&(n+=" k-first"),i==e.length-1&&(n+=" k-last"),t.cssClass&&(n+=" "+t.cssClass),n},textClass:function(){return I},textAttributes:function(e){return e.url?" href='"+e.url+"'":""},arrowClass:function(e,t){var n="k-icon";return n+=t.horizontal?" k-i-arrow-s":" k-i-arrow-e"},text:function(e){return e.encoded===!1?e.text:l.htmlEncode(e.text)},tag:function(e){return e.url?"a":"span"},groupAttributes:function(e){return e.expanded!==!0?" style='display:none'":""},groupCssClass:function(){return"k-group"},content:function(e){return e.content?e.content:"&nbsp;"}},it=_.extend({init:function(t,n){var i=this;_.fn.init.call(i,t,n),t=i.wrapper=i.element,n=i.options,i._initData(n),i._updateClasses(),i._animations(n),i.nextItemZIndex=100,i._tabindex(),i._focusProxy=h(i._focusHandler,i),t.on(S,i._focusProxy).on(m+b,Z,!1).on(m+b,$,h(i._click,i)).on("keydown"+b,h(i._keydown,i)).on("focus"+b,h(i._focus,i)).on("focus"+b,".k-content",h(i._focus,i)).on(S+" "+p+b,".k-content",h(i._preventClose,i)).on("blur"+b,h(i._removeHoverItem,i)).on("blur"+b,"[tabindex]",h(i._checkActiveElement,i)).on(B+b,$,h(i._mouseenter,i)).on(M+b,$,h(i._mouseleave,i)).on(B+b+" "+M+b+" "+p+b+" "+m+b,Q,h(i._toggleHover,i)),n.openOnClick&&(i.clicked=!1,i._documentClickHandler=h(i._documentClick,i),e(document).click(i._documentClickHandler)),t.attr("role","menubar"),t[0].id&&(i._ariaId=l.format("{0}_mn_active",t[0].id)),l.notify(i)},events:[T,H,R,U,D],options:{name:"Menu",animation:{open:{duration:200},close:{duration:100}},orientation:"horizontal",direction:"default",openOnClick:!1,closeOnClick:!0,hoverDelay:100},_initData:function(e){var t=this;e.dataSource&&(t.element.empty(),t.append(e.dataSource,t.element))},setOptions:function(e){var t=this.options.animation;this._animations(e),e.animation=f(!0,t,e.animation),"dataSource"in e&&this._initData(e),_.fn.setOptions.call(this,e)},destroy:function(){var t=this;_.fn.destroy.call(t),t.element.off(b),t._documentClickHandler&&e(document).unbind("click",t._documentClickHandler)},enable:function(e,t){return this._toggleDisabled(e,t!==!1),this},disable:function(e){return this._toggleDisabled(e,!1),this},append:function(e,t){t=this.element.find(t);var n=this._insert(e,t,t.length?t.find("> .k-group, > .k-animation-container > .k-group"):null);return v(n.items,function(){n.group.append(this),a(this)}),a(t),s(n.group.find(".k-first, .k-last").add(n.items)),this},insertBefore:function(e,t){t=this.element.find(t);var n=this._insert(e,t,t.parent());return v(n.items,function(){t.before(this),a(this),s(this)}),s(t),this},insertAfter:function(e,t){t=this.element.find(t);var n=this._insert(e,t,t.parent());return v(n.items,function(){t.after(this),a(this),s(this)}),s(t),this},_insert:function(t,n,i){var r,a,s,l,c=this;return n&&n.length||(i=c.element),s=e.isPlainObject(t),l={firstLevel:i.hasClass(x),horizontal:i.hasClass(x+"-horizontal"),expanded:!0,length:i.children().length},n&&!i.length&&(i=e(it.renderGroup({group:l})).appendTo(n)),s||e.isArray(t)?r=e.map(s?[t]:t,function(t,n){return"string"==typeof t?e(t):e(it.renderItem({group:l,item:f(t,{index:n})}))}):(r=e(t),a=r.find("> ul").addClass("k-group").attr("role","menu"),r=r.filter("li"),r.add(a.find("> li")).each(function(){o(this)})),{items:r,group:i}},remove:function(e){var t,n,i,r;return e=this.element.find(e),t=this,n=e.parentsUntil(t.element,K),i=e.parent("ul"),e.remove(),i&&!i.children(K).length&&(r=i.parent(".k-animation-container"),r.length?r.remove():i.remove()),n.length&&(n=n.eq(0),a(n),s(n)),t},open:function(r){var o=this,a=o.options,s="horizontal"==a.orientation,c=a.direction,d=l.support.isRtl(o.wrapper);return r=o.element.find(r),/^(top|bottom|default)$/.test(c)&&(c=d?s?(c+" left").replace("default","bottom"):"left":s?(c+" right").replace("default","bottom"):"right"),r.siblings().find(">.k-popup:visible,>.k-animation-container>.k-popup:visible").each(function(){var t=e(this).data("kendoPopup");t&&t.close()}),r.each(function(){var r=e(this);clearTimeout(r.data(P)),r.data(P,setTimeout(function(){var e,l,u,p,m,h,v=r.find(".k-group:first:hidden");v[0]&&o.trigger(T,{item:r[0]})===!1&&(r.data(E,r.css(E)),r.css(E,o.nextItemZIndex++),e=v.data(G),l=r.parent().hasClass(x),u=l&&s,p=i(c,l,d),m=a.animation.open.effects,h=m!==t?m:"slideIn:"+n(c,l),e?(e=v.data(G),e.options.origin=p.origin,e.options.position=p.position,e.options.animation.open.effects=h):e=v.kendoPopup({activate:function(){o.trigger(R,{item:this.wrapper.parent()})},deactivate:function(){o.trigger(U,{item:this.wrapper.parent()})},origin:p.origin,position:p.position,collision:a.popupCollision!==t?a.popupCollision:u?"fit":"fit flip",anchor:r,appendTo:r,animation:{open:f(!0,{effects:h},a.animation.open),close:a.animation.close},close:function(e){var t=e.sender.wrapper.parent();o.trigger(H,{item:t[0]})?e.preventDefault():(t.css(E,t.data(E)),t.removeData(E),N&&(t.removeClass(j),o._removeHoverItem()))}}).data(G),v.removeAttr("aria-hidden"),e.open())},o.options.hoverDelay))}),o},close:function(t){var n=this,i=n.element;return t=i.find(t),t.length||(t=i.find(">.k-item")),t.each(function(){var t=e(this);clearTimeout(t.data(P)),t.data(P,setTimeout(function(){var e=t.find(".k-group:not(.k-list-container):first:visible").data(G);e&&(e.close(),e.element.attr("aria-hidden",!0))},n.options.hoverDelay))}),n},_toggleDisabled:function(t,n){this.element.find(t).each(function(){e(this).toggleClass(W,n).toggleClass(q,!n).attr("aria-disabled",!n)})},_toggleHover:function(t){var n=e(l.eventTarget(t)||t.target).closest(K),i=t.type==B||-1!==p.indexOf(t.type);n.parents("li."+q).length||n.toggleClass(j,i||"mousedown"==t.type||"click"==t.type),this._removeHoverItem()},_preventClose:function(){this.options.closeOnClick||(this._closurePrevented=!0)},_checkActiveElement:function(t){var n=this,i=e(this._hoverItem()[0]||(t?t.currentTarget:{})),o=n._findRootParent(i)[0];this._closurePrevented||setTimeout(function(){(!document.hasFocus()||!r(o,l._activeElement())&&t&&!r(o,t.currentTarget))&&n.close(o)},0),this._closurePrevented=!1},_removeHoverItem:function(){var e=this._hoverItem();e&&e.hasClass(V)&&(e.removeClass(V),this._oldHoverItem=null)},_updateClasses:function(){var e,t=this.element;t.addClass("k-widget k-reset k-header "+x).addClass(x+"-"+this.options.orientation),t.find("li > ul").addClass("k-group").attr("role","menu").attr("aria-hidden",t.is(":visible")).end().find("li > div").addClass("k-content").attr("tabindex","-1"),e=t.find("> li,.k-group > li"),e.each(function(){o(this)})},_mouseenter:function(t){var n=this,i=e(t.currentTarget),o=i.children(".k-animation-container").length||i.children(F).length;t.delegateTarget==i.parents(".k-menu")[0]&&((!n.options.openOnClick||n.clicked)&&!r(t.currentTarget,t.relatedTarget)&&o&&n.open(i),(n.options.openOnClick&&n.clicked||N)&&i.siblings().each(h(function(e,t){n.close(t)},n)))},_mouseleave:function(n){var i=this,o=e(n.currentTarget),a=o.children(".k-animation-container").length||o.children(F).length;return o.parentsUntil(".k-animation-container",".k-list-container,.k-calendar-container")[0]?(n.stopImmediatePropagation(),t):(i.options.openOnClick||u||(z||L)&&n.originalEvent.pointerType==n.originalEvent.MSPOINTER_TYPE_TOUCH||r(n.currentTarget,n.relatedTarget)||!a||i.close(o),t)},_click:function(n){var i,r,o,a=this,s=a.options,c=e(l.eventTarget(n)),d=c[0]?c[0].nodeName.toUpperCase():"",u="INPUT"==d||"SELECT"==d||"BUTTON"==d||"LABEL"==d,p=c.closest("."+I),m=c.closest(K),f=p.attr("href"),h=!!f&&f!==e("<a href='#' />").attr("href");if(!m.children(et)[0]){if(m.hasClass(q))return n.preventDefault(),t;if(n.handled||!a.trigger(D,{item:m[0]})||u||n.preventDefault(),n.handled=!0,r=m.children(F+",.k-animation-container"),o=r.is(":visible"),s.closeOnClick&&!h&&(!r.length||s.openOnClick&&o))return m.removeClass(j).css("height"),a._oldHoverItem=a._findRootParent(m),a.close(p.parentsUntil(a.element,K)),a.clicked=!1,-1!="MSPointerUp".indexOf(n.type)&&n.preventDefault(),t;h&&n.enterKey&&p[0].click(),(m.parent().hasClass(x)&&s.openOnClick||l.support.touch)&&(h||u||n.preventDefault(),a.clicked=!0,i=r.is(":visible")?H:T,(s.closeOnClick||i!=H)&&a[i](m))}},_documentClick:function(e){r(this.element[0],e.target)||(this.clicked=!1)},_focus:function(n){var i=this,r=n.target,o=i._hoverItem(),a=d();return r==i.wrapper[0]||e(r).is(":focusable")?(a===n.currentTarget&&(o.length?i._moveHover([],o):i._oldHoverItem||i._moveHover([],i.wrapper.children().first())),t):(n.stopPropagation(),e(r).closest(".k-content").closest(".k-group").closest(".k-item").addClass(V),i.wrapper.focus(),t)},_keydown:function(e){var n,i,r,o=this,a=e.keyCode,s=o._oldHoverItem,c=l.support.isRtl(o.wrapper);if(e.target==e.currentTarget||a==k.ESC){if(s||(s=o._oldHoverItem=o._hoverItem()),i=o._itemBelongsToVertival(s),r=o._itemHasChildren(s),a==k.RIGHT)n=o[c?"_itemLeft":"_itemRight"](s,i,r);else if(a==k.LEFT)n=o[c?"_itemRight":"_itemLeft"](s,i,r);else if(a==k.DOWN)n=o._itemDown(s,i,r);else if(a==k.UP)n=o._itemUp(s,i,r);else if(a==k.ESC)n=o._itemEsc(s,i);else if(a==k.ENTER||a==k.SPACEBAR)n=s.children(".k-link"),n.length>0&&(o._click({target:n[0],preventDefault:function(){},enterKey:!0}),o._moveHover(s,o._findRootParent(s)));else if(a==k.TAB)return n=o._findRootParent(s),o._moveHover(s,n),o._checkActiveElement(),t;n&&n[0]&&(e.preventDefault(),e.stopPropagation())}},_hoverItem:function(){return this.wrapper.find(".k-item.k-state-hover,.k-item.k-state-focused").filter(":visible")},_itemBelongsToVertival:function(e){var t=this.wrapper.hasClass("k-menu-vertical");return e.length?e.parent().hasClass("k-group")||t:t},_itemHasChildren:function(e){return e.length?e.children("ul.k-group, div.k-animation-container").length>0:!1},_moveHover:function(e,t){var n=this,i=n._ariaId;e.length&&t.length&&(e.removeClass(V),e[0].id===i&&e.removeAttr("id")),t.length&&(t[0].id&&(i=t[0].id),t.addClass(V),n._oldHoverItem=t,i&&(n.element.removeAttr("aria-activedescendant"),t.attr("id",i),n.element.attr("aria-activedescendant",i)))},_findRootParent:function(e){return e.parent().hasClass("k-menu")?e:e.parentsUntil(".k-menu","li.k-item").last()},_isRootItem:function(e){return e.parent().hasClass("k-menu")},_itemRight:function(e,t,n){var i,r,o=this;if(!e.hasClass(q))return t?n?(o.open(e),i=e.find(".k-group").children().first()):"horizontal"==o.options.orientation&&(r=o._findRootParent(e),o.close(r),i=r.nextAll(J)):(i=e.nextAll(J),i.length||(i=e.prevAll(X))),i&&!i.length?i=o.wrapper.children(".k-item").first():i||(i=[]),o._moveHover(e,i),i},_itemLeft:function(e,t){var n,i=this;return t?(n=e.parent().closest(".k-item"),i.close(n),i._isRootItem(n)&&"horizontal"==i.options.orientation&&(n=n.prevAll(J))):(n=e.prevAll(J),n.length||(n=e.nextAll(X))),n.length||(n=i.wrapper.children(".k-item").last()),i._moveHover(e,n),n},_itemDown:function(e,t,n){var i,r=this;if(t)i=e.nextAll(J);else{if(!n||e.hasClass(q))return;r.open(e),i=e.find(".k-group").children().first()}return!i.length&&e.length?i=e.parent().children().first():e.length||(i=r.wrapper.children(".k-item").first()),r._moveHover(e,i),i},_itemUp:function(e,t){var n,i=this;if(t)return n=e.prevAll(J),!n.length&&e.length?n=e.parent().children().last():e.length||(n=i.wrapper.children(".k-item").last()),i._moveHover(e,n),n},_itemEsc:function(e,t){var n,i=this;return t?(n=e.parent().closest(".k-item"),i.close(n),i._moveHover(e,n),n):e},_focusHandler:function(t){var n=this,i=e(l.eventTarget(t)).closest(K);setTimeout(function(){n._moveHover([],i),i.children(".k-content")[0]&&i.parent().closest(".k-item").removeClass(V)},200)},_animations:function(e){e&&"animation"in e&&!e.animation&&(e.animation={open:{effects:{}},close:{hide:!0,effects:{}}})}});f(it,{renderItem:function(e){e=f({menu:{},group:{}},e);var t=tt.empty,n=e.item;return tt.item(f(e,{image:n.imageUrl?tt.image:t,sprite:n.spriteCssClass?tt.sprite:t,itemWrapper:tt.itemWrapper,renderContent:it.renderContent,arrow:n.items||n.content?tt.arrow:t,subGroup:it.renderGroup},nt))},renderGroup:function(e){return tt.group(f({renderItems:function(e){for(var t="",n=0,i=e.items,r=i?i.length:0,o=f({length:r},e.group);r>n;n++)t+=it.renderItem(f(e,{group:o,item:f({index:n},i[n])}));return t}},e,nt))},renderContent:function(e){return tt.content(f(e,nt))}}),l.ui.plugin(it)}(window.kendo.jQuery);;!function(e,n){function s(n){return e.trim(n).replace(/&nbsp;/gi,"")}var i=window.kendo,t=i.ui,l=e.proxy,o=e.extend,r=e.grep,a=e.map,u=e.inArray,c="k-state-selected",d="asc",p="desc",f="change",m="init",k="kendoPopup",h="kendoFilterMenu",w="kendoMenu",_=".kendoColumnMenu",b=t.Widget,g=b.extend({init:function(n,s){var t,o=this;b.fn.init.call(o,n,s),n=o.element,s=o.options,o.owner=s.owner,o.dataSource=s.dataSource,o.field=n.attr(i.attr("field")),t=n.find(".k-header-column-menu"),t[0]||(t=n.prepend('<a class="k-header-column-menu" href="#"><span class="k-icon k-i-arrowhead-s"/></a>').find(".k-header-column-menu")),o.link=t.attr("tabindex",-1).on("click"+_,l(o._click,o)),o.wrapper=e('<div class="k-column-menu"/>')},_init:function(){var e=this,n=e.options;e.wrapper.html(i.template(v)({ns:i.ns,messages:n.messages,sortable:n.sortable,filterable:n.filterable,columns:e._ownerColumns(),showColumns:n.columns})),e.popup=e.wrapper[k]({anchor:e.link,open:l(e._open,e),activate:l(e._activate,e),close:e.options.closeCallback}).data(k),e._menu(),e._sort(),e._columns(),e._filter(),e.trigger(m,{field:e.field,container:e.wrapper})},events:[m],options:{name:"ColumnMenu",messages:{sortAscending:"Sort Ascending",sortDescending:"Sort Descending",filter:"Filter",columns:"Columns"},columns:!0,sortable:!0,filterable:!0},destroy:function(){var e=this;b.fn.destroy.call(e),e.filterMenu&&e.filterMenu.destroy(),e._refreshHandler&&e.dataSource.unbind(f,e._refreshHandler),e.options.columns&&(e.owner.unbind("columnShow",e._updateColumnsMenuHandler),e.owner.unbind("columnHide",e._updateColumnsMenuHandler)),e.menu&&(e.menu.element.off(_),e.menu.destroy()),e.wrapper.off(_),e.popup&&e.popup.destroy(),e.link.off(_)},close:function(){this.menu.close(),this.popup.close(),this.popup.element.off("keydown"+_)},_click:function(e){e.preventDefault(),e.stopPropagation(),this.popup||this._init(),this.popup.toggle()},_open:function(){var n=this;e(".k-column-menu").not(n.wrapper).each(function(){e(this).data(k).close()}),n.popup.element.on("keydown"+_,function(e){e.keyCode==i.keys.ESC&&n.close()})},_activate:function(){this.menu.element.focus()},_ownerColumns:function(){var e=this.owner.columns,n=r(e,function(e){var n=!0,i=s(e.title||"");return(e.menu===!1||!e.field&&!i.length)&&(n=!1),n});return a(n,function(n){return{originalField:n.field,field:n.field||n.title,title:n.title||n.field,hidden:n.hidden,index:u(n,e)}})},_menu:function(){this.menu=this.wrapper.children()[w]({orientation:"vertical",closeOnClick:!1}).data(w)},_sort:function(){var n=this;n.options.sortable&&(n.refresh(),n._refreshHandler=l(n.refresh,n),n.dataSource.bind(f,n._refreshHandler),n.menu.bind("select",function(s){var i,t=e(s.item);t.hasClass("k-sort-asc")?i=d:t.hasClass("k-sort-desc")&&(i=p),i&&(t.parent().find(".k-sort-"+(i==d?p:d)).removeClass(c),n._sortDataSource(t,i),n.close())}))},_sortDataSource:function(e,s){var i,t,l=this,o=l.options.sortable,r=l.dataSource,a=r.sort()||[];if(e.hasClass(c)&&o&&o.allowUnsort!==!1?(e.removeClass(c),s=n):e.addClass(c),o===!0||"single"===o.mode)a=[{field:l.field,dir:s}];else{for(i=0,t=a.length;t>i;i++)if(a[i].field===l.field){a.splice(i,1);break}a.push({field:l.field,dir:s})}r.sort(a)},_columns:function(){var n=this;n.options.columns&&(n._updateColumnsMenu(),n._updateColumnsMenuHandler=l(n._updateColumnsMenu,n),n.owner.bind(["columnHide","columnShow"],n._updateColumnsMenuHandler),n.menu.bind("select",function(s){var t,l,o,a,c=e(s.item),d=n.owner.columns;c.parent().closest("li.k-columns-item")[0]&&(t=c.find(":checkbox"),t.attr("disabled")||(a=t.attr(i.attr("field")),o=r(d,function(e){return e.field==a||e.title==a})[0],l=u(o,d),o.hidden===!0?n.owner.showColumn(l):n.owner.hideColumn(l)))}))},_updateColumnsMenu:function(){var n=i.attr("field"),s=r(this._ownerColumns(),function(e){return!e.hidden}),t=r(s,function(e){return e.originalField}).length;s=a(s,function(e){return e.field}),this.wrapper.find(".k-columns-item input["+n+"]").prop("checked",!1).filter(function(){return u(e(this).attr(n),s)>-1}).prop("checked",!0).prop("disabled",1==t)},_filter:function(){var e=this,n=e.options;n.filterable!==!1&&(e.filterMenu=e.wrapper.find(".k-filterable")[h](o(!0,{},{appendToElement:!0,dataSource:n.dataSource,values:n.values,field:e.field},n.filterable)).data(h))},refresh:function(){var e,n,s,i=this,t=i.options.dataSource.sort()||[],l=i.field;for(i.wrapper.find(".k-sort-asc, .k-sort-desc").removeClass(c),n=0,s=t.length;s>n;n++)e=t[n],l==e.field&&i.wrapper.find(".k-sort-"+e.dir).addClass(c)}}),v='<ul>#if(sortable){#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-sprite k-i-sort-asc"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-sprite k-i-sort-desc"></span>${messages.sortDescending}</span></li>#if(showColumns || filterable){#<li class="k-separator"></li>#}##}##if(showColumns){#<li class="k-item k-columns-item"><span class="k-link"><span class="k-sprite k-i-columns"></span>${messages.columns}</span><ul>#for (var col in columns) {#<li><input type="checkbox" data-#=ns#field="#=columns[col].field.replace(/"/g,"&\\#34;")#" data-#=ns#index="#=columns[col].index#"/>#=columns[col].title#</li>#}#</ul></li>#if(filterable){#<li class="k-separator"></li>#}##}##if(filterable){#<li class="k-item k-filter-item"><span class="k-link"><span class="k-sprite k-filter"></span>${messages.filter}</span><ul><li><div class="k-filterable"></div></li></ul></li>#}#</ul>';t.plugin(g)}(window.kendo.jQuery);;!function(t){function e(t){return t.position().top+3}var r=window.kendo,a=r.ui.Widget,n=t.proxy,i=!1,o=".kendoGroupable",d=r.template('<div class="k-group-indicator" data-#=data.ns#field="${data.field}" data-#=data.ns#title="${data.title || ""}" data-#=data.ns#dir="${data.dir || "asc"}"><a href="\\#" class="k-link"><span class="k-icon k-si-arrow-${(data.dir || "asc") == "asc" ? "n" : "s"}">(sorted ${(data.dir || "asc") == "asc" ? "ascending": "descending"})</span>${data.title ? data.title: data.field}</a><a class="k-button k-button-icon k-button-bare"><span class="k-icon k-group-delete"></span></a></div>',{useWithBlock:!1}),s=function(e){return t('<div class="k-header k-drag-clue" />').css({width:e.width(),paddingLeft:e.css("paddingLeft"),paddingRight:e.css("paddingRight"),lineHeight:e.height()+"px",paddingTop:e.css("paddingTop"),paddingBottom:e.css("paddingBottom")}).html(e.attr(r.attr("title"))||e.attr(r.attr("field"))).prepend('<span class="k-icon k-drag-status k-denied" />')},l=t('<div class="k-grouping-dropclue"/>'),g=/("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g,c=a.extend({init:function(d,g){var c,u,p,f=this,h=r.guid(),m=n(f._intializePositions,f),k=f._dropCuePositions=[];a.fn.init.call(f,d,g),i=r.support.isRtl(d),p=i?"right":"left",f.draggable=u=f.options.draggable||new r.ui.Draggable(f.element,{filter:f.options.draggableElements,hint:s,group:h}),c=f.groupContainer=t(f.options.groupContainer,f.element).kendoDropTarget({group:u.options.group,dragenter:function(t){f._canDrag(t.draggable.currentTarget)&&(t.draggable.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add"),l.css("top",e(c)).css(p,0).appendTo(c))},dragleave:function(t){t.draggable.hint.find(".k-drag-status").removeClass("k-add").addClass("k-denied"),l.remove()},drop:function(e){var a,n=e.draggable.currentTarget,o=n.attr(r.attr("field")),d=n.attr(r.attr("title")),s=f.indicator(o),g=f._dropCuePositions,c=g[g.length-1];(n.hasClass("k-group-indicator")||f._canDrag(n))&&(c?(a=f._dropCuePosition(r.getOffset(l).left+parseInt(c.element.css("marginLeft"),10)*(i?-1:1)+parseInt(c.element.css("marginRight"),10)),a&&f._canDrop(t(s),a.element,a.left)&&(a.before?a.element.before(s||f.buildIndicator(o,d)):a.element.after(s||f.buildIndicator(o,d)),f._change())):(f.groupContainer.append(f.buildIndicator(o,d)),f._change()))}}).kendoDraggable({filter:"div.k-group-indicator",hint:s,group:u.options.group,dragcancel:n(f._dragCancel,f),dragstart:function(t){var r=t.currentTarget,a=parseInt(r.css("marginLeft"),10),n=r.position(),o=i?n.left-a:n.left+r.outerWidth();m(),l.css({top:e(c),left:o}).appendTo(c),this.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add")},dragend:function(){f._dragEnd(this)},drag:n(f._drag,f)}).on("click"+o,".k-button",function(e){e.preventDefault(),f._removeIndicator(t(this).parent())}).on("click"+o,".k-link",function(e){var a=t(this).parent(),n=f.buildIndicator(a.attr(r.attr("field")),a.attr(r.attr("title")),"asc"==a.attr(r.attr("dir"))?"desc":"asc");a.before(n).remove(),f._change(),e.preventDefault()}),u.bind(["dragend","dragcancel","dragstart","drag"],{dragend:function(){f._dragEnd(this)},dragcancel:n(f._dragCancel,f),dragstart:function(t){var e,r,a;return f.options.allowDrag||f._canDrag(t.currentTarget)?(m(),k.length?(e=k[k.length-1].element,r=parseInt(e.css("marginRight"),10),a=e.position().left+e.outerWidth()+r):a=0,undefined):(t.preventDefault(),undefined)},drag:n(f._drag,f)}),f.dataSource=f.options.dataSource,f.dataSource&&(f._refreshHandler=n(f.refresh,f),f.dataSource.bind("change",f._refreshHandler))},refresh:function(){var e=this,a=e.dataSource;e.groupContainer.empty().append(t.map(a.group()||[],function(t){var a=t.field.replace(g,"\\$1"),n=e.element.find(e.options.filter).filter("["+r.attr("field")+"="+a+"]");return e.buildIndicator(t.field,n.attr(r.attr("title")),t.dir)}).join("")),e._invalidateGroupContainer()},destroy:function(){var t=this;a.fn.destroy.call(t),t.groupContainer.off(o).kendoDropTarget("destroy").kendoDraggable("destroy"),t.options.draggable||t.draggable.destroy(),t.dataSource&&t._refreshHandler&&t.dataSource.unbind("change",t._refreshHandler)},options:{name:"Groupable",filter:"th",draggableElements:"th",messages:{empty:"Drag a column header and drop it here to group by that column"}},indicator:function(e){var a=t(".k-group-indicator",this.groupContainer);return t.grep(a,function(a){return t(a).attr(r.attr("field"))===e})[0]},buildIndicator:function(t,e,a){return d({field:t.replace(/"/g,"'"),dir:a,title:e,ns:r.ns})},descriptors:function(){var e,a,n,i,o,d=this,s=t(".k-group-indicator",d.groupContainer);return e=d.element.find(d.options.filter).map(function(){var e=t(this),n=e.attr(r.attr("aggregates")),d=e.attr(r.attr("field"));if(n&&""!==n)for(a=n.split(","),n=[],i=0,o=a.length;o>i;i++)n.push({field:d,aggregate:a[i]});return n}).toArray(),t.map(s,function(a){return a=t(a),n=a.attr(r.attr("field")),{field:n,dir:a.attr(r.attr("dir")),aggregates:e||[]}})},_removeIndicator:function(t){var e=this;t.remove(),e._invalidateGroupContainer(),e._change()},_change:function(){var t=this;t.dataSource&&t.dataSource.group(t.descriptors())},_dropCuePosition:function(e){var r,a,n,o,d,s=this._dropCuePositions;if(l.is(":visible")&&0!==s.length)return e=Math.ceil(e),r=s[s.length-1],a=r.left,n=r.right,o=parseInt(r.element.css("marginLeft"),10),d=parseInt(r.element.css("marginRight"),10),e>=n&&!i||a>e&&i?e={left:r.element.position().left+(i?-o:r.element.outerWidth()+d),element:r.element,before:!1}:(e=t.grep(s,function(t){return t.left<=e&&e<=t.right||i&&e>t.right})[0],e&&(e={left:i?e.element.position().left+e.element.outerWidth()+d:e.element.position().left-o,element:e.element,before:!0})),e},_drag:function(t){var e=this._dropCuePosition(t.x.location);e&&l.css({left:e.left,right:"auto"})},_canDrag:function(t){var e=t.attr(r.attr("field"));return"false"!=t.attr(r.attr("groupable"))&&e&&(t.hasClass("k-group-indicator")||!this.indicator(e))},_canDrop:function(t,e,r){var a=t.next(),n=t[0]!==e[0]&&(!a[0]||e[0]!==a[0]||!i&&r>a.position().left||i&&r<a.position().left);return n},_dragEnd:function(e){var a=this,n=e.currentTarget.attr(r.attr("field")),i=a.indicator(n);e!==a.options.draggable&&!e.dropped&&i&&a._removeIndicator(t(i)),a._dragCancel()},_dragCancel:function(){l.remove(),this._dropCuePositions=[]},_intializePositions:function(){var e,a=this,n=t(".k-group-indicator",a.groupContainer);a._dropCuePositions=t.map(n,function(a){return a=t(a),e=r.getOffset(a).left,{left:parseInt(e,10),right:parseInt(e+a.outerWidth(),10),element:a}})},_invalidateGroupContainer:function(){var t=this.groupContainer;t.is(":empty")&&t.html(this.options.messages.empty)}});r.ui.plugin(c)}(window.kendo.jQuery);;!function(e,t){function a(e,t,a,n){return e({idx:t,text:a,ns:p.ns,numeric:n})}function n(e,t){return w({className:e.substring(1),text:t})}function s(e,t,a,n){e.find(t).parent().attr(p.attr("page"),a).attr("tabindex",-1).toggleClass("k-state-disabled",n)}function i(e,t){s(e,f,1,1>=t)}function r(e,t){s(e,c,Math.max(1,t-1),1>=t)}function l(e,t,a){s(e,h,Math.min(a,t+1),t>=a)}function o(e,t,a){s(e,u,a,t>=a)}var p=window.kendo,d=p.ui,g=d.Widget,m=e.proxy,f=".k-i-seek-w",u=".k-i-seek-e",c=".k-i-arrow-w",h=".k-i-arrow-e",k="change",S=".kendoPager",x="click",v="keydown",b="disabled",w=p.template('<a href="\\#" title="#=text#" class="k-link"><span class="k-icon #= className #">#=text#</span></a>'),z=g.extend({init:function(t,a){var s,d,b=this;g.fn.init.call(b,t,a),a=b.options,b.dataSource=p.data.DataSource.create(a.dataSource),b.linkTemplate=p.template(b.options.linkTemplate),b.selectTemplate=p.template(b.options.selectTemplate),s=b.page(),d=b.totalPages(),b._refreshHandler=m(b.refresh,b),b.dataSource.bind(k,b._refreshHandler),a.previousNext&&(b.element.find(f).length||(b.element.append(n(f,a.messages.first)),i(b.element,s,d)),b.element.find(c).length||(b.element.append(n(c,a.messages.previous)),r(b.element,s,d))),a.numeric&&(b.list=b.element.find(".k-pager-numbers"),b.list.length||(b.list=e('<ul class="k-pager-numbers k-reset" />').appendTo(b.element))),a.input&&(b.element.find(".k-pager-input").length||b.element.append('<span class="k-pager-input k-label">'+a.messages.page+'<input class="k-textbox">'+p.format(a.messages.of,d)+"</span>"),b.element.on(v+S,".k-pager-input input",m(b._keydown,b))),a.previousNext&&(b.element.find(h).length||(b.element.append(n(h,a.messages.next)),l(b.element,s,d)),b.element.find(u).length||(b.element.append(n(u,a.messages.last)),o(b.element,s,d))),a.pageSizes&&(b.element.find(".k-pager-sizes").length||e('<span class="k-pager-sizes k-label"><select/>'+a.messages.itemsPerPage+"</span>").appendTo(b.element).find("select").html(e.map(e.isArray(a.pageSizes)?a.pageSizes:[5,10,20],function(e){return"<option>"+e+"</option>"}).join("")).end().appendTo(b.element),b.element.find(".k-pager-sizes select").val(b.pageSize()),p.ui.DropDownList&&b.element.find(".k-pager-sizes select").show().kendoDropDownList(),b.element.on(k+S,".k-pager-sizes select",m(b._change,b))),a.refresh&&(b.element.find(".k-pager-refresh").length||b.element.append('<a href="#" class="k-pager-refresh k-link"  title="'+a.messages.refresh+'"><span class="k-icon k-i-refresh">'+a.messages.refresh+"</span></a>"),b.element.on(x+S,".k-pager-refresh",m(b._refreshClick,b))),a.info&&(b.element.find(".k-pager-info").length||b.element.append('<span class="k-pager-info k-label" />')),b.element.on(x+S,"a",m(b._click,b)).addClass("k-pager-wrap k-widget"),a.autoBind&&b.refresh(),p.notify(b)},destroy:function(){var e=this;g.fn.destroy.call(e),e.element.off(S),e.dataSource.unbind(k,e._refreshHandler)},events:[k],options:{name:"Pager",selectTemplate:'<li><span class="k-state-selected">#=text#</span></li>',linkTemplate:'<li><a tabindex="-1" href="\\#" class="k-link" data-#=ns#page="#=idx#">#=text#</a></li>',buttonCount:10,autoBind:!0,numeric:!0,info:!0,input:!1,previousNext:!0,pageSizes:!1,refresh:!1,messages:{display:"{0} - {1} of {2} items",empty:"No items to display",page:"Page",of:"of {0}",itemsPerPage:"items per page",first:"Go to the first page",previous:"Go to the previous page",next:"Go to the next page",last:"Go to the last page",refresh:"Refresh"}},setDataSource:function(e){var t=this;t.dataSource.unbind(k,t._refreshHandler),t.dataSource=t.options.dataSource=e,e.bind(k,t._refreshHandler),t.options.autoBind&&e.fetch()},refresh:function(e){var t,n,s,d=this,g=1,m="",f=d.page(),u=d.options,c=d.pageSize(),h=d.dataSource.total(),k=d.totalPages(),S=d.linkTemplate,x=u.buttonCount;if(!e||"itemchange"!=e.action){if(u.numeric){for(f>x&&(s=f%x,g=0===s?f-x+1:f-s+1),n=Math.min(g+x-1,k),g>1&&(m+=a(S,g-1,"...",!1)),t=g;n>=t;t++)m+=a(t==f?d.selectTemplate:S,t,t,!0);k>n&&(m+=a(S,t,"...",!1)),""===m&&(m=d.selectTemplate({text:0})),d.list.html(m)}u.info&&(m=h>0?p.format(u.messages.display,(f-1)*c+1,Math.min(f*c,h),h):u.messages.empty,d.element.find(".k-pager-info").html(m)),u.input&&d.element.find(".k-pager-input").html(d.options.messages.page+'<input class="k-textbox">'+p.format(u.messages.of,k)).find("input").val(f).attr(b,1>h).toggleClass("k-state-disabled",1>h),u.previousNext&&(i(d.element,f,k),r(d.element,f,k),l(d.element,f,k),o(d.element,f,k)),u.pageSizes&&d.element.find(".k-pager-sizes select").val(c).filter("["+p.attr("role")+"=dropdownlist]").kendoDropDownList("value",c).kendoDropDownList("text",c)}},_keydown:function(e){if(e.keyCode===p.keys.ENTER){var t=this.element.find(".k-pager-input").find("input"),a=parseInt(t.val(),10);(isNaN(a)||1>a||a>this.totalPages())&&(a=this.page()),t.val(a),this.page(a)}},_refreshClick:function(e){e.preventDefault(),this.dataSource.read()},_change:function(e){var t=parseInt(e.currentTarget.value,10);isNaN(t)||this.dataSource.pageSize(t)},_click:function(t){var a=e(t.currentTarget);t.preventDefault(),a.is(".k-state-disabled")||this.page(a.attr(p.attr("page")))},totalPages:function(){return Math.ceil((this.dataSource.total()||0)/this.pageSize())},pageSize:function(){return this.dataSource.pageSize()||this.dataSource.total()},page:function(e){return e===t?this.dataSource.total()>0?this.dataSource.page():0:(this.dataSource.page(e),this.trigger(k,{index:e}),t)}});d.plugin(z)}(window.kendo.jQuery);;!function(e){function t(e,t){var n=i.getOffset(e),s=t.left+t.width,l=t.top+t.height;return n.right=n.left+e.outerWidth(),n.bottom=n.top+e.outerHeight(),!(n.left>s||n.right<t.left||n.top>l||n.bottom<t.top)}function n(e,n,s,i){var l,a,o;for(l=0,a=e.length;a>l;l++)o=e.eq(l),t(o,s)?o.hasClass(c)?i&&n!==o[0]&&o.removeClass(c).addClass(h):o.hasClass(u)||o.hasClass(h)||o.addClass(u):o.hasClass(u)?o.removeClass(u):i&&o.hasClass(h)&&o.removeClass(h).addClass(c)}var s,i=window.kendo,l=i.ui.Widget,a=e.proxy,o=Math.abs,r="aria-selected",c="k-state-selected",u="k-state-selecting",f="k-selectable",d="change",v=".kendoSelectable",h="k-state-unselecting",m=!1;!function(e){!function(){e('<div class="parent"><span /></div>').on("click",">*",function(){m=!0}).find("span").click().end().off()}()}(e),s=l.extend({init:function(t,n){var s,o=this;l.fn.init.call(o,t,n),o._marquee=e("<div class='k-marquee'><div class='k-marquee-color'></div></div>"),o._lastActive=null,o.element.addClass(f),s=o.options.multiple,o.userEvents=new i.UserEvents(o.element,{global:!0,allowSelection:!0,filter:(m?"":"."+f+" ")+o.options.filter,tap:a(o._tap,o)}),s&&o.userEvents.bind("start",a(o._start,o)).bind("move",a(o._move,o)).bind("end",a(o._end,o)).bind("select",a(o._select,o))},events:[d],options:{name:"Selectable",filter:">*",multiple:!1},_tap:function(t){var n,s=e(t.target),i=this,l=t.event.ctrlKey||t.event.metaKey,a=i.options.multiple,o=a&&t.event.shiftKey,r=t.event.which,u=t.event.button;s.closest("."+f)[0]!==i.element[0]||r&&3==r||u&&2==u||(n=s.hasClass(c),a&&l||i.clear(),o?i.selectRange(i._firstSelectee(),s):(n&&l?(i._unselect(s),i._notify(d)):i.value(s),i._lastActive=i._downTarget=s))},_start:function(t){var n=this,s=e(t.target),i=s.hasClass(c),l=t.event.ctrlKey||t.event.metaKey;return n._downTarget=s,s.closest("."+f)[0]!==n.element[0]?(n.userEvents.cancel(),n._downTarget=null,undefined):(n._marquee.appendTo(document.body).css({left:t.x.client+1,top:t.y.client+1,width:0,height:0}),l||n.clear(),i&&(n._selectElement(s,!0),l&&s.addClass(h)),undefined)},_move:function(e){var t=this,s={left:e.x.startLocation>e.x.location?e.x.location:e.x.startLocation,top:e.y.startLocation>e.y.location?e.y.location:e.y.startLocation,width:o(e.x.initialDelta),height:o(e.y.initialDelta)},i=t.element.find(t.options.filter);t._marquee.css(s),n(i,t._downTarget[0],s,e.event.ctrlKey||e.event.metaKey),e.preventDefault()},_end:function(){var e=this;e._marquee.remove(),e._unselect(e.element.find(e.options.filter+"."+h)).removeClass(h),e.value(e.element.find(e.options.filter+"."+u)),e._lastActive=e._downTarget},value:function(e){var t=this,n=a(t._selectElement,t);return e?(e.each(function(){n(this)}),t._notify(d),undefined):t.element.find(t.options.filter+"."+c)},_firstSelectee:function(){var e,t=this;return null!==t._lastActive?t._lastActive:(e=t.value(),e.length>0?e[0]:t.element.find(t.options.filter))},_selectElement:function(t,n){var s=e(t),i=!n&&this._notify("select",{element:t});s.removeClass(u),i||(s.addClass(c),this.options.aria&&s.attr(r,!0))},_notify:function(e,t){return t=t||{},this.trigger(e,t)},_unselect:function(e){return e.removeClass(c),this.options.aria&&e.attr(r,!1),e},_select:function(t){e(t.event.target).is("input,a,textarea,.k-multiselect-wrap")?(this.userEvents.cancel(),this._downTarget=null):t.preventDefault()},clear:function(){var e=this.element.find(this.options.filter+"."+c);this._unselect(e)},selectRange:function(t,n){var s,i,l,o,r=this,u=!1,f=r.element.find(r.options.filter),v=a(r._selectElement,r);for(t=e(t)[0],n=e(n)[0],s=0,i=f.length;i>s;s++)o=f[s],u?(v(o),u=o!==n):o===t?(u=t!==n,v(o)):o===n?(l=t,t=n,n=l,u=!0,v(o)):e(o).removeClass(c);r._notify(d)},destroy:function(){var e=this;l.fn.destroy.call(e),e.element.off(v),e.userEvents.destroy()}}),i.ui.plugin(s)}(window.kendo.jQuery);;!function(e,r){var t=window.kendo,n=e.proxy,a="dir",i="asc",o="single",l="field",d="desc",s=".kendoSortable",c=".k-link",f="aria-sort",p=t.ui.Widget,k=p.extend({init:function(e,r){var t,a=this;p.fn.init.call(a,e,r),a._refreshHandler=n(a.refresh,a),a.dataSource=a.options.dataSource.bind("change",a._refreshHandler),t=a.element.find(c),t[0]||(t=a.element.wrapInner('<a class="k-link" href="#"/>').find(c)),a.link=t,a.element.on("click"+s,n(a._click,a))},options:{name:"Sortable",mode:o,allowUnsort:!0,compare:null},destroy:function(){var e=this;p.fn.destroy.call(e),e.element.off(s),e.dataSource.unbind("change",e._refreshHandler)},refresh:function(){var r,n,o,s,c=this,p=c.dataSource.sort()||[],k=c.element,u=k.attr(t.attr(l));for(k.removeAttr(t.attr(a)),k.removeAttr(f),r=0,n=p.length;n>r;r++)o=p[r],u==o.field&&k.attr(t.attr(a),o.dir);s=k.attr(t.attr(a)),k.find(".k-i-arrow-n,.k-i-arrow-s").remove(),s===i?(e('<span class="k-icon k-i-arrow-n" />').appendTo(c.link),k.attr(f,"ascending")):s===d&&(e('<span class="k-icon k-i-arrow-s" />').appendTo(c.link),k.attr(f,"descending"))},_click:function(e){var n,s,c=this,f=c.element,p=f.attr(t.attr(l)),k=f.attr(t.attr(a)),u=c.options,m=c.options.compare,h=c.dataSource.sort()||[];if(k=k===i?d:k===d&&u.allowUnsort?r:i,u.mode===o)h=[{field:p,dir:k,compare:m}];else if("multiple"===u.mode){for(n=0,s=h.length;s>n;n++)if(h[n].field===p){h.splice(n,1);break}h.push({field:p,dir:k,compare:m})}e.preventDefault(),c.dataSource.sort(h)}});t.ui.plugin(k)}(window.kendo.jQuery);;!function(e){function r(r,d){r=e(r),d?r.find(".k-drag-status").removeClass("k-add").addClass("k-denied"):r.find(".k-drag-status").removeClass("k-denied").addClass("k-add")}var d=window.kendo,a=d.ui.Widget,n="change",i="k-reorderable",t=a.extend({init:function(t,o){var g,l=this,s=d.guid()+"-reorderable";a.fn.init.call(l,t,o),t=l.element.addClass(i),o=l.options,l.draggable=g=o.draggable||new d.ui.Draggable(t,{group:s,filter:o.filter,hint:o.hint}),l.reorderDropCue=e('<div class="k-reorder-cue"><div class="k-icon k-i-arrow-s"></div><div class="k-icon k-i-arrow-n"></div></div>'),t.find(g.options.filter).kendoDropTarget({group:g.options.group,dragenter:function(e){if(l._draggable){var a,n=this.element,i=n[0]===l._draggable[0];r(e.draggable.hint,i),i||(a=d.getOffset(n),l.reorderDropCue.css({height:n.outerHeight(),top:a.top,left:a.left+(n.index()>l._draggable.index()?n.outerWidth():0)}).appendTo(document.body))}},dragleave:function(e){r(e.draggable.hint,!0),l.reorderDropCue.remove()},drop:function(){if(l._draggable){var e,r=l._draggable[0],d=this.element[0];r!==d&&(e=t.find(g.options.filter),l.trigger(n,{element:l._draggable,oldIndex:e.index(r),newIndex:e.index(d)}))}}}),g.bind(["dragcancel","dragend","dragstart"],{dragcancel:function(){l.reorderDropCue.remove(),l._draggable=null},dragend:function(){l.reorderDropCue.remove(),l._draggable=null},dragstart:function(e){l._draggable=e.currentTarget}})},options:{name:"Reorderable",filter:"*"},events:[n],destroy:function(){var e=this;a.fn.destroy.call(e),e.draggable&&e.draggable.destroy(),d.destroy(e.element)}});d.ui.plugin(t)}(window.kendo.jQuery);;!function(i,t){var n=window.kendo,o=n.ui,s=o.Widget,e=i.proxy,r=i.isFunction,a=i.extend,l="horizontal",c="vertical",u="start",p="resize",_="resizeend",g=s.extend({init:function(i,t){var n=this;s.fn.init.call(n,i,t),n.orientation=n.options.orientation.toLowerCase()!=c?l:c,n._positionMouse=n.orientation==l?"x":"y",n._position=n.orientation==l?"left":"top",n._sizingDom=n.orientation==l?"outerWidth":"outerHeight",n.draggable=new o.Draggable(i,{distance:0,filter:t.handle,drag:e(n._resize,n),dragcancel:e(n._cancel,n),dragstart:e(n._start,n),dragend:e(n._stop,n)}),n.userEvents=n.draggable.userEvents},events:[p,_,u],options:{name:"Resizable",orientation:l},_max:function(i){var n=this,o=n.hint?n.hint[n._sizingDom]():0,s=n.options.max;return r(s)?s(i):s!==t?n._initialElementPosition+s-o:s},_min:function(i){var n=this,o=n.options.min;return r(o)?o(i):o!==t?n._initialElementPosition+o:o},_start:function(t){var n=this,o=n.options.hint,s=i(t.currentTarget);n._initialElementPosition=s.position()[n._position],n._initialMousePosition=t[n._positionMouse].startLocation,o&&(n.hint=r(o)?i(o(s)):o,n.hint.css({position:"absolute"}).css(n._position,n._initialElementPosition).appendTo(n.element)),n.trigger(u,t),n._maxPosition=n._max(t),n._minPosition=n._min(t),i(document.body).css("cursor",s.css("cursor"))},_resize:function(n){var o,s=this,e=(i(n.currentTarget),s._maxPosition),r=s._minPosition,l=s._initialElementPosition+(n[s._positionMouse].location-s._initialMousePosition);o=r!==t?Math.max(r,l):l,s.position=o=e!==t?Math.min(e,o):o,s.hint&&s.hint.toggleClass(s.options.invalidClass||"",o==e||o==r).css(s._position,o),s.resizing=!0,s.trigger(p,a(n,{position:o}))},_stop:function(t){var n=this;n.hint&&n.hint.remove(),n.resizing=!1,n.trigger(_,a(t,{position:n.position})),i(document.body).css("cursor","")},_cancel:function(i){var n=this;n.hint&&(n.position=t,n.hint.css(n._position,n._initialElementPosition),n._stop(i))},destroy:function(){var i=this;s.fn.destroy.call(i),i.draggable&&i.draggable.destroy()},press:function(i){if(i){var t=i.position(),n=this;n.userEvents.press(t.left,t.top,i[0]),n.targetPosition=t,n.target=i}},move:function(i){var n=this,o=n._position,s=n.targetPosition,e=n.position;e===t&&(e=s[o]),s[o]=e+i,n.userEvents.move(s.left,s.top)},end:function(){this.userEvents.end(),this.target=this.position=t}});n.ui.plugin(g)}(window.kendo.jQuery);;!function(e,t){function r(e){return Array(e+1).join('<td class="k-group-cell">&nbsp;</td>')}function a(e){var t,r=" ";if(e){if(typeof e===gt)return e;for(t in e)r+=t+'="'+e[t]+'"'}return r}function l(t){var r=0;return e("> .k-grouping-header, > .k-grid-toolbar",t).each(function(){r+=this.offsetHeight}),r}function o(t,r){e("th, th .k-grid-filter, th .k-link",t).add(document.body).css("cursor",r)}function n(e){var t,r,a={},l={};if(!N(e))for(I(e)||(e=[e]),t=0,r=e.length;r>t;t++)a[e[t].aggregate]=0,l[e[t].field]=a;return l}function i(e,t,r){var a=e.eq(t),l=e.eq(r);a[t>r?"insertBefore":"insertAfter"](l)}function s(e,t,r){var a,l,o,n;for(r=I(r)?r:[r],a=0,l=r.length;l>a;a++)o=r[a],H(o)&&o.click&&(n=o.name||o.text,t.on(pt+K,"a.k-grid-"+(n||"").replace(/\s/g,""),{commandName:n},W(o.click,e)))}function d(e){return D(e,function(e){return!e.hidden})}function c(e){e=e||{};var t=e.style;return t?(t=t.replace(/((.*)?display)(.*)?:([^;]*)/i,"$1:none"),t===e.style&&(t=t.replace(/(.*)?/i,"display:none;$1"))):t="display:none",R({},e,{style:t})}function p(e){e=e||{};var t=e.style;return t&&(e.style=t.replace(/(display\s*:\s*none\s*;?)*/gi,"")),e}function u(t,r,a,l){var o,n=t.find(">colgroup"),i=A(r,function(e){return o=e.width,o&&0!==parseInt(o,10)?v.format('<col style="width:{0}"/>',typeof o===gt?o:o+"px"):"<col />"});(a||n.find(".k-hierarchy-col").length)&&i.splice(0,0,'<col class="k-hierarchy-col" />'),n.length&&n.remove(),n=e(Array(l+1).join('<col class="k-group-col">')+i.join("")),n.is("colgroup")||(n=e("<colgroup/>").append(n)),t.prepend(n),yt.msie&&8==yt.version&&(t.css("display","inline-table"),window.setTimeout(function(){t.css("display","")},1))}function f(e){var t,r,a,l={};for(r=0,a=e.length;a>r;r++)t=e[r],l[t.value]=t.text;return l}function h(e,t,r){var a=r&&r.length&&H(r[0])&&"value"in r[0],l=a?f(r)[e]:e;return l=null!=l?l:"",t?v.format(t,l):l}function g(e,t,r){for(var a,l=0,o=e[l];o;){if(a=r?!0:"none"!==o.style.display,a&&!_t.test(o.className)&&--t<0){o.style.display=r?"":"none";break}o=e[++l]}}function m(e,t){var r,a,l;if(typeof e===gt&&e===t)return e;if(H(e)&&e.name===t)return e;if(I(e))for(r=0,a=e.length;a>r;r++)if(l=e[r],typeof l===gt&&l===t||l.name===t)return l;return null}function b(t,r){var a,l,o,n=yt.msie;if(r===!0){if(t=e(t),o=n&&t.parent().is(".k-grid-content,.k-grid-header-wrap"),o&&(a=t.parent().scrollTop(),l=t.parent().scrollLeft()),n)try{t[0].setActive()}catch(i){t[0].focus()}else t[0].focus();o&&(t.parent().scrollTop(a),t.parent().scrollLeft(l))}else e(t).one("focusin",function(e){e.preventDefault()}).focus()}function k(t){var r=e(t.currentTarget),a=r.is("th"),l=r.closest("table")[0];v.support.touch||(l===this.table[0]||l===this.thead.parent()[0])&&(this.current(r),(a||!e(t.target).is(":button,a,:input,a>.k-icon,textarea,span.k-icon,span.k-link,.k-input,.k-multiselect-wrap"))&&setTimeout(function(){b(l,!0)}),a&&t.preventDefault())}var v=window.kendo,_=v.ui,w=v.data.DataSource,C=_.Groupable,y=v.support.tbodyInnerHtml,x=v._activeElement,T=_.Widget,S=v.keys,H=e.isPlainObject,R=e.extend,A=e.map,D=e.grep,I=e.isArray,E=e.inArray,W=e.proxy,M=e.isFunction,N=e.isEmptyObject,z=Math,L="progress",F="error",B=":not(.k-group-cell):not(.k-hierarchy-cell):visible",q="tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)",P="tr:not(.k-footer-template):visible",O=":not(.k-group-cell):not(.k-hierarchy-cell):visible",G=P+":first>"+O+":first",j="th.k-header:not(.k-group-cell,.k-hierarchy-cell)",U=j+":visible["+v.attr("field")+"]",$=j+"["+v.attr("field")+"]",K=".kendoGrid",J="edit",V="save",X="remove",Q="detailInit",Y="filterMenuInit",Z="columnMenuInit",et="change",tt="columnHide",rt="columnShow",at="saveChanges",lt="dataBound",ot="detailExpand",nt="detailCollapse",it="k-state-focused",st="k-state-selected",dt="columnResize",ct="columnReorder",pt="click",ut="height",ft="tabIndex",ht="function",gt="string",mt="Are you sure you want to delete this record?",bt=/(\}|\#)/gi,kt=/#/gi,vt="[\\x20\\t\\r\\n\\f]",_t=RegExp("(^|"+vt+")"+"(k-group-cell|k-hierarchy-cell)"+"("+vt+"|$)"),wt='<a class="k-button k-button-icontext #=className#" #=attr# href="\\#"><span class="#=iconClass# #=imageClass#"></span>#=text#</a>',Ct=!1,yt=v.support.browser,xt=yt.msie&&7==yt.version,Tt=T.extend({init:function(e,t){var r=this;T.fn.init.call(r,e,t),r._refreshHandler=W(r.refresh,r),r.setDataSource(t.dataSource),r.wrap()},setDataSource:function(e){var t=this;t.dataSource&&t.dataSource.unbind(et,t._refreshHandler),t.dataSource=e,t.dataSource.bind(et,t._refreshHandler)},options:{name:"VirtualScrollable",itemHeight:e.noop},destroy:function(){var e=this;T.fn.destroy.call(e),e.dataSource.unbind(et,e._refreshHandler),e.wrapper.add(e.verticalScrollbar).off(K),e.drag&&e.drag.destroy()},wrap:function(){var t,r=this,a=v.support.scrollbar()+1,l=r.element;l.css({width:"auto",overflow:"hidden"}).css(Ct?"padding-left":"padding-right",a),r.content=l.children().first(),t=r.wrapper=r.content.wrap('<div class="k-virtual-scrollable-wrap"/>').parent().bind("DOMMouseScroll"+K+" mousewheel"+K,W(r._wheelScroll,r)),v.support.kineticScrollNeeded&&(r.drag=new v.UserEvents(r.wrapper,{global:!0,move:function(e){r.verticalScrollbar.scrollTop(r.verticalScrollbar.scrollTop()-e.y.delta),t.scrollLeft(t.scrollLeft()-e.x.delta),e.preventDefault()}})),r.verticalScrollbar=e('<div class="k-scrollbar k-scrollbar-vertical" />').css({width:a}).appendTo(l).bind("scroll"+K,W(r._scroll,r))},_wheelScroll:function(e){var r,a=this,l=a.verticalScrollbar.scrollTop(),o=e.originalEvent,n=o.wheelDeltaY;o.wheelDelta?(n===t||n)&&(r=o.wheelDelta):o.detail&&o.axis===o.VERTICAL_AXIS&&(r=10*-o.detail),r&&(e.preventDefault(),a.verticalScrollbar.scrollTop(l+-r))},_scroll:function(e){var t=this,r=e.currentTarget.scrollTop,a=t.dataSource,l=t.itemHeight,o=a.skip()||0,n=t._rangeStart||o,i=t.element.innerHeight(),s=!!(t._scrollbarTop&&t._scrollbarTop>r),d=z.max(z.floor(r/l),0),c=z.max(d+z.floor(i/l),0);t._scrollTop=r-n*l,t._scrollbarTop=r,t._fetch(d,c,s)||(t.wrapper[0].scrollTop=t._scrollTop)},_fetch:function(e,t,r){var a=this,l=a.dataSource,o=a.itemHeight,n=l.take(),i=a._rangeStart||l.skip()||0,s=z.floor(e/n)*n,d=!1,c=.33;return i>e?(d=!0,i=z.max(0,t-n),a._scrollTop=(e-i)*o,a._page(i,n)):t>=i+n&&!r?(d=!0,i=e,a._scrollTop=o,a._page(i,n)):a._fetching||(s+n-n*c>e&&e>n&&l.prefetch(s-n,n),t>s+n*c&&l.prefetch(s+n,n)),d},_page:function(e,t){var r=this,a=r.dataSource;clearTimeout(r._timeout),r._fetching=!0,r._rangeStart=e,a.inRange(e,t)?a.range(e,t):(v.ui.progress(r.wrapper.parent(),!0),r._timeout=setTimeout(function(){a.range(e,t)},100))},refresh:function(){var e,t,r,a,l=this,o="",n=25e4,i=l.dataSource,s=l._rangeStart,d=v.support.kineticScrollNeeded?0:v.support.scrollbar(),c=l.wrapper[0];for(v.ui.progress(l.wrapper.parent(),!1),clearTimeout(l._timeout),r=l.itemHeight=l.options.itemHeight()||0,a=c.scrollWidth>c.offsetWidth?d:0,e=i.total()*r+a,t=0;t<z.floor(e/n);t++)o+='<div style="width:1px;height:'+n+'px"></div>';e%n&&(o+='<div style="width:1px;height:'+e%n+'px"></div>'),l.verticalScrollbar.html(o),c.scrollTop=l._scrollTop,l.drag&&l.drag.cancel(),s&&!l._fetching&&(l._rangeStart=i.skip()),l._fetching=!1}}),St={create:{text:"Add new record",imageClass:"k-add",className:"k-grid-add",iconClass:"k-icon"},cancel:{text:"Cancel changes",imageClass:"k-cancel",className:"k-grid-cancel-changes",iconClass:"k-icon"},save:{text:"Save changes",imageClass:"k-update",className:"k-grid-save-changes",iconClass:"k-icon"},destroy:{text:"Delete",imageClass:"k-delete",className:"k-grid-delete",iconClass:"k-icon"},edit:{text:"Edit",imageClass:"k-edit",className:"k-grid-edit",iconClass:"k-icon"},update:{text:"Update",imageClass:"k-update",className:"k-grid-update",iconClass:"k-icon"},canceledit:{text:"Cancel",imageClass:"k-cancel",className:"k-grid-cancel",iconClass:"k-icon"}},Ht=T.extend({init:function(e,t){var r=this;t=I(t)?{dataSource:t}:t,T.fn.init.call(r,e,t),Ct=v.support.isRtl(e),r._element(),r._aria(),r._columns(r.options.columns),r._dataSource(),r._tbody(),r._pageable(),r._thead(),r._groupable(),r._toolbar(),r._setContentHeight(),r._templates(),r._navigatable(),r._selectable(),r._details(),r._editable(),r._attachCustomCommandsEvent(),r.options.autoBind?r.dataSource.fetch():r._footer(),v.notify(r)},events:[et,"dataBinding","cancel",lt,ot,nt,Q,Y,Z,J,V,X,at,dt,ct,rt,tt],setDataSource:function(e){var t=this;t.options.dataSource=e,t._dataSource(),t._pageable(),t.options.groupable&&t._groupable(),t._thead(),t.virtualScrollable&&t.virtualScrollable.setDataSource(t.options.dataSource),t.options.autoBind&&e.fetch()},options:{name:"Grid",columns:[],toolbar:null,autoBind:!0,filterable:!1,scrollable:!0,sortable:!1,selectable:!1,navigatable:!1,pageable:!1,editable:!1,groupable:!1,rowTemplate:"",altRowTemplate:"",dataSource:{},height:null,resizable:!1,reorderable:!1,columnMenu:!1,detailTemplate:null,columnResizeHandleWidth:3},destroy:function(){var e,t=this;T.fn.destroy.call(t),t.pager&&t.pager.destroy(),t.groupable&&t.groupable.destroy(),t.options.reorderable&&t.wrapper.data("kendoReorderable").destroy(),t.resizable&&t.resizable.destroy(),t.virtualScrollable&&t.virtualScrollable.destroy(),t._destroyColumnAttachments(),t._destroyEditable(),t.dataSource.unbind(et,t._refreshHandler).unbind(L,t._progressHandler).unbind(F,t._errorHandler),e=t.element.add(t.wrapper).add(t.table).add(t.thead).add(t.wrapper.find(">.k-grid-toolbar")),t.content&&(e=e.add(t.content).add(t.content.find(">.k-virtual-scrollable-wrap"))),e.off(K),v.destroy(t.wrapper)},setOptions:function(e){var t=this;T.fn.setOptions.call(this,e),t._templates()},items:function(){return this.tbody.children(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")},_destroyColumnAttachments:function(){var t=this;t.resizeHandle=null,t.thead.find("th").each(function(){var t=e(this),r=t.data("kendoFilterMenu"),a=t.data("kendoSortable"),l=t.data("kendoColumnMenu");r&&r.destroy(),a&&a.destroy(),l&&l.destroy()})},_attachCustomCommandsEvent:function(){var e,t,r,a=this,l=a.columns||[];for(t=0,r=l.length;r>t;t++)e=l[t].command,e&&s(a,a.wrapper,e)},_aria:function(){var e=this.element.attr("id")||"aria";e&&(this._cellId=e+"_active_cell")},_element:function(){var t=this,r=t.element;r.is("table")||(r=t.options.scrollable?t.element.find("> .k-grid-content > table"):t.element.children("table"),r.length||(r=e("<table />").appendTo(t.element))),xt&&r.attr("cellspacing",0),t.table=r.attr("role",t._hasDetails()?"treegrid":"grid"),t._wrapper()},_positionColumnResizeHandle:function(t){var r,a=this,n=a.options.scrollable,i=a.resizeHandle,s=a.options.columnResizeHandleWidth;a.thead.on("mousemove"+K,"th:not(.k-group-cell,.k-hierarchy-cell)",function(d){var c,p,u,f,h=e(this),g=d.clientX,m=e(window).scrollLeft(),b=h.offset().left+(Ct?0:this.offsetWidth);g+m>b-s&&b+s>g+m?(i||(i=a.resizeHandle=e('<div class="k-resize-handle"/>'),t.append(i)),Ct?(c=h.closest(".k-grid-header-wrap"),p=yt.msie?c.scrollLeft():0,u=yt.webkit?c[0].scrollWidth-c[0].offsetWidth-c.scrollLeft():0,f=yt.mozilla?c[0].scrollWidth-c[0].offsetWidth-(c[0].scrollWidth-c[0].offsetWidth-c.scrollLeft()):0,r=h.position().left-u+f-p):(r=this.offsetWidth,h.prevAll(":visible").each(function(){r+=this.offsetWidth})),i.css({top:n?0:l(a.wrapper),left:r-s,height:h.outerHeight(),width:3*s}).data("th",h).show()):i?i.hide():o(a.wrapper,"")})},_resizable:function(){var t,r,a,l,n,i,s=this,d=s.options;d.resizable&&(t=d.scrollable?s.wrapper.find(".k-grid-header-wrap:first"):s.wrapper,s._positionColumnResizeHandle(t),s.resizable=new _.Resizable(t,{handle:".k-resize-handle",hint:function(t){return e('<div class="k-grid-resize-indicator" />').css({height:t.data("th").outerHeight()+s.tbody.attr("clientHeight")})},start:function(t){i=e(t.currentTarget).data("th");var c=e.inArray(i[0],i.parent().children(":visible")),p=s.tbody.parent(),u=s.footer||e();o(s.wrapper,"col-resize"),n=d.scrollable?s.thead.parent().find("col:eq("+c+")").add(p.children("colgroup").find("col:eq("+c+")")).add(u.find("colgroup").find("col:eq("+c+")")):p.children("colgroup").find("col:eq("+c+")"),r=t.x.location,a=i.outerWidth(),l=s.tbody.outerWidth()},resize:function(t){var o=Ct?-1:1,i=a+t.x.location*o-r*o,c=s.footer||e();i>10&&(n.css("width",i),d.scrollable&&l&&(s._footerWidth=l+t.x.location*o-r*o,s.tbody.parent().add(s.thead.parent()).add(c.find("table")).css("width",s._footerWidth)))},resizeend:function(){var e,t=i.outerWidth();o(s.wrapper,""),a!=t&&(e=s.columns[i.parent().find("th:not(.k-group-cell,.k-hierarchy-cell)").index(i)],e.width=t,s.trigger(dt,{column:e,oldWidth:a,newWidth:t})),s.resizeHandle.hide(),i=null}}))},_draggable:function(){var t=this;t.options.reorderable&&(t._draggableInstance&&t._draggableInstance.destroy(),t._draggableInstance=t.wrapper.kendoDraggable({group:v.guid(),filter:t.content?".k-grid-header:first "+j:"table:first>.k-grid-header "+j,hint:function(t){return e('<div class="k-header k-drag-clue" />').css({width:t.width(),paddingLeft:t.css("paddingLeft"),paddingRight:t.css("paddingRight"),lineHeight:t.height()+"px",paddingTop:t.css("paddingTop"),paddingBottom:t.css("paddingBottom")}).html(t.attr(v.attr("title"))||t.attr(v.attr("field"))||t.text()).prepend('<span class="k-icon k-drag-status k-denied" />')}}).data("kendoDraggable"))},_reorderable:function(){var e=this;e.options.reorderable&&e.wrapper.kendoReorderable({draggable:e._draggableInstance,change:function(t){var r=E(e.columns[t.newIndex],e.columns),a=e.columns[t.oldIndex];e.trigger(ct,{newIndex:r,oldIndex:E(a,e.columns),column:a}),e.reorderColumn(r,a)}})},reorderColumn:function(e,t){var r,a,l,o=this,n=E(t,o.columns),s=E(t,d(o.columns)),c=E(o.columns[e],d(o.columns)),p=o.footer||o.wrapper.find(".k-grid-footer");if(n!==e)for(o.columns.splice(n,1),o.columns.splice(e,0,t),o._templates(),i(o.thead.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),s,c),o.options.scrollable&&i(o.tbody.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),s,c),i(o.thead.find(".k-header:not(.k-group-cell,.k-hierarchy-cell)"),n,e),p&&p.length&&(i(p.find(".k-grid-footer-wrap>table>colgroup>col:not(.k-group-col,.k-hierarchy-col)"),s,c),i(p.find(".k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)"),n,e)),r=o.tbody.children(":not(.k-grouping-row,.k-detail-row)"),a=0,l=r.length;l>a;a+=1)i(r.eq(a).find(">td:not(.k-group-cell,.k-hierarchy-cell)"),n,e)},cellIndex:function(t){return e(t).parent().children("td:not(.k-group-cell,.k-hierarchy-cell)").index(t)},_modelForContainer:function(t){t=e(t),t.is("tr")||"popup"===this._editMode()||(t=t.closest("tr"));var r=t.attr(v.attr("uid"));return this.dataSource.getByUid(r)},_editable:function(){var t,r=this,a=r.selectable&&r.selectable.options.multiple,l=r.options.editable,o=function(){var t=x(),a=r._editContainer;!a||e.contains(a[0],t)||a[0]===t||e(t).closest(".k-animation-container").length||r.editable.end()&&r.closeCell()};l&&(t=r._editMode(),"incell"===t?l.update!==!1&&r.wrapper.on(pt+K,"tr:not(.k-grouping-row) > td",function(t){var l=e(this);l.hasClass("k-hierarchy-cell")||l.hasClass("k-detail-cell")||l.hasClass("k-group-cell")||l.hasClass("k-edit-cell")||l.has("a.k-grid-delete").length||l.has("button.k-grid-delete").length||l.closest("tbody")[0]!==r.tbody[0]||e(t.target).is(":input")||(r.editable?r.editable.end()&&(a&&e(x()).blur(),r.closeCell(),r.editCell(l)):r.editCell(l))}).on("focusin"+K,function(){clearTimeout(r.timer),r.timer=null}).on("focusout"+K,function(){r.timer=setTimeout(o,1)}):l.update!==!1&&r.wrapper.on(pt+K,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit",function(t){t.preventDefault(),r.editRow(e(this).closest("tr"))}),l.destroy!==!1?r.wrapper.on(pt+K,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete",function(t){t.preventDefault(),t.stopPropagation(),r.removeRow(e(this).closest("tr"))}):r.wrapper.on(pt+K,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete",function(e){e.stopPropagation(),r._confirmation()||e.preventDefault()}))},editCell:function(t){t=e(t);var r=this,a=r.columns[r.cellIndex(t)],l=r._modelForContainer(t);!l||l.editable&&!l.editable(a.field)||a.command||!a.field||(r._attachModelChange(l),r._editContainer=t,r.editable=t.addClass("k-edit-cell").kendoEditable({fields:{field:a.field,format:a.format,editor:a.editor,values:a.values},model:l,change:function(e){r.trigger(V,{values:e.values,container:t,model:l})&&e.preventDefault()}}).data("kendoEditable"),t.parent().addClass("k-grid-edit-row"),r.trigger(J,{container:t,model:l}))},_destroyEditable:function(){var e=this,t=function(){e.editable&&(e._detachModelChange(),e.editable.destroy(),e.editable=null,e._editContainer=null)};e.editable&&("popup"===e._editMode()?e._editContainer.data("kendoWindow").bind("deactivate",t).close():t())},_attachModelChange:function(e){var t=this;t._modelChangeHandler=function(e){t._modelChange({field:e.field,model:this})},e.bind("change",t._modelChangeHandler)},_detachModelChange:function(){var e=this,t=e._editContainer,r=e._modelForContainer(t);r&&r.unbind(et,e._modelChangeHandler)},closeCell:function(t){var r,a,l,o=this,n=o._editContainer;n&&(r=n.closest("tr").attr(v.attr("uid")),l=o.dataSource.getByUid(r),t&&o.trigger("cancel",{container:n,model:l})||(n.removeClass("k-edit-cell"),a=o.columns[o.cellIndex(n)],n.parent().removeClass("k-grid-edit-row"),o._destroyEditable(),o._displayCell(n,a,l),n.hasClass("k-dirty-cell")&&e('<span class="k-dirty"/>').prependTo(n)))},_displayCell:function(e,t,r){var a=this,l={storage:{},count:0},o=R({},v.Template,a.options.templateSettings),n=v.template(a._cellTmpl(t,l),o);l.count>0&&(n=W(n,l.storage)),e.empty().html(n(r))},removeRow:function(t){var r,a,l=this;l._confirmation()&&(t=e(t).hide(),r=l._modelForContainer(t),r&&!l.trigger(X,{row:t,model:r})&&(a=l._editMode(),"incell"!==a&&l.cancelRow(),l.dataSource.remove(r),("inline"===a||"popup"===a)&&l.dataSource.sync()))},_editMode:function(){var e="incell",t=this.options.editable;return t!==!0&&(e="string"==typeof t?t:t.mode||e),e},editRow:function(r){var a,l,o,n,i=this;r instanceof v.data.ObservableObject?a=r:(r=e(r),a=i._modelForContainer(r)),l=i._editMode(),o=i.options.navigatable,i.cancelRow(),a&&(i._attachModelChange(a),"popup"===l?i._createPopupEditor(a):"inline"===l?i._createInlineEditor(r,a):"incell"===l&&e(r).children(B).each(function(){var r=e(this),l=i.columns[r.index()];return a=i._modelForContainer(r),a&&(!a.editable||a.editable(l.field))&&l.field?(i.editCell(r),!1):t}),n=i._editContainer,n.on(pt+K,"a.k-grid-cancel",function(t){if(t.preventDefault(),t.stopPropagation(),!i.trigger("cancel",{container:n,model:a})){var r=i.items().index(e(i.current()).parent());i.cancelRow(),o&&(i.current(i.items().eq(r).children().filter(O).first()),b(i.table,!0))}}),n.on(pt+K,"a.k-grid-update",function(e){e.preventDefault(),e.stopPropagation(),i.saveRow()}))},_createPopupEditor:function(r){var a,l,o,n,i,s,d,c,p,u,f,h=this,g="<div "+v.attr("uid")+'="'+r.uid+'" class="k-popup-edit-form"><div class="k-edit-form-container">',k=[],_=h.options.editable,w=_.template,C=H(_)?_.window:{},y=R({},v.Template,h.options.templateSettings);if(w)for(typeof w===gt&&(w=window.unescape(w)),g+=v.template(w,y)(r),o=0,n=h.columns.length;n>o;o++)a=h.columns[o],a.command&&(c=m(a.command,"edit"),c&&(l=c));else for(o=0,n=h.columns.length;n>o;o++)a=h.columns[o],a.command?a.command&&(c=m(a.command,"edit"),c&&(l=c)):(g+='<div class="k-edit-label"><label for="'+a.field+'">'+(a.title||a.field||"")+"</label></div>",r.editable&&!r.editable(a.field)||!a.field?(u={storage:{},count:0},i=v.template(h._cellTmpl(a,u),y),u.count>0&&(i=W(i,u.storage)),g+='<div class="k-edit-field">'+i(r)+"</div>"):(k.push({field:a.field,format:a.format,editor:a.editor,values:a.values}),g+="<div "+v.attr("container-for")+'="'+a.field+'" class="k-edit-field"></div>'));l&&H(l)&&(l.text&&H(l.text)&&(s=l.text.update,d=l.text.cancel),l.attr&&(p=l.attr)),g+='<div class="k-edit-buttons k-state-default">',g+=h._createButton({name:"update",text:s,attr:p})+h._createButton({name:"canceledit",text:d,attr:p}),g+="</div></div></div>",f=h._editContainer=e(g).appendTo(h.wrapper).eq(0).kendoWindow(R({modal:!0,resizable:!1,draggable:!0,title:"Edit",visible:!1,close:function(a){if(a.userTriggered){if(h.trigger("cancel",{container:f,model:r}))return a.preventDefault(),t;var l=h.items().index(e(h.current()).parent());h.cancelRow(),h.options.navigatable&&(h.current(h.items().eq(l).children().filter(O).first()),b(h.table,!0))}}},C)),h.editable=h._editContainer.kendoEditable({fields:k,model:r,clearContainer:!1}).data("kendoEditable"),f.data("kendoWindow").center().open(),h.trigger(J,{container:f,model:r})},_createInlineEditor:function(t,r){var a,l,o,n=this,i=[];t.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){if(l=e(this),a=n.columns[n.cellIndex(l)],a.command||!a.field||r.editable&&!r.editable(a.field)){if(a.command&&(o=m(a.command,"edit"))){l.empty();var t,s,d;H(o)&&(o.text&&H(o.text)&&(t=o.text.update,s=o.text.cancel),o.attr&&(d=o.attr)),e(n._createButton({name:"update",text:t,attr:d})+n._createButton({name:"canceledit",text:s,attr:d})).appendTo(l)}}else i.push({field:a.field,format:a.format,editor:a.editor,values:a.values}),l.attr(v.attr("container-for"),a.field),l.empty()}),n._editContainer=t,n.editable=t.addClass("k-grid-edit-row").kendoEditable({fields:i,model:r,clearContainer:!1}).data("kendoEditable"),n.trigger(J,{container:t,model:r})},cancelRow:function(){var e,t=this,r=t._editContainer;r&&(e=t._modelForContainer(r),t._destroyEditable(),t.dataSource.cancelChanges(e),"popup"!==t._editMode()?t._displayRow(r):t._displayRow(t.items().filter("["+v.attr("uid")+"="+e.uid+"]")))},saveRow:function(){var e=this,t=e._editContainer,r=e._modelForContainer(t),a=e.editable;t&&a&&a.end()&&!e.trigger(V,{container:t,model:r})&&e.dataSource.sync()},_displayRow:function(t){var r=this,a=r._modelForContainer(t);a&&t.replaceWith(e((t.hasClass("k-alt")?r.altRowTemplate:r.rowTemplate)(a)))},_showMessage:function(e){return window.confirm(e)},_confirmation:function(){var e=this,t=e.options.editable,r=t===!0||typeof t===gt?mt:t.confirmation;return r!==!1&&null!=r?e._showMessage(r):!0},cancelChanges:function(){this.dataSource.cancelChanges()},saveChanges:function(){var e=this;(e.editable&&e.editable.end()||!e.editable)&&!e.trigger(at)&&e.dataSource.sync()},addRow:function(){var e,t,r,a,l,o=this,n=o.dataSource,i=o._editMode(),s=o.options.editable.createAt||"",d=n.pageSize(),c=n.view()||[];(o.editable&&o.editable.end()||!o.editable)&&("incell"!=i&&o.cancelRow(),e=n.indexOf(c[0]),"bottom"==s.toLowerCase()&&(e+=c.length,d&&!n.options.serverPaging&&d<=c.length&&(e-=1)),0>e&&(e=n.page()>n.totalPages()?(n.page()-1)*d:0),t=n.insert(e,{}),r=t.uid,a=o.table.find("tr["+v.attr("uid")+"="+r+"]"),l=a.children("td:not(.k-group-cell,.k-hierarchy-cell)").eq(o._firstEditableColumnIndex(a)),"inline"===i&&a.length?o.editRow(a):"popup"===i?o.editRow(t):l.length&&o.editCell(l))},_firstEditableColumnIndex:function(e){var t,r,a,l=this,o=l.columns,n=l._modelForContainer(e);for(r=0,a=o.length;a>r;r++)if(t=o[r],n&&(!n.editable||n.editable(t.field))&&!t.command&&t.field)return r;return-1},_toolbar:function(){var t,r=this,a=r.wrapper,l=r.options.toolbar,o=r.options.editable;l&&(t=r.wrapper.find(".k-grid-toolbar"),t.length||(M(l)||(l=typeof l===gt?l:r._toolbarTmpl(l).replace(kt,"\\#"),l=W(v.template(l),r)),t=e('<div class="k-toolbar k-grid-toolbar" />').html(l({})).prependTo(a)),o&&o.create!==!1&&t.on(pt+K,".k-grid-add",function(e){e.preventDefault(),r.addRow()}).on(pt+K,".k-grid-cancel-changes",function(e){e.preventDefault(),r.cancelChanges()}).on(pt+K,".k-grid-save-changes",function(e){e.preventDefault(),r.saveChanges()}))},_toolbarTmpl:function(e){var t,r,a=this,l="";if(I(e))for(t=0,r=e.length;r>t;t++)l+=a._createButton(e[t]);return l},_createButton:function(e){var t=e.template||wt,r=typeof e===gt?e:e.name||e.text,l=St[r]?St[r].className:"k-grid-"+(r||"").replace(/\s/g,""),o={className:l,text:r,imageClass:"",attr:"",iconClass:""};if(!(r||H(e)&&e.template))throw Error("Custom commands should have name specified");return H(e)?(e.className&&(e.className+=" "+o.className),"edit"===r&&H(e.text)&&(e=R(!0,{},e),e.text=e.text.edit),e.attr&&H(e.attr)&&(e.attr=a(e.attr)),o=R(!0,o,St[r],e)):o=R(!0,o,St[r]),v.template(t)(o)},_hasFooters:function(){var e,t=this.columns,r=t.length;for(e=0;r>e;e++)if(""!==t[e].footerTemplate||""!==t[e].groupFooterTemplate)return!0;return!1},_groupable:function(){var t=this;t._groupableClickHandler?t.table.off(pt+K,t._groupableClickHandler):t._groupableClickHandler=function(r){var a=e(this),l=a.closest("tr");a.hasClass("k-i-collapse")?t.collapseGroup(l):t.expandGroup(l),r.preventDefault(),r.stopPropagation()},t.table.on(pt+K,".k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand",t._groupableClickHandler),t._attachGroupable()},_attachGroupable:function(){var t=this,r=t.wrapper,a=t.options.groupable;a&&(r.has("div.k-grouping-header")[0]||e("<div>&nbsp;</div>").addClass("k-grouping-header").prependTo(r),t.groupable&&t.groupable.destroy(),t.groupable=new C(r,R({},a,{draggable:t._draggableInstance,groupContainer:">div.k-grouping-header",dataSource:t.dataSource,draggableElements:t.content?".k-grid-header:first "+U:"table:first>.k-grid-header "+U,filter:t.content?".k-grid-header:first "+$:"table:first>.k-grid-header "+$,allowDrag:t.options.reorderable})))},_selectable:function(){var e,r,a=this,l=[],o=a.options.selectable;o&&(e=typeof o===gt&&o.toLowerCase().indexOf("multiple")>-1,r=typeof o===gt&&o.toLowerCase().indexOf("cell")>-1,a._hasDetails()&&(l[l.length]=".k-detail-row"),(a.options.groupable||a._hasFooters())&&(l[l.length]=".k-grouping-row,.k-group-footer"),l=l.join(","),""!==l&&(l=":not("+l+")"),a.selectable=new v.ui.Selectable(a.table,{filter:">"+(r?q:"tbody>tr"+l),aria:!0,multiple:e,change:function(){a.trigger(et)}}),a.options.navigatable&&a.table.on("keydown"+K,function(l){var o=a.current();if(l.keyCode===S.SPACEBAR&&l.target==a.table[0]&&!o.is(".k-edit-cell,.k-header")&&o.parent().is(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")){if(l.preventDefault(),l.stopPropagation(),o=r?o:o.parent(),e)if(l.ctrlKey){if(o.hasClass(st))return o.removeClass(st),a.trigger(et),t}else a.selectable.clear();else a.selectable.clear();a.selectable.value(o)}}))},clearSelection:function(){var e=this;e.selectable.clear(),e.trigger(et)},select:function(r){var a=this,l=a.selectable;return r=e(r),r.length?(l.options.multiple||(l.clear(),r=r.first()),l.value(r),t):l.value()},current:function(r){var a=this,l=a.options.scrollable,o=a._current,n=a.table.add(a.thead.parent());return r!==t&&r.length&&(o&&o[0]===r[0]||(o&&(o.removeClass(it).removeAttr("id"),n.removeAttr("aria-activedescendant")),r.attr("id",a._cellId),a._current=r.addClass(it),n.attr("aria-activedescendant",a._cellId),r.length&&l&&(e.contains(a.content[0],r[0])&&a._scrollTo(r.parent()[0],a.content[0]),l.virtual?a._scrollTo(r[0],a.content.find(">.k-virtual-scrollable-wrap")[0]):a._scrollTo(r[0],a.content[0])))),a._current},_removeCurrent:function(){this._current&&(this._current.removeClass(it),this._current=null)},_scrollTo:function(e,t){var r=e.tagName.toLowerCase(),a="td"===r||"th"===r,l=e[a?"offsetLeft":"offsetTop"],o=e[a?"offsetWidth":"offsetHeight"],n=t[a?"scrollLeft":"scrollTop"],i=t[a?"clientWidth":"clientHeight"],s=l+o,d=0;d=n>l?l:s>n+i?i>=o?s-i:l:n,t[a?"scrollLeft":"scrollTop"]=d},_navigatable:function(){var t=this,r=W(t.current,t),a=t.table,l=t.thead.parent(),o=a,n=v.support.isRtl(t.element);t.options.navigatable&&(t.options.scrollable&&(o=a.add(l),l.attr(ft,-1)),l.on("keydown"+K,function(e){e.altKey&&e.keyCode==S.DOWN&&(r().find(".k-grid-filter, .k-header-column-menu").click(),e.stopImmediatePropagation())}).find("a.k-link").attr("tabIndex",-1),a.attr(ft,z.max(a.attr(ft)||0,0)).on("mousedown"+K+" keydown"+K,".k-detail-cell",function(e){e.target!==e.currentTarget&&e.stopImmediatePropagation()}),o.on(v.support.touch?"touchstart"+K:"mousedown"+K,P+">"+O,W(k,t)).on("focus"+K,function(){if(!v.support.touch){var t=r();t&&t.is(":visible")?t.addClass(it):r(e(this).find(G)),this==a[0]?(l.attr(ft,-1),a.attr(ft,0)):(a.attr(ft,-1),l.attr(ft,0))}}).on("focusout"+K,function(){var e=r();e&&e.removeClass(it)}).on("keydown"+K,function(l){var o,i,s,d,c,p,u,f,h=l.keyCode,g=!1,m=!l.isDefaultPrevented()&&!e(l.target).is(":button,a,:input,a>.k-icon"),k=t.options.pageable,v=t.dataSource,_="incell"==t._editMode(),w=l.shiftKey,C=r();C&&C.is("th")&&(m=!0),m&&h==S.UP?(C?(s=C.parent().prevAll(P).first(),s[0]||(c=t.thead.parent(),b(c,!0),s=c.find(P).first()),d=C.index(),C=s.children().eq(d),C[0]&&C.is(O)||(C=s.children(O).first())):C=a.find(G),g=!0,r(C)):m&&h==S.DOWN?(C?(s=C.parent().nextAll(P).first(),!s[0]&&C.is("th")&&(b(t.tbody.parent()),s=t.tbody.find(P).first()),d=C.index(),C=s.children().eq(d),C[0]&&C.is(O)||(C=s.children(O).first())):C=a.find(G),g=!0,r(C)):m&&h==(n?S.RIGHT:S.LEFT)?(r(C?C.prevAll(B+":first"):a.find(G)),g=!0):m&&h==(n?S.LEFT:S.RIGHT)?(C?C.next()[0]&&(C=C.nextAll(B+":first")):C=a.find(G),g=!0,r(C)):m&&k&&S.PAGEDOWN==h?(v.page(v.page()+1),g=!0):m&&k&&S.PAGEUP==h?(v.page(v.page()-1),g=!0):h==S.ENTER||S.F2==h?(C=C?C:a.find(G),C.is("th")?(C.find(".k-link").click(),g=!0):C.parent().is(".k-master-row,.k-grouping-row")?(C.parent().find(".k-icon:first").click(),g=!0):(p=C.find(":focusable:first"),!C.hasClass("k-edit-cell")&&p[0]&&C.hasClass("k-state-focused")?(p.focus(),g=!0):t.options.editable&&!e(l.target).is(":button,.k-button,textarea")&&(u=e(l.target).closest("[role=gridcell]"),u[0]||(u=C),t._handleEditing(u),g=!0))):S.ESC==h?(o=x(),C&&e.contains(C[0],o)&&!C.hasClass("k-edit-cell")&&!C.parent().hasClass("k-grid-edit-row")?(b(t.table[0],!0),g=!0):!t._editContainer||C&&!t._editContainer.has(C[0])&&C[0]!==t._editContainer[0]||(_?t.closeCell(!0):(i=t.items().index(e(C).parent()),o&&o.blur(),t.cancelRow(),i>=0&&t.current(t.items().eq(i).children().filter(O).first())),yt.msie&&yt.version<9&&document.body.focus(),b(a,!0),g=!0)):S.TAB==h&&(C=e(C),t.options.editable&&_&&(f=e(x()).closest(".k-edit-cell"),f[0]&&f[0]!==C[0]&&(C=f)),f=w?C.prevAll(B+":first"):C.nextAll(":visible:first"),f.length||(f=C.parent()[w?"prevAll":"nextAll"]("tr:not(.k-grouping-row):not(.k-detail-row):visible:first").children(B+(w?":last":":first"))),!C.is("th")&&f.length&&t.options.editable&&_&&(t._handleEditing(C,f),g=!0)),g&&(l.preventDefault(),l.stopPropagation())}))},_handleEditing:function(r,a){var l,o,n=this,i=e(x()),s=n._editMode(),d=yt.msie,c=d&&yt.version<9,p=n._editContainer;if(o="incell"==s?r.hasClass("k-edit-cell"):r.parent().hasClass("k-grid-edit-row"),n.editable){if(e.contains(p[0],i[0])&&(yt.opera||c?i.change().triggerHandler("blur"):(i.blur(),d&&i.blur())),!n.editable)return b(n.table),t;if(!n.editable.end())return"incell"==s?n.current(p):n.current(p.children().filter(B).first()),l=p.find(":focusable:first")[0],l&&l.focus(),t;"incell"==s?n.closeCell():(n.saveRow(),o=!0)}a&&n.current(a),c&&document.body.focus(),b(n.table,!0),(!o&&!a||a)&&("incell"==s?n.editCell(n.current()):n.editRow(n.current().parent()))},_wrapper:function(){var e=this,t=e.table,r=e.options.height,a=e.element;a.is("div")||(a=a.wrap("<div/>").parent()),e.wrapper=a.addClass("k-grid k-widget k-secondary"),r&&(e.wrapper.css(ut,r),t.css(ut,"auto"))},_tbody:function(){var t,r=this,a=r.table;t=a.find(">tbody"),t.length||(t=e("<tbody/>").appendTo(a)),r.tbody=t},_scrollable:function(){var t,r,a,l,o,n=this,i=n.options,s=i.scrollable,d=s!==!0&&s.virtual&&!n.virtualScrollable,c=!v.support.kineticScrollNeeded||d?v.support.scrollbar():0;s&&(t=n.wrapper.children(".k-grid-header"),t[0]||(t=e('<div class="k-grid-header" />').insertBefore(n.table)),t.css(Ct?"padding-left":"padding-right",s.virtual?c+1:c),r=e('<table role="grid" />'),xt&&r.attr("cellspacing",0),r.append(n.thead),t.empty().append(e('<div class="k-grid-header-wrap" />').append(r)),n.content=n.table.parent(),n.content.is(".k-virtual-scrollable-wrap")&&(n.content=n.content.parent()),n.content.is(".k-grid-content, .k-virtual-scrollable-wrap")||(n.content=n.table.wrap('<div class="k-grid-content" />').parent()),d&&(n.virtualScrollable=new Tt(n.content,{dataSource:n.dataSource,itemHeight:W(n._averageRowHeight,n)})),n.scrollables=t.children(".k-grid-header-wrap"),a=n.wrapper.find(".k-grid-footer"),l=Ct&&yt.webkit?c:0,a.length&&(n.scrollables=n.scrollables.add(a.children(".k-grid-footer-wrap"))),s.virtual?n.content.find(">.k-virtual-scrollable-wrap").bind("scroll"+K,function(){n.scrollables.scrollLeft(this.scrollLeft+l)
}):(n.content.bind("scroll"+K,function(){n.scrollables.scrollLeft(this.scrollLeft+l)}),o=v.touchScroller(n.content),o&&o.movable&&o.movable.bind("change",function(e){n.scrollables.scrollLeft(-e.sender.x)})))},_setContentHeight:function(){var e,t=this,r=t.options,a=t.wrapper.innerHeight(),l=t.wrapper.children(".k-grid-header"),o=v.support.scrollbar();r.scrollable&&(a-=l.outerHeight(),t.pager&&(a-=t.pager.element.outerHeight()),r.groupable&&(a-=t.wrapper.children(".k-grouping-header").outerHeight()),r.toolbar&&(a-=t.wrapper.children(".k-grid-toolbar").outerHeight()),t.footerTemplate&&(a-=t.wrapper.children(".k-grid-footer").outerHeight()),e=function(e){var t,r;return e[0].style.height?!0:(t=e.height(),e.height("auto"),r=e.height(),t!=r?(e.height(""),!0):(e.height(""),!1))},e(t.wrapper)&&(a>2*o?t.content.height(a):t.content.height(2*o+1)))},_averageRowHeight:function(){var e,t=this,r=t._rowHeight;return t._rowHeight||(t._rowHeight=r=t.table.outerHeight()/t.items().length,t._sum=r,t._measures=1),e=t.table.outerHeight()/t.items().length,r!==e&&(t._measures++,t._sum+=e,t._rowHeight=t._sum/t._measures),r},_dataSource:function(){var e,r=this,a=r.options,l=a.dataSource;l=I(l)?{data:l}:l,H(l)&&(R(l,{table:r.table,fields:r.columns}),e=a.pageable,H(e)&&e.pageSize!==t&&(l.pageSize=e.pageSize)),r.dataSource&&r._refreshHandler?r.dataSource.unbind(et,r._refreshHandler).unbind(L,r._progressHandler).unbind(F,r._errorHandler):(r._refreshHandler=W(r.refresh,r),r._progressHandler=W(r._requestStart,r),r._errorHandler=W(r._error,r)),r.dataSource=w.create(l).bind(et,r._refreshHandler).bind(L,r._progressHandler).bind(F,r._errorHandler)},_error:function(){this._progress(!1)},_requestStart:function(){this._progress(!0)},_modelChange:function(t){var r,a,l,o,n=this,i=t.model,s=n.tbody.find("tr["+v.attr("uid")+"="+i.uid+"]"),d=s.hasClass("k-alt"),c=n.items().index(s);if(s.children(".k-edit-cell").length&&!n.options.rowTemplate)s.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){r=e(this),a=n.columns[n.cellIndex(r)],a.field===t.field&&(r.hasClass("k-edit-cell")?r.addClass("k-dirty-cell"):(n._displayCell(r,a,i),e('<span class="k-dirty"/>').prependTo(r)))});else if(!s.hasClass("k-grid-edit-row")){for(l=(d?n.altRowTemplate:n.rowTemplate)(i),s.replaceWith(l),l=n.items().eq(c),c=0,o=n.columns.length;o>c;c++)a=n.columns[c],a.field===t.field&&(r=l.children(":not(.k-group-cell,.k-hierarchy-cell)").eq(c),e('<span class="k-dirty"/>').prependTo(r));n.trigger("itemChange",{item:l,data:i,ns:_})}},_pageable:function(){var t,r=this,a=r.options.pageable;a&&(t=r.wrapper.children("div.k-grid-pager"),t.length||(t=e('<div class="k-pager-wrap k-grid-pager"/>').appendTo(r.wrapper)),r.pager&&r.pager.destroy(),r.pager="object"==typeof a&&a instanceof v.ui.Pager?a:new v.ui.Pager(t,R({},a,{dataSource:r.dataSource})))},_footer:function(){var t,r,a=this,l=a.dataSource.aggregates(),o="",i=a.footerTemplate,s=a.options,d=a.footer||a.wrapper.find(".k-grid-footer");i?(l=N(l)?n(a.dataSource.aggregate()):l,o=e(a._wrapFooter(i(l))),d.length?(r=o,d.replaceWith(r),d=a.footer=r):d=a.footer=s.scrollable?s.pageable?o.insertBefore(a.wrapper.children("div.k-grid-pager")):o.appendTo(a.wrapper):o.insertBefore(a.tbody)):d&&!a.footer&&(a.footer=d),d.length&&(s.scrollable&&(t=d.attr("tabindex",-1).children(".k-grid-footer-wrap"),a.scrollables=a.scrollables.not(".k-grid-footer-wrap").add(t)),a._footerWidth&&d.find("table").css("width",a._footerWidth),t&&t.scrollLeft(a.content.scrollLeft()))},_wrapFooter:function(t){var r=this,a="",l=v.support.mobileOS?0:v.support.scrollbar();return r.options.scrollable?(a=e('<div class="k-grid-footer"><div class="k-grid-footer-wrap"><table'+(xt?' cellspacing="0"':"")+"><tbody>"+t+"</tbody></table></div></div>"),r._appendCols(a.find("table")),a.css(Ct?"padding-left":"padding-right",l),a):'<tfoot class="k-grid-footer">'+t+"</tfoot>"},_columnMenu:function(){var t,r,a,l,o,n,i=this,s=i.columns,d=i.options,c=d.columnMenu,p=function(){b(i.thead.parent(),!0)},u=function(e){i.trigger(Z,{field:e.field,container:e.container})};c&&("boolean"==typeof c&&(c={}),i.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(f){r=s[f],n=e(this),r.command||!r.field&&!n.attr("data-"+v.ns+"field")||(t=n.data("kendoColumnMenu"),t&&t.destroy(),l=r.sortable!==!1&&c.sortable!==!1?d.sortable:!1,o=d.filterable&&r.filterable!==!1&&c.filterable!==!1?R({},r.filterable,d.filterable):!1,a={dataSource:i.dataSource,values:r.values,columns:c.columns,sortable:l,filterable:o,messages:c.messages,owner:i,closeCallback:p,init:u},n.kendoColumnMenu(a))}))},_filterable:function(){var t,r,a=this,l=a.columns,o=function(){b(a.thead.parent(),!0)},n=a.options.filterable;n&&!a.options.columnMenu&&a.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(i){var s,d;t=e(this),l[i].filterable===!1||l[i].command||!l[i].field&&!t.attr("data-"+v.ns+"field")||(r=t.data("kendoFilterMenu"),r&&r.destroy(),s=l[i].filterable,d=R({},n,s,{dataSource:a.dataSource,values:l[i].values,closeCallback:o,init:function(e){a.trigger(Y,{field:e.field,container:e.container})}}),s&&s.messages&&(d.messages=R(!0,{},n.messages,s.messages)),t.kendoFilterMenu(d))})},_sortable:function(){var t,r,a,l=this,o=l.columns,n=l.options.sortable;n&&l.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(i){t=o[i],t.sortable!==!1&&!t.command&&t.field&&(r=e(this),a=r.data("kendoSortable"),a&&a.destroy(),r.attr("data-"+v.ns+"field",t.field).kendoSortable(R({},n,t.sortable,{dataSource:l.dataSource,aria:!0})))})},_columns:function(t){var r,a=this,l=a.table,o=l.find("col"),n=a.options.dataSource;t=t.length?t:A(l.find("th"),function(t,r){t=e(t);var a=t.attr(v.attr("sortable")),l=t.attr(v.attr("filterable")),n=t.attr(v.attr("type")),i=t.attr(v.attr("groupable")),s=t.attr(v.attr("field")),d=t.attr(v.attr("menu"));return s||(s=t.text().replace(/\s|[^A-z0-9]/g,"")),{field:s,type:n,sortable:"false"!==a,filterable:"false"!==l,groupable:"false"!==i,menu:d,template:t.attr(v.attr("template")),width:o.eq(r).css("width")}}),r=!(a.table.find("tbody tr").length>0&&(!n||!n.transport)),a.columns=A(t,function(e){return e=typeof e===gt?{field:e}:e,e.hidden&&(e.attributes=c(e.attributes),e.footerAttributes=c(e.footerAttributes),e.headerAttributes=c(e.headerAttributes)),R({encoded:r},e)})},_groups:function(){var e=this.dataSource.group();return e?e.length:0},_tmpl:function(e,t){var l,o,n,i,s=this,d=R({},v.Template,s.options.templateSettings),c=s.columns.length,p={storage:{},count:0},u=s._hasDetails(),f=[],h=s._groups();if(!e){for(e="<tr",t&&f.push("k-alt"),u&&f.push("k-master-row"),f.length&&(e+=' class="'+f.join(" ")+'"'),c&&(e+=" "+v.attr("uid")+'="#='+v.expr("uid",d.paramName)+'#"'),e+=" role='row'>",h>0&&(e+=r(h)),u&&(e+='<td class="k-hierarchy-cell"><a class="k-icon k-plus" href="\\#" tabindex="-1"></a></td>'),l=0;c>l;l++)n=s.columns[l],o=n.template,i=typeof o,e+="<td"+a(n.attributes)+" role='gridcell'>",e+=s._cellTmpl(n,p),e+="</td>";e+="</tr>"}return e=v.template(e,d),p.count>0?W(e,p.storage):e},_headerCellText:function(e){var t=this,r=R({},v.Template,t.options.templateSettings),a=e.headerTemplate,l=typeof a,o=e.title||e.field||"";return l===ht?o=v.template(a,r)({}):l===gt&&(o=a),o},_cellTmpl:function(e,t){var r,a,l=this,o=R({},v.Template,l.options.templateSettings),n=e.template,i=o.paramName,s=e.field,d="",c=e.format,p=typeof n,u=e.values;if(e.command){if(I(e.command)){for(r=0,a=e.command.length;a>r;r++)d+=l._createButton(e.command[r]);return d.replace(kt,"\\#")}return l._createButton(e.command).replace(kt,"\\#")}return p===ht?(t.storage["tmpl"+t.count]=n,d+="#=this.tmpl"+t.count+"("+i+")#",t.count++):p===gt?d+=n:u&&u.length&&H(u[0])&&"value"in u[0]&&s?(d+="#var v ="+v.stringify(f(u))+"#",d+="#var f = v[",o.useWithBlock||(d+=i+"."),d+=s+"]#",d+="${f != null ? f : ''}"):(d+=e.encoded?"#:":"#=",c&&(d+='kendo.format("'+c.replace(bt,"\\$1")+'",'),s?(s=v.expr(s,i),d+=s+"==null?'':"+s):d+="''",c&&(d+=")"),d+="#"),d},_templates:function(){var t=this,r=t.options,a=t.dataSource,l=a.group(),o=t.footer||t.wrapper.find(".k-grid-footer"),n=a.aggregate();t.rowTemplate=t._tmpl(r.rowTemplate),t.altRowTemplate=t._tmpl(r.altRowTemplate||r.rowTemplate,!0),t._hasDetails()&&(t.detailTemplate=t._detailTmpl(r.detailTemplate||"")),(t._group&&!N(n)||!N(n)&&!o.length||D(t.columns,function(e){return e.footerTemplate}).length)&&(t.footerTemplate=t._footerTmpl(n,"footerTemplate","k-footer-template")),l&&D(t.columns,function(e){return e.groupFooterTemplate}).length&&(n=e.map(l,function(e){return e.aggregates}),t.groupFooterTemplate=t._footerTmpl(n,"groupFooterTemplate","k-group-footer"))},_footerTmpl:function(e,t,l){var o,i,s,d,c,p=this,u=R({},v.Template,p.options.templateSettings),f=u.paramName,h="",g=p.columns,m={},b=0,k={},_=p._groups(),w=n(e);for(h+='<tr class="'+l+'">',_>0&&(h+=r(_)),p._hasDetails()&&(h+='<td class="k-hierarchy-cell">&nbsp;</td>'),o=0,i=p.columns.length;i>o;o++)c=g[o],s=c[t],d=typeof s,h+="<td"+a(c.footerAttributes)+">",s?(d!==ht&&(k=w[c.field]?R({},u,{paramName:f+"."+c.field}):{},s=v.template(s,k)),m["tmpl"+b]=s,h+="#=this.tmpl"+b+"("+f+")#",b++):h+="&nbsp;",h+="</td>";return h+="</tr>",h=v.template(h,u),b>0?W(h,m):h},_detailTmpl:function(e){var t=this,a="",l=R({},v.Template,t.options.templateSettings),o=l.paramName,n={},i=0,s=t._groups(),c=d(t.columns).length,p=typeof e;return a+='<tr class="k-detail-row">',s>0&&(a+=r(s)),a+='<td class="k-hierarchy-cell"></td><td class="k-detail-cell"'+(c?' colspan="'+c+'"':"")+">",p===ht?(n["tmpl"+i]=e,a+="#=this.tmpl"+i+"("+o+")#",i++):a+=e,a+="</td></tr>",a=v.template(a,l),i>0?W(a,n):a},_hasDetails:function(){var e=this;return null!==e.options.detailTemplate||(e._events[Q]||[]).length},_details:function(){var t=this;t.table.on(pt+K,".k-hierarchy-cell .k-plus, .k-hierarchy-cell .k-minus",function(r){var a,l,o=e(this),n=o.hasClass("k-plus"),i=o.closest("tr.k-master-row"),s=t.detailTemplate,d=t._hasDetails();return o.toggleClass("k-plus",!n).toggleClass("k-minus",n),d&&!i.next().hasClass("k-detail-row")&&(l=t.dataItem(i),e(s(l)).addClass(i.hasClass("k-alt")?"k-alt":"").insertAfter(i),t.trigger(Q,{masterRow:i,detailRow:i.next(),data:l,detailCell:i.next().find(".k-detail-cell")})),a=i.next(),t.trigger(n?ot:nt,{masterRow:i,detailRow:a}),a.toggle(n),t._current&&t._current.attr("aria-expanded",n),r.preventDefault(),!1})},dataItem:function(t){if(t=e(t)[0],!t)return null;var r,a,l=this.tbody.children(),o=/k-grouping-row|k-detail-row|k-group-footer/,n=t.sectionRowIndex;for(a=n,r=0;n>r;r++)o.test(l[r].className)&&a--;return this._data[a]},expandRow:function(t){e(t).find("> td .k-plus, > td .k-i-expand").click()},collapseRow:function(t){e(t).find("> td .k-minus, > td .k-i-collapse").click()},_thead:function(){var r,l,o,n,i,s=this,d=s.columns,c=s._hasDetails()&&d.length,p="",u=s.table.find(">thead");if(u.length||(u=e("<thead/>").insertBefore(s.tbody)),o=s.element.find("tr:has(th):first"),o.length||(o=u.children().first(),o.length||(o=e("<tr/>"))),o.children().length)c&&!o.find(".k-hierarchy-cell")[0]&&o.prepend('<th class="k-hierarchy-cell">&nbsp;</th>');else{for(c&&(p+='<th class="k-hierarchy-cell">&nbsp;</th>'),r=0,l=d.length;l>r;r++)i=d[r],n=s._headerCellText(i),i.command?p+="<th"+a(i.headerAttributes)+">"+n+"</th>":(p+="<th role='columnheader' "+v.attr("field")+"='"+(i.field||"")+"' ",i.title&&(p+=v.attr("title")+'="'+i.title.replace(/'/g,"'")+'" '),i.groupable!==t&&(p+=v.attr("groupable")+"='"+i.groupable+"' "),i.aggregates&&(p+=v.attr("aggregates")+"='"+i.aggregates+"'"),p+=a(i.headerAttributes),p+=">"+n+"</th>");o.html(p)}o.find("th").addClass("k-header"),s.options.scrollable||u.addClass("k-grid-header"),o.find("script").remove().end().appendTo(u),s.thead&&s._destroyColumnAttachments(),s.thead=u,s._sortable(),s._filterable(),s._scrollable(),s._updateCols(),s._resizable(),s._draggable(),s._reorderable(),s.groupable&&s._attachGroupable(),s._columnMenu()},_updateCols:function(){var e=this;e._appendCols(e.thead.parent().add(e.table))},_appendCols:function(e){var t=this;u(e,d(t.columns),t._hasDetails(),t._groups())},_autoColumns:function(e){if(e&&e.toJSON){var t,r=this;e=e.toJSON();for(t in e)r.columns.push({field:t});r._thead(),r._templates()}},_rowsHtml:function(e){var t,r,a=this,l="",o=a.rowTemplate,n=a.altRowTemplate;for(t=0,r=e.length;r>t;t++)l+=t%2?n(e[t]):o(e[t]),a._data.push(e[t]);return l},_groupRowHtml:function(e,t,a){var l,o,n=this,i="",s=e.field,d=D(n.columns,function(e){return e.field==s})[0]||{},c=d.groupHeaderTemplate,p=(d.title||s)+": "+h(e.value,d.format,d.values),u=R({},{field:e.field,value:e.value},e.aggregates[e.field]),f=n._groupAggregatesDefaultObject||{},g=e.items;if(c&&(p=typeof c===ht?c(u):v.template(c)(u)),i+='<tr class="k-grouping-row">'+r(a)+'<td colspan="'+t+'" aria-expanded="true">'+'<p class="k-reset">'+'<a class="k-icon k-i-collapse" href="#" tabindex="-1"></a>'+p+"</p></td></tr>",e.hasSubgroups)for(l=0,o=g.length;o>l;l++)i+=n._groupRowHtml(g[l],t-1,a+1);else i+=n._rowsHtml(g);return n.groupFooterTemplate&&(i+=n.groupFooterTemplate(R(f,e.aggregates))),i},collapseGroup:function(r){r=e(r).find(".k-icon").addClass("k-i-expand").removeClass("k-i-collapse").end();var a,l,o=r.find(".k-group-cell").length,n=1;r.find("td:first").attr("aria-expanded",!1),r.nextAll("tr").each(function(){return l=e(this),a=l.find(".k-group-cell").length,l.hasClass("k-grouping-row")?n++:l.hasClass("k-group-footer")&&n--,o>=a||l.hasClass("k-group-footer")&&0>n?!1:(l.hide(),t)})},expandGroup:function(r){r=e(r).find(".k-icon").addClass("k-i-collapse").removeClass("k-i-expand").end();var a,l,o=this,n=r.find(".k-group-cell").length,i=1;r.find("td:first").attr("aria-expanded",!0),r.nextAll("tr").each(function(){return a=e(this),l=a.find(".k-group-cell").length,n>=l?!1:(l!=n+1||a.hasClass("k-detail-row")||(a.show(),a.hasClass("k-grouping-row")&&a.find(".k-icon").hasClass("k-i-collapse")&&o.expandGroup(a),a.hasClass("k-master-row")&&a.find(".k-icon").hasClass("k-minus")&&a.next().show()),a.hasClass("k-grouping-row")&&i++,a.hasClass("k-group-footer")&&(1==i?a.show():i--),t)})},_updateHeader:function(t){var r=this,a=r.thead.find("th.k-group-cell"),l=a.length;t>l?e(Array(t-l+1).join('<th class="k-group-cell k-header">&nbsp;</th>')).prependTo(r.thead.find("tr")):l>t&&(l-=t,e(D(a,function(e,t){return l>t})).remove())},_firstDataItem:function(e,t){return e&&t&&(e=e.hasSubgroups?this._firstDataItem(e.items[0],t):e.items[0]),e},hideColumn:function(t){var r,a,l,o,n,i,s,p,u,f=this,h=0,m=f.footer||f.wrapper.find(".k-grid-footer"),b=f.columns;if(t="number"==typeof t?b[t]:D(b,function(e){return e.field===t})[0],t&&!t.hidden){for(u=E(t,d(b)),t.hidden=!0,t.attributes=c(t.attributes),t.footerAttributes=c(t.footerAttributes),t.headerAttributes=c(t.headerAttributes),f._templates(),f._updateCols(),g(f.thead.find(">tr")[0].cells,u,!1),m[0]&&(f._appendCols(m.find("table:first")),g(m.find(".k-footer-template")[0].cells,u,!1)),r=f.tbody.children(),n=0,p=r.length;p>n;n+=1)a=r.eq(n),a.is(".k-grouping-row,.k-detail-row")?(l=a.children(":not(.k-group-cell):first,.k-detail-cell").last(),l.attr("colspan",parseInt(l.attr("colspan"),10)-1)):(a.hasClass("k-grid-edit-row")&&(l=a.children(".k-edit-container")[0])&&(l=e(l),l.attr("colspan",parseInt(l.attr("colspan"),10)-1),l.find("col").eq(u).remove(),a=l.find("tr:first")),g(a[0].cells,u,!1));for(i=f.thead.prev().find("col"),n=0,p=i.length;p>n;n+=1){if(s=i[n].style.width,!s||-1!=s.indexOf("%")){h=0;break}h+=parseInt(s,10)}o=e(">.k-grid-header table:first,>.k-grid-footer table:first",f.wrapper).add(f.table),f._footerWidth=null,h&&(o.width(h),f._footerWidth=h),yt.msie&&8==yt.version&&(o.css("display","inline-table"),setTimeout(function(){o.css("display","table")},1)),f.trigger(tt,{column:t})}},showColumn:function(t){var r,a,l,o,n,i,s,c,f,h,m=this,b=m.columns,k=m.footer||m.wrapper.find(".k-grid-footer");if(t="number"==typeof t?b[t]:D(b,function(e){return e.field===t})[0],t&&t.hidden){for(h=E(t,b),t.hidden=!1,t.attributes=p(t.attributes),t.footerAttributes=p(t.footerAttributes),t.headerAttributes=p(t.headerAttributes),m._templates(),m._updateCols(),g(m.thead.find(">tr")[0].cells,h,!0),k[0]&&(m._appendCols(k.find("table:first")),g(k.find(".k-footer-template")[0].cells,h,!0)),r=m.tbody.children(),a=0,l=r.length;l>a;a+=1)o=r.eq(a),o.is(".k-grouping-row,.k-detail-row")?(n=o.children(":not(.k-group-cell):first,.k-detail-cell").last(),n.attr("colspan",parseInt(n.attr("colspan"),10)+1)):(o.hasClass("k-grid-edit-row")&&(n=o.children(".k-edit-container")[0])&&(n=e(n),n.attr("colspan",parseInt(n.attr("colspan"),10)+1),u(n.find(">form>table"),d(b),!1,0),o=n.find("tr:first")),g(o[0].cells,h,!0));if(i=e(">.k-grid-header table:first,>.k-grid-footer table:first",m.wrapper).add(m.table),t.width){for(s=0,f=m.thead.prev().find("col"),a=0,l=f.length;l>a;a+=1){if(c=f[a].style.width,c.indexOf("%")>-1){s=0;break}s+=parseInt(c,10)}m._footerWidth=null,s&&(i.width(s),m._footerWidth=s)}else i.width("");m.trigger(rt,{column:t})}},_progress:function(e){var t=this,r=t.element.is("table")?t.element.parent():t.content&&t.content.length?t.content:t.element;v.ui.progress(r,e)},refresh:function(t){var r,a,l,o,i,s,c=this,p="",u=c.dataSource.view(),f=c.options.navigatable,h=e(c.current()),g=!1,m=(c.dataSource.group()||[]).length,k=m+d(c.columns).length;if(!(t&&"itemchange"===t.action&&c.editable||(t=t||{},c.trigger("dataBinding",{action:t.action||"rebind",index:t.index,items:t.items})))){if(s=x(),f&&(c.table[0]===s||e.contains(c.table[0],s)||c._editContainer&&c._editContainer.data("kendoWindow"))&&(g=h.is("th"),i=0,g&&(i=c.thead.find("th:not(.k-group-cell)").index(h))),c._destroyEditable(),c._progress(!1),c._data=[],c.columns.length||(c._autoColumns(c._firstDataItem(u[0],m)),k=m+c.columns.length),c._group=m>0||c._group,c._group&&(c._templates(),c._updateCols(),c._updateHeader(m),c._group=m>0),m>0)for(c.detailTemplate&&k++,c.groupFooterTemplate&&(c._groupAggregatesDefaultObject=n(c.dataSource.aggregate())),a=0,r=u.length;r>a;a++)p+=c._groupRowHtml(u[a],k,0);else p+=c._rowsHtml(u);y?c.tbody[0].innerHTML=p:(o=document.createElement("div"),o.innerHTML="<table><tbody>"+p+"</tbody></table>",l=o.firstChild.firstChild,c.table[0].replaceChild(l,c.tbody[0]),c.tbody=e(l)),c._footer(),c._setContentHeight(),i>=0&&(c._removeCurrent(),g?c.current(c.thead.find("th:not(.k-group-cell)").eq(i)):c.current(c.items().eq(i).children().filter(B).first()),c._current&&b(c._current.closest("table")[0],!0)),c.trigger(lt)}}});_.plugin(Ht),_.plugin(Tt)}(window.kendo.jQuery);;!function(e,t){function a(e,t){var a;if(null===e&&null!==t||null!==e&&null===t)return!1;if(a=e.length,a!==t.length)return!1;for(;a--;)if(e[a]!==t[a])return!1;return!0}function n(e){var t=e.firstChild;return t&&"none"===t.style.display&&(t=l(t,w)),t}function i(e){var t=e.lastChild;return t&&"none"===t.style.display&&(t=l(t,k)),t}function l(e,t){return e=e[t],e&&"none"===e.style.display&&(e=l(e,t)),e}var r=window.kendo,s=r.ui,o=s.List,u=r.keys,c=r._activeElement,d=r.data.ObservableArray,p=e.proxy,_="id",h="li",f="accept",g="filter",v="open",m="close",y="change",T="progress",b="select",w="nextSibling",k="previousSibling",C=' style="display:none"',x="aria-disabled",S="aria-readonly",I="k-state-focused",L="k-loading-hidden",D="k-state-hover",V="k-state-disabled",E="disabled",F="readonly",B=".kendoMultiSelect",A="click"+B,H="keydown"+B,O="mouseenter"+B,N="mouseleave"+B,W=O+" "+N,P=/"/g,M=e.isArray,R=["font-family","font-size","font-stretch","font-style","font-weight","letter-spacing","text-transform","line-height"],j=o.extend({init:function(t,a){var n,i,l=this;l.ns=B,o.fn.init.call(l,t,a),l._wrapper(),l._tagList(),l._input(),l._textContainer(),l._loader(),l._tabindex(l.input),t=l.element.attr("multiple","multiple").hide(),a=l.options,i=a.value,a.placeholder||(a.placeholder=t.data("placeholder")),n=t.attr(_),n&&(l._tagID=n+"_tag_active",n+="_taglist",l.tagList.attr(_,n)),l._aria(n),l._dataSource(),l._ignoreCase(),l._popup(),l._values=[],l._dataItems=[],l._reset(),l._enable(),l._placeholder(),a.autoBind?l.dataSource.fetch():i&&(M(i)||(i=[i]),(e.isPlainObject(i[0])||!a.dataValueField)&&(l._retrieveData=!0,l.dataSource.data(i),l.value(l._initialValues))),r.notify(l)},options:{name:"MultiSelect",enabled:!0,autoBind:!0,highlightFirst:!0,dataTextField:"",dataValueField:"",filter:"startswith",ignoreCase:!0,minLength:0,delay:100,value:null,maxSelectedItems:null,itemTemplate:"",tagTemplate:"",placeholder:"",height:200,animation:{}},events:[v,m,y,b,"dataBinding","dataBound"],setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.options.autoBind&&this.dataSource.fetch()},setOptions:function(e){o.fn.setOptions.call(this,e),this._template(),this._accessors(),this._aria(this.tagList.attr(_))},current:function(e){return this.currentTag(null),o.fn.current.call(this,e)},currentTag:function(e){var a=this;return e===t?a._currentTag:(a._currentTag&&(a._currentTag.removeClass(I).removeAttr(_),a.input.removeAttr("aria-activedescendant")),e&&(e.addClass(I).attr(_,a._tagID),a.input.attr("aria-activedescendant",a._tagID)),a._currentTag=e,t)},dataItems:function(){return this._dataItems},destroy:function(){var e=this,t=e.ns;e.wrapper.off(t),e.tagList.off(t),e.input.off(t),o.fn.destroy.call(e)},_editable:function(t){var a=this,n=t.disable,i=t.readonly,l=a.wrapper.off(B),r=a.tagList.off(B),s=a.element.add(a.input.off(B));i||n?(n?l.addClass(V):l.removeClass(V),s.attr(E,n).attr(F,i).attr(x,n).attr(S,i)):(l.removeClass(V).on(W,a._toggleHover).on("mousedown"+B,function(e){var t=-1!==e.target.className.indexOf("k-delete");e.preventDefault(),t||(a.input[0]!==c()&&a.input.focus(),0===a.options.minLength&&a.open())}),a.input.on(H,p(a._keydown,a)).on("paste"+B,p(a._search,a)).on("focus"+B,function(){a._placeholder(!1)}).on("blur"+B,function(){clearTimeout(a._typing),a._placeholder(),a.close(),a._state===g&&(a._state=f),a.element.blur()}),s.removeAttr(E).removeAttr(F).attr(x,!1).attr(S,!1),r.on(O,h,function(){e(this).addClass(D)}).on(N,h,function(){e(this).removeClass(D)}).on(A,".k-delete",function(t){a._unselect(e(t.target).closest(h)),a._change(),a.close()}))},close:function(){this.popup.close(),this.current(null)},open:function(){var t=this;!t.ul[0].firstChild||t._state===f||t._retrieveData?(t._state="",t._open=!0,t._retrieveData=!1,t._filterSource()):t._visibleItems&&t._allowSelection()&&(t.popup.open(),t.current(t.options.highlightFirst?e(n(t.ul[0])):null))},toggle:function(e){this[e?v:m]()},refresh:function(){var t,a=this,i=null;a.trigger("dataBinding"),t=a._render(a.dataSource.view()),a._height(t),a._setInitialValues&&(a._setInitialValues=!1,a.value(a._initialValues)),a._open&&(a._open=!1,a.toggle(t)),a.popup.visible()&&(a.popup._position(),a.options.highlightFirst&&(i=e(n(a.ul[0])))),a.current(i),a._touchScroller&&a._touchScroller.reset(),a._makeUnselectable(),a._hideBusy(),a.trigger("dataBound")},search:function(e){var t=this,a=t.options,n=a.ignoreCase,i=a.filter,l=a.dataTextField,r=t.input.val();a.placeholder===r&&(r=""),clearTimeout(t._typing),e="string"==typeof e?e:r,e.length>=a.minLength&&(t._state=g,t._open=!0,t._filterSource({value:n?e.toLowerCase():e,field:l,operator:i,ignoreCase:n}))},value:function(a){var n,i=this,l=e(i.tagList[0].children),r=l.length,s=0;if(a===t)return i._values;if(!i._fetchItems(a)){for(;r>s;s++)i._unselect(l.eq(s));if(null!==a){for(a=M(a)||a instanceof d?a:[a],s=0,r=a.length;r>s;s++)n=i._index(a[s]),n>-1&&i._select(n);i._old=i._values.slice()}}},_dataSource:function(){var e=this,t=e.element,a=e.options,n=a.dataSource||{};n=M(n)?{data:n}:n,n.select=t,n.fields=[{field:a.dataTextField},{field:a.dataValueField}],e.dataSource&&e._refreshHandler?e._unbindDataSource():(e._refreshHandler=p(e.refresh,e),e._progressHandler=p(e._showBusy,e)),e.dataSource=r.data.DataSource.create(n).bind(y,e._refreshHandler).bind(T,e._progressHandler)},_fetchItems:function(a){var n=this,i=e.isArray(a)&&0===a.length;if(!i&&a)return n._fetch||n.ul[0].firstChild?t:(n.dataSource.one(y,function(){n.value(a),n._fetch=!1}),n._fetch=!0,n.dataSource.fetch(),!0)},_reset:function(){var t=this,a=t.element,n=a.attr("form"),i=n?e("#"+n):a.closest("form");i[0]&&(t._resetHandler=function(){setTimeout(function(){t.value(t._initialValues)})},t._form=i.on("reset",t._resetHandler))},_initValue:function(){var e=this,t=e.options.value||e.element.val();null===t?t=[]:(M(t)||(t=[t]),t=e._mapValues(t)),e._old=e._initialValues=t,e._setInitialValues=!!t[0]},_mapValues:function(t){var a=this;return t&&e.isPlainObject(t[0])&&(t=e.map(t,function(e){return a._value(e)})),t},_change:function(){var e=this,t=e.value();a(t,e._old)||(e._old=t.slice(),e.trigger(y),e.element.trigger(y))},_click:function(a){var n=this,i=e(a.currentTarget);if(!a.isDefaultPrevented()){if(n.trigger(b,{item:i}))return n.close(),t;n._select(i),n._change(),n.close()}},_item:function(e,t){return e=e[t](),e[0]&&!e.is(":visible")&&(e=this._item(e,t)),e},_keydown:function(a){var s=this,o=a.keyCode,c=s._currentTag,d=s._current,p=s.input.val(),_=r.support.isRtl(s.wrapper),h=s.popup.visible();if(o===u.DOWN){if(a.preventDefault(),!h)return s.open(),t;d=d?l(d[0],w):s.ul[0].firstChild,d&&s.current(e(d))}else if(o===u.UP)h&&(d=d?l(d[0],k):s.ul[0].lastChild,s.current(e(d)),s._current[0]||s.close()),a.preventDefault();else if(o===u.LEFT&&!_||o===u.RIGHT&&_)p||(c=c?c.prev():e(s.tagList[0].lastChild),c[0]&&s.currentTag(c));else if(o===u.RIGHT&&!_||o===u.LEFT&&_)!p&&c&&(c=c.next(),s.currentTag(c[0]?c:null));else if(o===u.ENTER&&h){if(d){if(s.trigger(b,{item:d}))return s.close(),t;s._select(d)}s._change(),s.close(),a.preventDefault()}else o===u.ESC?(h?a.preventDefault():s.currentTag(null),s.close()):o===u.HOME?h?s.current(e(n(s.ul[0]))):p||(c=s.tagList[0].firstChild,c&&s.currentTag(e(c))):o===u.END?h?s.current(e(i(s.ul[0]))):p||(c=s.tagList[0].lastChild,c&&s.currentTag(e(c))):o!==u.DELETE&&o!==u.BACKSPACE||p?(clearTimeout(s._typing),setTimeout(function(){s._scale()}),s._search()):(o!==u.BACKSPACE||c||(c=e(s.tagList[0].lastChild)),c&&c[0]&&(s._unselect(c),s._change(),s.close()))},_hideBusy:function(){var e=this;clearTimeout(e._busy),e.input.attr("aria-busy",!1),e._loading.addClass(L),e._busy=null},_showBusy:function(){var e=this;e._busy||(e._busy=setTimeout(function(){e.input.attr("aria-busy",!0),e._loading.removeClass(L)},100))},_placeholder:function(e){var a=this,n=a.input;e===t?(e=!1,n[0]!==c()&&(e=!a._dataItems[0]),a.wrapper.removeClass(I)):a.wrapper.addClass(I),a._prev="",n.toggleClass("k-readonly",e).val(e?a.options.placeholder:""),n[0]===document.activeElement&&o.selectText(n[0],0,0),a._scale()},_scale:function(){var e,t=this,a=t.wrapper,n=a.width(),i=t._span.text(t.input.val());a.is(":visible")?e=i.width()+25:(i.appendTo(document.documentElement),n=e=i.width()+25,i.appendTo(a)),t.input.width(e>n?n:e)},_option:function(e,a){var n="<option",i=this._text(e),l=this._value(e);return l!==t&&(l+="",-1!==l.indexOf('"')&&(l=l.replace(P,"&quot;")),n+=' value="'+l+'"'),a&&(n+=' selected="selected"'),n+=">",i!==t&&(n+=r.htmlEncode(i)),n+="</option>"},_render:function(e){for(var t,a,n=this,i=e.length,l=n.itemTemplate,r=n._dataItems.slice(0),s=0,o=0,u="",c="";i>o;o++)t=e[o],a=n._selected(r,t),c+=l(t,o,a),u+=n._option(t,a),a||(s+=1);if(i=r.length)for(o=0;i>o;o++)u+=n._option(r[o],!0);return n.ul[0].innerHTML=c,n.element.html(u),n._visibleItems=s,s},_selected:function(e,a){var n,i=this,l=i._text,r=i._value,s=r(a),o=e.length,u=!1,c=0;for(s===t&&(s=l(a));o>c;c++)if(a=e[c],n=r(a),n===t&&(n=l(a)),n!==t&&n===s){u=!0;break}return u&&e.splice(c,1),u},_search:function(){var e=this;e._typing=setTimeout(function(){var t=e.input.val();e._prev!==t&&(e._prev=t,e.search(t))},e.options.delay)},_allowSelection:function(){var e=this.options.maxSelectedItems;return null===e||e>this._values.length},_select:function(e){var t,a,n=this,i=n._values;n._allowSelection()&&(isNaN(e)?a=e.hide().data("idx"):(a=e,n.ul[0].children[a].style.display="none"),n.element[0].children[a].selected=!0,t=n.dataSource.view()[a],n.tagList.append(n.tagTemplate(t)),n._dataItems.push(t),i.push(n._dataValue(t)),n._visibleItems-=1,n.currentTag(null),n._placeholder(),n._height(n._visibleItems),n._state===g&&(n._state=f))},_unselect:function(t){var a,n,i,l,r,s=this,o=t.index();if(t.remove(),s.currentTag(null),s._values.splice(o,1),a=s._dataItems.splice(o,1)[0],n=s._dataValue(a),o=s._index(n),-1!==o)e(s.ul[0].children[o]).show(),s.element[0].children[o].selected=!1,s._visibleItems+=1,s._height(s._visibleItems);else for(o=s.dataSource.view().length,i=s.element[0].children,r=i.length;r>o;o++)if(l=i[o],l.value==n){l.selected=!1;break}s._placeholder()},_template:function(){var e,t=this,a=t.options,n=a.itemTemplate,i=a.tagTemplate,l=a.dataSource;t.element[0].length&&!l&&(a.dataTextField=a.dataTextField||"text",a.dataValueField=a.dataValueField||"value"),e=r.template("#:"+r.expr(a.dataTextField,"data")+"#",{useWithBlock:!1}),n=n?r.template(n):e,i=i?r.template(i):e,t.itemTemplate=function(e,t,a){return'<li tabindex="-1" role="option" data-idx="'+t+'" unselectable="on" class="k-item"'+(a?C:"")+">"+n(e)+"</li>"},t.tagTemplate=function(e){return'<li class="k-button" unselectable="on"><span unselectable="on">'+i(e)+'</span><span unselectable="on" class="k-icon k-delete">delete</span></li>'}},_input:function(){var t=this,a=t.element[0].accessKey,n=t._innerWrapper.children("input.k-input");n[0]||(n=e('<input class="k-input" style="width: 25px" />').appendTo(t._innerWrapper)),t.element.removeAttr("accesskey"),t._focused=t.input=n.attr({accesskey:a,role:"listbox","aria-expanded":!1})},_tagList:function(){var t=this,a=t._innerWrapper.children("ul");a[0]||(a=e('<ul role="listbox" unselectable="on" class="k-reset"/>').appendTo(t._innerWrapper)),t.tagList=a},_loader:function(){this._loading=e('<span class="k-icon k-loading '+L+'"></span>').insertAfter(this.input)},_textContainer:function(){var t=r.getComputedStyles(this.input[0],R);t.position="absolute",t.visibility="hidden",this._span=e("<span/>").css(t).appendTo(this.wrapper)},_wrapper:function(){var t=this,a=t.element,n=a.parent("span.k-multiselect");n[0]||(n=a.wrap('<div class="k-widget k-multiselect k-header" unselectable="on" />').parent(),n[0].style.cssText=a[0].style.cssText,e('<div class="k-multiselect-wrap k-floatwrap" unselectable="on" />').insertBefore(a)),t.wrapper=n.addClass(a[0].className).css("display",""),t._innerWrapper=e(n[0].firstChild)}});s.plugin(j)}(window.kendo.jQuery);;!function(e,t){function n(t){t=e(t),t.children(k).children(".k-icon").remove(),t.filter(":has(.k-panel),:has(.k-content)").children(".k-link:not(:has([class*=k-i-arrow]))").each(function(){var t=e(this),n=t.parent();t.append("<span class='k-icon "+(n.hasClass(S)?"k-i-arrow-n k-panelbar-collapse":"k-i-arrow-s k-panelbar-expand")+"'/>")})}function r(t){t=e(t),t.filter(".k-first:not(:first-child)").removeClass(w),t.filter(".k-last:not(:last-child)").removeClass(m),t.filter(":first-child").addClass(w),t.filter(":last-child").addClass(m)}var a=window.kendo,i=a.ui,s=a.keys,l=e.extend,o=e.each,d=a.template,c=i.Widget,u=/^(ul|a|div)$/i,p=".kendoPanelBar",f="img",h="href",m="k-last",g="k-link",k="."+g,v="error",_=".k-item",C=".k-group",x=C+":visible",b="k-image",w="k-first",y="expand",I="select",A="k-content",E="activate",U="collapse",D="mouseenter",G="mouseleave",T="contentLoad",S="k-state-active",B="> .k-panel",j="> .k-content",O="k-state-focused",R="k-state-disabled",W="k-state-selected",N="."+W,P="k-state-highlight",q=_+":not(.k-state-disabled)",H=q+" > .k-link",L=_+".k-state-disabled > .k-link",M="> li > "+N+", .k-panel > li > "+N,F="k-state-default",Q="aria-disabled",V="aria-expanded",$="aria-hidden",z="aria-selected",J=":visible",K=":empty",X="single",Y={content:d("<div role='region' class='k-content'#= contentAttributes(data) #>#= content(item) #</div>"),group:d("<ul role='group' aria-hidden='true' class='#= groupCssClass(group) #'#= groupAttributes(group) #>#= renderItems(data) #</ul>"),itemWrapper:d("<#= tag(item) # class='#= textClass(item, group) #' #= contentUrl(item) ##= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:d("<li role='menuitem' #=aria(item)#class='#= wrapperCssClass(group, item) #'>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, panelBar: panelBar, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),image:d("<img class='k-image' alt='' src='#= imageUrl #' />"),arrow:d("<span class='#= arrowClass(item) #'></span>"),sprite:d("<span class='k-sprite #= spriteCssClass #'></span>"),empty:d("")},Z={aria:function(e){var t="";return(e.items||e.content||e.contentUrl)&&(t+=V+"='"+(e.expanded?"true":"false")+"' "),e.enabled===!1&&(t+=Q+"='true'"),t},wrapperCssClass:function(e,t){var n="k-item",r=t.index;return n+=t.enabled===!1?" "+R:t.expanded===!0?" "+S:" k-state-default",0===r&&(n+=" k-first"),r==e.length-1&&(n+=" k-last"),t.cssClass&&(n+=" "+t.cssClass),n},textClass:function(e,t){var n=g;return t.firstLevel&&(n+=" k-header"),n},textAttributes:function(e){return e.url?" href='"+e.url+"'":""},arrowClass:function(e){var t="k-icon";return t+=e.expanded?" k-i-arrow-n k-panelbar-collapse":" k-i-arrow-s k-panelbar-expand"},text:function(e){return e.encoded===!1?e.text:a.htmlEncode(e.text)},tag:function(e){return e.url||e.contentUrl?"a":"span"},groupAttributes:function(e){return e.expanded!==!0?" style='display:none'":""},groupCssClass:function(){return"k-group k-panel"},contentAttributes:function(e){return e.item.expanded!==!0?" style='display:none'":""},content:function(e){return e.content?e.content:e.contentUrl?"":"&nbsp;"},contentUrl:function(e){return e.contentUrl?'href="'+e.contentUrl+'"':""}},et=c.extend({init:function(t,n){var r,i=this;c.fn.init.call(i,t,n),t=i.wrapper=i.element.addClass("k-widget k-reset k-header k-panelbar"),n=i.options,t[0].id&&(i._itemId=t[0].id+"_pb_active"),i._tabindex(),i._initData(n),i._updateClasses(),i._animations(n),t.on("click"+p,H,function(t){i._click(e(t.currentTarget))&&t.preventDefault()}).on(D+p+" "+G+p,H,i._toggleHover).on("click"+p,L,!1).on("keydown"+p,e.proxy(i._keydown,i)).on("focus"+p,function(){var e=i.select();i._current(e[0]?e:i._first())}).on("blur"+p,function(){i._current(null)}).attr("role","menu"),r=t.find("li."+S+" > ."+A),r[0]&&i.expand(r.parent(),!1),a.notify(i)},events:[y,U,I,E,v,T],options:{name:"PanelBar",animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:200}},expandMode:"multiple"},destroy:function(){c.fn.destroy.call(this),this.element.off(p),a.destroy(this.element)},_initData:function(e){var t=this;e.dataSource&&(t.element.empty(),t.append(e.dataSource,t.element))},setOptions:function(e){var t=this.options.animation;this._animations(e),e.animation=l(!0,t,e.animation),"dataSource"in e&&this._initData(e),c.fn.setOptions.call(this,e)},expand:function(t,n){var r=this,a={};return n=n!==!1,t=this.element.find(t),t.each(function(i,s){s=e(s);var l=s.find(B).add(s.find(j));if(!s.hasClass(R)&&l.length>0){if(r.options.expandMode==X&&r._collapseAllExpanded(s))return r;t.find("."+P).removeClass(P),s.addClass(P),n||(a=r.options.animation,r.options.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}}),r._triggerEvent(y,s)||r._toggleItem(s,!1),n||(r.options.animation=a)}}),r},collapse:function(t,n){var r=this,a={};return n=n!==!1,t=r.element.find(t),t.each(function(t,i){i=e(i);var s=i.find(B).add(i.find(j));!i.hasClass(R)&&s.is(J)&&(i.removeClass(P),n||(a=r.options.animation,r.options.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}}),r._triggerEvent(U,i)||r._toggleItem(i,!0),n||(r.options.animation=a))}),r},_toggleDisabled:function(e,t){e=this.element.find(e),e.toggleClass(F,t).toggleClass(R,!t).attr(Q,!t)},select:function(n){var r=this;return n===t?r.element.find(M).parent():(r.element.find(n).each(function(){var n=e(this),a=n.children(k);return n.hasClass(R)?r:(r._updateSelected(a),t)}),r)},enable:function(e,t){return this._toggleDisabled(e,t!==!1),this},disable:function(e){return this._toggleDisabled(e,!1),this},append:function(e,t){t=this.element.find(t);var a=this._insert(e,t,t.length?t.find(B):null);return o(a.items,function(){a.group.append(this),r(this)}),n(t),r(a.group.find(".k-first, .k-last")),a.group.height("auto"),this},insertBefore:function(e,t){t=this.element.find(t);var n=this._insert(e,t,t.parent());return o(n.items,function(){t.before(this),r(this)}),r(t),n.group.height("auto"),this},insertAfter:function(e,t){t=this.element.find(t);var n=this._insert(e,t,t.parent());return o(n.items,function(){t.after(this),r(this)}),r(t),n.group.height("auto"),this},remove:function(e){e=this.element.find(e);var t=this,a=e.parentsUntil(t.element,_),i=e.parent("ul");return e.remove(),!i||i.hasClass("k-panelbar")||i.children(_).length||i.remove(),a.length&&(a=a.eq(0),n(a),r(a)),t},reload:function(t){var n=this;t=n.element.find(t),t.each(function(){var t=e(this);n._ajaxRequest(t,t.children("."+A),!t.is(J))})},_first:function(){return this.element.children(q).first()},_last:function(){var e=this.element.children(q).last(),t=e.children(x);return t[0]?t.children(q).last():e},_current:function(e){var n=this,r=n._focused,a=n._itemId;return e===t?r:(n.element.removeAttr("aria-activedescendant"),r&&(r[0].id===a&&r.removeAttr("id"),r.children(k).removeClass(O)),e&&(a=e[0].id||a,e.attr("id",a).children(k).addClass(O),n.element.attr("aria-activedescendant",a)),n._focused=e,t)},_keydown:function(e){var t=this,n=e.keyCode,r=t._current();e.target==e.currentTarget&&(n==s.DOWN||n==s.RIGHT?(t._current(t._nextItem(r)),e.preventDefault()):n==s.UP||n==s.LEFT?(t._current(t._prevItem(r)),e.preventDefault()):n==s.ENTER||n==s.SPACEBAR?(t._click(r.children(k)),e.preventDefault()):n==s.HOME?(t._current(t._first()),e.preventDefault()):n==s.END&&(t._current(t._last()),e.preventDefault()))},_nextItem:function(e){if(!e)return this._first();var t=e.children(x),n=e.next();return t[0]&&(n=t.children("."+w)),n[0]||(n=e.parent(x).parent(_).next()),n[0]&&n.is(":visible")||(n=this._first()),n.hasClass(R)&&(n=this._nextItem(n)),n},_prevItem:function(e){if(!e)return this._last();var t,n=e.prev();if(n[0])for(t=n;t[0];)t=t.children(x).children("."+m),t[0]&&(n=t);else n=e.parent(x).parent(_),n[0]||(n=this._last());return n.hasClass(R)&&(n=this._prevItem(n)),n},_insert:function(t,n,r){var a,i,s=this,o=e.isPlainObject(t),d=n&&n[0];return d||(r=s.element),i={firstLevel:r.hasClass("k-panelbar"),expanded:r.parent().hasClass(S),length:r.children().length},d&&!r.length&&(r=e(et.renderGroup({group:i})).appendTo(n)),o||e.isArray(t)?(a=e.map(o?[t]:t,function(t,n){return"string"==typeof t?e(t):e(et.renderItem({group:i,item:l(t,{index:n})}))}),d&&n.attr(V,!1)):(a=e(t),s._updateItemsClasses(a)),{items:a,group:r}},_toggleHover:function(t){var n=e(t.currentTarget);n.parents("li."+R).length||n.toggleClass("k-state-hover",t.type==D)},_updateClasses:function(){var t,a,i=this;t=i.element.find("li > ul").not(function(){return e(this).parentsUntil(".k-panelbar","div").length}).addClass("k-group k-panel").attr("role","group"),t.parent().attr(V,!1).not("."+S).children("ul").attr($,!0).hide(),a=i.element.add(t).children(),i._updateItemsClasses(a),n(a),r(a)},_updateItemsClasses:function(e){for(var t=e.length,n=0;t>n;n++)this._updateItemClasses(e[n],n)},_updateItemClasses:function(t,n){var r,i,s=this._selected,l=this.options.contentUrls,o=l&&l[n],d=this.element[0];t=e(t).addClass("k-item").attr("role","menuitem"),a.support.browser.msie&&t.css("list-style-position","inside").css("list-style-position",""),t.children(f).addClass(b),i=t.children("a").addClass(g),i[0]&&(i.attr("href",o),i.children(f).addClass(b)),t.filter(":not([disabled]):not([class*=k-state])").addClass("k-state-default"),t.filter("li[disabled]").addClass("k-state-disabled").attr(Q,!0).removeAttr("disabled"),t.children("div").addClass(A).attr("role","region").attr($,!0).hide().parent().attr(V,!1),i=t.children(N),i[0]&&(s&&s.removeAttr(z).children(N).removeClass(W),i.addClass(W),this._selected=t.attr(z,!0)),t.children(k)[0]||(r="<span class='"+g+"'/>",l&&l[n]&&t[0].parentNode==d&&(r='<a class="k-link k-header" href="'+l[n]+'"/>'),t.contents().filter(function(){return!(this.nodeName.match(u)||3==this.nodeType&&!e.trim(this.nodeValue))}).wrapAll(r)),t.parent(".k-panelbar")[0]&&t.children(k).addClass("k-header")},_click:function(e){var t,n,r,a,i,s,l,o=this,d=o.element;if(!e.parents("li."+R).length&&e.closest(".k-widget")[0]==d[0]){if(i=e.closest(k),s=i.closest(_),o._updateSelected(i),n=s.find(B).add(s.find(j)),r=i.attr(h),a=r&&("#"==r.charAt(r.length-1)||-1!=r.indexOf("#"+o.element[0].id+"-")),t=!(!a&&!n.length),n.data("animating"))return t;if(o._triggerEvent(I,s)&&(t=!0),t!==!1)return o.options.expandMode==X&&o._collapseAllExpanded(s)?t:(n.length&&(l=n.is(J),o._triggerEvent(l?U:y,s)||(t=o._toggleItem(s,l))),t)}},_toggleItem:function(e,t){var n,r,a=this,i=e.find(B);return i.length?(this._toggleGroup(i,t),n=!0):(r=e.children("."+A),r.length&&(n=!0,r.is(K)?a._ajaxRequest(e,r,t):a._toggleGroup(r,t))),n},_toggleGroup:function(e,t){var n=this,r=n.options.animation,a=r.expand,i=l({},r.collapse),s=i&&"effects"in i;e.is(J)==t&&(e.parent().attr(V,!t).attr($,t).toggleClass(F,t).toggleClass(S,!t).find("> .k-link > .k-icon").toggleClass("k-i-arrow-n",!t).toggleClass("k-panelbar-collapse",!t).toggleClass("k-i-arrow-s",t).toggleClass("k-panelbar-expand",t),a=t?l(s?i:l({reverse:!0},a),{hide:!0}):l({complete:function(e){n._triggerEvent(E,e.closest(_))}},a),e.kendoStop(!0,!0).kendoAnimate(a))},_collapseAllExpanded:function(n){var r,a,i=this,s=!1;return n.children(k).hasClass("k-header")?(a=n.find(B).add(n.find(j)),a.is(J)&&(s=!0),a.is(J)||0===a.length||(r=e(i.element).children(),r.find(B).add(r.find(j)).filter(function(){return e(this).is(J)}).each(function(t,n){n=e(n),s=i._triggerEvent(U,n.closest(_)),s||i._toggleGroup(n,!0)})),s):t},_ajaxRequest:function(t,n,r){var a=this,i=t.find(".k-panelbar-collapse, .k-panelbar-expand"),s=t.find(k),l=setTimeout(function(){i.addClass("k-loading")},100),o={},d=s.attr(h);e.ajax({type:"GET",cache:!1,url:d,dataType:"html",data:o,error:function(e,t){i.removeClass("k-loading"),a.trigger(v,{xhr:e,status:t})&&this.complete()},complete:function(){clearTimeout(l),i.removeClass("k-loading")},success:function(e){try{n.html(e)}catch(i){var s=window.console;s&&s.error&&s.error(i.name+": "+i.message+" in "+d),this.error(this.xhr,"error")}a._toggleGroup(n,r),a.trigger(T,{item:t[0],contentElement:n[0]})}})},_triggerEvent:function(e,t){var n=this;return n.trigger(e,{item:t[0]})},_updateSelected:function(e){var t=this,n=t.element,r=e.parent(_),a=t._selected;a&&a.removeAttr(z),t._selected=r.attr(z,!0),n.find(M).removeClass(W),n.find("> ."+P+", .k-panel > ."+P).removeClass(P),e.addClass(W),e.parentsUntil(n,_).filter(":has(.k-header)").addClass(P),t._current(r)},_animations:function(e){e&&"animation"in e&&!e.animation&&(e.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}})}});l(et,{renderItem:function(e){e=l({panelBar:{},group:{}},e);var t=Y.empty,n=e.item;return Y.item(l(e,{image:n.imageUrl?Y.image:t,sprite:n.spriteCssClass?Y.sprite:t,itemWrapper:Y.itemWrapper,renderContent:et.renderContent,arrow:n.items||n.content||n.contentUrl?Y.arrow:t,subGroup:et.renderGroup},Z))},renderGroup:function(e){return Y.group(l({renderItems:function(e){for(var t="",n=0,r=e.items,a=r?r.length:0,i=l({length:a},e.group);a>n;n++)t+=et.renderItem(l(e,{group:i,item:l({index:n},r[n])}));return t}},e,Z))},renderContent:function(e){return Y.content(l(e,Z))}}),a.ui.plugin(et)}(window.kendo.jQuery);;!function(t){function e(t,e){function n(t,o){var r,s;if(o=o[e])for(r=i[t]=i[t]||[],s=0;s<o.length;s++)r.push(o[s]),n(t+1,o[s])}var i=[];return n(0,t),i}function n(){return R.support.cssBorderSpacing?"":'cellspacing="0"'}function i(e,i){return e.length?"<table "+n()+' class="'+t.trim("k-scheduler-table "+(i||""))+'">'+"<tr>"+e.join("</tr><tr>")+"</tr>"+"</table>":""}function o(t,e){return t.length?"<div style='position:relative'>"+i(t,e)+"</div>":""}function r(e,n,o){var r,s=[];if(o>0)for(r=0;e>r;r++)s.push("<th></th>");return n&&s.push('<th class="k-scheduler-times-all-day">'+n.text+"</th>"),1>o?t():t('<div class="k-scheduler-times">'+i(s)+"</div>")}function s(e,n,r){var s,l,a,c,u,h,d,f,g=[];for(l=0;l<e.length;l++){for(a=e[l],c=[],u=n/a.length,s=0;s<a.length;s++)c.push('<th colspan="'+u+'" class="'+(a[s].className||"")+'">'+a[s].text+"</th>");g.push(c.join(""))}if(h=[],r){for(d=e[e.length-1],f=[],s=0;s<d.length;s++)f.push('<td class="'+(d[s].className||"")+'">&nbsp;</th>');h.push(f.join(""))}return t('<div class="k-scheduler-header k-state-default"><div class="k-scheduler-header-wrap">'+i(g)+o(h,"k-scheduler-header-all-day")+"</div>"+"</div>")}function l(e,n){var o,r,s,l,a,c=Array(n).join().split(","),u=[];for(r=0;r<e.length;r++)for(s=e[r],l=n/s.length,o=0;o<s.length;o++)a=s[o].className||"",s[o].allDay&&(a="k-scheduler-times-all-day"),c[l*o]+='<th class="'+a+'" rowspan="'+l+'">'+s[o].text+"</th>";for(o=0;n>o;o++)u.push(c[o]);return 1>n?t():t('<div class="k-scheduler-times">'+i(u)+"</div>")}function a(){return t('<div class="k-scheduler-content"><table '+n()+' class="k-scheduler-table"/>'+"</div>")}function c(){return I=I?I:R.support.scrollbar()}function u(t,e,n){var i,o,r,s,l;for(i=t.length-1;i>=0;i--)o=h(t[i]),r=o.start,l=o.end,s=e>=r&&l>=e,(s||r>=e&&n>=l||r>=e&&n>=r)&&(e>r&&(e=r),l>n&&(n=l));return d(t,e,n)}function h(t){return{start:t.start,end:t.end}}function d(t,e,n){var i,o,r=[];for(i=0;i<t.length;i++)o=h(t[i]),(o.start<e&&o.end>e||o.start>=e&&o.end<=n)&&r.push(t[i]);return r}function f(t){return p(t)}function g(t){return p(t)}function p(t){var e,n,i,o,r,s,l,a=[];for(e=0;e<t.length;e++){for(n=t[e],i=h(n),o=null,r=0,s=a.length;s>r;r++)if(l=i.start>a[r].end,i.start<a[r].start||l){o=a[r],o.end<i.end&&(o.end=i.end);break}o||(o={start:i.start,end:i.end,events:[]},a.push(o)),o.events.push(n)}return a}function v(t,e,n){var i,o,r,s,l=e[0];if(l){for(i=[],o=l.dataSource.view(),r=0;r<o.length;r++)s={text:R.getter(l.dataTextField)(o[r]),className:"k-slot-cell"},s[t]=v(t,e.slice(1),n),i.push(s);return i}return n}function _(e){return function(n){if(t.isArray(n)||n instanceof R.data.ObservableArray){for(var i=0;i<n.length;i++)if(n[i]==e)return!0;return!1}return n==e}}function m(t){t.className=t.className.replace(T,"")+" k-state-selected"}var S,y,C,b,x,w,D,k,I,H,T,R=window.kendo,z=R.ui,L=z.Widget,E=R.keys,G=".kendoSchedulerView",V=Math,B='<div class="k-marquee k-scheduler-marquee"><div class="k-marquee-color"></div><div class="k-marquee-text"><div class="k-label-top"></div><div class="k-label-bottom"></div></div></div>';R.ui.scheduler={},S=R.Class.extend({init:function(t){this._index=t,this._timeSlotCollections=[],this._daySlotCollections=[]},addTimeSlotCollection:function(t,e){return this._addCollection(t,e,this._timeSlotCollections)},addDaySlotCollection:function(t,e){return this._addCollection(t,e,this._daySlotCollections)},_addCollection:function(t,e,n){var i=new x(t,e,this._index,n.length);return n.push(i),i},timeSlotCollectionCount:function(){return this._timeSlotCollections.length},daySlotCollectionCount:function(){return this._daySlotCollections.length},daySlotByPosition:function(t,e){return this._slotByPosition(t,e,this._daySlotCollections)},timeSlotByPosition:function(t,e){return this._slotByPosition(t,e,this._timeSlotCollections)},_slotByPosition:function(t,e,n){var i,o,r,s;for(i=0;i<n.length;i++)for(o=n[i],r=0;r<o.count();r++)if(s=o.at(r),t>=s.offsetLeft&&t<s.offsetLeft+s.clientWidth&&e>=s.offsetTop&&e<s.offsetTop+s.clientHeight)return s},refresh:function(){var t;for(t=0;t<this._daySlotCollections.length;t++)this._daySlotCollections[t].refresh();for(t=0;t<this._timeSlotCollections.length;t++)this._timeSlotCollections[t].refresh()},timeSlotRanges:function(t,e){var n=this._timeSlotCollections,i=this._startSlot(t,n),o=i;return e>t&&(o=this._endSlot(e,n)),this._continuousRange(C,n,i,o)},daySlotRanges:function(t,e,n){var i=this._daySlotCollections,o=this._startSlot(t,i,n),r=o;return e>t&&(r=this._endSlot(e,i,n)),this._continuousRange(b,i,o,r)},_continuousRange:function(t,e,n,i){var o,r,s,l,a,c,u=n.slot,h=i.slot,d=u.collectionIndex,f=h.collectionIndex,g=[];for(o=d;f>=o;o++)r=e[o],s=r.first(),l=r.last(),a=!1,c=!1,o==d&&(c=!n.inRange),o==f&&(a=!i.inRange),s.start<u.start&&(s=u),l.start>h.start&&(l=h),f>d&&(o==d?a=!0:o==f?c=!0:a=c=!0),g.push(new t({start:s,end:l,collection:r,head:a,tail:c}));return g},slotRanges:function(t,e){var n=R.date.toUtcTime(t.start),i=R.date.toUtcTime(t.end);return void 0===e&&(e=t.isMultiDay()),e?this.daySlotRanges(n,i,t.isAllDay):(t.startTime&&(n=R.date.getMilliseconds(t.startTime)+R.date.toUtcTime(R.date.getDate(t.start))),t.endTime&&(i=R.date.getMilliseconds(t.endTime)+R.date.toUtcTime(R.date.getDate(t.end))),this.timeSlotRanges(n,i))},ranges:function(t,e,n,i){return"number"!=typeof t&&(t=R.date.toUtcTime(t)),"number"!=typeof e&&(e=R.date.toUtcTime(e)),n?this.daySlotRanges(t,e,i):this.timeSlotRanges(t,e)},_startCollection:function(t,e){var n,i;for(n=0;n<e.length;n++)if(i=e[n],i.startInRange(t))return i;return null},_endCollection:function(t,e){var n,i;for(n=0;n<e.length;n++)if(i=e[n],i.endInRange(t))return i;return null},_getCollections:function(t){return t?this._daySlotCollections:this._timeSlotCollections},continuousSlot:function(t,e){var n=e?-1:1,i=this._getCollections(t.isDaySlot),o=i[t.collectionIndex+n];return o?o[e?"last":"first"]():void 0},firstSlot:function(){var t=this._getCollections(this.daySlotCollectionCount());return t[0].first()},lastSlot:function(){var t=this._getCollections(this.daySlotCollectionCount());return t[t.length-1].last()},upSlot:function(t,e){var n=this,i=function(t,i,o){var r=0===o;return!e&&!t&&r&&n.daySlotCollectionCount()?n._daySlotCollections[0].at(i):void 0};return this.timeSlotCollectionCount()||(e=!0),this._verticalSlot(t,-1,i)},downSlot:function(t,e){var n=this,i=function(t,i,o){return!e&&t&&n.timeSlotCollectionCount()?n._timeSlotCollections[o].at(0):void 0};return this.timeSlotCollectionCount()||(e=!0),this._verticalSlot(t,1,i)},leftSlot:function(t){return this._horizontalSlot(t,-1)},rightSlot:function(t){return this._horizontalSlot(t,1)},_horizontalSlot:function(t,e){var n,i=t.index,o=t.isDaySlot,r=t.collectionIndex,s=this._getCollections(o);return o?i+=e:r+=e,n=s[r],n?n.at(i):void 0},_verticalSlot:function(t,e,n){var i,o=t.index,r=t.isDaySlot,s=t.collectionIndex,l=this._getCollections(r);return(t=n(r,s,o))?t:(r?s+=e:o+=e,i=l[s],i?i.at(o):void 0)},_collection:function(t,e){var n=e?this._daySlotCollections:this._timeSlotCollections;return n[t]},_startSlot:function(t,e,n){var i,o=this._startCollection(t,e),r=!0;return o||(o=e[0],r=!1),i=o.slotByStartDate(t,n),i||(i=o.first(),r=!1),{slot:i,inRange:r}},_endSlot:function(t,e,n){var i,o=this._endCollection(t,e),r=!0;return o||(o=e[e.length-1],r=!1),i=o.slotByEndDate(t,n),i||(i=o.last(),r=!1),{slot:i,inRange:r}},getSlotCollection:function(t,e){return this[e?"getDaySlotCollection":"getTimeSlotCollection"](t)},getTimeSlotCollection:function(t){return this._timeSlotCollections[t]},getDaySlotCollection:function(t){return this._daySlotCollections[t]}}),y=R.Class.extend({init:function(e){t.extend(this,e)},innerHeight:function(){var t,e=this.collection,n=this.start.index,i=this.end.index,o=0;for(t=n;i>=t;t++)o+=e.at(t).offsetHeight;return o},events:function(){return this.collection.events()},addEvent:function(t){this.events().push(t)},startSlot:function(){return this.start.offsetLeft>this.end.offsetLeft?this.end:this.start},endSlot:function(){return this.start.offsetLeft>this.end.offsetLeft?this.start:this.end}}),C=y.extend({innerHeight:function(){var t,e=this.collection,n=this.start.index,i=this.end.index,o=0;for(t=n;i>=t;t++)o+=e.at(t).offsetHeight;return o}}),b=y.extend({innerWidth:function(){var t,e=this.collection,n=this.start.index,i=this.end.index,o=0,r=n!==i?"offsetWidth":"clientWidth";for(t=n;i>=t;t++)o+=e.at(t)[r];return o}}),x=R.Class.extend({init:function(t,e,n,i){this._slots=[],this._events=[],this._start=R.date.toUtcTime(t),this._end=R.date.toUtcTime(e),this._groupIndex=n,this._collectionIndex=i},refresh:function(){var t,e,n,i,o,r=[];for(t=0;t<this._slots.length;t++)e=this._slots[t],n=e.offsetTop,e.refresh(),r[t]=e.offsetTop-n;for(i=0;i<this._events.length;i++)o=this._events[i],o.element.css({top:o.element[0].offsetTop+r[o.slotIndex]})},startInRange:function(t){return this._start<=t&&t<this._end},endInRange:function(t){return this._start<t&&t<=this._end},slotByStartDate:function(t){var e,n,i=t;for("number"!=typeof i&&(i=R.date.toUtcTime(t)),e=0;e<this._slots.length;e++)if(n=this._slots[e],n.startInRange(i))return n;return null},slotByEndDate:function(t,e){var n,i,o=t;if("number"!=typeof o&&(o=R.date.toUtcTime(t)),e)return this.slotByStartDate(t,!1);for(n=0;n<this._slots.length;n++)if(i=this._slots[n],i.endInRange(o))return i;return null},count:function(){return this._slots.length},events:function(){return this._events},addTimeSlot:function(t,e,n){var i=new D(t,e,n,this._groupIndex,this._collectionIndex,this._slots.length);this._slots.push(i)},addDaySlot:function(t,e,n,i){var o=new k(t,e,n,this._groupIndex,this._collectionIndex,this._slots.length,i);this._slots.push(o)},first:function(){return this._slots[0]},last:function(){return this._slots[this._slots.length-1]},at:function(t){return this._slots[t]}}),w=R.Class.extend({init:function(t,e,n,i,o,r){this.element=t,this.clientWidth=t.clientWidth,this.clientHeight=t.clientHeight,this.offsetWidth=t.offsetWidth,this.offsetHeight=t.offsetHeight,this.offsetTop=t.offsetTop,this.offsetLeft=t.offsetLeft,this.start=e,this.end=n,this.element=t,this.groupIndex=i,this.collectionIndex=o,this.index=r,this.isDaySlot=!1},startDate:function(){var t=new Date(this.start);return R.timezone.apply(t,"Etc/UTC")},endDate:function(){var t=new Date(this.end);return R.timezone.apply(t,"Etc/UTC")},startInRange:function(t){return this.start<=t&&t<this.end},endInRange:function(t){return this.start<t&&t<=this.end}}),D=w.extend({refresh:function(){this.offsetTop=this.element.offsetTop},offsetX:function(t,e){return t?this.offsetLeft+e:this.offsetLeft+e},startInRange:function(t){return this.start<=t&&t<this.end},endInRange:function(t){return this.start<t&&t<=this.end}}),k=w.extend({init:function(t,e,n,i,o,r,s){w.fn.init.apply(this,arguments),this.eventCount=s,this.isDaySlot=!0,this.firstChildHeight=this.element.firstChild.offsetHeight+3},refresh:function(){this.clientHeight=this.element.clientHeight,this.offsetTop=this.element.offsetTop},startDate:function(){var t=new Date(this.start);return R.timezone.apply(t,"Etc/UTC")},endDate:function(){var t=new Date(this.end);return R.timezone.apply(t,"Etc/UTC")},startInRange:function(t){return this.start<=t&&t<this.end},endInRange:function(t){return this.start<t&&t<=this.end}}),R.ui.SchedulerView=L.extend({init:function(e,n){L.fn.init.call(this,e,n),this._scrollbar=c(),this._isRtl=R.support.isRtl(e),this._resizeHint=t(),this._moveHint=t(),this._cellId=R.guid(),this._resourcesForGroups()},_addResourceView:function(){var t=new S(this.groups.length);return this.groups.push(t),t},dateForTitle:function(){return R.format(this.options.selectedDateFormat,this.startDate(),this.endDate())},_changeGroup:function(t,e){var n=e?"prevGroupSlot":"nextGroupSlot",i=this[n](t.start,t.groupIndex,t.isAllDay);return i&&(t.groupIndex+=e?-1:1),i},_changeGroupContinuously:function(){return null},_changeViewPeriod:function(){return!1},_horizontalSlots:function(t,e,n,i){var o,r,s=i?"leftSlot":"rightSlot",l=e[0].start,a=e[e.length-1].end,c=this.groups[t.groupIndex];return n||(o=this._normalizeHorizontalSelection(t,e,i),o&&(l=a=o)),l=c[s](l),a=c[s](a),n||this._isVerticallyGrouped()||l&&a||(l=a=this._changeGroup(t,i)),l&&a||(r=this._continuousSlot(t,e,i),r=this._changeGroupContinuously(t,r,n,i),r&&(l=a=r)),{startSlot:l,endSlot:a}},_verticalSlots:function(t,e,n,i){var o,r,s=e[0].start,l=e[e.length-1].end,a=this.groups[t.groupIndex];return n||(o=this._normalizeVerticalSelection(t,e,i),o&&(s=l=o)),r=i?"upSlot":"downSlot",s=a[r](s,n),l=a[r](l,n),n||!this._isVerticallyGrouped()||s&&l||(s=l=this._changeGroup(t,i)),{startSlot:s,endSlot:l}},_normalizeHorizontalSelection:function(){return null},_normalizeVerticalSelection:function(t,e,n){var i;return i=n?e[0].start:e[e.length-1].end},_continuousSlot:function(){return null},constrainSelection:function(t){if(!this.inRange(t)){var e=this.groups[0].firstSlot();t.isAllDay=e.isDaySlot,t.start=e.startDate(),t.end=e.endDate()}},move:function(t,e,n){var i,o,r,s,l,a,c=!1,u=this.groups[t.groupIndex];if(u.timeSlotCollectionCount()||(t.isAllDay=!0),i=u.ranges(t.start,t.end,t.isAllDay,!1),e===E.DOWN||e===E.UP){if(c=!0,s=e===E.UP,this._updateDirection(t,i,n,s,!0),l=this._verticalSlots(t,i,n,s),!l.startSlot&&!n&&this._changeViewPeriod(t,s,!0))return c}else if((e===E.LEFT||e===E.RIGHT)&&(c=!0,s=e===E.LEFT,this._updateDirection(t,i,n,s,!1),l=this._horizontalSlots(t,i,n,s),!l.startSlot&&!n&&this._changeViewPeriod(t,s,!1)))return c;return c&&(o=l.startSlot,r=l.endSlot,n?(a=t.backward,a&&o?t.start=o.startDate():!a&&r&&(t.end=r.endDate())):o&&r&&(t.isAllDay=o.isDaySlot,t.start=o.startDate(),t.end=r.endDate()),t.events=[]),c},moveToEventInGroup:function(e,n,i,o){for(var r,s,l=e._continuousEvents||[],a=o?-1:1,c=l.length,u=o?c-1:0;c>u&&u>-1;){if(s=l[u],(!o&&s.start.startDate()>=n.startDate()||o&&s.start.startDate()<=n.startDate())&&(i.length&&(s=l[u+a]),s&&-1===t.inArray(s.uid,i))){r=!!s;break}u+=a}return s},moveToEvent:function(t,e){for(var n,i=t.groupIndex,o=this.groups[i],r=o.ranges(t.start,t.end,t.isAllDay,!1)[0].start,s=this.groups.length,l=e?-1:1,a=t.events;s>i&&i>-1&&(n=this.moveToEventInGroup(o,r,a,e),i+=l,o=this.groups[i],o&&!n);)a=[],r=e?o.lastSlot():o.firstSlot(!0);return n&&(t.events=[n.uid],t.start=n.start.startDate(),t.end=n.end.endDate(),t.isAllDay=n.start.isDaySlot,t.groupIndex=n.start.groupIndex),!!n},current:function(t){return void 0===t?this._current:(this._current=t,this._scrollTo(t,this.content[0]),void 0)},select:function(t){this.clearSelection(),this._selectEvents(t)||this._selectSlots(t)},_selectSlots:function(t){var e,n,i,o,r,s,l=t.isAllDay,a=this.groups[t.groupIndex];for(a.timeSlotCollectionCount()||(l=!0),e=a.ranges(t.start,t.end,l,!1),i=0;i<e.length;i++)for(o=e[i],r=o.collection,s=o.start.index;s<=o.end.index;s++)n=r.at(s).element,n.setAttribute("aria-selected",!0),m(n);t.backward&&(n=e[0].start.element),this.current(n)},_selectEvents:function(e){var n,i,o=!1,r=e.events,s=this.groups[e.groupIndex]._continuousEvents||[],l=s.length;if(!r[0]||!s[0])return o;for(i=t(),n=0;l>n;n++)t.inArray(s[n].uid,r)>-1&&(i=i.add(s[n].element));return i[0]&&(i.addClass("k-state-selected").attr("aria-selected",!0),this.current(i.last()[0]),o=!0),o},inRange:function(t){var e=this.startDate(),n=R.date.addDays(this.endDate(),1),i=t.start,o=t.end;return i>=e&&n>i&&o>e&&n>=o},_scrollbarOffset:function(t,e){return!this._isRtl||e&&!this._isVerticallyGrouped()||!R.support.browser.webkit?t:this._scrollbarWidth+t},_resourceValue:function(t,e){return t.valuePrimitive&&(e=R.getter(t.dataValueField)(e)),e},_resourceBySlot:function(t){var e,n,i,o,r,s=this.groupedResources,l={};if(s.length)for(e=t.groupIndex,n=s.length-1;n>=0;n--)i=s[n],o=this._resourceValue(i,i.dataSource.at(e%i.dataSource.total())),i.multiple&&(o=[o]),r=R.setter(i.field),r(l,o),e=Math.floor(e/i.dataSource.total());return l},_createResizeHint:function(e,n,i,o){return t(B).css({left:e,top:n,width:i,height:o})},_removeResizeHint:function(){this._resizeHint.remove(),this._resizeHint=t()},_removeMoveHint:function(){this._moveHint.remove(),this._moveHint=t()},_scrollTo:function(t,e){var n=t.offsetTop,i=t.offsetHeight,o=e.scrollTop,r=e.clientHeight,s=n+i,l=0;l=o>n?n:s>o+r?r>=i?s-r:n:o,e.scrollTop=l},_shouldInverseResourceColor:function(t){var e=new H(t.color).isDark(),n=this.element.css("color"),i=new H(n).isDark();return e==i},eventResources:function(t){var e,n,i,o,r,s,l,a,c,u,h=[],d=this.options;if(!d.resources)return h;for(e=0;e<d.resources.length;e++)if(n=d.resources[e],i=n.field,o=R.getter(i)(t))for(n.multiple||(o=[o]),r=n.dataSource.view(),s=0;s<o.length;s++){for(l=null,a=o[s],n.valuePrimitive||(a=R.getter(n.dataValueField)(a)),c=0;c<r.length;c++)if(r[c].get(n.dataValueField)==a){l=r[c];break}null!=l&&(u=R.getter(n.dataColorField)(l),h.push({text:R.getter(n.dataTextField)(l),value:a,color:u}))}return h},createLayout:function(i){var o,r,s,l,a,c=-1;for(i.rows||(i.rows=[]),o=0;o<i.rows.length;o++)if(i.rows[o].allDay){c=o;break}r=i.rows[c],c>=0&&i.rows.splice(c,1),s=this.columnLevels=e(i,"columns"),l=this.rowLevels=e(i,"rows"),this.table=t("<table "+n()+' class="k-scheduler-layout">'),a=l[l.length-1].length,this.table.append(this._topSection(s,r,a)),this.table.append(this._bottomSection(s,l,a)),this.element.append(this.table),this._scroller()},refreshLayout:function(){var e,n,i,o,r,s=this,l=s.element.find(">.k-scheduler-toolbar"),a=s.element.innerHeight(),c=this._scrollbar,u=0,h=this._isRtl?"left":"right";l.length&&(a-=l.outerHeight()),s.datesHeader&&(u=s.datesHeader.outerHeight()),s.timesHeader&&s.timesHeader.outerHeight()>u&&(u=s.timesHeader.outerHeight()),s.datesHeader&&s.timesHeader&&(e=s.datesHeader.find("table:first tr"),s.timesHeader.find("tr").height(function(n){t(this).height(e.eq(n).height())})),u&&(a-=u),s.footer&&(a-=s.footer.outerHeight()),n=function(t){var e,n;return t[0].style.height?!0:(e=t.height(),t.height("auto"),n=t.height(),e!=n?(t.height(""),!0):(t.height(""),!1))},i=s.content[0],o=R.support.kineticScrollNeeded?0:c,this._scrollbarWidth=0,n(s.element)&&(a>2*c?s.content.height(a):s.content.height(2*c+1),s.times.height(i.clientHeight),r=s.times.find("table"),r.length&&r.height(s.content.find("table")[0].clientHeight)),i.offsetWidth-i.clientWidth>0&&(s.table.addClass("k-scrollbar-v"),s.datesHeader.css("padding-"+h,o-parseInt(s.datesHeader.children().css("border-"+h+"-width"),10)),this._scrollbarWidth=o),(i.offsetHeight-i.clientHeight>0||i.clientHeight>s.content.children(".k-scheduler-table").height())&&s.table.addClass("k-scrollbar-h")},_topSection:function(e,n,i){this.timesHeader=r(e.length,n,i);var o=e[e.length-1].length;return this.datesHeader=s(e,o,n),t("<tr>").append(this.timesHeader.add(this.datesHeader).wrap("<td>").parent())},_bottomSection:function(e,n,i){return this.times=l(n,i),this.content=a(e[e.length-1],n[n.length-1]),t("<tr>").append(this.times.add(this.content).wrap("<td>").parent())},_scroller:function(){var e,n=this;this.content.bind("scroll"+G,function(){n.datesHeader.find(">.k-scheduler-header-wrap").scrollLeft(this.scrollLeft),n.times.scrollTop(this.scrollTop)}),e=R.touchScroller(this.content,{avoidScrolling:function(e){return t(e.event.target).closest(".k-event.k-state-selected").length>0}}),e&&e.movable&&(this._touchScroller=e,this.content=e.scrollElement,e.movable.bind("change",function(t){n.datesHeader.find(">.k-scheduler-header-wrap").scrollLeft(-t.sender.x),n.times.scrollTop(-t.sender.y)}))},_resourcesForGroups:function(){var t,e,n,i,o=[],r=this.options.group,s=this.options.resources;if(r=r&&r.resources?r.resources:[],s&&r.length)for(t=0,e=s.length;e>t;t++)for(n=0,i=r.length;i>n;n++)s[t].name===r[n]&&o.push(s[t]);this.groupedResources=o},_createColumnsLayout:function(t,e){return v("columns",t,e)},_groupOrientation:function(){var t=this.options.group;return t&&t.resources?t.orientation:"horizontal"},_isVerticallyGrouped:function(){return this.groupedResources.length&&"vertical"===this._groupOrientation()},_createRowsLayout:function(t,e){return v("rows",t,e)},selectionByElement:function(){return null},clearSelection:function(){this.content.find(".k-state-selected").removeAttr("id").attr("aria-selected",!1).removeClass("k-state-selected")},destroy:function(){var t=this;L.fn.destroy.call(this),t.table&&(R.destroy(t.table),t.table.remove())},calendarInfo:function(){return R.getCulture().calendars.standard},prevGroupSlot:function(t,e,n){var i,o=this.groups[e],r=o.ranges(t,t,n,!1)[0].start;if(!(0>=e))return this._isVerticallyGrouped()?o.timeSlotCollectionCount()?(i=o._collection(n?r.index:r.collectionIndex,!1),i.last()):(i=o._collection(o.daySlotCollectionCount()-1,!0),i.at(r.index)):o.timeSlotCollectionCount()?(i=o._collection(n?0:o.timeSlotCollectionCount()-1,n),n?i.last():i.at(r.index)):(i=o._collection(r.collectionIndex,!0),i.last())},nextGroupSlot:function(t,e,n){var i,o=this.groups[e],r=o.ranges(t,t,n,!1)[0].start;if(!(e>=this.groups.length-1))return this._isVerticallyGrouped()?o.timeSlotCollectionCount()?(i=o._collection(0,o.daySlotCollectionCount()),n?i.last():i.at(r.collectionIndex)):(i=o._collection(0,!0),i.at(r.index)):o.timeSlotCollectionCount()?(i=o._collection(0,n),n?i.first():i.at(r.index)):(i=o._collection(r.collectionIndex,!0),i.first())}}),H=function(t){var e,n,i,o,r,s=this,l=H.formats;if(1===arguments.length)for(t=s.resolveColor(t),o=0;o<l.length;o++)e=l[o].re,n=l[o].process,i=e.exec(t),i&&(r=n(i),s.r=r[0],s.g=r[1],s.b=r[2]);else s.r=arguments[0],s.g=arguments[1],s.b=arguments[2];s.r=s.normalizeByte(s.r),s.g=s.normalizeByte(s.g),s.b=s.normalizeByte(s.b)},H.prototype={resolveColor:function(t){return t=t||"#000","#"==t.charAt(0)&&(t=t.substr(1,6)),t=t.replace(/ /g,""),t=t.toLowerCase(),t=H.namedColors[t]||t},normalizeByte:function(t){return 0>t||isNaN(t)?0:t>255?255:t},percBrightness:function(){var t=this;return V.sqrt(.241*t.r*t.r+.691*t.g*t.g+.068*t.b*t.b)},isDark:function(){var t=this,e=t.percBrightness();return 180>e}},H.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(t){return[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],H.namedColors={aqua:"00ffff",azure:"f0ffff",beige:"f5f5dc",black:"000000",blue:"0000ff",brown:"a52a2a",coral:"ff7f50",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgray:"a9a9a9",darkgreen:"006400",darkorange:"ff8c00",darkred:"8b0000",dimgray:"696969",fuchsia:"ff00ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lightblue:"add8e6",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumblue:"0000cd",navy:"000080",olive:"808000",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",pink:"ffc0cb",plum:"dda0dd",purple:"800080",red:"ff0000",royalblue:"4169e1",salmon:"fa8072",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",steelblue:"4682b4",tan:"d2b48c",teal:"008080",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},T=/\s*k-state-selected/,t.extend(z.SchedulerView,{createColumns:f,createRows:g,rangeIndex:h,collidingEvents:u,groupEqFilter:_})}(window.kendo.jQuery);;!function(e){function t(e){var t=new Date(1980,1,1,0,0,0);return o(t,p(e)),t}function a(e,t,a){var s,n=t.getTime(),i=a.getTime();return s=e.getTime(),s>=n&&i>=s}function s(e,t,a,s){return s=s?a>=e:a>e,e>t&&s}function n(e,t,a,s){var n,r=e._continuousEvents,o=r[r.length-1],l=c(t.start.startDate()).getTime();if(s&&o&&c(o.start.startDate()).getTime()==l){for(n=r.length-1;n>-1&&!(r[n].isAllDay||c(r[n].start.startDate()).getTime()<l);n--);r.splice(n+1,0,{element:a,isAllDay:!0,uid:a.attr(i.attr("uid")),start:t.start,end:t.end})}else r.push({element:a,isAllDay:s,uid:a.attr(i.attr("uid")),start:t.start,end:t.end})}var i=window.kendo,r=i.ui,o=i.date.setTime,l=r.SchedulerView,d=e.extend,h=e.proxy,c=i.date.getDate,u=i.date.MS_PER_MINUTE,f=i.date.MS_PER_DAY,p=i.date.getMilliseconds,m=".kendoMultiDayView",g=i.template('<div title="(#=kendo.format("{0:t} - {1:t}", start, end)#): #=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template k-event-time">#:kendo.format("{0:t} - {1:t}", start, end)#</div><div class="k-event-template">${title}</div></div>'),v=i.template('<div title="(#=kendo.format("{0:t}", start)#): #=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template">${title}</div></div>'),_=i.template("<span class='k-link k-nav-day'>#=kendo.toString(date, 'ddd M/dd')#</span>"),D='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#"#if (resources[0]) { #style="background-color:#=resources[0].color#; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#" #} else {#class="k-event"#}#><span class="k-event-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-w"></span>#}## if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } #</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}## if(data.head || data.middle) {#<span class="k-icon k-i-arrow-e"></span>#}#</span>#if(resizable && !singleDay && !data.tail && !data.middle){#<span class="k-resize-handle k-resize-w"></span>#}##if(resizable && !singleDay && !data.head && !data.middle){#<span class="k-resize-handle k-resize-e"></span>#}#</div>',y='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#" #if (resources[0]) { #style="background-color:#=resources[0].color #; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#"#} else {#class="k-event"#}#><span class="k-event-actions"># if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } #</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}#</span><span class="k-event-top-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-n"></span># } #</span><span class="k-event-bottom-actions"># if(data.head || data.middle) {#<span class="k-icon k-i-arrow-s"></span># } #</span># if(resizable && !data.tail && !data.middle) {#<span class="k-resize-handle k-resize-n"></span># } ## if(resizable && !data.head && !data.middle) {#<span class="k-resize-handle k-resize-s"></span># } #</div>',k=l.extend({init:function(e,t){var a=this;l.fn.init.call(a,e,t),a.title=a.options.title||a.options.name,a._templates(),a._editable(),a.calculateDateRange(),a._groups()},_updateResizeHint:function(e,t,a){var s,n,r,o,d,h,c,u,f=e.isMultiDay(),p=this.groups[a.groupIndex],m=p.ranges(t.start,e.isAllDay?a.start:a.end,f,e.isAllDay);for(this._removeResizeHint(),s=0;s<m.length;s++)n=m[s],r=n.startSlot(),o=r.offsetWidth,d=r.clientHeight,f?o=n.innerWidth():d=n.innerHeight(),h=l.fn._createResizeHint.call(this,this._scrollbarOffset(r.offsetLeft,f),r.offsetTop,o,d),this._resizeHint=this._resizeHint.add(h);c="t",u=this.content,f&&(c="M/dd",u=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day) > div"),u.length||(u=this.content)),this._resizeHint.appendTo(u),this._resizeHint.find(".k-label-top,.k-label-bottom").text(""),this._resizeHint.first().addClass("k-first").find(".k-label-top").text(i.toString(t.startDate(),c)),this._resizeHint.last().addClass("k-last").find(".k-label-bottom").text(i.toString(a.endDate(),c))},_updateMoveHint:function(e,t,a){var s,n,r,o,l,d,h=e.isMultiDay(),c=this.groups[a.groupIndex],u=a.start-t.start,f=i.date.toUtcTime(e.start)+u,m=f+e.duration(),g=c.ranges(f,m,h,e.isAllDay);for(f=i.timezone.apply(new Date(f),"Etc/UTC"),m=i.timezone.apply(new Date(m),"Etc/UTC"),this._removeMoveHint(),!h&&(0===p(m)||p(m)<p(this.startTime()))&&g.length>1&&g.pop(),s=0;s<g.length;s++)n=g[s],r=n.start,o=this._createEventElement(e.clone({start:f,startTime:f,end:m,endTime:m}),!h),o.addClass("k-event-drag-hint"),l={left:r.offsetLeft+2,top:r.offsetTop},this._isRtl&&(l.left=.1*r.clientWidth+this._scrollbarOffset(r.offsetLeft)+2),h?l.width=n.innerWidth()-4:(l.height=n.innerHeight()-3,l.width=.9*r.clientWidth-4),o.css(l),this._moveHint=this._moveHint.add(o);d=this.content,h&&(d=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day) > div"),d.length||(d=this.content)),this._moveHint.appendTo(d)},_slotByPosition:function(e,t){var a,s,n,i;for(s=this._isVerticallyGrouped()?this.content.offset():this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day)").find(">div").offset(),s&&(e-=s.left,t-=s.top),e=Math.ceil(e),t=Math.ceil(t),i=0;i<this.groups.length;i++)if(n=this.groups[i],a=n.daySlotByPosition(e,t))return a;for(s&&(e+=s.left,t+=s.top),s=this.content.offset(),e-=s.left,t-=s.top,t+=this.content[0].scrollTop,e+=this.content[0].scrollLeft,e=Math.ceil(e),t=Math.ceil(t),i=0;i<this.groups.length;i++)if(n=this.groups[i],a=n.timeSlotByPosition(e,t))return a;return null},_groupCount:function(){var e=this.groupedResources;return e.length?"vertical"===this._groupOrientation()?this._rowCountForLevel(e.length-1):this._columnCountForLevel(e.length)/this._columnOffsetForResource(e.length):1},_columnCountInResourceView:function(){var e=this.groupedResources;return!e.length||this._isVerticallyGrouped()?this._columnCountForLevel(0):this._columnOffsetForResource(e.length)},_timeSlotGroups:function(e,t){var a,s,n,i,r,o,l,d,h,c,u,f,m,g,v,_,D=this._timeSlotInterval(),y=this.content.find("tr:not(.k-scheduler-header-all-day)");for(y.attr("role","row"),a=y.length,this._isVerticallyGrouped()&&(a=Math.floor(a/e)),s=0;e>s;s++)for(n=0,this._isVerticallyGrouped()&&(n=s),i=n*a,o=0,this._isVerticallyGrouped()||(o=s);(n+1)*a>i;){for(l=y[i].children,d=this.groups[s],0===i%a&&(r=p(new Date(+this.startTime()))),h=o*t;(o+1)*t>h;h++)c=l[h],u=h%t,f=d.getTimeSlotCollection(u),m=this._dates[u],g=Date.UTC(m.getFullYear(),m.getMonth(),m.getDate()),v=g+r,_=v+D,c.setAttribute("role","gridcell"),c.setAttribute("aria-selected",!1),f.addTimeSlot(c,v,_);r+=D,i++}},_daySlotGroups:function(e,t){var a,s,n,r,o,l,d,h,c,u,f,p;for(a=this._isVerticallyGrouped()?this.element.find(".k-scheduler-header-all-day"):this.element.find(".k-scheduler-header-all-day tr"),a.attr("role","row"),s=0;e>s;s++)for(n=0,this._isVerticallyGrouped()&&(n=s),r=this.groups[s],o=r.getDaySlotCollection(0),l=a[n].children,d=0,this._isVerticallyGrouped()||(d=s),h=0,c=d*t;(d+1)*t>c;c++)u=l[c],0===c%t&&(h=0),f=i.date.addDays(this.startDate(),h),p=Date.UTC(f.getFullYear(),f.getMonth(),f.getDate()),h++,u.setAttribute("role","gridcell"),u.setAttribute("aria-selected",!1),o.addDaySlot(u,p,p+i.date.MS_PER_DAY)},_groups:function(){var e,t,a,s=this._groupCount(),n=this._columnCountInResourceView();for(this.groups=[],e=0;s>e;e++){for(t=this._addResourceView(e),a=0;n>a;a++)t.addTimeSlotCollection(this._dates[a],i.date.addDays(this._dates[a],1));t.addDaySlotCollection(this._dates[0],this._dates[this._dates.length-1])}this._timeSlotGroups(s,n),this.options.allDaySlot&&this._daySlotGroups(s,n)},options:{name:"MultiDayView",selectedDateFormat:"{0:D}",allDaySlot:!0,workDay:!1,title:"",startTime:i.date.today(),endTime:i.date.today(),minorTickCount:2,majorTick:60,majorTimeHeaderTemplate:"#=kendo.toString(date, 't')#",minorTimeHeaderTemplate:"&nbsp;",eventTemplate:g,allDayEventTemplate:v,dateHeaderTemplate:_,editable:!0,workDayStart:new Date(1980,1,1,8,0,0),workDayEnd:new Date(1980,1,1,17,0,0),footer:{command:"workDay"},messages:{allDay:"all day",showFullDay:"Show full day",showWorkDay:"Show business hours"}},events:["remove","add","edit"],_templates:function(){var e=this.options,t=d({},i.Template,e.templateSettings);this.eventTemplate=this._eventTmpl(e.eventTemplate,y),this.allDayEventTemplate=this._eventTmpl(e.allDayEventTemplate,D),this.majorTimeHeaderTemplate=i.template(e.majorTimeHeaderTemplate,t),this.minorTimeHeaderTemplate=i.template(e.minorTimeHeaderTemplate,t),this.dateHeaderTemplate=i.template(e.dateHeaderTemplate,t)},_editable:function(){this.options.editable&&(i.support.mobileOS?this._touchEditable():this._mouseEditable())},_mouseEditable:function(){var t=this;t.element.on("click"+m,".k-event a:has(.k-si-close)",function(a){t.trigger("remove",{uid:e(this).closest(".k-event").attr(i.attr("uid"))}),a.preventDefault()}),t.options.editable.create!==!1&&t.element.on("dblclick"+m,".k-scheduler-content td",function(a){var s,n;e(this).parent().hasClass("k-scheduler-header-all-day")||(s=t._slotByPosition(a.pageX,a.pageY),n=t._resourceBySlot(s),t.trigger("add",{eventInfo:d({start:s.startDate(),end:s.endDate()},n)}),a.preventDefault())}).on("dblclick"+m,".k-scheduler-header-all-day td",function(e){var a=t._slotByPosition(e.pageX,e.pageY),s=t._resourceBySlot(a);t.trigger("add",{eventInfo:d({},{isAllDay:!0,start:i.date.getDate(a.startDate()),end:i.date.getDate(a.startDate())},s)}),e.preventDefault()}),t.options.editable.update!==!1&&t.element.on("dblclick"+m,".k-event",function(a){t.trigger("edit",{uid:e(this).closest(".k-event").attr(i.attr("uid"))}),a.preventDefault()})},_touchEditable:function(){var t=this;t._closeUserEvents=new i.UserEvents(t.element,{filter:".k-event a:has(.k-si-close)",tap:function(a){t.trigger("remove",{uid:e(a.target).closest(".k-event").attr(i.attr("uid"))}),a.preventDefault()}}),t.options.editable.create!==!1&&(t._addUserEvents=new i.UserEvents(t.element,{filter:".k-scheduler-content td",tap:function(a){var s,n;e(a.target).parent().hasClass("k-scheduler-header-all-day")||(s=t._slotByPosition(a.x.location,a.y.location),n=t._resourceBySlot(s),t.trigger("add",{eventInfo:d({start:s.startDate(),end:s.endDate()},n)}),a.preventDefault())}}),t._allDayUserEvents=new i.UserEvents(t.element,{filter:".k-scheduler-header-all-day td",tap:function(e){var a=t._slotByPosition(e.x.location,e.y.location),s=t._resourceBySlot(a);t.trigger("add",{eventInfo:d({},{isAllDay:!0,start:i.date.getDate(a.startDate()),end:i.date.getDate(a.endDate())},s)}),e.preventDefault()}})),t.options.editable.update!==!1&&(t._editUserEvents=new i.UserEvents(t.element,{filter:".k-event.k-state-selected",tap:function(a){0===e(a.event.target).closest("a:has(.k-si-close)").length&&(t.trigger("edit",{uid:e(a.target).closest(".k-event").attr(i.attr("uid"))}),a.preventDefault())}}))},_layout:function(e){var t,a,s,n=[],r=[],o=this.options,l=this;for(t=0;t<e.length;t++)a={},a.text=l.dateHeaderTemplate({date:e[t]}),i.date.isToday(e[t])&&(a.className="k-today"),n.push(a);return o.allDaySlot&&r.push({text:o.messages.allDay,allDay:!0}),this._forTimeRange(this.startTime(),this.endTime(),function(e,t,a,s){var n=t?l.majorTimeHeaderTemplate:l.minorTimeHeaderTemplate,i={text:n({date:e}),className:s?"k-slot-cell":""};r.push(i)}),s=this.groupedResources,s.length&&("vertical"===this._groupOrientation()?r=this._createRowsLayout(s,r):n=this._createColumnsLayout(s,n)),{columns:n,rows:r}},_footer:function(){var t,a,s,n=this.options;n.footer!==!1&&(t='<div class="k-header k-scheduler-footer">',a=n.footer.command,a&&"workDay"===a?(t+='<ul class="k-reset k-header k-toolbar">',t+='<li class="k-state-default k-scheduler-fullday"><a href="#" class="k-link"><span class="k-icon k-i-clock"></span>',t+=(n.workDay?n.messages.showFullDay:n.messages.showWorkDay)+"</a></li>",t+="</ul>"):t+="&nbsp;",t+="</div>",this.footer=e(t).appendTo(this.element),s=this,this.footer.on("click"+m,".k-scheduler-fullday",function(e){e.preventDefault(),s.trigger("navigate",{view:s.name||n.name,date:s.startDate(),isWorkDay:!n.workDay})}))},_forTimeRange:function(e,a,s,n){var i,r,l,d,h,c,m,g,v,_,D,y,k,T,w,E;for(e=t(e),a=t(a),l=this,d=p(e),h=p(a),c=l.options.minorTickCount,m=l.options.majorTick*u,g=m/c||1,v=new Date(+e),_=v.getDate(),D=0,y="",r=f/g,d!=h&&(d>h&&(h+=f),r=(h-d)/g),r=Math.round(r);r>D;D++)k=D%(m/g),T=0===k,w=c-1>k,E=k===c-1,y+=s(v,T,w,E),o(v,g,!1);return h&&(i=p(v),_<v.getDate()&&(i+=f),i>h&&(v=new Date(+a))),n&&(y+=n(v)),y},_content:function(e){var t,a,s=this,n=s.options,r=s.startTime(),o=this.endTime(),l=1,d=1,h=e.length,c="",u=this.groupedResources,f="";for(u.length&&("vertical"===s._groupOrientation()?(d=this._rowCountForLevel(this.rowLevels.length-2),n.allDaySlot&&(f='<tr class="k-scheduler-header-all-day">'+Array(e.length+1).join("<td>&nbsp;</td>")+"</tr>")):l=this._columnCountForLevel(this.columnLevels.length-2)),c+="<tbody>",t=function(t,a){var s,n,r,o="";for(o="<tr"+(a?' class="k-middle-row"':"")+">",r=0;l>r;r++)for(s=0,n=h;n>s;s++)o+="<td"+(i.date.isToday(e[s])?' class="k-today"':"")+">",o+="&nbsp;</td>";return o+="</tr>"},a=0;d>a;a++)c+=f,c+=this._forTimeRange(r,o,t);c+="</tbody>",this.content.find("table").append(c)},_render:function(t){var a,s=this;t=t||[],this._dates=t,this._startDate=t[0],this._endDate=t[t.length-1||0],this.createLayout(this._layout(t)),this._content(t),this._footer(),this.refreshLayout(),a=this.element.find(".k-scheduler-header-all-day td"),a.length&&(this._allDayHeaderHeight=a.first()[0].clientHeight),s.datesHeader.on("click"+m,".k-nav-day",function(t){var a=e(t.currentTarget).closest("th"),n=a.offset(),i=s._slotByPosition(n.left,n.top+a.outerHeight());s.trigger("navigate",{view:"day",date:i.startDate()})})},startTime:function(){var e=this.options;return e.workDay?e.workDayStart:e.startTime},endTime:function(){var e=this.options;return e.workDay?e.workDayEnd:e.endTime},startDate:function(){return this._startDate},endDate:function(){return this._endDate},_end:function(e){var t=p(this.endTime())||f;return e&&(t=0),new Date(this._endDate.getTime()+t)},nextDate:function(){return i.date.nextDay(this.endDate())},previousDate:function(){return i.date.previousDay(this.startDate())},calculateDateRange:function(){this._render([this.options.date])},destroy:function(){var e=this;e.datesHeader&&e.datesHeader.off(m),e.element&&e.element.off(m),l.fn.destroy.call(this),e.footer&&e.footer.remove(),i.support.mobileOS&&(e._closeUserEvents.destroy(),e.options.editable.create!==!1&&(e._addUserEvents.destroy(),e._allDayUserEvents.destroy()),e.options.editable.update!==!1&&e._editUserEvents.destroy())},selectionByElement:function(e){var t=e.offset();return this._slotByPosition(t.left,t.top)},_timeSlotInterval:function(){var e=this.options;return e.majorTick/e.minorTickCount*u},_columnCountInGroup:function(){var e=this.groupedResources;return e.length?this._columnOffsetForResource(e.length):0},_rowCountInGroup:function(){var e,t=this.groupedResources;return t.length?(e=this.options.allDaySlot?this._rowCountForLevel(t.length-1):0,(this._rowCountForLevel(t.length)-e)/this._rowCountForLevel(t.length-1)):0},_timeSlotIndex:function(e){var t=this.options,a=p(e),s=p(this.startTime()),n=t.majorTick/t.minorTickCount*u;return(a-s)/n},_collectionIndex:function(e,t){return t?0:this._dateSlotIndex(e,!0)},_slotIndex:function(e,t){return t?this._dateSlotIndex(e):this._timeSlotIndex(e)},_dateIndex:function(e){var t,s,n,r,o=this._dates||[];for(t=0,s=o.length;s>t;t++)if(n=i.date.getDate(o[t]),r=new Date(i.date.getDate(o[t]).getTime()+f-1),a(e,n,r))return t;return-1},_dateSlotIndex:function(e,t){var s,n,r,o,l=this._dates||[],d=1;for(s=0,n=l.length;n>s;s++)if(r=i.date.getDate(l[s]),o=new Date(i.date.getDate(l[s]).getTime()+f-(t?0:1)),a(e,r,o))return s*d;return-1},_positionAllDayEvent:function(t,a){var s,n,i,r,o,d,h,c=a.innerWidth(),u=a.start.index,f=a.end.index,p=l.collidingEvents(a.events(),u,f),m=this._headerColumnCount||0,g=2,v=u!==f?5:4,_=this._allDayHeaderHeight,D=a.startSlot();for(t.css({left:this._scrollbarOffset(D.offsetLeft+g,!0),width:c-v}),a.addEvent({start:u,end:f,element:t}),p.push({start:u,end:f,element:t}),s=l.createRows(p),s.length&&s.length>m&&(this._updateAllDayHeaderHeight(_*s.length+_),this._headerColumnCount=s.length),n=a.start.offsetTop,i=0,r=s.length;r>i;i++)for(o=s[i].events,d=0,h=o.length;h>d;d++)e(o[d].element).css({top:n+i*_})},_arrangeColumns:function(e,t){var a,s,n,i,r,o,d,h,c,u,f,p=t.start.index,m=t.end.index;for(e={element:e,start:p,end:m},n=t.start.clientWidth,i=.1*n,r=t.events(),o=l.collidingEvents(r,e.start,e.end),t.addEvent(e),o.push(e),a=l.createColumns(o),d=(n-i)/a.length,h=0,c=a.length;c>h;h++)for(s=a[h].events,u=0,f=s.length;f>u;u++)s[u].element[0].style.width=d-4+"px",s[u].element[0].style.left=(this._isRtl?this._scrollbarOffset(i):0)+t.start.offsetLeft+h*d+2+"px"},_positionEvent:function(e,t,a){var s=4;t.css({height:a.innerHeight()-s,top:a.start.offsetTop}),this._arrangeColumns(t,a)},_eventTmpl:function(e,t){var a,s=this.options,n=d({},i.Template,s.templateSettings),r=n.paramName,o="",l=typeof e,c={storage:{},count:0};return"function"===l?(c.storage["tmpl"+c.count]=e,o+="#=this.tmpl"+c.count+"("+r+")#",c.count++):"string"===l&&(o+=e),a=i.template(i.format(t,o),n),c.count>0&&(a=h(a,c.storage)),a},_createEventElement:function(t,s,n,r){var o,l,h,u=s?this.eventTemplate:this.allDayEventTemplate,m=this.options,g=m.editable,v=g&&g.destroy!==!1,_=g&&g.resize!==!1,D=c(this.startDate()),y=c(this.endDate()),k=p(this.startTime()),T=p(this.endTime()),w=p(t.startTime||t.start),E=p(t.endTime||t.end);return k>=T&&(T=p(new Date(this.endTime().getTime()+f-1))),s||t.isAllDay||(y=new Date(y.getTime()+f)),l=t.end,t.isAllDay&&(l=c(t.end)),!a(c(t.start),D,y)&&!a(l,D,y)||s&&k>w&&E>T?o=!0:c(t.start)<D||s&&k>w?r=!0:(l>y&&!s||s&&E>T)&&(n=!0),h=this.eventResources(t),e(u(d({},{ns:i.ns,resizable:_,showDelete:v,middle:o,head:n,tail:r,singleDay:1==this._dates.length,resources:h,inverseColor:h&&h[0]?this._shouldInverseResourceColor(h[0]):!1},t,{start:t.startTime||t.start,end:t.endTime||t.end})))},_isInTimeSlot:function(e){var t,a=this.startTime(),n=this.endTime(),r=e.startTime||e.start,l=e.endTime||e.end;return p(n)===p(i.date.getDate(n))&&(n=i.date.getDate(n),o(n,f-1)),i.date.getDate(l)>i.date.getDate(r)&&(l=i.date.getDate(l),o(l,f-1)),l=p(l),r=p(r),n=p(n),a=p(a),a===r&&r===l?!0:(t=!0,s(r,a,n,t)||s(l,a,n,t)||s(a,r,l)||s(n,r,l))},_isInDateSlot:function(e){var t=this.startDate(),s=new Date(this.endDate().getTime()+f-1);return(a(e.start,t,s)||a(e.end,t,s)||a(t,e.start,e.end)||a(s,e.start,e.end))&&(!a(e.end,t,t)||a(e.end,e.start,e.start)||e.isAllDay)},_updateAllDayHeaderHeight:function(e){var t,a=this.element.find(".k-scheduler-header-all-day td");if(a.length)for(a.parent().add(this.element.find(".k-scheduler-times-all-day").parent()).height(e),t=0;t<this.groups.length;t++)this.groups[t].refresh()},_renderEvents:function(e,t){var a,s,i,r,o,l,d,h,c,u,p,m,g,v,_,D=this.datesHeader.find(".k-scheduler-header-wrap > div");for(s=0,i=e.length;i>s;s++)if(a=e[s],this._isInDateSlot(a))if(r=a.isAllDay||a.end.getTime()-a.start.getTime()>=f,o=r&&!this._isVerticallyGrouped()?D:this.content,r)this.options.allDaySlot&&(h=this.groups[t],h._continuousEvents||(h._continuousEvents=[]),d=h.slotRanges(a),l=this._createEventElement(a,!r),this._positionAllDayEvent(l,d[0]),n(h,d[0],l,!0),l.appendTo(o));else if(this._isInTimeSlot(a))for(h=this.groups[t],h._continuousEvents||(h._continuousEvents=[]),d=h.slotRanges(a),c=d.length,u=0;c>u;u++)p=d[u],m=a.start,g=a.end,c>1&&(0===u?g=p.end.endDate():u==c-1?m=p.start.startDate():(m=p.start.startDate(),g=p.end.endDate())),v=a.clone({start:m,end:g}),this._isInTimeSlot(v)&&(_=p.head,l=this._createEventElement(a,!r,_,p.tail),this._positionEvent(v,l,p),n(h,p,l,!1),l.appendTo(o))},render:function(e){this._headerColumnCount=0,this._groups(),this.element.find(".k-event").remove(),this._updateAllDayHeaderHeight(this._allDayHeaderHeight),e=new i.data.Query(e).sort([{field:"start",dir:"asc"},{field:"end",dir:"desc"}]).toArray();var t=this.groupedResources;t.length?this._renderGroups(e,t,0):this._renderEvents(e,0,0),this.refreshLayout(),this.trigger("activate")},_renderGroups:function(e,t,a){var s,n,r,o,d=t[0];if(d)for(s=d.dataSource.view(),n=0;n<s.length;n++)r=this._resourceValue(d,s[n]),o=new i.data.Query(e).filter({field:d.field,operator:l.groupEqFilter(r)}).toArray(),t.length>1?a=this._renderGroups(o,t.slice(1),a++):this._renderEvents(o,a++);return a},_columnOffsetForResource:function(e){return this._columnCountForLevel(e)/this._columnCountForLevel(e-1)},_columnCountForLevel:function(e){var t=this.columnLevels[e];return t?t.length:0},_rowCountForLevel:function(e){var t=this.rowLevels[e];return t?t.length:0},clearSelection:function(){this.content.add(this.datesHeader).find(".k-state-selected").removeAttr("id").attr("aria-selected",!1).removeClass("k-state-selected")},_updateDirection:function(e,t,a,s,n){var i=e.isAllDay,r=t[0].start,o=t[t.length-1].end;a&&(n?i||r.index!==o.index||r.collectionIndex!==o.collectionIndex||(e.backward=s):(i&&r.index===o.index||!i&&r.collectionIndex===o.collectionIndex)&&(e.backward=s))},_changeViewPeriod:function(e,t,a){var s,n,i,r;return a?undefined:(s=t?this.previousDate():this.nextDate(),n=e.start,i=e.end,e.start=new Date(s),e.end=new Date(s),r=e.isAllDay?f:p(i),o(e.start,p(n)),o(e.end,r),this._isVerticallyGrouped()||(e.groupIndex=t?this.groups.length-1:0),e.events=[],!0)}});d(!0,r,{MultiDayView:k,DayView:k.extend({options:{title:"Day"},name:"day"}),WeekView:k.extend({options:{title:"Week",selectedDateFormat:"{0:D} - {1:D}"},name:"week",calculateDateRange:function(){var e,t,a=this.options.date,s=i.date.dayOfWeek(a,this.calendarInfo().firstDay,-1),n=[];for(e=0,t=7;t>e;e++)n.push(s),s=i.date.nextDay(s);this._render(n)}})})}(window.kendo.jQuery);;!function(e){function t(e){var t,a,s=0;for(t=0,a=e.length;a>t;t++)s+=e[t].items.length;return s}function a(e,t){return e.valuePrimitive&&(t=r.getter(e.dataValueField)(t)),t}function s(e){for(var t,a=0,s=e.length,r=[];s>a;a++)t=e[a],t.groups?(t=n(t.groups),r=r.concat(t)):r=r.concat(n(t.items));return r}function n(e){for(var t=[].concat(e),a=t.shift(),s=[],n=[].push;a;)a.groups?n.apply(t,a.groups):a.items?n.apply(t,a.items):n.call(s,a),a=t.shift();return s}var r=window.kendo,i=r.ui,l=".kendoAgendaView";i.AgendaView=i.SchedulerView.extend({init:function(t,a){i.SchedulerView.fn.init.call(this,t,a),a=this.options,a.editable&&(a.editable=e.extend({"delete":!0},a.editable,{create:!1,update:!1})),this.title=a.title,this.name="agenda",this._eventTemplate=r.template(a.eventTemplate),this._dateTemplate=r.template(a.eventDateTemplate),this._groupTemplate=r.template(a.eventGroupTemplate),this._timeTemplate=r.template(a.eventTimeTemplate),this.element.on("mouseenter"+l,".k-scheduler-agenda .k-scheduler-content tr","_mouseenter").on("mouseleave"+l,".k-scheduler-agenda .k-scheduler-content tr","_mouseleave").on("click"+l,".k-scheduler-agenda .k-scheduler-content .k-link:has(.k-si-close)","_remove"),this._renderLayout(a.date)},_mouseenter:function(t){e(t.currentTarget).addClass("k-state-hover")},_mouseleave:function(t){e(t.currentTarget).removeClass("k-state-hover")},_remove:function(t){t.preventDefault(),this.trigger("remove",{uid:e(t.currentTarget).closest(".k-task").attr(r.attr("uid"))})},nextDate:function(){return r.date.nextDay(this.startDate())},startDate:function(){return this._startDate},endDate:function(){return this._endDate},previousDate:function(){return r.date.previousDay(this.startDate())},_renderLayout:function(e){this._startDate=e,this._endDate=r.date.addDays(e,7),this.createLayout(this._layout()),this.table.addClass("k-scheduler-agenda")},_layout:function(){var e,t,a=[{text:this.options.messages.date,className:"k-scheduler-datecolumn"},{text:this.options.messages.time,className:"k-scheduler-timecolumn"},{text:this.options.messages.event}],s=this.groupedResources;if(s.length){for(e=[],t=0;t<s.length;t++)e.push({text:"",className:"k-scheduler-groupcolumn"});a=e.concat(a)}return{columns:a}},_tasks:function(e){var t,a,s,n,i,l,o,d=[];for(t=0;t<e.length;t++)if(a=e[t],s=a.start,n=a.end,a.isAllDay&&(n=r.date.nextDay(n)),i=Math.ceil((n-s)/r.date.MS_PER_DAY),a.isAllDay||1!==i||r.date.getDate(n).getTime()===r.date.getDate(s).getTime()||(i+=1),l=a.clone(),l.startDate=r.date.getDate(s),l.startDate>=this.startDate()&&d.push(l),i>1)for(l.end=r.date.nextDay(s),l.head=!0,o=1;i>o;o++)s=l.end,l=a.clone(),l.start=s,l.startDate=r.date.getDate(s),l.end=r.date.nextDay(s),o==i-1?(l.end=new Date(l.start.getFullYear(),l.start.getMonth(),l.start.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),l.tail=!0):(l.isAllDay=!0,l.middle=!0),l.end<=this.endDate()&&l.start>=this.startDate()&&d.push(l);return new r.data.Query(d).sort([{field:"start",dir:"asc"},{field:"end",dir:"asc"}]).groupBy({field:"startDate"}).toArray()},_renderTaskGroups:function(e,t){var a,s,n,i,l,o,d,u,c=[],h=this.options.editable,p=h&&h.destroy!==!1;for(a=0;a<e.length;a++)for(s=e[a].value,n=e[a].items,i=r.date.isToday(s),l=0;l<n.length;l++){if(o=n[l],d=[],0===a&&0===l&&t.length)for(u=0;u<t.length;u++)d.push(r.format('<td class="k-scheduler-groupcolumn{2}" rowspan="{0}">{1}</td>',t[u].rowSpan,this._groupTemplate({value:t[u].text}),t[u].className));0===l&&d.push(r.format('<td class="k-scheduler-datecolumn{2}" rowspan="{0}">{1}</td>',n.length,this._dateTemplate({date:s}),a!=e.length-1||t.length?"":" k-last")),o.format=o.head?"{0:t}":o.tail?"{1:t}":"{0:t}-{1:t}",o.resources=this.eventResources(o),d.push(r.format('<td class="k-scheduler-timecolumn"><div>{0}{1}{2}</div></td><td>{3}</td>',o.tail||o.middle?'<span class="k-icon k-i-arrow-w"></span>':"",this._timeTemplate(o.clone({start:o.startTime||o.start,end:o.endTime||o.end})),o.head||o.middle?'<span class="k-icon k-i-arrow-e"></span>':"",this._eventTemplate(o.clone({showDelete:p})))),c.push('<tr role="row" aria-selected="false"'+(i?' class="k-today">':">")+d.join("")+"</tr>")}return c.join("")},render:function(e){var t,a=this.content.find("table").empty(),n=[];e.length>0&&(t=this.groupedResources,t.length?(n=this._createGroupConfiguration(e,t,null),this._renderGroups(n,a,[])):(n=this._tasks(e),a.append(this._renderTaskGroups(n,[])))),this._eventsList=s(n),this.refreshLayout(),this.trigger("activate")},_renderGroups:function(e,t,a){var s,n,r;for(s=0,n=e.length;n>s;s++)r=a.splice(0),r.push(e[s]),e[s].groups?this._renderGroups(e[s].groups,t,r):t.append(this._renderTaskGroups(e[s].items,r))},_createGroupConfiguration:function(e,s,n){var l,o,d,u,c,h,p,m=s[0],g=[],f=m.dataSource.view();for(l=0;l<f.length;l++)o=a(m,f[l]),d=new r.data.Query(e).filter({field:m.field,operator:i.SchedulerView.groupEqFilter(o)}).toArray(),d.length&&(u=this._tasks(d),c=n?"":" k-first",l===f.length-1&&(!n||n.className.indexOf("k-last")>-1)&&(c+=" k-last"),h={text:r.getter(m.dataTextField)(f[l]),value:o,rowSpan:0,className:c},s.length>1?(h.groups=this._createGroupConfiguration(d,s.slice(1),h),n&&(n.rowSpan+=h.rowSpan)):(h.items=u,p=t(h.items),h.rowSpan=p,n&&(n.rowSpan+=p)),g.push(h));return g},selectionByElement:function(t){var a,s;return t=e(t),t.hasClass("k-scheduler-datecolumn")?void 0:(a=t.parent().index(),s=this._eventsList[a],{index:a,start:s.start,end:s.end,isAllDay:s.isAllDay,uid:s.uid})},select:function(e){this.clearSelection();var t=this.table.find(".k-task").eq(e.index).closest("tr").addClass("k-state-selected")[0];t&&this._scrollTo(t,this.content[0])},move:function(e,t){var a,s=!1,n=e.index;return t==r.keys.UP?(n--,s=!0):t==r.keys.DOWN&&(n++,s=!0),s&&(a=this._eventsList[n],a&&(e.start=a.start,e.end=a.end,e.isAllDay=a.isAllDay,e.events=[a.uid],e.index=n)),s},moveToEvent:function(){return!1},constrainSelection:function(e){var t=this._eventsList[0];t&&(e.start=t.start,e.end=t.end,e.isAllDay=t.isAllDay,e.events=[t.uid],e.index=0)},isInRange:function(){return!0},destroy:function(){this.element&&this.element.off(l),i.SchedulerView.fn.destroy.call(this)},options:{title:"Agenda",name:"agenda",editable:!0,selectedDateFormat:"{0:D}-{1:D}",eventTemplate:'<div class="k-task" title="#:title.replace(/"/g,"\'")#" data-#=kendo.ns#uid="#=uid#"># if (resources[0]) {#<span class="k-scheduler-mark" style="background-color:#=resources[0].color#"></span># } ## if (data.isException()) { #<span class="k-icon k-i-exception"></span># } else if (data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } ##:title##if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}#</div>',eventTimeTemplate:"#if(data.isAllDay) {#all day#} else { ##=kendo.format(format, start, end)## } #",eventDateTemplate:'<strong class="k-scheduler-agendaday">#=kendo.toString(date, "dd")#</strong><em class="k-scheduler-agendaweek">#=kendo.toString(date,"dddd")#</em><span class="k-scheduler-agendadate">#=kendo.toString(date, "y")#</span>',eventGroupTemplate:'<strong class="k-scheduler-adgendagroup">#=value#</strong>',messages:{event:"Event",date:"Date",time:"Time"}}})}(window.kendo.jQuery);;!function(t){function e(t,e){return t.slice(e).concat(t.slice(0,e))}function s(t,e){for(var s=e.firstDay,n=new Date(t.getFullYear(),t.getMonth(),0,t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds());n.getDay()!=s;)i.date.setTime(n,-1*u);return n}function n(t,e,s){var n,i=e.getTime(),r=s.getTime();return n=t.getTime(),n>=i&&r>=n}var i=window.kendo,r=i.ui,o=r.SchedulerView,a=".kendoMonthView",l=t.extend,d=t.proxy,h=i.date.getDate,u=i.date.MS_PER_DAY,c=6,f=7,p=i.template('<span class="k-link k-nav-day">#:kendo.toString(date, "dd")#</span>'),v='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#"#if (resources[0]) { #style="background-color:#=resources[0].color #; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#"#} else {#class="k-event"#}#><span class="k-event-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-w"></span>#}## if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span>#}#</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}## if(data.head || data.middle) {#<span class="k-icon k-i-arrow-e"></span>#}#</span># if(resizable && !data.tail && !data.middle) {#<span class="k-resize-handle k-resize-w"></span>#}## if(resizable && !data.head && !data.middle) {#<span class="k-resize-handle k-resize-e"></span>#}#</div>',g=i.template('<div title="#=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template">#:title#</div></div>'),_=i.template('<div style="width:#=width#px;left:#=left#px;top:#=top#px" class="k-more-events k-button"><span>...</span></div>');r.MonthView=o.extend({init:function(t,e){var s=this;o.fn.init.call(s,t,e),s.title=s.options.title,s.name="month",s._templates(),s._editable(),s._renderLayout(s.options.date),s._groups()},_updateDirection:function(t,e,s,n,i){var r,o,a,l,d;s&&(r=e[0].start,o=e[e.length-1].end,a=r.index===o.index,l=r.collectionIndex===o.collectionIndex,d=i?a&&l||l:a&&l,d&&(t.backward=n))},_changeViewPeriod:function(t,e,s){var n=s?7:1;return e&&(n*=-1),t.start=i.date.addDays(t.start,n),t.end=i.date.addDays(t.end,n),(!s||s&&this._isVerticallyGrouped())&&(t.groupIndex=e?this.groups.length-1:0),t.events=[],!0},_continuousSlot:function(t,e,s){var n=t.backward?0:e.length-1,i=this.groups[t.groupIndex];return i.continuousSlot(e[n].start,s)},_changeGroupContinuously:function(t,e,s,n){var i,r,o,a;return s||(i=t.groupIndex,r=this.groups.length-1,o=this._isVerticallyGrouped(),a=this.groups[i],!e&&o?(e=a[n?"lastSlot":"firstSlot"](),i+=n?-1:1):e&&!o&&(i=n?r:0),(0>i||i>r)&&(i=n?r:0,e=null),t.groupIndex=i),e},_normalizeHorizontalSelection:function(t,e,s){var n;return n=s?e[0].start:e[e.length-1].end},_normalizeVerticalSelection:function(t,e){var s;return s=t.backward?e[0].start:e[e.length-1].end},_templates:function(){var t=this.options,e=l({},i.Template,t.templateSettings);this.eventTemplate=this._eventTmpl(t.eventTemplate),this.dayTemplate=i.template(t.dayTemplate,e)},dateForTitle:function(){return i.format(this.options.selectedDateFormat,this._firstDayOfMonth,this._lastDayOfMonth)},nextDate:function(){return i.date.nextDay(this._lastDayOfMonth)},previousDate:function(){return i.date.previousDay(this._firstDayOfMonth)},startDate:function(){return this._startDate},endDate:function(){return this._endDate},_renderLayout:function(e){var n=this;this._firstDayOfMonth=i.date.firstDayOfMonth(e),this._lastDayOfMonth=i.date.lastDayOfMonth(e),this._startDate=s(e,this.calendarInfo()),this.createLayout(this._layout()),this.table.addClass("k-scheduler-monthview"),this._content(),this.refreshLayout(),this.content.on("click"+a,".k-nav-day,.k-more-events",function(e){var s=t(e.currentTarget).offset(),i=n._slotByPosition(s.left,s.top);e.preventDefault(),n.trigger("navigate",{view:"day",date:i.startDate()})})},_editable:function(){this.options.editable&&(i.support.mobileOS?this._touchEditable():this._mouseEditable())},_mouseEditable:function(){var e=this;e.element.on("click"+a,".k-scheduler-monthview .k-event a:has(.k-si-close)",function(s){e.trigger("remove",{uid:t(this).closest(".k-event").attr(i.attr("uid"))}),s.preventDefault()}),e.options.editable.create!==!1&&e.element.on("dblclick"+a,".k-scheduler-monthview .k-scheduler-content td",function(s){var n=t(s.currentTarget).offset(),i=e._slotByPosition(n.left,n.top),r=e._resourceBySlot(i);e.trigger("add",{eventInfo:l({isAllDay:!0,start:i.startDate(),end:i.startDate()},r)}),s.preventDefault()}),e.options.editable.update!==!1&&e.element.on("dblclick"+a,".k-scheduler-monthview .k-event",function(s){e.trigger("edit",{uid:t(this).closest(".k-event").attr(i.attr("uid"))}),s.preventDefault()})},_touchEditable:function(){var e=this;e._closeUserEvents=new i.UserEvents(e.element,{filter:".k-scheduler-monthview .k-event a:has(.k-si-close)",tap:function(s){e.trigger("remove",{uid:t(s.target).closest(".k-event").attr(i.attr("uid"))}),s.preventDefault()}}),e.options.editable.create!==!1&&(e._addUserEvents=new i.UserEvents(e.element,{filter:".k-scheduler-monthview .k-scheduler-content td",tap:function(s){var n=t(s.target).offset(),i=e._slotByPosition(n.left,n.top),r=e._resourceBySlot(i);e.trigger("add",{eventInfo:l({isAllDay:!0,start:i.startDate(),end:i.endDate()},r)}),s.preventDefault()}})),e.options.editable.update!==!1&&(e._editUserEvents=new i.UserEvents(e.element,{filter:".k-scheduler-monthview .k-event.k-state-selected",tap:function(s){0===t(s.event.target).closest("a:has(.k-si-close)").length&&(e.trigger("edit",{uid:t(s.target).closest(".k-event").attr(i.attr("uid"))}),s.preventDefault())}}))},selectionByElement:function(e){var s=t(e).offset();return this._slotByPosition(s.left,s.top)},_columnCountForLevel:function(t){var e=this.columnLevels[t];return e?e.length:0},_rowCountForLevel:function(t){var e=this.rowLevels[t];return e?e.length:0},_content:function(){var t,e="<tbody>",s=1,n=this.groupedResources;for(n.length&&this._isVerticallyGrouped()&&(s=this._rowCountForLevel(n.length-1)),t=0;s>t;t++)e+=this._createCalendar();e+="</tbody>",this.content.find("table").html(e)},_createCalendar:function(){var t,e,s,n=this.startDate(),r=f*c,o=f,a=[n],l="",d=1,h=this.groupedResources;for(h.length&&(this._isVerticallyGrouped()||(d=this._columnCountForLevel(h.length-1))),this._slotIndices={},t=0;r/o>t;t++){for(l+="<tr>",a.push(n),e=t*o,s=0;d>s;s++)l+=this._createRow(n,e,o);n=i.date.addDays(n,o),l+="</tr>"}return this._weekStartDates=a,this._endDate=i.date.previousDay(n),l},_createRow:function(t,e,s){var n,r=this._firstDayOfMonth,o=this._lastDayOfMonth,a=this.dayTemplate,l="",d="";for(n=0;s>n;n++)l="",i.date.isToday(t)&&(l+="k-today"),i.date.isInDateRange(t,r,o)||(l+=" k-other-month"),d+="<td ",""!==l&&(d+='class="'+l+'"'),d+=">",d+=a({date:t}),d+="</td>",this._slotIndices[h(t).getTime()]=e+n,t=i.date.nextDay(t);return d},_layout:function(){var s,n,i,r=this.calendarInfo(),o=e(r.days.names,r.firstDay),a=t.map(o,function(t){return{text:t}}),l=this.groupedResources;if(l.length)if(this._isVerticallyGrouped()){for(n=[],i=0;6>i;i++)n.push({text:"<div>&nbsp;</div>",className:"k-hidden k-slot-cell"});s=this._createRowsLayout(l,n)}else a=this._createColumnsLayout(l,a);return{columns:a,rows:s}},_eventTmpl:function(t){var e,s=this.options,n=l({},i.Template,s.templateSettings),r=n.paramName,o="",a=typeof t,h={storage:{},count:0};return"function"===a?(h.storage["tmpl"+h.count]=t,o+="#=this.tmpl"+h.count+"("+r+")#",h.count++):"string"===a&&(o+=t),e=i.template(i.format(v,o),n),h.count>0&&(e=d(e,h.storage)),e},_createEventElement:function(e){var s=this.options,n=s.editable;return e.showDelete=n&&n.destroy!==!1,e.resizable=n&&n.resize!==!1,e.ns=i.ns,e.resources=this.eventResources(e),e.inverseColor=e.resources&&e.resources[0]?this._shouldInverseResourceColor(e.resources[0]):!1,t(this.eventTemplate(e))},_isInDateSlot:function(t){var e=this.startDate(),s=new Date(this.endDate().getTime()+u-1);return n(t.start,e,s)||n(t.end,e,s)||n(e,t.start,t.end)||n(s,t.start,t.end)},_slotIndex:function(t){return this._slotIndices[h(t).getTime()]},_positionEvent:function(e,s,n){var r,a,l,d,h,u,c,f,p,v,g,m,y,D,k,w=this.options.eventHeight,b=e.start;for(e.start.offsetLeft>e.end.offsetLeft&&(b=e.end),r=e.start.index,a=e.end.index,l=b.eventCount,d=o.collidingEvents(e.events(),r,a),h=r!==a?5:4,d.push({element:s,start:r,end:a}),u=o.createRows(d),c=0,f=Math.min(u.length,l);f>c;c++)for(p=u[c].events,v=b.offsetTop+b.firstChildHeight+c*w+3*c+"px",g=0,m=p.length;m>g;g++)p[g].element[0].style.top=v;if(u.length>l)for(y=r;a>=y;y++){if(D=e.collection,k=D.at(y),k.more)return;k.more=t(_({ns:i.ns,start:y,end:y,width:k.clientWidth-2,left:this._scrollbarOffset(k.offsetLeft+2),top:k.offsetTop+k.firstChildHeight+l*w+3*l})),this.content[0].appendChild(k.more[0])}else e.addEvent({element:s,start:r,end:a,groupIndex:b.groupIndex}),s[0].style.width=e.innerWidth()-h+"px",s[0].style.left=this._scrollbarOffset(b.offsetLeft+2)+"px",s[0].style.height=w+"px",n._continuousEvents.push({element:s,uid:s.attr(i.attr("uid")),start:e.start,end:e.end}),this.content[0].appendChild(s[0])},_slotByPosition:function(t,e){var s,n,i=this.content.offset();for(t-=i.left,e-=i.top,e+=this.content[0].scrollTop,t+=this.content[0].scrollLeft,t=Math.ceil(t),e=Math.ceil(e),s=0;s<this.groups.length;s++)if(n=this.groups[s].daySlotByPosition(t,e))return n;return null},_createResizeHint:function(t){var e,s,n,i,r=t.startSlot().offsetLeft;r=this._scrollbarOffset(r),e=t.start.offsetTop,s=t.innerWidth(),n=t.start.clientHeight-2,i=o.fn._createResizeHint.call(this,r,e,s,n),i.appendTo(this.content),this._resizeHint=this._resizeHint.add(i)},_updateResizeHint:function(t,e,s){var n,r,o;for(this._removeResizeHint(),n=this.groups[s.groupIndex],r=n.ranges(e.startDate(),t.isAllDay?s.startDate():s.endDate(),!0,t.isAllDay),o=0;o<r.length;o++)this._createResizeHint(r[o]);this._resizeHint.find(".k-label-top,.k-label-bottom").text(""),this._resizeHint.first().addClass("k-first").find(".k-label-top").text(i.toString(e.startDate(),"M/dd")),this._resizeHint.last().addClass("k-last").find(".k-label-bottom").text(i.toString(s.startDate(),"M/dd"))},_updateMoveHint:function(t,e,s){var n,r,o,a,l,d=s.start-e.start,h=i.date.toUtcTime(t.start)+d,u=h+t.duration(),c=this.groups[s.groupIndex],f=c.ranges(h,u,!0,t.isAllDay);for(this._removeMoveHint(),n=0;n<f.length;n++)r=f[n],o=r.startSlot(),a=r.endSlot(),l=this._createEventElement(t.clone({head:r.head,tail:r.tail})),l.css({left:o.offsetLeft+2,top:o.offsetTop+o.firstChildHeight,height:this.options.eventHeight,width:r.innerWidth()-(o.index!==a.index?5:4)}),l.addClass("k-event-drag-hint"),l.appendTo(this.content),this._moveHint=this._moveHint.add(l)},_groups:function(){var t,e,s,n,r,o,a,l,d,h,u,p,v,g,_,m,y,D=this._groupCount(),k=f,w=c;for(this.groups=[],t=0;D>t;t++)this._addResourceView(t);for(e=this.content[0].getElementsByTagName("tr"),s=0;D>s;s++)for(n=0,r=0,this._isVerticallyGrouped()&&(r=s),o=r*w;(r+1)*w>o;o++)for(a=this.groups[s],l=a.addDaySlotCollection(i.date.addDays(this.startDate(),n),i.date.addDays(this.startDate(),n+k)),d=e[o],h=d.children,u=0,d.setAttribute("role","row"),this._isVerticallyGrouped()||(u=s),p=u*k;(u+1)*k>p;p++)v=h[p],g=v.clientHeight,_=v.firstChild.offsetHeight+3,m=i.date.toUtcTime(i.date.addDays(this.startDate(),n)),n++,y=Math.floor((g-_)/(this.options.eventHeight+3)),v.setAttribute("role","gridcell"),v.setAttribute("aria-selected",!1),l.addDaySlot(v,m,m+i.date.MS_PER_DAY,y)},render:function(t){this.content.children(".k-event,.k-more-events").remove(),this._groups(),t=new i.data.Query(t).sort([{field:"start",dir:"asc"},{field:"end",dir:"desc"}]).toArray();var e=this.groupedResources;e.length?this._renderGroups(t,e,0,1):this._renderEvents(t,0),this.refreshLayout(),this.trigger("activate")},_renderEvents:function(t,e){var s,n,i,r,o,a,l,d,h,u,c;for(n=0,i=t.length;i>n;n++)if(s=t[n],this._isInDateSlot(s))for(r=this.groups[e],r._continuousEvents||(r._continuousEvents=[]),o=r.slotRanges(s,!0),a=o.length,l=0;a>l;l++)d=o[l],h=s.start,u=s.end,a>1&&(0===l?u=d.end.endDate():l==a-1?h=d.start.startDate():(h=d.start.startDate(),u=d.end.endDate())),c=s.clone({start:h,end:u,head:d.head,tail:d.tail}),this._positionEvent(d,this._createEventElement(c),r)},_renderGroups:function(t,e,s,n){var r,a,l,d,h=e[0];if(h)for(r=h.dataSource.view(),a=0;a<r.length;a++)l=this._resourceValue(h,r[a]),d=new i.data.Query(t).filter({field:h.field,operator:o.groupEqFilter(l)}).toArray(),e.length>1?s=this._renderGroups(d,e.slice(1),s++,n+1):this._renderEvents(d,s++);return s},_groupCount:function(){var t=this.groupedResources;return t.length?this._isVerticallyGrouped()?this._rowCountForLevel(t.length-1):this._columnCountForLevel(t.length)/this._columnOffsetForResource(t.length):1},_removeOffset:function(t,e){var s,n,i,r,o=this.groupedResources,a=0;return o.length&&(this._isVerticallyGrouped()?a=f*c*e:(s=this._columnOffsetForResource(o.length),n=this._groupCount(),i=s*n,r=Math.floor(t/i),a=s*(n-1)*r,a+=s*e)),t-a},_applyOffset:function(t,e){var s,n,i=this.groupedResources,r=0,o=f,a=c;return i.length&&(this._isVerticallyGrouped()?r=o*a*e:(s=Math.floor(t/o),n=this._columnOffsetForResource(i.length),r=n*(this._groupCount()-1)*s,r+=n*e)),t+r},_groupIndex:function(t){var e,s,n,i,r,o=this.groupedResources;return o.length?this._isVerticallyGrouped()?Math.floor(t/(f*c)):(e=this._columnOffsetForResource(o.length),s=this._groupCount(),n=e*s,i=Math.floor(t/n),r=e*s*i,Math.floor((t-r)/e)):0},_columnOffsetForResource:function(t){return this._columnCountForLevel(t)/this._columnCountForLevel(t-1)},destroy:function(){this.table&&this.table.removeClass("k-scheduler-monthview"),this.content&&this.content.off(a),this.element&&this.element.off(a),o.fn.destroy.call(this),i.support.mobileOS&&(this._closeUserEvents.destroy(),this.options.editable.create!==!1&&this._addUserEvents.destroy(),this.options.editable.update!==!1&&this._editUserEvents.destroy())},events:["remove","add","edit","navigate"],options:{title:"Month",name:"month",eventHeight:25,editable:!0,selectedDateFormat:"{0:y}",dayTemplate:p,eventTemplate:g}})}(window.kendo.jQuery);;!function(e,t){function n(e){var t=e.getMonth(),n=m(e)?J[t]:X[t];return n+e.getDate()}function a(e,n){var a,r;return e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),Q(e,0),a=e.getFullYear(),n!==t?(K(e,n,-1),e.setDate(e.getDate()+4)):e.setDate(e.getDate()+(4-(e.getDay()||7))),Q(e,0),r=Math.floor((e.getTime()-new Date(a,0,1,-6))/864e5),1+Math.floor(r/7)}function r(e,t){var n=j(e).getDay(),a=Math.abs(7-(n+7-(t||7)))||7;return Math.ceil((e.getDate()-a)/7)+1}function u(e,t,n){return 0>t&&(t=s(e,n)+(t+1)),t}function s(e,t){return r(new Date(e.getFullYear(),e.getMonth()+1,0),t)}function o(e,t,n){var a=t.offset,s=r(e,n);return i(e,t,n)||(s-=1),s===u(e,a,n)}function i(e,t,n){var a,r,s=t.day,o=t.offset;return o?(a=j(e).getDay(),n>a&&(a+=n),n>s&&(s+=n),r=s>=a,!r&&0>o&&1!==u(e,o,n)&&(r=!0),r):!0}function l(e,t,n){var a,s,o,l,c=t.getDay(),d=e.length,f=[],y=0;for(n>c&&(c+=7);d>y;y++)if(a=e[y],o=a.offset,s=a.day,n>s&&(s+=7),l=r(t,n),o=o?u(t,o,n):l,o>l)f.push(a);else if(l===o&&i(t,a,n))if(s>c)f.push(a);else if(c===s)return null;return f}function c(e,t,n){for(var a,r=0,u=e.length,s=[];u>r;r++){if(a=e[r],n&&(a=n(a)),t===a)return null;a>t&&s.push(a)}return s}function d(e,t){for(var n,a=[],r=t.length,u=0;r>u;u++)n=e[t[u]-1],n&&a.push(n);return a}function f(e,t){for(var n,a=0,r=e.length;r>a;a++){if(n=parseInt(e[a],10),isNaN(n)||n<t.start||n>t.end||0===n&&t.start<0)return null;e[a]=n}return e.sort(v)}function y(e){for(var n,a,r,u=0,s=e.length;s>u;u++){if(n=e[u],a=n.length,r=n.substring(a-2).toUpperCase(),r=tt[r],r===t)return null;e[u]={offset:parseInt(n.substring(0,a-2),10)||0,day:r}}return e}function h(e){for(var t,n,a=0,r=e.length,u=[];r>a;a++)t=e[a],"string"==typeof t?n=t:(n=""+et[t.day],t.offset&&(n=t.offset+n)),u.push(n);return""+u}function D(e){var t=e.getMonth();return 1===t?1===new Date(e.getFullYear(),1,29).getMonth()?29:28:$[t]}function m(e){return e=e.getFullYear(),0===e%4&&0!==e%100||0===e%400}function v(e,t){return e-t}function g(e,t){var n,a,r=0,u=[];if(e)for(e=e.split(";"),n=e.length;n>r;r++)a=w(e[r],t),a&&u.push(a);return u}function k(t,n,a){for(var r=e.isArray(t)?t:g(t,a),u=n.getTime()-n.getMilliseconds(),s=0,o=r.length;o>s;s++)if(r[s].getTime()===u)return!0;return!1}function p(e,n,a,r){var u,s,o,i,l,c,f,y,h,D,m,v,p,w,_,M,x=T(e.recurrenceRule),b=1,H=[];if(!x)return[e];for(h=x.start,D=x.end,(h||D)&&(e=e.clone({start:h?new Date(h.value):t,end:D?new Date(D.value):t})),w=e.start,_=w.getTime(),M=G(w),m=g(e.recurrenceException,r),y=n=new Date(n),a=new Date(a),p=ft[x.freq],v=x.count,x.until&&x.until<a&&(a=new Date(x.until)),_>n||v||x.interval>1?(n=new Date(_),i=n.getHours()):(i=n.getHours(),l=n.getMinutes(),c=n.getSeconds(),x.hours||(i=w.getHours()),x.minutes||(l=w.getMinutes()),x.seconds||(c=w.getSeconds()),n.setHours(i,l,c,w.getMilliseconds())),f=e.duration(),x._startTime=u=A.date.toInvariantTime(n),p.setup&&p.setup(x,n,w),p.limit(n,a,x);a>=n&&(n>=y&&!k(m,n,r)&&(o=new Date(n),Z(o,f),s=new Date(x._startTime),Z(s,f),_!==n.getTime()||M!==G(u)?H.push(e.toOccurrence({start:new Date(n),startTime:new Date(u),end:o,endTime:s})):(e.startTime=u,e.endTime=s,H.push(e))),!v||v!==b);)b++,p.next(n,x),p.limit(n,a,x);return x.setPositions&&(H=d(H,x.setPositions)),H}function w(e,t){return e=A.parseDate(e,nt),e&&t&&(e=C.convert(e,e.getTimezoneOffset(),t)),e}function _(e,n){var a,r,u,s,o,i,l=e.split(";");for(o=0,i=l.length;i>o;o++)a=l[o].split(":"),r=a[0],u=a[1],-1!==r.indexOf("TZID")&&(s=r.substring(r.indexOf("TZID")).split("=")[1]),u&&(u=w(u,s||n));return u?{value:u,tzid:s}:t}function T(n,a){var r,u,s,o,i,l,c,d,h,D={},m=0,v=function(e,t){var n=e.day,a=t.day;return i>n&&(n+=i),i>a&&(a+=i),n-a};if(!n)return null;for(h=n.split("\n"),h[1]||-1===n.indexOf("DTSTART")&&-1===n.indexOf("DTEND")||(h=n.split(" ")),m=0,r=h.length;r>m;m++)d=h[m],-1!==d.indexOf("DTSTART")?D.start=_(d,a):-1!==d.indexOf("DTEND")?D.end=_(d,a):c=-1!==d.indexOf("RRULE")?d.substring(6):d;for(c=c.split(";"),m=0,r=c.length;r>m;m++){switch(o=c[m],u=o.split("="),s=e.trim(u[1]).split(","),e.trim(u[0]).toUpperCase()){case"FREQ":D.freq=s[0].toLowerCase();break;case"UNTIL":D.until=w(s[0],a);break;case"COUNT":D.count=parseInt(s[0],10);break;case"INTERVAL":D.interval=parseInt(s[0],10);break;case"BYSECOND":D.seconds=f(s,{start:0,end:60});break;case"BYMINUTE":D.minutes=f(s,{start:0,end:59});break;case"BYHOUR":D.hours=f(s,{start:0,end:23});break;case"BYMONTHDAY":D.monthDays=f(s,{start:-31,end:31});break;case"BYYEARDAY":D.yearDays=f(s,{start:-366,end:366});break;case"BYMONTH":D.months=f(s,{start:1,end:12});break;case"BYDAY":D.weekDays=l=y(s);break;case"BYSETPOS":D.setPositions=f(s,{start:1,end:366});break;case"BYWEEKNO":D.weeks=f(s,{start:-53,end:53});break;case"WKST":D.weekStart=i=tt[s[0]]}if(D.freq===t||D.count!==t&&D.until)return null;D.interval||(D.interval=1),i===t&&(D.weekStart=i=A.culture().calendar.firstDay),l&&(D.weekDays=l.sort(v))}return D}function M(e,t){var n=e.value,a=e.tzid||"";return n=C.convert(n,a||t||n.getTimezoneOffset(),"Etc/UTC"),a&&(a=";TZID="+a),a+":"+A.toString(n,"yyyyMMddTHHmmssZ")+" "}function x(e,n){var a=e.weekStart,r="FREQ="+e.freq.toUpperCase(),u=e.until,s=e.start||"",o=e.end||"";return e.interval>1&&(r+=";INTERVAL="+e.interval),e.count&&(r+=";COUNT="+e.count),u&&(u=C.convert(u,n||u.getTimezoneOffset(),"Etc/UTC"),r+=";UNTIL="+A.toString(u,"yyyyMMddTHHmmssZ")),e.months&&(r+=";BYMONTH="+e.months),e.weeks&&(r+=";BYWEEKNO="+e.weeks),e.yearDays&&(r+=";BYYEARDAY="+e.yearDays),e.monthDays&&(r+=";BYMONTHDAY="+e.monthDays),e.weekDays&&(r+=";BYDAY="+h(e.weekDays)),e.hours&&(r+=";BYHOUR="+e.hours),e.minutes&&(r+=";BYMINUTE="+e.minutes),e.seconds&&(r+=";BYSECOND="+e.seconds),e.setPositions&&(r+=";BYSETPOS="+e.setPositions),a!==t&&(r+=";WKST="+et[a]),s&&(s="DTSTART"+M(s,n)),o&&(o="DTEND"+M(o,n)),(s||o)&&(r=s+o+"RRULE:"+r),r}var b,H,N,Y,R,E,O,B,S,F,L,z,U,q,A=window.kendo,C=A.timezone,I=A.Class,W=A.ui,P=W.Widget,V=A.date,Z=V.setTime,K=V.setDayOfWeek,Q=V.adjustDST,j=V.firstDayOfMonth,G=V.getMilliseconds,J=[0,31,60,91,121,152,182,213,244,274,305,335,366],X=[0,31,59,90,120,151,181,212,243,273,304,334,365],$=[31,28,30,31,30,31,30,31,30,31,30,31],et={0:"SU",1:"MO",2:"TU",3:"WE",4:"TH",5:"FR",6:"SA"},tt={SU:0,MO:1,TU:2,WE:3,TH:4,FR:5,SA:6},nt=["yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-ddTHH","yyyy-MM-dd","yyyyMMddTHHmmssfffzzz","yyyyMMddTHHmmsszzz","yyyyMMddTHHmmss","yyyyMMddTHHmm","yyyyMMddTHH","yyyyMMdd"],at=["months","weeks","yearDays","monthDays","weekDays","hours","minutes","seconds"],rt=at.length,ut={months:function(e,t,n){var a=n.months,r=c(a,e.getMonth()+1),u=!1;return null!==r&&(r.length?e.setMonth(r[0]-1,1):e.setFullYear(e.getFullYear()+1,a[0],1),u=!0),u},monthDays:function(e,t,n){for(var a,r,u,s=!1,o=e.getHours(),i=function(e){return 0>e&&(e=a+e),e};t>=e;){if(r=e.getMonth(),a=D(e),u=c(n.monthDays,e.getDate(),i),null===u)return s;if(s=!0,u.length){if(e.setMonth(r,u.sort(v)[0]),Q(e,o),r===e.getMonth())break}else e.setMonth(r+1,1)}return s},yearDays:function(e,t,a){for(var r,u,s=!1,o=e.getHours(),i=function(e){return 0>e&&(e=r+e),e};t>e;){if(r=m(e)?366:365,u=c(a.yearDays,n(e),i),null===u)return s;if(s=!0,r=e.getFullYear(),u.length){e.setFullYear(r,0,u.sort(v)[0]),Q(e,o);break}e.setFullYear(r+1,0,1)}return s},weeks:function(e,t,n){for(var r,u,s,o=n.weekStart,i=!1,l=e.getHours(),d=function(e){return 0>e&&(e=53+e),e};t>e;){if(u=c(n.weeks,a(e,o),d),null===u)return i;if(i=!0,r=e.getFullYear(),u.length){s=7*u.sort(v)[0]-1,e.setFullYear(r,0,s),K(e,o,-1),Q(e,l);break}e.setFullYear(r+1,0,1)}return i},weekDays:function(e,t,n){var a,r,u=n.weekDays,s=n.weekStart,i=l(u,e,s),c=n.interval,d=e.getHours();if(null===i)return!1;if(a=i[0],a||(a=u[0],K(e,s),n._weekDayFound&&c>1&&(e.setDate(e.getDate()+7*(c-1)),Q(e,d))),r=a.day,n._weekDayFound=!0,a.offset)for(;t>=e&&!o(e,a,s);)e.setDate(e.getDate()+7),Q(e,d),K(e,s,-1);return e.getDay()!==r&&K(e,r),!0},hours:function(e,t,n){var a=n.hours,r=n._startTime,u=r.getHours(),s=c(a,u),o=!1;return null!==s&&(o=!0,e.setHours(u),Q(e,u),s.length?(s=s[0],e.setHours(s)):(s=e.getHours(),e.setDate(e.getDate()+1),Q(e,s),s=a[0],e.setHours(s),Q(e,s)),n.minutes&&e.setMinutes(0),r.setHours(s,e.getMinutes())),o},minutes:function(e,t,n){var a=n.minutes,r=e.getMinutes(),u=c(a,r),s=n._startTime.getHours(),o=!1;return null!==u&&(o=!0,u.length?u=u[0]:(s+=1,u=a[0]),n.seconds&&e.setSeconds(0),e.setHours(s,u),s%=24,Q(e,s),n._startTime.setHours(s,u,e.getSeconds())),o},seconds:function(e,t,n){var a=n.seconds,r=n._startTime.getHours(),u=c(a,e.getSeconds()),s=e.getMinutes(),o=!1;return null!==u&&(o=!0,u.length?e.setSeconds(u[0]):(s+=1,e.setMinutes(s,a[0]),s>59&&(s%=60,r=(r+1)%24)),n._startTime.setHours(r,s,e.getSeconds())),o}},st=I.extend({next:function(e,t){var n,a,r=t._startTime,u=r.getDate();if(t.seconds)a=e.getSeconds()+1,e.setSeconds(a),r.setSeconds(a),r.setDate(u);else{if(!t.minutes)return!1;n=e.getMinutes()+1,e.setMinutes(n),r.setMinutes(n),r.setDate(u)}return!0},normalize:function(e){var t=e.rule;4===e.idx&&t.hours&&(t._startTime.setHours(0),this._hour(e.date,t))},limit:function(e,n,a){for(var r,u,s,o,i;n>=e;){for(s=u=t,i=e.getDate(),o=0;rt>o;o++){if(r=at[o],a[r]){if(s=ut[r](e,n,a),u!==t&&s)break;u=s}s&&this.normalize({date:e,rule:a,day:i,idx:o})}if(o===rt)break}},_hour:function(e,t,n){var a=t._startTime,r=a.getHours();n&&(r+=n),e.setHours(r),r%=24,a.setHours(r),Q(e,r)},_date:function(e,t,n){var a=e.getHours();e.setDate(e.getDate()+n),Q(e,a)||this._hour(e,t)}}),ot=st.extend({next:function(e,t){st.fn.next(e,t)||this._hour(e,t,t.interval)},normalize:function(e){var t=e.rule;4===e.idx&&(t._startTime.setHours(0),this._hour(e.date,t))}}),it=st.extend({next:function(e,t){st.fn.next(e,t)||(t.hours?this._hour(e,t,1):this._date(e,t,t.interval))}}),lt=st.extend({next:function(e,t){st.fn.next(e,t)||(t.hours?this._hour(e,t,1):this._date(e,t,1))},setup:function(e,t){e.weekDays||(e.weekDays=[{day:t.getDay(),offset:0}])}}),ct=st.extend({next:function(e,t){var n,a;if(!st.fn.next(e,t))if(t.hours)this._hour(e,t,1);else if(t.monthDays||t.weekDays||t.yearDays||t.weeks)this._date(e,t,1);else{for(n=e.getDate(),a=e.getHours(),e.setMonth(e.getMonth()+1),Q(e,a);e.getDate()!==n;)e.setDate(n),Q(e,a);this._hour(e,t)}},normalize:function(e){var t=e.rule,n=e.date,a=n.getHours();0!==e.idx||t.monthDays||t.weekDays?st.fn.normalize(e):(n.setDate(e.day),Q(n,a))},setup:function(e,t,n){e.monthDays||e.weekDays||t.setDate(n.getDate())}}),dt=ct.extend({next:function(e,t){var n,a=e.getHours();if(!st.fn.next(e,t))if(t.hours)this._hour(e,t,1);else if(t.monthDays||t.weekDays||t.yearDays||t.weeks)this._date(e,t,1);else if(t.months){for(n=e.getDate(),e.setMonth(e.getMonth()+1),Q(e,a);e.getDate()!==n;)e.setDate(n),Q(e,a);this._hour(e,t)}else e.setFullYear(e.getFullYear()+1),Q(e,a),this._hour(e,t)},setup:function(){}}),ft={hourly:new ot,daily:new it,weekly:new lt,monthly:new ct,yearly:new dt};A.recurrence={rule:{parse:T,serialize:x},expand:p,dayInYear:n,weekInYear:a,weekInMonth:r,numberOfWeeks:s,isException:k},b='<div class="k-edit-label"><label>{0}</label></div><div class="k-edit-field"><input class="k-recur-interval" />{1}</div>',H='<input class="k-recur-count" />{0}',N='<input class="k-recur-until" />',Y='<div class="k-edit-label"><label>{0}</label></div><div class="k-edit-field"><ul class="k-reset"><li><label><input class="k-recur-end-never" type="radio" name="end" value="never" />{1}</label></li><li><label><input class="k-recur-end-count" type="radio" name="end" value="count" />{2}</label>{3}</li><li><label><input class="k-recur-end-until" type="radio" name="end" value="until" />{4}</label>{5}</li></ul></div>',R='<div class="k-edit-label"><label>{0}</label></div><div class="k-edit-field">{1}</div>',E='<ul class="k-reset">{0}</ul>',O='<li><label><input class="k-recur-month-radio" type="radio" name="month" value="monthday" />{0}</label><input class="k-recur-monthday" /></li>',B='<li><input class="k-recur-month-radio" type="radio" name="month" value="weekday" /><input class="k-recur-offset" /><input class="k-recur-weekday" /></li>',S='<li><input class="k-recur-year-radio" type="radio" name="year" value="monthday" /><input class="k-recur-month" /><input class="k-recur-monthday" /></li>',F='<li><input class="k-recur-year-radio" type="radio" name="year" value="weekday" /><input class="k-recur-offset" /><input class="k-recur-weekday" />{0}<input class="k-recur-month" /></li>',L=function(e){for(var t=A.culture().calendar.days.namesShort,n=t.length,a="",r=0,u=[];n>r;r++)u.push(r);for(t=t.slice(e).concat(t.slice(0,e)),u=u.slice(e).concat(u.slice(0,e)),r=0;n>r;r++)a+='<label><input class="k-recur-weekday-checkbox" type="checkbox" value="'+u[r]+'" /> '+t[r]+"</label>";return a},z=".kendoRecurrenceEditor",U="click"+z,q=P.extend({init:function(e,t){var n,a=this;P.fn.init.call(a,e,t),a.wrapper=a.element,t=a.options,t.start=n=t.start||V.today(),"string"==typeof n&&(t.start=A.parseDate(n,"yyyyMMddTHHmmss")),null===t.firstWeekDay&&(t.firstWeekDay=A.culture().calendar.firstDay),a._frequencyChooser(),a._container(),a._views(),a._value={},a.value(t.value)},options:{name:"RecurrenceEditor",frequencies:["never","daily","weekly","monthly","yearly"],firstWeekDay:null,timezone:"",start:"",value:"",messages:{frequencies:{never:"Never",daily:"Daily",weekly:"Weekly",monthly:"Monthly",yearly:"Yearly"},end:{endLabel:"End:",endNever:"Never",endCountAfter:"After ",endCountOccurrence:" occurrence(s)",endUntilOn:"On "},offsetPositions:{first:"first",second:"second",third:"third",fourth:"fourth",last:"last"},daily:{repeatEvery:"Repeat every: ",days:" day(s)"},weekly:{weeks:" week(s)",repeatEvery:"Repeat every: ",repeatOn:"Repeat on: "},monthly:{repeatEvery:"Repeat every: ",repeatOn:"Repeat on: ",months:" month(s)",day:"Day "},yearly:{repeatEvery:"Repeat every: ",repeatOn:"Repeat on: ",years:" year(s)",of:" of "}}},events:["change"],destroy:function(){this.ddlFrequency.destroy(),this.container.find("input[type=radio],input[type=checkbox]").off(U),A.destroy(this.container),P.fn.destroy.call(this)},value:function(e){var n=this,a=n.options.timezone;return e===t?n._value.freq?x(n._value,a):"":(n._value=T(e,a)||{},n.ddlFrequency.value(n._value.freq||""),n.setView(n.ddlFrequency.value()),t)},setView:function(e){var n=this,a=this.container,r=this["_"+e]||"",u=n._value;return A.destroy(a),a.html(r),r?(u.freq=e,n._interval(),"weekly"===e?(u.weekDays||(u.weekDays=[{day:this.options.start.getDay(),offset:0}]),n._weekDays()):"monthly"===e?(n._monthDay(),n._weekDay(),n._setMonthRule()):"yearly"===e&&(n._month(),n._monthDay(),n._weekDay(),n._setYearRule()),n._count(),n._until(),n._setEndRule(),t):(n._value={},t)},_interval:function(){var e=this,t=e.container.find(".k-recur-interval"),n=e._value;t.kendoNumericTextBox({value:n.interval||1,decimals:0,format:"#",min:1,change:function(){n.interval=this.value(),e.trigger("change")}})},_weekDay:function(){var t,n,a,r=this,u=r.options.messages.offsetPositions,s=r.container.find(".k-recur-offset"),o=r.container.find(".k-recur-weekday"),i=r._value,l=i.weekDays;o[0]&&(r.weekDayOffsetDDL=t=new A.ui.DropDownList(s,{dataTextField:"text",dataValueField:"value",dataSource:[{text:u.first,value:"1"},{text:u.second,value:"2"},{text:u.third,value:"3"},{text:u.fourth,value:"4"},{text:u.last,value:"-1"}],change:function(){i.weekDays=[{offset:Number(t.value()),day:Number(n.value())}],r.trigger("change")}}),a=e.map(A.culture().calendar.days.names,function(e,t){return{text:e,value:t}}),r.weekDayNameDDL=n=new A.ui.DropDownList(o,{dataTextField:"text",dataValueField:"value",dataSource:a,change:function(){i.weekDays=[{offset:Number(t.value()),day:Number(n.value())}],r.trigger("change")}}),l&&(l=l[0],t.value(l.offset||""),n.value(l.day)))},_weekDays:function(){var t,n,a,r,u,s=this,o=s._value,i=s.container.find(".k-recur-weekday-checkbox");if(i[0]&&(i.on(U,function(){o.weekDays=e.map(i.filter(":checked"),function(e){return{day:Number(e.value),offset:0}}),s.trigger("change")}),o.weekDays))for(a=0,r=i.length,u=o.weekDays.length;r>a;a++)for(n=i[a],t=0;u>t;t++)n.value==o.weekDays[t].day&&(n.checked=!0)},_monthDay:function(){var e=this,t=e._value,n=e.container.find(".k-recur-monthday");n[0]&&(e.monthDayNumericTextBox=new A.ui.NumericTextBox(n,{min:1,max:31,decimals:0,format:"#",value:t.monthDays?t.monthDays[0]:e.options.start.getDate(),change:function(){var n=this.value();n&&(n=[n]),t.monthDays=n,e.trigger("change")}}))},_month:function(){var t,n,a,r=this,u=r._value,s=r.options.start,o=u.months||[s.getMonth()+1],i=r.container.find(".k-recur-month");i[0]&&(t=e.map(A.culture().calendar.months.names,function(e,t){return{text:e,value:t+1}}),r.monthDDL1=n=new A.ui.DropDownList(i[0],{dataTextField:"text",dataValueField:"value",dataSource:t,change:function(){u.months=[Number(this.value())],r.trigger("change")}}),r.monthDDL2=a=new A.ui.DropDownList(i[1],{dataTextField:"text",dataValueField:"value",dataSource:t,change:function(){u.months=[Number(this.value())],r.trigger("change")}}),o&&(o=o[0],n.value(o),a.value(o)))},_count:function(){var e=this,t=e.container.find(".k-recur-count"),n=e._value;e.countNumericTextBox=t.kendoNumericTextBox({value:n.count||1,decimals:0,format:"#",min:1,change:function(){n.count=this.value(),e.trigger("change")}}).data("kendoNumericTextBox")},_until:function(){var e=this,t=e.container.find(".k-recur-until"),n=e.options.start,a=e._value,r=a.until;e.untilDatePicker=t.kendoDatePicker({min:r&&n>r?r:n,value:r||n,change:function(){a.until=this.value(),e.trigger("change")}}).data("kendoDatePicker")},_setEndRule:function(){var e=this,t=e._value,n=e.container,a=function(t){e._toggleEndRule(t.currentTarget.value),e.trigger("change")};e.radioButtonNever=n.find(".k-recur-end-never").on(U,a),e.radioButtonCount=n.find(".k-recur-end-count").on(U,a),e.radioButtonUntil=n.find(".k-recur-end-until").on(U,a),t.count?e._toggleEndRule("count"):t.until?e._toggleEndRule("until"):e._toggleEndRule()},_setMonthRule:function(){var e=this,t=e._value,n=function(t){e._toggleMonthDayRule(t.currentTarget.value),e.trigger("change")},a=e.container.find(".k-recur-month-radio").on(U,n);e.radioButtonMonthDay=a.eq(0),e.radioButtonWeekDay=a.eq(1),t.weekDays?e._toggleMonthDayRule("weekday"):e._toggleMonthDayRule("monthday")},_setYearRule:function(){var e=this,t=e._value,n=function(t){e._toggleYearRule(t.currentTarget.value),e.trigger("change")},a=e.container.find(".k-recur-year-radio").on(U,n);e.radioButtonMonthDay=a.eq(0),e.radioButtonWeekDay=a.eq(1),t.weekDays?e._toggleYearRule("weekday"):e._toggleYearRule("monthday")},_toggleEndRule:function(e){var t=this,n=t._value;"count"===e?(t.radioButtonCount.prop("checked",!0),t.untilDatePicker.enable(!1),t.countNumericTextBox.enable(!0),n.count=t.countNumericTextBox.value(),n.until=null):"until"===e?(t.radioButtonUntil.prop("checked",!0),t.untilDatePicker.enable(!0),t.countNumericTextBox.enable(!1),n.count=null,n.until=t.untilDatePicker.value()):(t.radioButtonNever.prop("checked",!0),t.untilDatePicker.enable(!1),t.countNumericTextBox.enable(!1),n.count=null,n.until=null)},_toggleMonthDayRule:function(e){var t=this,n=t._value;"monthday"===e?(t.radioButtonMonthDay.prop("checked",!0),t.monthDayNumericTextBox.enable(!0),t.weekDayNameDDL.enable(!1),t.weekDayOffsetDDL.enable(!1),n.weekDays=null,n.monthDays=[t.monthDayNumericTextBox.value()]):(t.radioButtonWeekDay.prop("checked",!0),t.monthDayNumericTextBox.enable(!1),t.weekDayOffsetDDL.enable(!0),t.weekDayNameDDL.enable(!0),n.monthDays=null,n.weekDays=[{offset:Number(t.weekDayOffsetDDL.value()),day:Number(t.weekDayNameDDL.value())}])},_toggleYearRule:function(e){var t,n=this;"monthday"===e?(n.monthDDL1.enable(!0),n.monthDDL2.enable(!1),t=n.monthDDL1.value()):(n.monthDDL1.enable(!1),n.monthDDL2.enable(!0),t=n.monthDDL2.value()),n._value.months=[t],n._toggleMonthDayRule(e)},_container:function(){var t=this.element,n=e('<div class="k-recur-view" />'),a=t.parent(".k-edit-field");a[0]?n.insertAfter(a):t.append(n),this.container=n},_frequencyChooser:function(){var t,n=this,a=n.options,r=a.frequencies,u=a.messages.frequencies,s=e("<input />");r=e.map(r,function(e){return{text:u[e],value:e}}),t=r[0],t&&"never"===t.value&&(t.value=""),n.element.append(s),n.ddlFrequency=new A.ui.DropDownList(s,{dataTextField:"text",dataValueField:"value",dataSource:r,change:function(){n._value={},n.setView(n.ddlFrequency.value()),n.trigger("change")}})},_views:function(){var e=this,t=e.options,n=t.messages,a=n.end,r=n.daily,u=n.weekly,s=n.monthly,o=n.yearly,i=A.format(H,a.endCountOccurrence),l=A.format(Y,a.endLabel,a.endNever,a.endCountAfter,i,a.endUntilOn,N),c=A.format(R,u.repeatOn,L(t.firstWeekDay)),d=A.format(R,s.repeatOn,A.format(E,A.format(O,s.day)+B)),f=A.format(R,o.repeatOn,A.format(E,S+A.format(F,o.of)));e._daily=A.format(b,r.repeatEvery,r.days)+l,e._weekly=A.format(b,u.repeatEvery,u.weeks)+c+l,e._monthly=A.format(b,s.repeatEvery,s.months)+d+l,e._yearly=A.format(b,o.repeatEvery,o.years)+f+l}}),W.plugin(q)}(window.kendo.jQuery);;!function(e,t){function i(e,t){var i,n=t.model.fields[t.field].validation;n&&(i=n.dateCompare,i&&R(i)&&i.message&&(e[_.attr("dateCompare-msg")]=i.message))}function n(e,t){return function(i){return i=e(i),r(i,"apply",t),i||[]}}function a(e,t){return function(i){return i&&("[object Array]"===B.call(i)||i instanceof _.data.ObservableArray||(i=[i])),r(i,"remove",t,!0),i=e(i),i||[]}}function r(e,t,i,n){var a,r,o;for(e=e||[],r=0,o=e.length;o>r;r++)a=e[r],n?a.startTimezone||a.endTimezone?i?(a.start=_.timezone.convert(a.start,a.startTimezone||a.endTimezone,i),a.end=_.timezone.convert(a.end,a.endTimezone||a.startTimezone,i),a.start=_.timezone[t](a.start,i),a.end=_.timezone[t](a.end,i)):(a.start=_.timezone[t](a.start,a.startTimezone||a.endTimezone),a.end=_.timezone[t](a.end,a.endTimezone||a.startTimezone)):i&&(a.start=_.timezone[t](a.start,i),a.end=_.timezone[t](a.end,i)):a.startTimezone||a.endTimezone?(a.start=_.timezone[t](a.start,a.startTimezone||a.endTimezone),a.end=_.timezone[t](a.end,a.endTimezone||a.startTimezone),i&&(a.start=_.timezone.convert(a.start,a.startTimezone||a.endTimezone,i),a.end=_.timezone.convert(a.end,a.endTimezone||a.startTimezone,i))):i&&(a.start=_.timezone[t](a.start,i),a.end=_.timezone[t](a.end,i)),n&&delete a.uid;return e}function o(e,t){for(var i,n=e.length,a=0;n>a;a++)if(i=e[a],i.uid===t)return i}function s(e){var t=new Date(1980,0,1);return t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t}function d(e){var t,i,n,a,r;return e.filter("[name=end]").length&&(t=e.closest(".k-scheduler-edit-form"),i=t.find("[name=start]:visible"),n=t.find("[name=end]:visible"),n.length&&i.length&&(a=_.widgetInstance(i,_.ui),r=_.widgetInstance(n,_.ui),a&&r))?a.value()<=r.value():!0}function l(e,t,i,n){for(var a=e.length,r=[],o=0;a>o;o++)r=r.concat(e[o].expand(t,i,n));return r}function c(e){return delete e.name,delete e.prefix,delete e.remove,delete e.edit,delete e.add,delete e.navigate,e}function u(t){return function(i){e(_.format('<select data-{0}bind="value:{1}">',_.ns,t.field)).appendTo(i).kendoDropDownList({dataTextField:t.dataTextField,dataValueField:t.dataValueField,dataSource:t.dataSource,valuePrimitive:t.valuePrimitive,optionLabel:"None",template:_.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',t.dataColorField,t.dataTextField)})}}function v(t){return function(i){e(_.format('<select data-{0}bind="value:{1}">',_.ns,t.field)).appendTo(i).kendoMultiSelect({dataTextField:t.dataTextField,dataValueField:t.dataValueField,dataSource:t.dataSource,valuePrimitive:t.valuePrimitive,itemTemplate:_.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',t.dataColorField,t.dataTextField),tagTemplate:_.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',t.dataColorField,t.dataTextField)})}}function f(e,t){var i,n=e.end.getTime()-e.start.getTime(),a=new Date(e.start.getTime());return _.date.setTime(a,t),i=new Date(a.getTime()),_.date.setTime(i,n),{start:a,end:i}}var m,p,h,g,_=window.kendo,w=_.date,y=w.MS_PER_DAY,k=w.getDate,z=_.recurrence,T=_.keys,D=_.ui,b=D.Widget,S="string",x=D.Popup,E=D.Calendar,I=_.data.DataSource,R=e.isPlainObject,C=e.extend,H=e.proxy,B=Object.prototype.toString,V=e.isArray,A=".kendoScheduler",M="click",W="change",P="cancel",F="remove",N="save",O="add",U="edit",K=k(new Date),L="recurrenceException",j="yyyyMMddTHHmmssZ",q="Are you sure you want to delete this event?",Q="Do you want to delete only this event occurrence or the whole series?",J="Do you want to edit only this event occurrence or the whole series?",Y='<a class="k-button #=className#" #=attr# href="\\#">#=text#</a>',$=_.template('<div class="k-floatwrap k-header k-scheduler-toolbar k-secondary"><ul class="k-reset k-header k-toolbar k-scheduler-navigation"><li class="k-state-default k-nav-today"><a role="button" href="\\#" class="k-link">${messages.today}</a></li><li class="k-state-default k-nav-prev"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-w"></span></a></li><li class="k-state-default k-nav-next"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-e"></span></a></li><li class="k-state-default k-nav-current"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-calendar"></span><span data-#=ns#bind="text: formattedDate"></span></a></li></ul><ul class="k-reset k-header k-toolbar k-scheduler-views">#for(var view in views){#<li class="k-state-default k-view-#=view#" data-#=ns#name="#=view#"><a role="button" href="\\#" class="k-link">${views[view].title}</a></li>#}#</ul></div>'),Z=function(t,n){var a={name:n.field};i(a,n),e('<input type="text" required '+_.attr("type")+'="date"'+" "+_.attr("role")+'="datetimepicker" '+_.attr("bind")+'="value:'+n.field+',invisible:isAllDay" />').attr(a).appendTo(t),e('<input type="text" required '+_.attr("type")+'="date"'+" "+_.attr("role")+'="datepicker" '+_.attr("bind")+'="value:'+n.field+',visible:isAllDay" />').attr(a).appendTo(t),e("<span "+_.attr("bind")+'="text: '+n.field+'Timezone"></span>').appendTo(t),"end"===n.field&&e("<span "+_.attr("bind")+'="text: startTimezone, invisible: endTimezone"></span>').appendTo(t),e("<span "+_.attr("for")+'="'+n.field+'" class="k-invalid-msg"/>').hide().appendTo(t)},G=_.date.getMilliseconds,X=function(t,i){e("<div "+_.attr("bind")+'="value:'+i.field+'" />').attr({name:i.field}).appendTo(t).kendoRecurrenceEditor({start:i.model.start,timezone:i.timezone,messages:i.messages})},et=function(t,i){e('<a href="#" class="k-button">'+i.messages.timezoneEditorButton+"<a/>").click(i.click).appendTo(t)},tt=function(t,i){e("<div "+_.attr("bind")+'="value:'+i.field+'" />').attr({name:i.field}).toggle(i.visible).appendTo(t).kendoTimezoneEditor()},it=_.Class.extend({init:function(t,i){var r=t.timezone;this.reader=i,i.model&&(this.model=i.model),this.timezone=r,this.data=n(e.proxy(this.data,this),r),this.serialize=a(e.proxy(this.serialize,this),r)},errors:function(e){return this.reader.errors(e)},parse:function(e){return this.reader.parse(e)},data:function(e){return this.reader.data(e)},total:function(e){return this.reader.total(e)},groups:function(e){return this.reader.groups(e)},aggregates:function(e){return this.reader.aggregates(e)},serialize:function(e){return this.reader.serialize(e)}}),nt=_.data.Model.define({init:function(e){var t=this;_.data.Model.fn.init.call(t,e)},clone:function(t,i){var n=this.uid,a=new this.constructor(e.extend({},this.toJSON(),t));return i||(a.uid=n),a},duration:function(){var e=this.end,t=this.start,i=(e.getTimezoneOffset()-t.getTimezoneOffset())*_.date.MS_PER_MINUTE;return e-t-i},expand:function(e,t,i){return z?z.expand(this,e,t,i):[this]},update:function(e){for(var t in e)this.set(t,e[t]);this.set("startTime",s(this.start)),this.set("endTime",s(this.end))},isMultiDay:function(){return this.isAllDay||this.duration()>=_.date.MS_PER_DAY},isException:function(){return this.id&&this.recurrenceId},isOccurrence:function(){return this.isNew()&&this.recurrenceId},isRecurring:function(){return!(!this.recurrenceRule&&!this.recurrenceId)},isRecurrenceHead:function(){return!(!this.id||!this.recurrenceRule)},toOccurrence:function(t){return t=e.extend(t,{recurrenceException:null,recurrenceRule:null,recurrenceId:this.id||this.recurrenceId,id:this.defaults.id}),t[this.idField]=this.defaults.id,this.clone(t,!0)},toJSON:function(){var e=_.data.Model.fn.toJSON.call(this);return e.uid=this.uid,delete e.startTime,delete e.endTime,e},set:function(e,t){var i,n,a,r=this.isAllDay||!1;_.data.Model.fn.set.call(this,e,t),"isAllDay"==e&&t!=r&&(i=_.date.getDate(this.start),n=new Date(this.end),a=_.date.getMilliseconds(n),0===a&&t&&(a=y),this.set("start",i),t===!0?(_.date.setTime(n,-a),i>n&&(n=i)):_.date.setTime(n,y-a),this.set("end",n))},id:"id",fields:{id:{type:"number"},title:{defaultValue:"",type:"string"},start:{type:"date",validation:{required:!0}},startTimezone:{type:"string"},end:{type:"date",validation:{required:!0,dateCompare:{value:d,message:"End date should be greater than or equal to the start date"}}},endTimezone:{type:"string"},recurrenceRule:{defaultValue:"",type:"string"},recurrenceException:{defaultValue:"",type:"string"},isAllDay:{type:"boolean",defaultValue:!1},description:{type:"string"}}}),at=I.extend({init:function(e){I.fn.init.call(this,C(!0,{},{schema:{modelBase:nt,model:nt}},e)),this.reader=new it(this.options.schema,this.reader)},expand:function(e,t){var i=this.view(),n={};return e&&t&&(t=new Date(t.getTime()+y-1),n={logic:"or",filters:[{logic:"and",filters:[{field:"start",operator:"gte",value:e},{field:"end",operator:"gte",value:e},{field:"start",operator:"lte",value:t}]},{logic:"and",filters:[{field:"start",operator:"lte",value:new Date(e.getTime()+y-1)},{field:"end",operator:"gte",value:e}]}]},i=new _.data.Query(l(i,e,t,this.reader.timezone)).filter(n).toArray()),i},cancelChanges:function(e){e&&e.isOccurrence()&&this._removeExceptionDate(e),I.fn.cancelChanges.call(this,e)},insert:function(e,t){if(t){if(!(t instanceof nt)){var i=t;t=this._createNewModel(),t.accept(i)}return(t.isRecurrenceHead()||t.recurrenceId)&&(t=t.recurrenceId?t:t.toOccurrence(),this._addExceptionDate(t)),I.fn.insert.call(this,e,t)}},remove:function(e){return e.isRecurrenceHead()?this._removeExceptions(e):e.isRecurring()&&this._addExceptionDate(e),I.fn.remove.call(this,e)},_removeExceptions:function(e){for(var t=this.data().slice(0),i=t.shift(),n=e.id;i;)i.recurrenceId===n&&I.fn.remove.call(this,i),i=t.shift();e.set(L,"")},_removeExceptionDate:function(e){var t,i,n;e.recurrenceId&&(t=this.get(e.recurrenceId),t&&(i=e.start,i=_.timezone.convert(i,this.reader.timezone||i.getTimezoneOffset(),"Etc/UTC"),n=_.toString(i,j)+";",t.set(L,t.recurrenceException.replace(n,""))))},_addExceptionDate:function(e){var t=e.start,i=this.reader.timezone,n=this.get(e.recurrenceId),a=n.recurrenceException||"";z.isException(a,t,i)||(t=_.timezone.convert(t,i||t.getTimezoneOffset(),"Etc/UTC"),a+=_.toString(t,j)+";",n.set(L,a))}});at.create=function(e){e=e&&e.push?{data:e}:e;var t=e||{},i=t.data;if(t.data=i,!(t instanceof at)&&t instanceof _.data.DataSource)throw Error("Incorrect DataSource type. Only SchedulerDataSource instances are supported");return t instanceof at?t:new at(t)},C(!0,_.data,{SchedulerDataSource:at,SchedulerDataReader:it,SchedulerEvent:nt}),m={update:{text:"Save",className:"k-scheduler-update"},canceledit:{text:"Cancel",className:"k-scheduler-cancel"},destroy:{text:"Delete",imageClass:"k-delete",className:"k-scheduler-delete",iconClass:"k-icon"}},p=b.extend({init:function(t,i){var n=this;b.fn.init.call(n,t,i),n.options.views&&n.options.views.length||(n.options.views=["day","week"]),n.resources=[],n._initModel(),n._wrapper(),n._views(),n._toolbar(),n._dataSource(),n._resources(),n._resizeHandler=H(n._resize,n),n.wrapper.on("mousedown"+A+" selectstart"+A,function(e){e.preventDefault()}),n.options.editable&&n.options.editable.resize!==!1&&n._resizable(),n.options.editable&&n.options.editable.move!==!1&&n._movable(),e(window).on("resize"+A,n._resizeHandler),n.options.messages&&n.options.messages.recurrence&&(z.options=n.options.messages.recurrence),n._selectable(),n._ariaId=_.guid()},_selectable:function(){var t,i=this,n=i.wrapper,a=_.support.mobileOS?"touchend":"mousedown";i.options.selectable&&(i._tabindex(),n.on(a,".k-scheduler-header-all-day td, .k-scheduler-content td, .k-event",function(e){i._createSelection(e.currentTarget),n.focus()}),t=e.proxy(i._mouseMove,i),n.on("mousedown"+A,".k-scheduler-header-all-day td, .k-scheduler-content td",function(){n.on("mousemove"+A,".k-scheduler-header-all-day td, .k-scheduler-content td",t)}),n.on("mouseup"+A+" mouseleave"+A,function(){n.off("mousemove"+A,".k-scheduler-header-all-day td, .k-scheduler-content td",t)}),n.on("focus"+A,function(){i._selection||i._createSelection(e(".k-scheduler-content").find("td:first")),i._select()}),n.on("focusout"+A,function(){i.view().clearSelection(),i._ctrlKey=i._shiftKey=!1}),n.on("keydown"+A,H(i._keydown,i)),n.on("keyup"+A,function(e){i._ctrlKey=e.ctrlKey,i._shiftKey=e.shiftKey}))},_select:function(){var e,t,i=this.view(),n=this.wrapper,a=i.current(),r=this._selection;a&&(a.removeAttribute("id"),a.removeAttribute("aria-label"),n.removeAttr("aria-activedescendant")),i.select(r),a=i.current(),a&&(t=r,r.events[0]?(t=this.occurrenceByUid(r.events[r.events.length-1])||r,e=_.format(this.options.messages.ariaEventLabel,t.title,t.start,t.start)):e=_.format(this.options.messages.ariaSlotLabel,t.start,t.end),a.setAttribute("id",this._ariaId),a.setAttribute("aria-label",e),n.attr("aria-activedescendant",this._ariaId))},_mouseMove:function(t){var i=this;clearTimeout(i._moveTimer),i._moveTimer=setTimeout(function(){var n,a,r,o=i.view(),s=i._selection;s&&(n=o.selectionByElement(e(t.currentTarget)),n&&s.groupIndex===n.groupIndex&&(a=n.startDate(),r=n.endDate(),a>=s.end?s.backward=!1:r<=s.start&&(s.backward=!0),s.backward?s.start=a:s.end=r,i._select()))},5)},_viewByIndex:function(e){var t,i=this.views;for(t in i){if(!e)return t;e--}},_keydown:function(t){var i=this,n=t.keyCode,a=i.view(),r=a.options.editable,o=i._selection,s=t.shiftKey;i._ctrlKey=t.ctrlKey,i._shiftKey=t.shiftKey,n===T.TAB?a.moveToEvent(o,s)&&(i._select(),t.preventDefault()):r&&n===T.ENTER?o.events.length?r.update!==!1&&i.editEvent(o.events[0]):r.create!==!1&&(o.isAllDay&&(o=e.extend({},o,{end:_.date.addDays(o.end,-1)})),i.addEvent(o)):n===T.DELETE?i.removeEvent(o.events[0]):n>=49&&57>=n?i.view(i._viewByIndex(n-49)):a.move(o,n,s)&&(a.inRange(o)?i._select():i.date(o.start),t.preventDefault()),i._adjustSelectedDate()},_createSelection:function(t){var i,n,a;this._selection&&(this._ctrlKey||this._shiftKey)||(this._selection={events:[],groupIndex:0}),t=e(t),a=this._selection,i=t.attr(_.attr("uid")),n=this.view().selectionByElement(t),n&&(a.groupIndex=n.groupIndex||0),i&&(n=o(this._data,i)),n&&n.uid&&(i=[n.uid]),this._updateSelection(n,i),this._adjustSelectedDate()},_updateSelection:function(e,t){var i,n,a=this._selection;e&&a&&(this._shiftKey&&a.start&&a.end?(i=e.end<a.end,n=this.view(),a.end=e.endDate?e.endDate():e.end,i&&n._timeSlotInterval&&_.date.setTime(a.end,-n._timeSlotInterval())):(a.start=e.startDate?e.startDate():e.start,a.end=e.endDate?e.endDate():e.end),a.isAllDay="isDaySlot"in e?e.isDaySlot:e.isAllDay,a.index=e.index,a.events=this._ctrlKey?a.events.concat(t||[]):t||[])},options:{name:"Scheduler",date:K,editable:!0,autoBind:!0,timezone:"",messages:{today:"Today",save:"Save",cancel:"Cancel",destroy:"Delete",deleteWindowTitle:"Delete event",ariaSlotLabel:"Selected from {0:t} to {1:t}",ariaEventLabel:"{0} on {1:D} at {2:t}",views:{day:"Day",week:"Week",agenda:"Agenda",month:"Month"},recurrenceMessages:{deleteWindowTitle:"Delete Recurring Item",deleteWindowOccurrence:"Delete current occurrence",deleteWindowSeries:"Delete the series",editWindowTitle:"Edit Recurring Item",editWindowOccurrence:"Edit current occurrence",editWindowSeries:"Edit the series"},editor:{title:"Title",start:"Start",end:"End",allDayEvent:"All day event",description:"Description",repeat:"Repeat",timezone:" ",startTimezone:"Start timezone",endTimezone:"End timezone",separateTimezones:"Use separate start and end time zones",timezoneEditorTitle:"Timezones",timezoneEditorButton:"Time zone",editorTitle:"Event"}},height:null,width:null,resources:[],group:{resources:[],direction:"horizontal"},views:[],selectable:!1},events:[F,U,P,N,"add","dataBinding","dataBound","moveStart","move","moveEnd","resizeStart","resize","resizeEnd","navigate"],destroy:function(){var t,i=this;b.fn.destroy.call(i),i.dataSource&&i.dataSource.unbind(W,i._refreshHandler),i.calendar&&(i.calendar.destroy(),i.popup.destroy()),i.view()&&i.view().destroy(),i._destroyEditable(),t=i.element.add(i.wrapper).add(i.toolbar).add(i.popup),t.off(A),e(window).off("resize"+A,i._resizeHandler),_.destroy(i.wrapper)},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.options.autoBind&&e.fetch()},items:function(){return this.wrapper.children(".k-event, .k-task")},_movable:function(){var t,i,n,a=this;a._moveDraggable=new _.ui.Draggable(a.element,{distance:0,filter:".k-event",dragstart:function(e){var r=a.view(),o=e.currentTarget;n=a.occurrenceByUid(o.attr(_.attr("uid"))),t=r._slotByPosition(e.x.location,e.y.location),i=t,(!t||a.trigger("moveStart",{event:n}))&&e.preventDefault()},drag:function(e){var r,o,s=a.view(),d=s._slotByPosition(e.x.location,e.y.location);d&&(s._updateMoveHint(n,t,d),r=d.start-t.start,o=f(n,r),a.trigger("move",{event:n,slot:{element:d.element,start:d.startDate(),end:d.endDate()},resources:s._resourceBySlot(d),start:o.start,end:o.end})?s._updateMoveHint(n,t,i):i=d)},dragend:function(){var r,o,s,d,l,c,u;a.view()._removeMoveHint(),r=i.start-t.start,o=f(n,r),s=o.start,d=o.end,l=a.view()._resourceBySlot(i),c=a.view()._resourceBySlot(t),u=a.trigger("moveEnd",{event:n,slot:{element:i.element,start:i.startDate(),end:i.endDate()},start:s,end:d,resources:l}),u||n.start.getTime()==s.getTime()&&n.end.getTime()==d.getTime()&&_.stringify(l)==_.stringify(c)||a._updateEvent(null,n,e.extend({start:s,end:d},l))},dragcancel:function(){a.view()._removeMoveHint()}})},_resizable:function(){function t(e){var t,i={"k-resize-e":"east","k-resize-w":"west","k-resize-n":"north","k-resize-s":"south"};for(t in i)if(e.hasClass(t))return i[t]}var i,n,a,r=this;r._resizeDraggable=new _.ui.Draggable(r.element,{distance:0,filter:".k-resize-handle",dragstart:function(t){var o,s,d,l=e(t.currentTarget),c=l.closest(".k-event"),u=c.attr(_.attr("uid"));a=r.occurrenceByUid(u),r.trigger("resizeStart",{event:a})&&t.preventDefault(),o=r.view(),s=this.element.find(_.format(".k-event[{0}={1}]",_.attr("uid"),u)),c=s.first(),d=c.offset(),i=o._slotByPosition(d.left,d.top),c=s.last(),d=c.offset(),d.left+=c[0].clientWidth,d.top+=c[0].clientHeight,n=o._slotByPosition(d.left,d.top)},drag:function(o){var s,d,l,c=e(o.currentTarget),u=t(c),v=r.view(),f=v._slotByPosition(o.x.location,o.y.location);f&&(s=!1,d=i,l=n,"south"==u?!f.isDaySlot&&i.groupIndex==f.groupIndex&&f.end-_.date.toUtcTime(a.start)>=v._timeSlotInterval()&&(n=f,s=!0):"north"==u?!f.isDaySlot&&n.groupIndex==f.groupIndex&&_.date.toUtcTime(a.end)-f.start>=v._timeSlotInterval()&&(i=f,s=!0):"east"==u?f.isDaySlot&&i.groupIndex==f.groupIndex&&_.date.toUtcTime(_.date.getDate(f.endDate()))>=_.date.toUtcTime(_.date.getDate(a.start))&&(n=f,s=!0):"west"==u&&f.isDaySlot&&n.groupIndex==f.groupIndex&&_.date.toUtcTime(_.date.getDate(a.end))>=_.date.toUtcTime(_.date.getDate(f.startDate()))&&(i=f,s=!0),s&&(r.trigger("resize",{event:a,slot:{element:f.element,start:f.startDate(),end:f.endDate()},start:i.startDate(),end:n.endDate(),resources:v._resourceBySlot(f)})?(i=d,n=l):v._updateResizeHint(a,i,n)))},dragend:function(o){var s,d=e(o.currentTarget),l=new Date(a.start.getTime()),c=new Date(a.end.getTime()),u=t(d);r.view()._removeResizeHint(),"south"==u?c=n.endDate():"north"==u?l=i.startDate():"east"==u?c=a.isAllDay?_.date.getDate(n.startDate()):_.date.getDate(n.endDate()):"west"==u&&(l=new Date(i.start),l.setHours(0),l.setMinutes(0)),s=r.trigger("resizeEnd",{event:a,slot:{element:n.element,start:n.startDate(),end:n.endDate()},start:l,end:c,resources:r.view()._resourceBySlot(n)}),!s&&c.getTime()>=l.getTime()&&(a.start.getTime()!=l.getTime()||a.end.getTime()!=c.getTime())&&r._updateEvent(u,a,{start:l,end:c})},dragcancel:function(){r.view()._removeResizeHint()}})},_updateEvent:function(e,t,i){var n=this,a=function(e){try{n._preventRefresh=!0,e.update(i)}finally{n._preventRefresh=!1}n.refresh(),n.trigger(N,{event:e})||(n._updateSelection(e),n.dataSource.sync())},r=function(e){return e.recurrenceRule?n.dataSource.getByUid(e.uid):n.dataSource.get(e.recurrenceId)},o=function(){var n,o,s=r(t);("south"==e||"north"==e)&&(i.start&&(n=_.date.getDate(s.start),_.date.setTime(n,G(i.start)),i.start=n),i.end&&(o=_.date.getDate(s.end),_.date.setTime(o,G(i.end)),i.end=o)),a(s)},s=function(){var e=r(t).toOccurrence({start:t.start,end:t.end});a(n.dataSource.add(e))},d=n.options.messages.recurrenceMessages;t.recurrenceRule||t.isOccurrence()?n.showDialog({title:d.editWindowTitle,text:d.editRecurring?d.editRecurring:J,buttons:[{text:d.editWindowOccurrence,click:s},{text:d.editWindowSeries,click:o}]}):a(n.dataSource.getByUid(t.uid))},_modelForContainer:function(t){return t=e(t).closest("["+_.attr("uid")+"]"),this.dataSource.getByUid(t.attr(_.attr("uid")))},showDialog:function(t){var i,n,a=_.format("<div class='k-popup-edit-form'><div class='k-edit-form-container'><p class='k-popup-message'>{0}</p>",t.text),r=this;for(a+='<div class="k-edit-buttons k-state-default">',i=0;i<t.buttons.length;i++)a+=r._createButton(t.buttons[i]);a+="</div></div></div>",n=e(a).appendTo(r.wrapper).eq(0).on("click",".k-button",function(i){i.preventDefault(),n.close();var a=e(i.currentTarget).index();t.buttons[a].click()}).kendoWindow({modal:!0,resizable:!1,draggable:!1,title:t.title,visible:!1,close:function(){this.destroy(),r.focus()}}).getKendoWindow(),n.center().open()},focus:function(){this.wrapper.focus()},_confirmation:function(e){var t,i,n=this.options.editable;n===!0||n.confirmation!==!1?(t=this.options.messages,i=typeof n.confirmation===S?n.confirmation:q,this.showDialog({text:i,title:t.deleteWindowTitle,buttons:[{name:"destroy",text:t.destroy,click:function(){e()}},{name:"canceledit",text:t.cancel,click:function(){e(!0)}}]})):e()},addEvent:function(e){var t,i,n=this.editable,a=this.dataSource;e=e||{},i=this.trigger("add",{event:e}),!i&&(n&&n.end()||!n)&&(this.cancelEvent(),e&&e.toJSON&&(e=e.toJSON()),t=a.add(e),t&&(this.cancelEvent(),this._editEvent(t)))},saveEvent:function(){var e=this,t=e._editContainer,i=e._modelForContainer(t),n=e.editable;t&&n&&n.end()&&!e.trigger(N,{container:t,event:i})&&(i.dirty||e._convertDates(i,"remove"),i.isRecurrenceHead()&&e.dataSource._removeExceptions(i),e.dataSource.sync())},cancelEvent:function(){var e,t=this,i=t._editContainer;i&&(e=t._modelForContainer(i),t.dataSource.cancelChanges(e),t._destroyEditable())},editEvent:function(e){var t="string"==typeof e?this.occurrenceByUid(e):e;t&&(this.cancelEvent(),t.isRecurring()?this._editRecurringDialog(t):this._editEvent(t))},_editEvent:function(e){var t,i=this;i._createPopupEditor(e),t=i._editContainer,t.on(M+A,"a.k-scheduler-cancel",function(n){n.preventDefault(),n.stopPropagation(),i.trigger(P,{container:t,event:e})||i.cancelEvent()}),t.on(M+A,"a.k-scheduler-update",function(e){e.preventDefault(),e.stopPropagation(),i.saveEvent()})},_editRecurringDialog:function(e){var t=this,i=function(){e.isException()?t._editEvent(e):t.addEvent(e)},n=function(){e.recurrenceId&&(e=t.dataSource.get(e.recurrenceId)),t._editEvent(e)},a=t.options.messages.recurrenceMessages;t.showDialog({title:a.editWindowTitle,text:a.editRecurring?a.editRecurring:J,buttons:[{text:a.editWindowOccurrence,click:i},{text:a.editWindowSeries,click:n}]})},_createButton:function(e){var t=e.template||Y,i=typeof e===S?e:e.name||e.text,n={className:"k-scheduler-"+(i||"").replace(/\s/g,""),text:i,attr:""};if(!(i||R(e)&&e.template))throw Error("Custom commands should have name specified");return R(e)?(e.className&&(e.className+=" "+n.className),"edit"===i&&R(e.text)&&(e=C(!0,{},e),e.text=e.text.edit),n=C(!0,n,m[i],e)):n=C(!0,n,m[i]),_.template(t)(n)},_convertDates:function(e,t){var i=this.dataSource.reader.timezone,n=e.startTimezone,a=e.endTimezone,r=e.start,o=e.start;t=t||"apply",n=n||a,a=a||n,n&&(i?"apply"===t?(r=_.timezone.convert(e.start,i,n),o=_.timezone.convert(e.end,i,a)):(r=_.timezone.convert(e.start,n,i),o=_.timezone.convert(e.end,a,i)):(r=_.timezone[t](e.start,n),o=_.timezone[t](e.end,a)),e._set("start",r),e._set("end",o))},_revertTimezones:function(e){e.set("startTimezone",this._startTimezone),e.set("endTimezone",this._endTimezone),delete this._startTimezone,delete this._endTimezone},_createTimezonePopup:function(e,t){var i,n=this,a=n._editContainer.find(".k-scheduler-timezones"),r=a.find(".k-timezone-toggle"),o=a.find("[data-role=timezoneeditor]:first").data("kendoTimezoneEditor"),s=a.find(".k-edit-label:last").add(a.find(".k-edit-field:last")),d=a.find(".k-scheduler-savetimezone"),l=a.find(".k-scheduler-canceltimezone"),c=n._timezonePopup;n._startTimezone=e.startTimezone,n._endTimezone=e.endTimezone,c||(n._timezonePopup=c=a.kendoWindow({modal:!0,resizable:!1,draggable:!0,title:n.options.messages.editor.timezoneEditorTitle,visible:!1,close:function(i){i.userTriggered&&n._revertTimezones(e),t&&t.focus()}}),r.click(function(){s.toggle(r.prop("checked")),e.set("endTimezone","")}),d.click(function(e){e.preventDefault(),i.close()}),l.click(function(t){t.preventDefault(),n._revertTimezones(e),i.close()}),o&&o.bind("change",function(){var t=this.value();r.prop("disabled",!t),t||(s.hide(),e.set("endTimezone",""),r.prop("checked",!1))})),r.prop("checked",e.endTimezone).prop("disabled",!e.endTimezone),s.toggle(e.endTimezone),i=c.data("kendoWindow"),i.center().open()},_createPopupEditor:function(i){var n,a,r,o,s,d,l,c,f=this,m=f.options.editable,p="<div "+_.attr("uid")+'="'+i.uid+'" class="k-popup-edit-form k-scheduler-edit-form"><div class="k-edit-form-container">',h=m.template,g=f.options.messages,w=g.save,y=g.cancel,k=function(e){e.preventDefault(),f._createTimezonePopup(i,this)},z=[{field:"title",title:g.editor.title},{field:"start",title:g.editor.start,editor:Z},{field:"end",title:g.editor.end,editor:Z},{field:"isAllDay",title:g.editor.allDayEvent}],T=R(m)?m.window:{},D=C({},_.Template,f.options.templateSettings),b=D.paramName,x=[];if(h)typeof h===S&&(h=window.unescape(h)),p+=_.template(h,D)(i);else{_.timezone.windows_zones&&!i.isAllDay&&(z.push({field:"timezone",title:g.editor.timezone,editor:et,click:k,messages:g.editor}),z.push({field:"startTimezone",title:g.editor.startTimezone,editor:tt}),z.push({field:"endTimezone",title:g.editor.endTimezone,editor:tt})),i.recurrenceId||z.push({field:"recurrenceRule",title:g.editor.repeat,editor:X,timezone:this.dataSource.reader.timezone,messages:g.recurrenceEditor}),"description"in i&&z.push({field:"description",title:g.editor.description,editor:'<textarea name="description" class="k-textbox"/>'});for(a=0;a<f.resources.length;a++)r=f.resources[a],z.push({field:r.field,title:r.title,editor:r.multiple?v(r):u(r)});for(o=0,s=z.length;s>o;o++)d=z[o],"startTimezone"===d.field&&(p+='<div class="k-popup-edit-form k-scheduler-edit-form k-scheduler-timezones" style="display:none">',p+='<div class="k-edit-form-container">',p+='<div class="k-edit-label"></div>',p+='<div class="k-edit-field"><label><input class="k-timezone-toggle" type="checkbox" />'+g.editor.separateTimezones+"</label></div>"),p+='<div class="k-edit-label"><label for="'+d.field+'">'+(d.title||d.field||"")+"</label></div>",!i.editable||i.editable(d.field)?(x.push(d),p+="<div "+_.attr("container-for")+'="'+d.field+'" class="k-edit-field"></div>'):(l="#:",d.field?(d=_.expr(d.field,b),l+=d+"==null?'':"+d):l+="''",l+="#",l=_.template(l,D),p+='<div class="k-edit-field">'+l(i)+"</div>"),"endTimezone"===d.field&&(p+='<div class="k-edit-buttons k-state-default">',p+=f._createButton({name:"savetimezone",text:g.save})+f._createButton({name:"canceltimezone",text:g.cancel}),p+="</div></div></div>")}p+='<div class="k-edit-buttons k-state-default">',p+=f._createButton({name:"update",text:w,attr:n})+f._createButton({name:"canceledit",text:y,attr:n}),p+="</div></div></div>",c=f._editContainer=e(p).appendTo(f.wrapper).eq(0).kendoWindow(C({modal:!0,resizable:!1,draggable:!0,title:g.editor.editorTitle,visible:!1,close:function(e){if(e.userTriggered){if(f.trigger(P,{container:c,event:i}))return e.preventDefault(),t;f.cancelEvent(),f.focus()}}},T)),i.isNew()||f._convertDates(i),f.editable=f._editContainer.kendoEditable({fields:x,model:i,clearContainer:!1,validateOnBlur:!0}).data("kendoEditable"),f.trigger(U,{container:c,event:i})?f.cancelEvent():c.data("kendoWindow").center().open()},_destroyEditable:function(){var e=this,t=function(){e.editable&&(e.editable.destroy(),e.editable=null,e._editContainer=null)};e.editable&&(e._timezonePopup&&e._timezonePopup.data("kendoWindow")&&(e._timezonePopup.data("kendoWindow").destroy(),e._timezonePopup=null),e._editContainer.data("kendoWindow").bind("deactivate",t).close())},removeEvent:function(e){var t=this,i="string"==typeof e?t.occurrenceByUid(e):e;i&&(i.isRecurring()?t._deleteRecurringDialog(i):t._confirmation(function(e){e||t._removeEvent(i)}))},occurrenceByUid:function(e){var t=this.dataSource.getByUid(e);return t||(t=o(this._data,e)),t},occurrencesInRange:function(e,t){return new _.data.Query(this._data).filter({logic:"or",filters:[{logic:"and",filters:[{field:"start",operator:"gte",value:e},{field:"end",operator:"gte",value:e},{field:"start",operator:"lt",value:t}]},{logic:"and",filters:[{field:"start",operator:"lte",value:e},{field:"end",operator:"gt",value:e}]}]}).toArray()},_removeEvent:function(e){this.trigger(F,{event:e})||this.dataSource.remove(e)&&this.dataSource.sync()},_deleteRecurringDialog:function(e){var t=this,i=function(){var i=e.recurrenceId?e:e.toOccurrence();t._removeEvent(i)},n=function(){e.recurrenceId&&(e=t.dataSource.get(e.recurrenceId)),t._removeEvent(e)},a=t.options.messages.recurrenceMessages;t.showDialog({title:a.deleteWindowTitle,text:a.deleteRecurring?a.deleteRecurring:Q,buttons:[{text:a.deleteWindowOccurrence,click:i},{text:a.deleteWindowSeries,click:n}]})},_unbindView:function(e){e.destroy()},_bindView:function(e){var t=this;t.options.editable&&(t._viewRemoveHandler&&e.unbind(F,t._viewRemoveHandler),t._viewRemoveHandler=function(e){t.removeEvent(e.uid)},e.bind(F,t._viewRemoveHandler),t._viewAddHandler&&e.unbind(O,t._viewAddHandler),t._viewAddHandler=function(e){t.addEvent(e.eventInfo)},e.bind(O,this._viewAddHandler),t._viewEditHandler&&e.unbind(U,t._viewEditHandler),t._viewEditHandler=function(e){t.editEvent(e.uid)},e.bind(U,this._viewEditHandler)),t._viewNavigateHandler&&e.unbind("navigate",t._viewNavigateHandler),t._viewNavigateHandler=function(e){var i,n;e.view&&(i="isWorkDay"in e,n=i?"changeWorkDay":"changeView",t.trigger("navigate",{view:e.view,isWorkDay:e.isWorkDay,action:n,date:e.date})||(i&&(t._workDayMode=e.isWorkDay),t._selectView(e.view),t.date(e.date)))},e.bind("navigate",t._viewNavigateHandler),t._viewActivateHandler&&e.unbind("activate",t._viewActivateHandler),t._viewActivateHandler=function(){var e=this;t._selection&&(e.constrainSelection(t._selection),t._select(),t._adjustSelectedDate())},e.bind("activate",t._viewActivateHandler)},_selectView:function(e){var t=this;e&&t.views[e]&&(t._selectedView&&t._unbindView(t._selectedView),t._selectedView=t._renderView(e),t._selectedViewName=e,t.toolbar.find(".k-scheduler-views li").removeClass("k-state-selected").end().find(".k-view-"+e).addClass("k-state-selected"))},view:function(e){var i=this;return e?(i._selectView(e),i.rebind(),t):i._selectedView},_renderView:function(e){var t=this._initializeView(e);return this._bindView(t),this._model.set("formattedDate",t.dateForTitle()),t},_resize:function(){this.refresh({action:"resize"})},_adjustSelectedDate:function(){var e=this._model.selectedDate,t=this._selection,i=t.start;i&&!_.date.isInDateRange(e,k(i),k(t.end))&&e.setFullYear(i.getFullYear(),i.getMonth(),i.getDate())},_initializeView:function(e){var t,i,n=this.views[e];if(n){if(t=R(n),i=n.type,typeof i===S&&(i=_.getter(n.type)(window)),!i)throw Error("There is no such view");n=new i(this.wrapper,c(C(!0,{},this.options,t?n:{},{resources:this.resources,date:this.date(),workDay:this._workDayMode})))}return n},_views:function(){var e,t,i,n,a,r,o,s,d,l=this.options.views;for(this.views={},o=0,s=l.length;s>o;o++)d=!1,e=l[o],n=R(e),n?(r=a=e.type?e.type:e,typeof r!==S&&(a=e.title,d=!0)):r=a=e,t=h[a],t&&!d&&(e.type=t.type,t.title=this.options.messages.views[a],"day"===t.type?t.messages={allDay:this.options.messages.allDay}:"agenda"===t.type&&(t.messages={event:this.options.messages.event,date:this.options.messages.date,time:this.options.messages.time})),e=C({title:a},t,n?e:{}),a&&(this.views[a]=e,(!i||e.selected)&&(i=a));
i&&(this._selectedViewName=i)},rebind:function(){this.dataSource.fetch()},_dataSource:function(){var e=this,t=e.options,i=t.dataSource;i=V(i)?{data:i}:i,!t.timezone||i instanceof at||(i=C(!0,i,{schema:{timezone:t.timezone}})),e.dataSource&&e._refreshHandler?e.dataSource.unbind(W,e._refreshHandler):e._refreshHandler=H(e.refresh,e),e.dataSource=_.data.SchedulerDataSource.create(i).bind(W,e._refreshHandler)},_resources:function(){var t,i,n,a,r,o=this,s=o.options.resources;for(t=0;t<s.length;t++){if(i=s[t],n=i.field,a=i.dataSource,!n||!a)throw Error('The "field" and "dataSource" options of the scheduler resource are mandatory.');o.resources.push({field:n,name:i.name||n,title:i.title||n,dataTextField:i.dataTextField||"text",dataValueField:i.dataValueField||"value",dataColorField:i.dataColorField||"color",valuePrimitive:null!=i.valuePrimitive?i.valuePrimitive:!0,multiple:i.multiple||!1,dataSource:_.data.DataSource.create(a)})}r=e.map(o.resources,function(e){return e.dataSource.fetch()}),e.when.apply(null,r).then(function(){o.options.autoBind?o.view(o._selectedViewName):o._selectView(o._selectedViewName)})},_initModel:function(){var e=this;e._model=_.observable({selectedDate:this.options.date,formattedDate:""}),e._model.bind("change",function(t){"selectedDate"===t.field&&e.view(e._selectedViewName)})},_wrapper:function(){var e=this,t=e.options.height;e.wrapper=e.element.addClass("k-widget k-scheduler k-floatwrap").attr("role","grid").attr("aria-multiselectable",!0),t&&e.wrapper.css("height",t)},date:function(e){return null!=e&&this._model.set("selectedDate",e),k(this._model.get("selectedDate"))},_toolbar:function(){var i=this,n=i.options,a=e($({messages:n.messages,ns:_.ns,views:i.views}));i.wrapper.append(a),i.toolbar=a,_.bind(i.toolbar,i._model),a.on(M+A,".k-scheduler-navigation li",function(n){var a=e(this),r=new Date(i.date()),o="";if(n.preventDefault(),a.hasClass("k-nav-today"))o="today",r=new Date;else if(a.hasClass("k-nav-next"))o="next",r=i.view().nextDate();else if(a.hasClass("k-nav-prev"))o="previous",r=i.view().previousDate();else if(a.hasClass("k-nav-current"))return i._showCalendar(),t;i.trigger("navigate",{view:i._selectedViewName,action:o,date:r})||i.date(r)}),a.on(M+A,".k-scheduler-views li",function(t){t.preventDefault();var n=e(this).attr(_.attr("name"));i.trigger("navigate",{view:n,action:"changeView",date:i.date()})||i.view(n)}),a.find("li").hover(function(){e(this).addClass("k-state-hover")},function(){e(this).removeClass("k-state-hover")})},_showCalendar:function(){var t=this,i=t.toolbar.find(".k-nav-current"),n=e('<div class="k-calendar-container"><div class="k-scheduler-calendar"/></div>');t.popup||(t.popup=new x(n,{anchor:i,activate:function(){t.calendar||(t.calendar=new E(this.element.find(".k-scheduler-calendar"),{change:function(){var e=this.value();t.trigger("navigate",{view:t._selectedViewName,action:"changeDate",date:e})||(t.date(e),t.popup.close())}})),t.calendar.value(t.date())},copyAnchorStyles:!1})),t.popup.open()},refresh:function(e){var t=this.view();e&&"itemchange"===e.action&&(this.editable||this._preventRefresh)||(this.trigger("dataBinding"),e&&"resize"===e.action&&this.editable||this._destroyEditable(),this._data=this.dataSource.expand(t.startDate(),t.endDate()),t.render(this._data),this.trigger("dataBound"))}}),h={day:{type:"kendo.ui.DayView"},week:{type:"kendo.ui.WeekView"},agenda:{type:"kendo.ui.AgendaView"},month:{type:"kendo.ui.MonthView"}},D.plugin(p),g=b.extend({init:function(e,t){var i=this,n=_.timezone.windows_zones;if(!n||!_.timezone.zones_titles)throw Error("kendo.timezones.min.js is not included.");b.fn.init.call(i,e,t),i.wrapper=i.element,i._zonesQuery=new _.data.Query(n),i._zoneTitleId=_.guid(),i._zoneTitlePicker(),i._zonePicker(),i.value(i.options.value)},options:{name:"TimezoneEditor",value:"",optionLabel:"No timezone"},events:["change"],_zoneTitlePicker:function(){var t=this,i=e('<input id="'+t._zoneTitleId+'"/>').appendTo(t.wrapper);t._zoneTitle=new _.ui.DropDownList(i,{dataSource:_.timezone.zones_titles,dataValueField:"other_zone",dataTextField:"name",optionLabel:t.options.optionLabel,cascade:function(){this.value()||t._zone.wrapper.hide()}})},_zonePicker:function(){var t=this,i=e("<input />").appendTo(this.wrapper);t._zone=new _.ui.DropDownList(i,{dataValueField:"zone",dataTextField:"territory",dataSource:t._zonesQuery.data,cascadeFrom:t._zoneTitleId,cascade:function(){t._value=this.value(),t.trigger("change")},dataBound:function(){t._value=this.value(),this.wrapper.toggle(this.dataSource.view().length>1)}}),t._zone.wrapper.hide()},destroy:function(){b.fn.destroy.call(this),this._moveDraggable&&this._moveDraggable.destroy(),this._resizeDraggable&&this._resizeDraggable.destroy(),_.destroy(this.wrapper)},value:function(e){var i,n=this;return e===t?n._value:(i=n._zonesQuery.filter({field:"zone",operator:"eq",value:e}).data[0],i?(n._zoneTitle.value(i.other_zone),n._zone.value(i.zone)):n._zoneTitle.value(""),t)}}),D.plugin(g)}(window.kendo.jQuery);;!function(e,t){function n(e){return m.test(e)}function i(e){return f.test(e)||/^\d+$/.test(e)}function r(e){return!n(e)&&!i(e)}function s(e,n){return function(i,r){var s,a=this.element.find(i).data(H);return 1==arguments.length?a[e]:(a[e]=r,n&&(s=this.element.data("kendo"+this.options.name),s.trigger(x)),t)}}function a(e){var t=this,n=e.orientation;t.owner=e,t._element=e.element,t.orientation=n,h(t,n===P?l:o),t._resizable=new p.ui.Resizable(e.element,{orientation:n,handle:".k-splitbar-draggable-"+n+"[data-marker="+e._marker+"]",hint:g(t._createHint,t),start:g(t._start,t),max:g(t._max,t),min:g(t._min,t),invalidClass:"k-restricted-size-"+n,resizeend:g(t._stop,t)})}var o,l,p=window.kendo,d=p.ui,c=p.keys,h=e.extend,g=e.proxy,u=d.Widget,f=/^\d+(\.\d+)?px$/i,m=/^\d+(\.\d+)?%$/i,k=".kendoSplitter",v="expand",_="collapse",z="contentLoad",y="error",x="resize",b="layoutChange",P="horizontal",w="vertical",C="mouseenter",S="click",H="pane",T="mouseleave",A="k-state-focused",B="k-"+H,E="."+B,D=u.extend({init:function(e,t){var n,i=this;u.fn.init.call(i,e,t),i.wrapper=i.element,n=i.options.orientation.toLowerCase()!=w,i.orientation=n?P:w,i._dimension=n?"width":"height",i._keys={decrease:n?c.LEFT:c.UP,increase:n?c.RIGHT:c.DOWN},i._resizeStep=10,i.bind(x,g(i._resize,i)),i._marker=p.guid().substring(0,8),i._resizeHandler=function(){i.trigger(x)},i._initPanes(),i.resizing=new a(i),i.element.triggerHandler("init"+k)},events:[v,_,z,y,x,b],_parentSplitter:function(){return this.element.parent().closest(".k-splitter")},_attachEvents:function(){var t,n=this,i=n.options.orientation,r=n._parentSplitter();n.element.children(".k-splitbar-draggable-"+i).on("keydown"+k,e.proxy(n._keydown,n)).on("mousedown"+k,function(e){e.currentTarget.focus()}).on("focus"+k,function(t){e(t.currentTarget).addClass(A)}).on("blur"+k,function(t){e(t.currentTarget).removeClass(A),n.resizing&&n.resizing.end()}).on(C+k,function(){e(this).addClass("k-splitbar-"+n.orientation+"-hover")}).on(T+k,function(){e(this).removeClass("k-splitbar-"+n.orientation+"-hover")}).on("mousedown"+k,function(){n._panes().append("<div class='k-splitter-overlay k-overlay' />")}).on("mouseup"+k,function(){n._panes().children(".k-splitter-overlay").remove()}).end().children(".k-splitbar").on("dblclick"+k,g(n._togglePane,n)).children(".k-collapse-next, .k-collapse-prev").on(S+k,n._arrowClick(_)).end().children(".k-expand-next, .k-expand-prev").on(S+k,n._arrowClick(v)).end().end(),r.length?(t=r.data("kendo"+n.options.name),t?t.bind(x,n._resizeHandler):r.off("init"+k).one("init"+k,function(){e(this).data("kendo"+n.options.name).bind(x,n._resizeHandler),n._resizeHandler()})):e(window).on("resize",n._resizeHandler)},_detachEvents:function(){var t=this,n=t._parentSplitter().data("kendo"+t.options.name);t.element.children(".k-splitbar-draggable-"+t.orientation).off(k).end().children(".k-splitbar").off("dblclick"+k).children(".k-collapse-next, .k-collapse-prev, .k-expand-next, .k-expand-prev").off(k),n?n.unbind(x,t._resizeHandler):e(window).off("resize",t._resizeHandler)},options:{name:"Splitter",orientation:P,panes:[]},destroy:function(){var e=this;u.fn.destroy.call(e),e._detachEvents(),e.resizing&&e.resizing.destroy(),p.destroy(e.element)},_keydown:function(t){var n,i=this,r=t.keyCode,s=i.resizing,a=e(t.currentTarget),o=i._keys,l=r===o.increase,p=r===o.decrease;l||p?(t.ctrlKey?(n=a[p?"next":"prev"](),s&&s.isResizing()&&s.end(),n[i._dimension]()?i._triggerAction(_,a[p?"prev":"next"]()):i._triggerAction(v,n)):s&&s.move((p?-1:1)*i._resizeStep,a),t.preventDefault()):r===c.ENTER&&s&&(s.end(),t.preventDefault())},_initPanes:function(){var e=this,t=e.options.panes||[];e.element.addClass("k-widget").addClass("k-splitter").children(":not(script)").each(function(n,i){var r=t&&t[n];e._initPane(i,r)}).end(),e.trigger(x)},_initPane:function(t,n){t=e(t).attr("role","group").addClass(B),t.data(H,n?n:{}).toggleClass("k-scrollable",n?n.scrollable!==!1:!0),this.ajaxRequest(t)},ajaxRequest:function(e,t,n){var i,r=this;e=r.element.find(e),i=e.data(H),t=t||i.contentUrl,t&&(e.append("<span class='k-icon k-loading k-pane-loading' />"),p.isLocalUrl(t)?jQuery.ajax({url:t,data:n||{},type:"GET",dataType:"html",success:function(t){e.html(t),r.trigger(z,{pane:e[0]})},error:function(t,n){r.trigger(y,{pane:e[0],status:n,xhr:t})}}):e.removeClass("k-scrollable").html("<iframe src='"+t+"' frameborder='0' class='k-content-frame'>"+"This page requires frames in order to show content"+"</iframe>"))},_triggerAction:function(e,t){this.trigger(e,{pane:t[0]})||this[e](t[0])},_togglePane:function(t){var n,i=this,r=e(t.target);r.closest(".k-splitter")[0]==i.element[0]&&(n=r.children(".k-icon:not(.k-resize-handle)"),1===n.length&&(n.is(".k-collapse-prev")?i._triggerAction(_,r.prev()):n.is(".k-collapse-next")?i._triggerAction(_,r.next()):n.is(".k-expand-prev")?i._triggerAction(v,r.prev()):n.is(".k-expand-next")&&i._triggerAction(v,r.next())))},_arrowClick:function(t){var n=this;return function(i){var r,s=e(i.target);s.closest(".k-splitter")[0]==n.element[0]&&(r=s.is(".k-"+t+"-prev")?s.parent().prev():s.parent().next(),n._triggerAction(t,r))}},_updateSplitBar:function(e,t,n){var i=function(e,t){return t?"<div class='k-icon "+e+"' />":""},r=this.orientation,s=t.resizable!==!1&&n.resizable!==!1,a=t.collapsible,o=t.collapsed,l=n.collapsible,p=n.collapsed;e.addClass("k-splitbar k-state-default k-secondary k-splitbar-"+r).attr("role","separator").attr("aria-expanded",!(o||p)).removeClass("k-splitbar-"+r+"-hover").toggleClass("k-splitbar-draggable-"+r,s&&!o&&!p).toggleClass("k-splitbar-static-"+r,!s&&!a&&!l).html(i("k-collapse-prev",a&&!o&&!p)+i("k-expand-prev",a&&o&&!p)+i("k-resize-handle",s)+i("k-collapse-next",l&&!p&&!o)+i("k-expand-next",l&&p&&!o))},_updateSplitBars:function(){var t=this;this.element.children(".k-splitbar").each(function(){var n=e(this),i=n.prevAll(E).first().data(H),r=n.nextAll(E).first().data(H);r&&t._updateSplitBar(n,i,r)})},_removeSplitBars:function(){this.element.children(".k-splitbar").remove()},_panes:function(){return this.element.children(E)},_resize:function(){var i,s,a,o,l,p,d,c,h,g,u=this,f=u.element,m=f.children(E),k=u.orientation==P,v=f.children(".k-splitbar"),_=v.length,z=k?"width":"height",y=f[z]();0===_?(_=m.length-1,m.slice(0,_).after("<div tabindex='0' class='k-splitbar' data-marker='"+u._marker+"' />"),u._updateSplitBars(),v=f.children(".k-splitbar")):u._updateSplitBars(),v.each(function(){y-=this[k?"offsetWidth":"offsetHeight"]}),i=0,s=0,a=e(),m.css({position:"absolute",top:0})[z](function(){var o,l=e(this).data(H)||{};if(l.collapsed)o=0,e(this).css("overflow","hidden");else{if(r(l.size))return a=a.add(this),t;o=parseInt(l.size,10),n(l.size)&&(o=Math.floor(o*y/100))}return s++,i+=o,o}),y-=i,o=a.length,l=Math.floor(y/o),a.slice(0,o-1).css(z,l).end().eq(o-1).css(z,y-(o-1)*l),p=0,d=k?"height":"width",c=k?"left":"top",h=k?"offsetWidth":"offsetHeight",0===o&&(g=m.filter(function(){return!(e(this).data(H)||{}).collapsed}).last(),g[z](y+g[0][h])),f.children(":not(script)").css(d,f[d]()).each(function(e,t){t.style[c]=Math.floor(p)+"px",p+=t[h]}),u._detachEvents(),u._attachEvents(),u.trigger(b)},toggle:function(e,n){var i,r=this;e=r.element.find(e),i=e.data(H),(n||i.collapsible)&&(1==arguments.length&&(n=i.collapsed===t?!1:i.collapsed),i.collapsed=!n,i.collapsed?e.css("overflow","hidden"):e.css("overflow",""),r.trigger(x))},collapse:function(e){this.toggle(e,!1)},expand:function(e){this.toggle(e,!0)},_addPane:function(e,t,n){var i=this;return n.length&&(i.options.panes.splice(t,0,e),i._initPane(n,e),i._removeSplitBars(),i.trigger(x)),n},append:function(t){t=t||{};var n=this,i=e("<div />").appendTo(n.element);return n._addPane(t,n.options.panes.length,i)},insertBefore:function(t,n){n=e(n),t=t||{};var i=this,r=n.index(".k-pane"),s=e("<div />").insertBefore(e(n));return i._addPane(t,r,s)},insertAfter:function(t,n){n=e(n),t=t||{};var i=this,r=n.index(".k-pane"),s=e("<div />").insertAfter(e(n));return i._addPane(t,r+1,s)},remove:function(t){t=e(t);var n=this;return t.length&&(p.destroy(t),t.each(function(t,i){n.options.panes.splice(e(i).index(".k-pane"),1),e(i).remove()}),n._removeSplitBars(),n.options.panes.length&&n.trigger(x)),n},size:s("size",!0),min:s("min"),max:s("max")});d.plugin(D),o={sizingProperty:"height",sizingDomProperty:"offsetHeight",alternateSizingProperty:"width",positioningProperty:"top",mousePositioningProperty:"pageY"},l={sizingProperty:"width",sizingDomProperty:"offsetWidth",alternateSizingProperty:"height",positioningProperty:"left",mousePositioningProperty:"pageX"},a.prototype={press:function(e){this._resizable.press(e)},move:function(e,t){this.pressed||(this.press(t),this.pressed=!0),this._resizable.target||this._resizable.press(t),this._resizable.move(e)},end:function(){this._resizable.end(),this.pressed=!1},destroy:function(){this._resizable.destroy()},isResizing:function(){return this._resizable.resizing},_createHint:function(t){var n=this;return e("<div class='k-ghost-splitbar k-ghost-splitbar-"+n.orientation+" k-state-default' />").css(n.alternateSizingProperty,t[n.alternateSizingProperty]())},_start:function(t){var n=this,r=e(t.currentTarget),s=r.prev(),a=r.next(),o=s.data(H),l=a.data(H),p=parseInt(s[0].style[n.positioningProperty],10),d=parseInt(a[0].style[n.positioningProperty],10)+a[0][n.sizingDomProperty]-r[0][n.sizingDomProperty],c=parseInt(n._element.css(n.sizingProperty),10),h=function(e){var t=parseInt(e,10);return(i(e)?t:c*t/100)||0},g=h(o.min),u=h(o.max)||d-p,f=h(l.min),m=h(l.max)||d-p;n.previousPane=s,n.nextPane=a,n._maxPosition=Math.min(d-f,p+u),n._minPosition=Math.max(p+g,d-m)},_max:function(){return this._maxPosition},_min:function(){return this._minPosition},_stop:function(t){var n,i,s,a,o,l,d,c,h=this,g=e(t.currentTarget),u=h.owner;return u._panes().children(".k-splitter-overlay").remove(),t.keyCode!==p.keys.ESC&&(n=t.position,i=g.prev(),s=g.next(),a=i.data(H),o=s.data(H),l=n-parseInt(i[0].style[h.positioningProperty],10),d=parseInt(s[0].style[h.positioningProperty],10)+s[0][h.sizingDomProperty]-n-g[0][h.sizingDomProperty],c=h._element.children(E).filter(function(){return r(e(this).data(H).size)}).length,(!r(a.size)||c>1)&&(r(a.size)&&c--,a.size=l+"px"),(!r(o.size)||c>1)&&(o.size=d+"px"),u._resizeHandler()),!1}}}(window.kendo.jQuery);;!function(t,e){function n(e){e.children(h).addClass(A),e.children("a").addClass(b).children(h).addClass(A),e.filter(":not([disabled]):not([class*=k-state-disabled])").addClass(I),e.filter("li[disabled]").addClass(H).removeAttr("disabled"),e.filter(":not([class*=k-state])").children("a").filter(":focus").parent().addClass(q+" "+N),e.attr("role","tab"),e.filter("."+q).attr("aria-selected",!0),e.each(function(){var e=t(this);e.children("."+b).length||e.contents().filter(function(){return!(this.nodeName.match(f)||3==this.nodeType&&!l(this.nodeValue))}).wrapAll("<a class='"+b+"'/>")})}function a(t){var e=t.children(".k-item");e.filter(".k-first:not(:first-child)").removeClass(w),e.filter(".k-last:not(:last-child)").removeClass(k),e.filter(":first-child").addClass(w),e.filter(":last-child").addClass(k)}var r=window.kendo,i=r.ui,s=r.keys,o=t.map,d=t.each,l=t.trim,c=t.extend,u=r.template,p=i.Widget,f=/^(a|div)$/i,m=".kendoTabStrip",h="img",g="href",v="prev",b="k-link",k="k-last",C="click",_="error",x=":empty",A="k-image",w="k-first",E="select",G="activate",S="k-content",y="contentUrl",T="mouseenter",U="mouseleave",F="contentLoad",H="k-state-disabled",I="k-state-default",q="k-state-active",R="k-state-focused",D="k-state-hover",N="k-tab-on-top",B=".k-item:not(."+H+")",O=".k-tabstrip-items > "+B+":not(."+q+")",j={content:u("<div class='k-content'#= contentAttributes(data) # role='tabpanel'>#= content(item) #</div>"),itemWrapper:u("<#= tag(item) # class='k-link'#= contentUrl(item) ##= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) #</#= tag(item) #>"),item:u("<li class='#= wrapperCssClass(group, item) #' role='tab' #=item.active ? \"aria-selected='true'\" : ''#>#= itemWrapper(data) #</li>"),image:u("<img class='k-image' alt='' src='#= imageUrl #' />"),sprite:u("<span class='k-sprite #= spriteCssClass #'></span>"),empty:u("")},W={wrapperCssClass:function(t,e){var n="k-item",a=e.index;return n+=e.enabled===!1?" k-state-disabled":" k-state-default",0===a&&(n+=" k-first"),a==t.length-1&&(n+=" k-last"),n},textAttributes:function(t){return t.url?" href='"+t.url+"'":""},text:function(t){return t.encoded===!1?t.text:r.htmlEncode(t.text)},tag:function(t){return t.url?"a":"span"},contentAttributes:function(t){return t.active!==!0?" style='display:none' aria-hidden='true' aria-expanded='false'":""},content:function(t){return t.content?t.content:t.contentUrl?"":"&nbsp;"},contentUrl:function(t){return t.contentUrl?r.attr("content-url")+'="'+t.contentUrl+'"':""}},z=p.extend({init:function(e,n){var a,i,s=this;p.fn.init.call(s,e,n),s._animations(s.options),s.wrapper=s.element.is("ul")?s.element.wrapAll("<div />").parent():s.element,n=s.options,s._isRtl=r.support.isRtl(s.wrapper),s._tabindex(),s._updateClasses(),s._dataSource(),n.dataSource&&s.dataSource.fetch(),s.options.contentUrls&&s.wrapper.find(".k-tabstrip-items > .k-item").each(function(e,n){t(n).find(">."+b).data(y,s.options.contentUrls[e])}),s.wrapper.on(T+m+" "+U+m,O,s._toggleHover).on("keydown"+m,t.proxy(s._keydown,s)).on("focus"+m,t.proxy(s._active,s)).on("blur"+m,function(){s._current(null)}),s.wrapper.children(".k-tabstrip-items").on(C+m,".k-state-disabled .k-link",!1).on(C+m," > "+B,function(e){s._click(t(e.currentTarget))&&e.preventDefault()}),a=s.tabGroup.children("li."+q),i=s.contentHolder(a.index()),i.length>0&&0===i[0].childNodes.length&&s.activateTab(a.eq(0)),s.element.attr("role","tablist"),s.element[0].id&&(s._ariaId=s.element[0].id+"_ts_active"),r.notify(s)},_active:function(){var t=this.tabGroup.children().filter("."+q);t=t[0]?t:this._endItem("first"),t[0]&&this._current(t)},_endItem:function(t){return this.tabGroup.children(B)[t]()},_item:function(t,e){var n;return n=e===v?"last":"first",t?(t=t[e](),t[0]||(t=this._endItem(n)),t.hasClass(H)&&(t=this._item(t,e)),t):this._endItem(n)},_current:function(t){var n=this,a=n._focused,r=n._ariaId;return t===e?a:(a&&(a[0].id===r&&a.removeAttr("id"),a.removeClass(R)),t&&(t.hasClass(q)||t.addClass(R),n.element.removeAttr("aria-activedescendant"),r=t[0].id||r,r&&(t.attr("id",r),n.element.attr("aria-activedescendant",r))),n._focused=t,e)},_keydown:function(t){var n,a=this,r=t.keyCode,i=a._current(),o=a._isRtl;if(t.target==t.currentTarget){if(r==s.DOWN||r==s.RIGHT)n=o?v:"next";else if(r==s.UP||r==s.LEFT)n=o?"next":v;else if(r==s.ENTER||r==s.SPACEBAR)a._click(i),t.preventDefault();else{if(r==s.HOME)return a._click(a._endItem("first")),t.preventDefault(),e;if(r==s.END)return a._click(a._endItem("last")),t.preventDefault(),e}n&&(a._click(a._item(i,n)),t.preventDefault())}},_dataSource:function(){var e=this;e.dataSource&&e._refreshHandler?e.dataSource.unbind("change",e._refreshHandler):e._refreshHandler=t.proxy(e.refresh,e),e.dataSource=r.data.DataSource.create(e.options.dataSource).bind("change",e._refreshHandler)},setDataSource:function(t){this.options.dataSource=t,this._dataSource(),t.fetch()},_animations:function(t){t&&"animation"in t&&!t.animation&&(t.animation={open:{effects:{}},close:{effects:{}}})},refresh:function(t){var e,n,a,i,s=this,o=s.options,d=r.getter(o.dataTextField),l=r.getter(o.dataContentField),c=r.getter(o.dataContentUrlField),u=r.getter(o.dataImageUrlField),p=r.getter(o.dataUrlField),f=r.getter(o.dataSpriteCssClass),m=[],h=s.dataSource.view();for(t=t||{},a=t.action,a&&(h=t.items),e=0,i=h.length;i>e;e++)n={text:d(h[e])},o.dataContentField&&(n.content=l(h[e])),o.dataContentUrlField&&(n.contentUrl=c(h[e])),o.dataUrlField&&(n.url=p(h[e])),o.dataImageUrlField&&(n.imageUrl=u(h[e])),o.dataSpriteCssClass&&(n.spriteCssClass=f(h[e])),m[e]=n;if("add"==t.action)t.index<s.tabGroup.children().length?s.insertBefore(m,s.tabGroup.children().eq(t.index)):s.append(m);else if("remove"==t.action)for(e=0;e<h.length;e++)s.remove(t.index);else"itemchange"==t.action?(e=s.dataSource.view().indexOf(h[0]),t.field===o.dataTextField&&s.tabGroup.children().eq(e).find(".k-link").text(h[0].get(t.field))):(s.trigger("dataBinding"),s.remove("li"),s.append(m),s.trigger("dataBound"))},value:function(n){var a=this;return n===e?a.select().text():(n!=a.value()&&a.tabGroup.children().each(function(){t.trim(t(this).text())==n&&a.select(this)}),e)},items:function(){return this.tabGroup[0].children},setOptions:function(t){var e=this.options.animation;this._animations(t),t.animation=c(!0,e,t.animation),p.fn.setOptions.call(this,t)},events:[E,G,_,F,"change","dataBinding","dataBound"],options:{name:"TabStrip",dataTextField:"",dataContentField:"",dataImageUrlField:"",dataUrlField:"",dataSpriteCssClass:"",dataContentUrlField:"",animation:{open:{effects:"expand:vertical fadeIn",duration:200},close:{duration:200}},collapsible:!1},destroy:function(){var t=this;p.fn.destroy.call(t),t._refreshHandler&&t.dataSource.unbind("change",t._refreshHandler),t.wrapper.off(m),r.destroy(t.wrapper)},select:function(e){var n=this;return 0===arguments.length?n.tabGroup.children("li."+q):(isNaN(e)||(e=n.tabGroup.children().get(e)),e=n.tabGroup.find(e),t(e).each(function(e,a){a=t(a),a.hasClass(q)||n.trigger(E,{item:a[0],contentElement:n.contentHolder(a.index())[0]})||n.activateTab(a)}),n)},enable:function(t,e){return this._toggleDisabled(t,e!==!1),this},disable:function(t){return this._toggleDisabled(t,!1),this},reload:function(e){e=this.tabGroup.find(e);var n=this;return e.each(function(){var e=t(this),a=e.find("."+b).data(y),r=n.contentHolder(e.index());a&&n.ajaxRequest(e,r,null,a)}),n},append:function(t){var e=this,n=e._create(t);return d(n.tabs,function(t){e.tabGroup.append(this),e.wrapper.append(n.contents[t])}),a(e.tabGroup),e._updateContentElements(),e},insertBefore:function(e,n){var r=this,i=r._create(e),s=t(r.contentElement(n.index()));return d(i.tabs,function(t){n.before(this),s.before(i.contents[t])}),a(r.tabGroup),r._updateContentElements(),r},insertAfter:function(e,n){var r=this,i=r._create(e),s=t(r.contentElement(n.index()));return d(i.tabs,function(t){n.after(this),s.after(i.contents[t])}),a(r.tabGroup),r._updateContentElements(),r},remove:function(e){var n=this,a=typeof e,r=t();return"string"===a?e=n.tabGroup.find(e):"number"===a&&(e=n.tabGroup.children().eq(e)),e.each(function(){r.push(n.contentElement(t(this).index()))}),e.remove(),r.remove(),n._updateContentElements(),n},_create:function(a){var r,i,s=t.isPlainObject(a),d=this;return s||t.isArray(a)?(a=t.isArray(a)?a:[a],r=o(a,function(e,n){return t(z.renderItem({group:d.tabGroup,item:c(e,{index:n})}))}),i=o(a,function(n,a){return n.content||n.contentUrl?t(z.renderContent({item:c(n,{index:a})})):e})):(r=t(a),i=t("<div class='"+S+"'/>"),n(r)),{tabs:r,contents:i}},_toggleDisabled:function(e,n){e=this.tabGroup.find(e),e.each(function(){t(this).toggleClass(I,n).toggleClass(H,!n)})},_updateClasses:function(){var r,i,s,o=this;o.wrapper.addClass("k-widget k-header k-tabstrip"),o.tabGroup=o.wrapper.children("ul").addClass("k-tabstrip-items k-reset"),o.tabGroup[0]||(o.tabGroup=t("<ul class='k-tabstrip-items k-reset'/>").appendTo(o.wrapper)),r=o.tabGroup.find("li").addClass("k-item"),r.length&&(i=r.filter("."+q).index(),s=i>=0?i:e,o.tabGroup.contents().filter(function(){return 3==this.nodeType&&!l(this.nodeValue)}).remove()),i>=0&&r.eq(i).addClass(N),o.contentElements=o.wrapper.children("div"),o.contentElements.addClass(S).eq(s).addClass(q).css({display:"block"}),r.length&&(n(r),a(o.tabGroup),o._updateContentElements())},_updateContentElements:function(){var e=this,n=e.options.contentUrls||[],a=e.element.attr("id"),i=e.wrapper.children("div");e.tabGroup.find(".k-item").each(function(r){var s=i.eq(r),o=a+"-"+(r+1);this.setAttribute("aria-controls",o),!s.length&&n[r]?t("<div id='"+o+"' class='"+S+"'/>").appendTo(e.wrapper):s.attr("id",o),s.attr("role","tabpanel"),s.filter(":not(."+q+")").attr("aria-hidden",!0).attr("aria-expanded",!1),s.filter("."+q).attr("aria-expanded",!0)}),e.contentElements=e.contentAnimators=e.wrapper.children("div"),r.kineticScrollNeeded&&r.mobile.ui.Scroller&&(r.touchScroller(e.contentElements),e.contentElements=e.contentElements.children(".km-scroll-container"))},_toggleHover:function(e){t(e.currentTarget).toggleClass(D,e.type==T)},_click:function(t){var e,n,a=this,r=t.find("."+b),i=r.attr(g),s=a.options.collapsible,o=a.contentHolder(t.index());if(t.closest(".k-widget")[0]==a.wrapper[0]){if(t.is("."+H+(s?"":",."+q)))return!0;if(n=r.data(y)||i&&("#"==i.charAt(i.length-1)||-1!=i.indexOf("#"+a.element[0].id+"-")),e=!i||n,a.tabGroup.children("[data-animating]").length)return e;if(a.trigger(E,{item:t[0],contentElement:o[0]}))return!0;if(e!==!1)return s&&t.is("."+q)?(a.deactivateTab(t),!0):(a.activateTab(t)&&(e=!0),e)}},deactivateTab:function(t){var e=this,n=e.options.animation,a=n.open,i=c({},n.close),s=i&&"effects"in i;t=e.tabGroup.find(t),i=c(s?i:c({reverse:!0},a),{hide:!0}),r.size(a.effects)?(t.kendoAddClass(I,{duration:a.duration}),t.kendoRemoveClass(q,{duration:a.duration})):(t.addClass(I),t.removeClass(q)),t.removeAttr("aria-selected"),e.contentAnimators.filter("."+q).kendoStop(!0,!0).kendoAnimate(i).removeClass(q).attr("aria-hidden",!0)},activateTab:function(t){var e,n,a,i,s,o,d,l,u,p,f,m,h,g,v;return t=this.tabGroup.find(t),e=this,n=e.options.animation,a=n.open,i=c({},n.close),s=i&&"effects"in i,o=t.parent().children(),d=o.filter("."+q),l=o.index(t),i=c(s?i:c({reverse:!0},a),{hide:!0}),r.size(a.effects)?(d.kendoRemoveClass(q,{duration:i.duration}),t.kendoRemoveClass(D,{duration:i.duration})):(d.removeClass(q),t.removeClass(D)),u=e.contentAnimators,t.data("in-request")&&(e.xhr.abort(),t.removeAttr("data-in-request")),0===u.length?(d.removeClass(N),t.addClass(N).css("z-index"),t.addClass(q),e._current(t),e.trigger("change"),!1):(p=u.filter("."+q),f=e.contentHolder(l),m=f.closest(".k-content"),0===f.length?(p.removeClass(q).attr("aria-hidden",!0).kendoStop(!0,!0).kendoAnimate(i),!1):(t.attr("data-animating",!0),h=(t.children("."+b).data(y)||!1)&&f.is(x),g=function(){d.removeClass(N),t.addClass(N).css("z-index"),r.size(a.effects)?(d.kendoAddClass(I,{duration:a.duration}),t.kendoAddClass(q,{duration:a.duration})):(d.addClass(I),t.addClass(q)),d.removeAttr("aria-selected"),t.attr("aria-selected",!0),e._current(t),m.addClass(q).removeAttr("aria-hidden").kendoStop(!0,!0).attr("aria-expanded",!0).kendoAnimate(c({init:function(){e.trigger(G,{item:t[0],contentElement:f[0]})}},a,{complete:function(){t.removeAttr("data-animating")}}))},v=function(){h?(t.removeAttr("data-animating"),e.ajaxRequest(t,f,function(){t.attr("data-animating",!0),g(),e.trigger("change")})):(g(),e.trigger("change"))},p.removeClass(q),p.attr("aria-hidden",!0),p.attr("aria-expanded",!1),p.length?p.kendoStop(!0,!0).kendoAnimate(c({complete:v},i)):v(),!0))},contentElement:function(t){var n,a,i,s;if(isNaN(t-0))return e;if(n=this.contentElements&&this.contentElements[0]&&!r.kineticScrollNeeded?this.contentElements:this.contentAnimators,a=RegExp("-"+(t+1)+"$"),n)for(i=0,s=n.length;s>i;i++)if(a.test(n.closest(".k-content")[i].id))return n[i];return e},contentHolder:function(e){var n=t(this.contentElement(e)),a=n.children(".km-scroll-container");return r.support.touch&&a[0]?a:n},ajaxRequest:function(e,n,a,r){if(e=this.tabGroup.find(e),!e.find(".k-loading").length){var i=this,s=e.find("."+b),o={},d=null,l=setTimeout(function(){d=t("<span class='k-icon k-loading'/>").prependTo(s)},100);r=r||s.data(y)||s.attr(g),e.attr("data-in-request",!0),i.xhr=t.ajax({type:"GET",cache:!1,url:r,dataType:"html",data:o,error:function(t,e){i.trigger("error",{xhr:t,status:e})&&this.complete()},complete:function(){e.removeAttr("data-in-request"),clearTimeout(l),null!==d&&d.remove()},success:function(t){try{n.html(t)}catch(s){var o=window.console;o&&o.error&&o.error(s.name+": "+s.message+" in "+r),this.error(this.xhr,"error")}a&&a.call(i,n),i.trigger(F,{item:e[0],contentElement:n[0]})}})}}});c(z,{renderItem:function(t){t=c({tabStrip:{},group:{}},t);var e=j.empty,n=t.item;return j.item(c(t,{image:n.imageUrl?j.image:e,sprite:n.spriteCssClass?j.sprite:e,itemWrapper:j.itemWrapper},W))},renderContent:function(t){return j.content(c(t,W))}}),r.ui.plugin(z)}(window.kendo.jQuery);;!function(t){function o(t){for(;t.length;)e(t),t=t.parent()}function e(t){var o=t.data(r.ns+"title");o&&(t.attr("title",o),t.removeData(r.ns+"title"))}function n(t){var o=t.attr("title");o&&(t.data(r.ns+"title",o),t.attr("title",""))}function i(t){for(;t.length&&!t.is("body");)n(t),t=t.parent()}var r=window.kendo,s=r.ui.Widget,a=r.ui.Popup,c=t.isFunction,l=t.isPlainObject,p=t.extend,u=t.proxy,f=t(document),h=r.isLocalUrl,d="_tt_active",m="aria-describedby",g="show",w="hide",v="error",k="contentLoad",_="requestStart",y="k-content-frame",b='<div role="tooltip" class="k-widget k-tooltip#if (!autoHide) {# k-tooltip-closable#}#">#if (!autoHide) {# <div class="k-tooltip-button"><a href="\\#" class="k-icon k-i-close">close</a></div> #}#<div class="k-tooltip-content"></div>#if (callout){ #<div class="k-callout k-callout-#=dir#"></div>#}#</div>',H=r.template("<iframe frameborder='0' class='"+y+"' "+"src='#= content.url #'>"+"This page requires frames in order to show content"+"</iframe>"),T=".kendoTooltip",C={bottom:{origin:"bottom center",position:"top center"},top:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"},center:{position:"center center",origin:"center center"}},D={top:"bottom",bottom:"top",left:"right",right:"left",center:"center"},x={bottom:"n",top:"s",left:"e",right:"w",center:"n"},O={horizontal:{offset:"top",size:"outerHeight"},vertical:{offset:"left",size:"outerWidth"}},j=function(t){return t.target.data(r.ns+"title")},A=s.extend({init:function(t,o){var e,n=this;s.fn.init.call(n,t,o),e=n.options.position.match(/left|right/)?"horizontal":"vertical",n.dimensions=O[e],n._documentKeyDownHandler=u(n._documentKeyDown,n),n.element.on(n.options.showOn+T,n.options.filter,u(n._showOn,n)).on("mouseenter"+T,n.options.filter,u(n._mouseenter,n)),this.options.autoHide&&n.element.on("mouseleave"+T,n.options.filter,u(n._mouseleave,n))},options:{name:"Tooltip",filter:"",content:j,showAfter:100,callout:!0,position:"bottom",showOn:"mouseenter",autoHide:!0,width:null,height:null,animation:{open:{effects:"fade:in",duration:0},close:{effects:"fade:out",duration:40,hide:!0}}},events:[g,w,k,v,_],_mouseenter:function(o){i(t(o.currentTarget))},_showOn:function(o){var e=this;e.options.showOn&&e.options.showOn.match(/click|focus/)?e._show(t(o.currentTarget)):(clearTimeout(e.timeout),e.timeout=setTimeout(function(){e._show(t(o.currentTarget))},e.options.showAfter))},_appendContent:function(t){var o,e=this,n=e.options.content,i=e.content,s=e.options.iframe;l(n)&&n.url?("iframe"in e.options||(s=!h(n.url)),e.trigger(_,{options:n,target:t}),s?(i.hide(),o=i.find("."+y)[0],o?o.src=n.url||o.src:i.html(H({content:n})),i.find("."+y).off("load"+T).on("load"+T,function(){e.trigger(k),i.show()})):(i.empty(),r.ui.progress(i,!0),e._ajaxRequest(n))):n&&c(n)?(n=n({target:t}),e.content.html(n||"")):e.content.html(n)},_ajaxRequest:function(t){var o=this;jQuery.ajax(p({type:"GET",dataType:"html",cache:!1,error:function(t,e){r.ui.progress(o.content,!1),o.trigger(v,{status:e,xhr:t})},success:u(function(t){r.ui.progress(o.content,!1),o.content.html(t),o.trigger(k)},o)},t))},_documentKeyDown:function(t){t.keyCode===r.keys.ESC&&this.hide()},refresh:function(){var t=this,o=t.popup;o&&o.options.anchor&&t._appendContent(o.options.anchor)},hide:function(){this.popup&&this.popup.close()},show:function(t){i(t),this._show(t)},_show:function(t){var e=this,n=e.target();e.popup||e._initPopup(),n&&n[0]!=t[0]&&(e.popup.close(),e.popup.element.kendoStop(!0,!0)),n&&n[0]==t[0]||(e._appendContent(t),e.popup.options.anchor=t),e.popup.one("deactivate",function(){o(t),t.removeAttr(m),this.element.removeAttr("id").attr("aria-hidden",!0),f.off("keydown"+T,e._documentKeyDownHandler)}),e.popup.open()},_initPopup:function(){var o=this,e=o.options,n=t(r.template(b)({callout:e.callout&&"center"!==e.position,dir:x[e.position],autoHide:e.autoHide}));o.popup=new a(n,p({activate:function(){var t=this.options.anchor,n=t[0].id||o.element[0].id;n&&(t.attr(m,n+d),this.element.attr("id",n+d)),e.callout&&o._positionCallout(),this.element.removeAttr("aria-hidden"),f.on("keydown"+T,o._documentKeyDownHandler),o.trigger(g)},close:function(){o.trigger(w)},copyAnchorStyles:!1,animation:e.animation},C[e.position])),n.css({width:e.width,height:e.height}),o.content=n.find(".k-tooltip-content"),o.arrow=n.find(".k-callout"),e.autoHide?n.on("mouseleave"+T,u(o._mouseleave,o)):n.on("click"+T,".k-tooltip-button",u(o._closeButtonClick,o))},_closeButtonClick:function(t){t.preventDefault(),this.hide()},_mouseleave:function(e){if(this.popup){var n=t(e.currentTarget),i=n.offset(),r=e.pageX,s=e.pageY;if(i.right=i.left+n.outerWidth(),i.bottom=i.top+n.outerHeight(),r>i.left&&r<i.right&&s>i.top&&s<i.bottom)return;this.popup.close()}else o(t(e.currentTarget));clearTimeout(this.timeout)},_positionCallout:function(){var o=this,e=o.options.position,n=o.dimensions,i=n.offset,r=o.popup,s=r.options.anchor,a=t(s).offset(),c=parseInt(o.arrow.css("border-top-width"),10),l=t(r.element).offset(),p=x[r.flipped?D[e]:e],u=a[i]-l[i]+t(s)[n.size]()/2-c;o.arrow.removeClass("k-callout-n k-callout-s k-callout-w k-callout-e").addClass("k-callout-"+p).css(i,u)},target:function(){return this.popup?this.popup.options.anchor:null},destroy:function(){var t=this.popup;t&&(t.element.off(T),t.destroy()),this.element.off(T),f.off("keydown"+T,this._documentKeyDownHandler),s.fn.destroy.call(this)}});r.ui.plugin(A)}(window.kendo.jQuery);;!function(e,t){function n(e){return function(t){var n=t.children(".k-animation-container");return n.length||(n=t),n.children(e)}}function i(e){return h.template(e,{useWithBlock:!1})}function r(e){return e.children("div").find(".k-checkbox:first :checkbox")}function a(e){return function(t,n){n=n.closest(R);var i,r=n.parent();return r.parent().is("li")&&(i=r.parent()),this._dataSourceMove(t,r,i,function(t,i){return this._insert(t.data(),i,n.index()+e)})}}function s(t){var n,i,r=t.children("div"),a=t.children("ul"),s=r.children(".k-icon"),d=t.children(":checkbox"),o=r.children(".k-in");if(!t.hasClass("k-treeview")&&(r.length||(r=e("<div />").prependTo(t)),!s.length&&a.length?s=e("<span class='k-icon' />").prependTo(r):a.length&&a.children().length||(s.remove(),a.remove()),d.length&&e("<span class='k-checkbox' />").appendTo(r).append(d),!o.length&&r.length))for(o=e("<span class='k-in' />").appendTo(r)[0],n=r[0].nextSibling,o=r.find(".k-in")[0];n&&"ul"!=n.nodeName.toLowerCase();)i=n,n=n.nextSibling,3==i.nodeType&&(i.nodeValue=e.trim(i.nodeValue)),o.appendChild(i)}function d(e){var t=this;t.treeview=e,t.hovered=e.element,t._draggable=new p.Draggable(e.element,{filter:"div:not(.k-state-disabled) .k-in",hint:function(t){return e.templates.dragClue({item:e.dataItem(t),treeview:e.options})},cursorOffset:{left:10,top:h.support.touch||h.support.msPointers||h.support.pointers?-40/h.support.zoomLevel():10},dragstart:b(t.dragstart,t),dragcancel:b(t.dragcancel,t),drag:b(t.drag,t),dragend:b(t.dragend,t)})}var o,l,c,u,h=window.kendo,p=h.ui,f=h.data,g=e.extend,m=h.template,k=e.isArray,v=p.Widget,_=f.HierarchicalDataSource,b=e.proxy,x=h.keys,C=".kendoTreeView",y="select",w="navigate",T="expand",S="change",N="error",I="checked",B="collapse",H="dragstart",U="drag",D="drop",A="dragend",O="dataBound",V="click",L="visibility",E="undefined",q="k-state-hover",F="k-treeview",M=":visible",R=".k-item",j="string",G="aria-selected",P="aria-disabled",W={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",imageUrl:"dataImageUrlField"},Q=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&typeof e.nodeName===j};l=n(".k-group"),c=n(".k-group,.k-content"),u=function(e){return e.children("div").children(".k-icon")},o=v.extend({init:function(e,t){var n,i,r=this,a=!1,s=t&&!!t.dataSource;k(t)&&(n=!0,t={dataSource:t}),t&&typeof t.loadOnDemand==E&&k(t.dataSource)&&(t.loadOnDemand=!1),v.prototype.init.call(r,e,t),e=r.element,t=r.options,i=e.is("ul")&&e||e.hasClass(F)&&e.children("ul"),a=!s&&i.length,a&&(t.dataSource.list=i),r._animation(),r._accessors(),r._templates(),e.hasClass(F)?(r.wrapper=e,r.root=e.children("ul").eq(0)):(r._wrapper(),i&&(r.root=e,r._group(r.wrapper))),r._tabindex(),r.wrapper.filter("[role=tree]").length||r.wrapper.attr("role","tree"),r._dataSource(a),r._attachEvents(),r._dragging(),a?r._attachUids():t.autoBind&&(r._progress(!0),r.dataSource.fetch()),t.checkboxes&&t.checkboxes.checkChildren&&r.updateIndeterminate(),r.element[0].id&&(r._ariaId=h.format("{0}_tv_active",r.element[0].id))},_attachEvents:function(){var t=this,n=".k-in:not(.k-state-selected,.k-state-disabled)",i="mouseenter";t.wrapper.on(i+C,".k-in.k-state-selected",function(e){e.preventDefault()}).on(i+C,n,function(){e(this).addClass(q)}).on("mouseleave"+C,n,function(){e(this).removeClass(q)}).on(V+C,n,b(t._click,t)).on("dblclick"+C,".k-in:not(.k-state-disabled)",b(t._toggleButtonClick,t)).on(V+C,".k-plus,.k-minus",b(t._toggleButtonClick,t)).on("keydown"+C,b(t._keydown,t)).on("focus"+C,b(t._focus,t)).on("blur"+C,b(t._blur,t)).on("mousedown"+C,".k-in,.k-checkbox :checkbox,.k-plus,.k-minus",b(t._mousedown,t)).on("change"+C,".k-checkbox :checkbox",b(t._checkboxChange,t)).on("click"+C,".k-checkbox :checkbox",b(t._checkboxClick,t)).on("click"+C,".k-request-retry",b(t._retryRequest,t)).on("click"+C,function(n){e(n.target).is(":focusable")||t.focus()})},_checkboxClick:function(t){var n=e(t.target);n.data("indeterminate")&&(n.data("indeterminate",!1).prop("indeterminate",!1).prop(I,!0),this._checkboxChange(t))},_attachUids:function(t,n){var i,r=this,a=h.attr("uid");t=t||r.root,n=n||r.dataSource,i=n.view(),t.children("li").each(function(t,n){n=e(n).attr(a,i[t].uid),n.attr("role","treeitem"),r._attachUids(n.children("ul"),i[t].children)})},_animation:function(){var e=this.options,t=e.animation;t===!1?t={expand:{effects:{}},collapse:{hide:!0,effects:{}}}:t.collapse&&"effects"in t.collapse||(t.collapse=g({reverse:!0},t.expand)),g(t.collapse,{hide:!0}),e.animation=t},_dragging:function(){var e=this.options.dragAndDrop,t=this.dragging;e&&!t?this.dragging=new d(this):!e&&t&&(t.destroy(),this.dragging=null)},_templates:function(){var e=this,t=e.options,n=b(e._fieldAccessor,e);t.template&&typeof t.template==j?t.template=m(t.template):t.template||(t.template=i("# var text = "+n("text")+"(data.item); #"+"# if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {#"+"#= text #"+"# } else { #"+"#: text #"+"# } #")),e._checkboxes(),e.templates={wrapperCssClass:function(e,t){var n="k-item",i=t.index;return e.firstLevel&&0===i&&(n+=" k-first"),i==e.length-1&&(n+=" k-last"),n},cssClass:function(e,t){var n="",i=t.index,r=e.length-1;return e.firstLevel&&0===i&&(n+="k-top "),n+=0===i&&i!=r?"k-top":i==r?"k-bot":"k-mid"},textClass:function(e){var t="k-in";return e.enabled===!1&&(t+=" k-state-disabled"),e.selected===!0&&(t+=" k-state-selected"),t},toggleButtonClass:function(e){var t="k-icon";return t+=e.expanded!==!0?" k-plus":" k-minus",e.enabled===!1&&(t+="-disabled"),t},groupAttributes:function(e){return e.expanded!==!0?" style='display:none'":""},groupCssClass:function(e){var t="k-group";return e.firstLevel&&(t+=" k-treeview-lines"),t},dragClue:i("<div class='k-header k-drag-clue'><span class='k-icon k-drag-status' />#= data.treeview.template(data) #</div>"),group:i("<ul class='#= data.r.groupCssClass(data.group) #'#= data.r.groupAttributes(data.group) # role='group'>#= data.renderItems(data) #</ul>"),itemContent:i("# var imageUrl = "+n("imageUrl")+"(data.item); #"+"# var spriteCssClass = "+n("spriteCssClass")+"(data.item); #"+"# if (imageUrl) { #"+"<img class='k-image' alt='' src='#= imageUrl #'>"+"# } #"+"# if (spriteCssClass) { #"+"<span class='k-sprite #= spriteCssClass #' />"+"# } #"+"#= data.treeview.template(data) #"),itemElement:i("# var item = data.item, r = data.r; ## var url = "+n("url")+"(item); #"+"<div class='#= r.cssClass(data.group, item) #'>"+"# if (item.hasChildren) { #"+"<span class='#= r.toggleButtonClass(item) #' role='presentation' />"+"# } #"+"# if (data.treeview.checkboxes) { #"+"<span class='k-checkbox' role='presentation'>"+"#= data.treeview.checkboxes.template(data) #"+"</span>"+"# } #"+"# var tag = url ? 'a' : 'span'; #"+"# var textAttr = url ? ' href=\\'' + url + '\\'' : ''; #"+"<#=tag#  class='#= r.textClass(item) #'#= textAttr #>"+"#= r.itemContent(data) #"+"</#=tag#>"+"</div>"),item:i("# var item = data.item, r = data.r; #<li role='treeitem' class='#= r.wrapperCssClass(data.group, item) #' "+h.attr("uid")+"='#= item.uid #'"+"#=item.selected ? \"aria-selected='true'\" : ''#"+"#=item.enabled === false ? \"aria-disabled='true'\" : ''#"+">"+"#= r.itemElement(data) #"+"</li>"),loading:i("<div class='k-icon k-loading' /> Loading..."),retry:i("Request failed. <button class='k-button k-request-retry'>Retry</button>")}},items:function(){return this.element.find(".k-item")},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.dataSource.fetch()},_bindDataSource:function(){this._refreshHandler=b(this.refresh,this),this._errorHandler=b(this._error,this),this.dataSource.bind(S,this._refreshHandler),this.dataSource.bind(N,this._errorHandler)},_unbindDataSource:function(){var e=this.dataSource;e&&(e.unbind(S,this._refreshHandler),e.unbind(N,this._errorHandler))},_dataSource:function(e){function t(e){for(var n=0;n<e.length;n++)e[n]._initChildren(),e[n].children.fetch(),t(e[n].children.view())}var n=this,i=n.options,r=i.dataSource;r=k(r)?{data:r}:r,n._unbindDataSource(),r.fields||(r.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}]),n.dataSource=r=_.create(r),e&&(r.fetch(),t(r.view())),n._bindDataSource()},events:[H,U,D,A,O,T,B,y,S,w],options:{name:"TreeView",dataSource:{},animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:100}},dragAndDrop:!1,checkboxes:!1,autoBind:!0,loadOnDemand:!0,template:"",dataTextField:null},_accessors:function(){var e,t,n,i=this,r=i.options,a=i.element;for(e in W)t=r[W[e]],n=a.attr(h.attr(e+"-field")),!t&&n&&(t=n),t||(t=e),k(t)||(t=[t]),r[W[e]]=t},_fieldAccessor:function(t){var n=this.options[W[t]],i=n.length,r="(function(item) {";return 0===i?r+="return item['"+t+"'];":(r+="var levels = ["+e.map(n,function(e){return"function(d){ return "+h.expr(e)+"}"}).join(",")+"];",r+="return levels[Math.min(item.level(), "+i+"-1)](item)"),r+="})"},setOptions:function(e){v.fn.setOptions.call(this,e),this._animation(),this._dragging(),this._templates()},_trigger:function(e,t){return this.trigger(e,{node:t.closest(R)[0]})},_setChecked:function(t,n){if(t&&e.isFunction(t.view))for(var i=0,r=t.view();i<r.length;i++)r[i][I]=n,r[i].children&&this._setChecked(r[i].children,n)},_setIndeterminate:function(e){var t,n,i,a=l(e),s=!0;if(a.length&&(t=r(a.children()),n=t.length)){if(n>1){for(i=1;n>i;i++)if(t[i].checked!=t[i-1].checked||t[i].indeterminate||t[i-1].indeterminate){s=!1;break}}else s=!t[0].indeterminate;r(e).data("indeterminate",!s).prop("indeterminate",!s).prop(I,s&&t[0].checked)}},updateIndeterminate:function(e){e=e||this.wrapper;var t,n=l(e).children();if(n.length){for(t=0;t<n.length;t++)this.updateIndeterminate(n.eq(t));this._setIndeterminate(e)}},_bubbleIndeterminate:function(e){var t,n=this.parent(e);n.length&&(this._setIndeterminate(n),t=n.children("div").find(".k-checkbox :checkbox"),t.prop("indeterminate")===!1?this.dataItem(n).set(I,t.prop(I)):this.dataItem(n).checked=!1,this._bubbleIndeterminate(n))},_checkboxChange:function(t){var n=e(t.target),i=n.prop(I),r=n.closest(R);this.dataItem(r).set(I,i)},_toggleButtonClick:function(t){this.toggle(e(t.target).closest(R))},_mousedown:function(t){var n=e(t.currentTarget).closest(R);this._clickTarget=n,this.current(n)},_focusable:function(e){return e&&e.length&&e.is(":visible")&&!e.find(".k-in:first").hasClass("k-state-disabled")},_focus:function(){var t=this.select(),n=this._clickTarget;h.support.touch||(n&&n.length&&(t=n),this._focusable(t)||(t=this.current()),this._focusable(t)||(t=this._nextVisible(e())),this.current(t))},focus:function(){var e,t=this.wrapper,n=t[0],i=[],r=[],a=document.documentElement;do n=n.parentNode,n.scrollHeight>n.clientHeight&&(i.push(n),r.push(n.scrollTop));while(n!=a);for(t.focus(),e=0;e<i.length;e++)i[e].scrollTop=r[e]},_blur:function(){this.current().find(".k-in:first").removeClass("k-state-focused")},_enabled:function(e){return!e.children("div").children(".k-in").hasClass("k-state-disabled")},parent:function(t){var n,i,r=/\bk-treeview\b/,a=/\bk-item\b/;typeof t==j&&(t=this.element.find(t)),Q(t)||(t=t[0]),i=a.test(t.className);do t=t.parentNode,a.test(t.className)&&(i?n=t:i=!0);while(!r.test(t.className)&&!n);return e(n)},_nextVisible:function(e){function t(e){for(;e.length&&!e.next().length;)e=i.parent(e);return e.next().length?e.next():e}var n,i=this,r=i._expanded(e);return e.length&&e.is(":visible")?r?(n=l(e).children().first(),n.length||(n=t(e))):n=t(e):n=i.root.children().eq(0),i._enabled(n)||(n=i._nextVisible(n)),n},_previousVisible:function(e){var t,n,i=this;if(!e.length||e.prev().length)for(n=e.length?e.prev():i.root.children().last();i._expanded(n)&&(t=l(n).children().last(),t.length);)n=t;else n=i.parent(e)||e;return i._enabled(n)||(n=i._previousVisible(n)),n},_keydown:function(n){var i,r=this,a=n.keyCode,s=r.current(),d=r._expanded(s),o=s.find(".k-checkbox:first :checkbox"),l=h.support.isRtl(r.element);n.target==n.currentTarget&&(!l&&a==x.RIGHT||l&&a==x.LEFT?d?i=r._nextVisible(s):r.expand(s):!l&&a==x.LEFT||l&&a==x.RIGHT?d?r.collapse(s):(i=r.parent(s),r._enabled(i)||(i=t)):a==x.DOWN?i=r._nextVisible(s):a==x.UP?i=r._previousVisible(s):a==x.HOME?i=r._nextVisible(e()):a==x.END?i=r._previousVisible(e()):a==x.ENTER?s.find(".k-in:first").hasClass("k-state-selected")||r._trigger(y,s)||r.select(s):a==x.SPACEBAR&&o.length&&(o.prop(I,!o.prop(I)).data("indeterminate",!1).prop("indeterminate",!1),r._checkboxChange({target:o}),i=s),i&&(n.preventDefault(),s[0]!=i[0]&&(r._trigger(w,i),r.current(i))))},_click:function(t){var n,i=this,r=e(t.currentTarget),a=c(r.closest(R)),s=r.attr("href");n=s?"#"==s||s.indexOf("#"+this.element.id+"-")>=0:a.length&&!a.children().length,n&&t.preventDefault(),r.hasClass(".k-state-selected")||i._trigger(y,r)||i.select(r)},_wrapper:function(){var e,t,n=this,i=n.element,r="k-widget k-treeview";i.is("ul")?(e=i.wrap("<div />").parent(),t=i):(e=i,t=e.children("ul").eq(0)),n.wrapper=e.addClass(r),n.root=t},_group:function(e){var t=this,n=e.hasClass(F),i={firstLevel:n,expanded:n||t._expanded(e)},r=e.children("ul");r.addClass(t.templates.groupCssClass(i)).css("display",i.expanded?"":"none"),t._nodes(r,i)},_nodes:function(t,n){var i,r=this,a=t.children("li");n=g({length:a.length},n),a.each(function(t,a){a=e(a),i={index:t,expanded:r._expanded(a)},s(a),r._updateNodeClasses(a,n,i),r._group(a)})},_checkboxes:function(){var e,t=this.options,n=t.checkboxes;(n||t.checkboxTemplate)&&(t.checkboxTemplate?e=t.checkboxTemplate:(e="<input type='checkbox' #= (item.enabled === false) ? 'disabled' : '' # #= item.checked ? 'checked' : '' #",n.name&&(e+=" name='"+n.name+"'"),e+=" />"),n=g({template:e},t.checkboxes),typeof n.template==j&&(n.template=m(n.template)),t.checkboxes=n)},_updateNodeClasses:function(e,t,n){var i=e.children("div"),r=e.children("ul"),a=this.templates;e.hasClass("k-treeview")||(n=n||{},n.expanded=typeof n.expanded!=E?n.expanded:this._expanded(e),n.index=typeof n.index!=E?n.index:e.index(),n.enabled=typeof n.enabled!=E?n.enabled:!i.children(".k-in").hasClass("k-state-disabled"),t=t||{},t.firstLevel=typeof t.firstLevel!=E?t.firstLevel:e.parent().parent().hasClass(F),t.length=typeof t.length!=E?t.length:e.parent().children().length,e.removeClass("k-first k-last").addClass(a.wrapperCssClass(t,n)),i.removeClass("k-top k-mid k-bot").addClass(a.cssClass(t,n)),i.children(".k-in").removeClass("k-in k-state-default k-state-disabled").addClass(a.textClass(n)),(r.length||"true"==e.attr("data-hasChildren"))&&(i.children(".k-icon").removeClass("k-plus k-minus k-plus-disabled k-minus-disabled").addClass(a.toggleButtonClass(n)),r.addClass("k-group")))},_processNodes:function(t,n){var i=this;i.element.find(t).each(function(t,r){n.call(i,t,e(r).closest(R))})},dataItem:function(t){var n=e(t).closest(R).attr(h.attr("uid")),i=this.dataSource;return i&&i.getByUid(n)},_insertNode:function(t,n,i,r,a){var d,o,c,u,h=this,p=l(i),f=p.children().length+1,g={firstLevel:i.hasClass(F),expanded:!a,length:f},m="",k=function(e,t){e.appendTo(t)};for(c=0;c<t.length;c++)u=t[c],u.index=n+c,m+=h._renderItem({group:g,item:u});if(o=e(m),o.length){for(p.length||(p=e(h._renderGroup({group:g})).appendTo(i)),r(o,p),i.hasClass("k-item")&&(s(i),h._updateNodeClasses(i)),h._updateNodeClasses(o.prev().first()),h._updateNodeClasses(o.next().last()),c=0;c<t.length;c++)u=t[c],u.hasChildren&&(d=u.children.data(),d.length&&h._insertNode(d,u.index,o.eq(c),k,!h._expanded(o.eq(c))));return o}},_updateNode:function(t,n){function i(){p=!0}function r(e,t){e.find(".k-checkbox :checkbox").prop(I,t).data("indeterminate",!1).prop("indeterminate",!1)}var a,s,d,o,l,u=this,h={treeview:u.options,item:d},p=!1;if("selected"==t)d=n[0],s=u.findByUid(d.uid).find(".k-in:first").removeClass("k-state-hover").toggleClass("k-state-selected",d[t]).end(),d[t]?(u.current(s),s.attr(G,!0)):s.attr(G,!1);else for(e.inArray(t,u.options.dataTextField)>=0?p=!0:(h.item=n[0],h.item.bind("get",i),u.templates.itemContent(h),h.item.unbind("set",i)),a=0;a<n.length;a++)h.item=d=n[a],("spriteCssClass"==t||"imageUrl"==t||p)&&u.findByUid(d.uid).find(">div>.k-in").html(u.templates.itemContent(h)),t==I?(s=u.findByUid(d.uid),o=d[t],r(s.children("div"),o),u.options.checkboxes.checkChildren&&(r(s.children(".k-group"),o),u._setChecked(d.children,o),u._bubbleIndeterminate(s))):"expanded"==t?u._toggle(u.findByUid(d.uid),d,d[t]):"enabled"==t&&(s=u.findByUid(d.uid),s.find(".k-checkbox :checkbox").prop("disabled",!d[t]),l=!c(s).is(M),s.removeAttr(P),d[t]||(d.selected&&d.set("selected",!1),d.expanded&&d.set("expanded",!1),l=!0,s.removeAttr(G).attr(P,!0)),u._updateNodeClasses(s,{},{enabled:d[t],expanded:!l}))},refresh:function(e){function n(e,t){var n=l(t),i=n.children(),a=!r._expanded(t);typeof u==E&&(u=i.length),r._insertNode(e,u,t,function(e,t){u==i.length?e.appendTo(t):e.insertBefore(i.eq(u))},a),r._expanded(t)&&(r._updateNodeClasses(t),l(t).css("display","block"))}var i,r=this,a=r.wrapper,d=e.node,o=e.action,c=e.items,u=e.index,h=r.options,p=h.loadOnDemand,f=h.checkboxes&&h.checkboxes.checkChildren;if(e.field)return r._updateNode(e.field,c);if(d&&(a=r.findByUid(d.uid),r._progress(a,!1)),f&&"remove"!=o&&d&&d.checked)for(i=0;i<c.length;i++)c[i].checked=!0;for("add"==o?n(c,a):"remove"==o?r._remove(r.findByUid(c[0].uid),!1):d?(l(a).empty(),c.length?n(c,a):s(a)):r.root=r.wrapper.html(r._renderGroup({items:c,group:{firstLevel:!0,expanded:!0}})).children("ul"),i=0;i<c.length;i++)(!p||c[i].expanded)&&c[i].load();r.trigger(O,{node:d?a:t})},_error:function(e){var t=this,n=e.node&&t.findByUid(e.node.uid);n?(this._progress(n,!1),this._expanded(n,!1),u(n).addClass("k-i-refresh"),e.node.loaded(!1)):(this._progress(!1),this.element.html(this.templates.retry))},_retryRequest:function(e){e.preventDefault(),this.dataSource.fetch()},expand:function(e){this._processNodes(e,function(e,t){this.toggle(t,!0)})},collapse:function(e){this._processNodes(e,function(e,t){this.toggle(t,!1)})},enable:function(e,t){t=2==arguments.length?!!t:!0,this._processNodes(e,function(e,n){this.dataItem(n).set("enabled",t)})},current:function(n){var i=this,r=i._current,a=i.element,s=i._ariaId;return arguments.length>0&&n&&n.length?(r&&(r[0].id===s&&r.removeAttr("id"),r.find(".k-in:first").removeClass("k-state-focused")),r=i._current=e(n,a).closest(R),r.find(".k-in:first").addClass("k-state-focused"),s=r[0].id||s,s&&(i.wrapper.removeAttr("aria-activedescendant"),r.attr("id",s),i.wrapper.attr("aria-activedescendant",s)),t):(r||(r=i._nextVisible(e())),r)},select:function(n){var i=this,r=i.element;return arguments.length?(n=e(n,r).closest(R),r.find(".k-state-selected").each(function(){var e=i.dataItem(this);e.set("selected",!1),delete e.selected}),n.length&&i.dataItem(n).set("selected",!0),i.trigger(S),t):r.find(".k-state-selected").closest(R)},_toggle:function(e,t,n){var i,r=this,a=r.options,s=c(e),d=n?"expand":"collapse",o=a.animation[d];if(!s.data("animating")&&!r._trigger(d,e))if(r._expanded(e,n),i=t&&t.loaded(),i&&s.children().length>0){if(r._updateNodeClasses(e,{},{expanded:n}),s.css("display")==(n?"block":"none"))return;n||s.css("height",s.height()).css("height"),s.kendoStop(!0,!0).kendoAnimate(g({reset:!0},o,{complete:function(){n&&s.css("height","")}}))}else n&&(a.loadOnDemand&&r._progress(e,!0),s.remove(),t.load())},toggle:function(t,n){t=e(t),u(t).is(".k-minus,.k-plus,.k-minus-disabled,.k-plus-disabled")&&(1==arguments.length&&(n=!this._expanded(t)),this._expanded(t,n))},destroy:function(){var e=this;v.fn.destroy.call(e),e.element.off(C),e._unbindDataSource(),e.dragging&&e.dragging.destroy(),h.destroy(e.element)},_expanded:function(e,n){var i=h.attr("expanded"),r=this.dataItem(e);return 1==arguments.length?"true"===e.attr(i)||r&&r.expanded:(c(e).data("animating")||(r&&(r.set("expanded",n),n=r.expanded),n?(e.attr(i,"true"),e.attr("aria-expanded","true")):(e.removeAttr(i),e.attr("aria-expanded","false"))),t)},_progress:function(e,t){var n=this.element;1==arguments.length?(t=e,t?n.html(this.templates.loading):n.empty()):u(e).toggleClass("k-loading",t).removeClass("k-i-refresh")},text:function(e,n){var i=this.dataItem(e),r=this.options[W.text],a=i.level(),s=r.length,d=r[Math.min(a,s-1)];return n?(i.set(d,n),t):i[d]},_objectOrSelf:function(t){return e(t).closest("[data-role=treeview]").data("kendoTreeView")||this},_dataSourceMove:function(e,t,n,i){var r,a=this._objectOrSelf(n||t),s=a.dataSource;return n&&n[0]!=a.element[0]&&(r=a.dataItem(n),r.loaded()||(a._progress(n,!0),r.load()),n!=this.root&&(s=r.children,s&&s instanceof _||(r._initChildren(),r.loaded(!0),s=r.children))),e=this._toObservableData(e),i.call(this,s,e)},_toObservableData:function(t){var n,i,r=t;return(t instanceof window.jQuery||Q(t))&&(n=this._objectOrSelf(t).dataSource,i=e(t).attr(h.attr("uid")),r=n.getByUid(i),r&&(r=n.remove(r))),r},_insert:function(e,t,n){t instanceof h.data.ObservableArray?t=t.toJSON():k(t)||(t=[t]);var i=e.parent();return i&&(i.hasChildren=!0,i._initChildren()),e.splice.apply(e,[n,0].concat(t)),this.findByUid(e[n].uid)},insertAfter:a(1),insertBefore:a(0),append:function(t,n,i){var r=this,a=r.root;return i=i||e.noop,n&&(a=l(n)),r._dataSourceMove(t,a,n,function(e,t){function a(){n&&r._expanded(n,!0);var i=e.data(),a=Math.max(i.length,0);return r._insert(i,t,a)}var s;return e.data()?(s=a(),i(s),s):(e.one(S,function(){i(a())}),null)})},_remove:function(t,n){var i,r,a,d=this;return t=e(t,d.element),i=t.parent().parent(),r=t.prev(),a=t.next(),t[n?"detach":"remove"](),i.hasClass("k-item")&&(s(i),d._updateNodeClasses(i)),d._updateNodeClasses(r),d._updateNodeClasses(a),t},remove:function(e){var t=this.dataItem(e);t&&this.dataSource.remove(t)},detach:function(e){return this._remove(e,!0)},findByText:function(t){return e(this.element).find(".k-in").filter(function(n,i){return e(i).text()==t}).closest(R)},findByUid:function(e){return this.element.find(".k-item["+h.attr("uid")+"="+e+"]")},_renderItem:function(e){return e.group||(e.group={}),e.treeview=this.options,e.r=this.templates,this.templates.item(e)},_renderGroup:function(e){var t=this;return e.renderItems=function(e){var n="",i=0,r=e.items,a=r?r.length:0,s=e.group;for(s.length=a;a>i;i++)e.group=s,e.item=r[i],e.item.index=i,n+=t._renderItem(e);return n},e.r=t.templates,t.templates.group(e)}}),d.prototype={_removeTouchHover:function(){var e=this;h.support.touch&&e.hovered&&(e.hovered.find("."+q).removeClass(q),e.hovered=!1)},_hintStatus:function(n){var i=this._draggable.hint.find(".k-drag-status")[0];return n?(i.className="k-icon k-drag-status "+n,t):e.trim(i.className.replace(/k-(icon|drag-status)/g,""))},dragstart:function(t){var n=this,i=n.treeview,r=n.sourceNode=t.currentTarget.closest(R);i.trigger(H,{sourceNode:r[0]})&&t.preventDefault(),n.dropHint=e("<div class='k-drop-hint' />").css(L,"hidden").appendTo(i.element)},drag:function(t){var n,i,r,a,s,d,o,l,c,u,p=this,f=p.treeview,g=p.sourceNode,m=p.dropTarget=e(h.eventTarget(t)),k=m.closest(".k-treeview");k.length?e.contains(g[0],m[0])?n="k-denied":(n="k-insert-middle",i=m.closest(".k-top,.k-mid,.k-bot"),i.length?(a=i.outerHeight(),s=h.getOffset(i).top,d=m.closest(".k-in"),o=a/(d.length>0?4:2),l=t.y.location<s+o,c=s+a-o<t.y.location,p._removeTouchHover(),u=d.length&&!l&&!c,p.hovered=u?k:!1,p.dropHint.css(L,u?"hidden":"visible"),d.toggleClass(q,u),u?n="k-add":(r=i.position(),r.top+=l?0:a,p.dropHint.css(r)[l?"prependTo":"appendTo"](m.closest(R).children("div:first")),l&&i.hasClass("k-top")&&(n="k-insert-top"),c&&i.hasClass("k-bot")&&(n="k-insert-bottom"))):m[0]!=p.dropHint[0]&&(n=k[0]!=f.element[0]?"k-add":"k-denied")):(n="k-denied",p._removeTouchHover()),f.trigger(U,{sourceNode:g[0],dropTarget:m[0],pageY:t.y.location,pageX:t.x.location,statusClass:n.substring(2),setStatusClass:function(e){n=e}}),0!==n.indexOf("k-insert")&&p.dropHint.css(L,"hidden"),p._hintStatus(n)},dragcancel:function(){this.dropHint.remove()},dragend:function(){function e(e){s.trigger(A,{sourceNode:e&&e[0],destinationNode:n[0],dropPosition:d})}var n,i,r,a=this,s=a.treeview,d="over",o=a.sourceNode,l=a.dropHint,c=a.dropTarget;return"visible"==l.css(L)?(d=l.prevAll(".k-in").length>0?"after":"before",n=l.closest(R)):c&&(n=c.closest(R),n.length||(n=c.closest(".k-treeview"))),i={sourceNode:o[0],destinationNode:n[0],valid:"k-denied"!=a._hintStatus(),setValid:function(e){this.valid=e},dropTarget:c[0],dropPosition:d},r=s.trigger(D,i),l.remove(),a._removeTouchHover(),!i.valid||r?(a._draggable.dropped=i.valid,t):(a._draggable.dropped=!0,"over"==d?s.append(o,n,e):("before"==d?o=s.insertBefore(o,n):"after"==d&&(o=s.insertAfter(o,n)),e(o)),t)},destroy:function(){this._draggable.destroy()}},p.plugin(o)}(window.kendo.jQuery);;!function(t,e){function n(t,e){var n={top:0,right:0,bottom:0,left:0};return e=e||0,"number"==typeof t?n[Je]=n[Qe]=n[Ae]=n[Fe]=t:(n[Je]=t[Je]||e,n[Qe]=t[Qe]||e,n[Ae]=t[Ae]||e,n[Fe]=t[Fe]||e),n}function i(t,e){return ue.extend({init:function(t){this.view=t},decorate:function(n){var i,o=this,r=o.view,a=n.options.animation;return a&&a.type===t&&r.options.transitions&&(i=n._animation=new e(n,a),r.animations.push(i)),n}})}function o(e,n,i){var r,s,c,d,u,f,h,p,x,g,m,v=a(n),y=e+v+i,b=o.cache.get(y),w={width:0,height:0,baseline:0};if(b)return b;r=o.measureBox,s=o.baselineMarker.cloneNode(!1),r&&r.parentNode||(r=o.measureBox=t("<div style='position: absolute; top: -4000px;line-height: normal; visibility: hidden;' />").appendTo(le.body)[0]);for(c in n)r.style[c]=n[c];return r.innerHTML=e,r.appendChild(s),(e+"").length&&(w={width:r.offsetWidth-ke,height:r.offsetHeight,baseline:s.offsetTop+ke}),i&&(d=w.width,u=w.height,f=d/2,h=u/2,p=l(0,0,f,h,i),x=l(d,0,f,h,i),g=l(d,u,f,h,i),m=l(0,u,f,h,i),w.normalWidth=d,w.normalHeight=u,w.width=ge.max(p.x,x.x,g.x,m.x)-ge.min(p.x,x.x,g.x,m.x),w.height=ge.max(p.y,x.y,g.y,m.y)-ge.min(p.y,x.y,g.y,m.y)),o.cache.put(y,w),w}function r(t,e){var n,i,o,r=e-t;if(0===r){if(0===e)return.1;r=ge.abs(e)}return n=ge.pow(10,ge.floor(ge.log(r)/ge.log(10))),i=m(r/n,Ee),o=1,o=1.904762>i?.2:4.761904>i?.5:9.523809>i?1:2,m(n*o,Ee)}function a(t){var e,n=[];for(e in t)n.push(e+t[e]);return n.sort().join(" ")}function s(){return ie.current.alloc()}function l(t,e,n,i,o){var r=o*je;return new cn(n+(t-n)*ge.cos(r)+(e-i)*ge.sin(r),i-(t-n)*ge.sin(r)+(e-i)*ge.cos(r))}function c(e,n){if(e.x1==n.x1&&e.y1==n.y1&&e.x2==n.x2&&e.y2==n.y2)return n;var i=ge.min(e.x1,n.x1),o=ge.max(e.x1,n.x1),r=ge.min(e.x2,n.x2),a=ge.max(e.x2,n.x2),s=ge.min(e.y1,n.y1),l=ge.max(e.y1,n.y1),c=ge.min(e.y2,n.y2),d=ge.max(e.y2,n.y2),u=[];return u[0]=C(o,s,r,l),u[1]=C(i,l,o,c),u[2]=C(r,l,a,c),u[3]=C(o,c,r,d),e.x1==i&&e.y1==s||n.x1==i&&n.y1==s?(u[4]=C(i,s,o,l),u[5]=C(r,c,a,d)):(u[4]=C(r,s,a,l),u[5]=C(i,c,o,d)),t.grep(u,function(t){return t.height()>0&&t.width()>0})[0]}function d(){return le.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}function u(){return!!le.createElement("canvas").getContext}function f(t,e){return-1!=xe(t,e)}function h(t){return t[t.length-1]}function p(t,e){[].push.apply(t,e)}function x(t,e){return m(ge.ceil(t/e)*e,Ee)}function g(t,e){return m(ge.floor(t/e)*e,Ee)}function m(t,e){var n=ge.pow(10,e||0);return ge.round(t*n)/n}function v(t,e,n){var i=m(ge.abs(t%e),Ee),o=e*(1-n);return 0===i||i>o}function y(t,e,n){return m(t+(e-t)*n,_e)}function b(t){return typeof t!==en}function w(t,e){return b(t)?t:e}function k(t,e){return t-e}function T(t,e,n){var i,o=t.length;for(i=0;o>i;i++)t[i][e]=n}function A(t,e){return t.match(Se)?ce.format.apply(this,arguments):ce.toString(e,t)}function I(t){return le.getElementById(t)}function _(t){for(var e=t.parentNode;e&&e.parentNode;)e=e.parentNode;return e!==le}function z(t,e){return-t.x*e.y+t.y*e.x<0}function B(t){if(!t||!t.indexOf||t.indexOf("&")<0)return t;var e=B._element;return e.innerHTML=t,e.textContent||e.innerText}function P(t,e){return t&&e?t.getTime()-e.getTime():0}var C,E,L,j,V,S,U,D,M,R,N,O,F,G,q,H,W,X,$,K,Y,Q,Z,J,te,ee,ne,ie,oe,re,ae,se,le=document,ce=window.kendo,de=ce.dataviz={},ue=ce.Class,fe=ce.template,he=t.map,pe=t.noop,xe=t.inArray,ge=Math,me=ce.deepExtend,ve=function(t){return fe(t,{useWithBlock:!1,paramName:"d"})},ye="k-",be=10,we="axisLabelClick",ke=1,Te="#000",Ae="bottom",Ie="center",_e=3,ze="clip",Be="circle",Pe="12px sans-serif",Ce=400,Ee=6,Le=600,je=ge.PI/180,Ve="fadeIn",Se=/\{\d+:?/,Ue="height",De="k",Me=1e3,Re=1e4,Ne=600,Oe="inside",Fe="left",Ge="linear",qe=Number.MAX_VALUE,He=-Number.MAX_VALUE,We="none",Xe="noteClick",$e="noteHover",Ke="outside",Ye="radial",Qe="right",Ze="swing",Je="top",tn="triangle",en="undefined",nn=/([A-Z])/g,on="width",rn="#fff",an="x",sn="y",ln=.2,cn=function(t,n){var i=this;return i instanceof cn?(i.x=m(t||0,_e),i.y=m(n||0,_e),e):new cn(t,n)};cn.fn=cn.prototype={clone:function(){var t=this;return new cn(t.x,t.y)},equals:function(t){return t&&t.x===this.x&&t.y===this.y},rotate:function(t,e){var n=this,i=e*je,o=ge.cos(i),r=ge.sin(i),a=t.x,s=t.y,l=n.x,c=n.y;return n.x=m(a+(l-a)*o+(c-s)*r,_e),n.y=m(s+(c-s)*o-(l-a)*r,_e),n},distanceTo:function(t){var e=this.x-t.x,n=this.y-t.y;return ge.sqrt(e*e+n*n)}},cn.onCircle=function(t,e,n){return e*=je,new cn(t.x-n*ge.cos(e),t.y-n*ge.sin(e))},C=function(t,n,i,o){var r=this;return r instanceof C?(r.x1=t||0,r.x2=i||0,r.y1=n||0,r.y2=o||0,e):new C(t,n,i,o)},C.fn=C.prototype={width:function(){return this.x2-this.x1},height:function(){return this.y2-this.y1},translate:function(t,e){var n=this;return n.x1+=t,n.x2+=t,n.y1+=e,n.y2+=e,n},move:function(t,e){var n=this,i=n.height(),o=n.width();return n.x1=t,n.y1=e,n.x2=n.x1+o,n.y2=n.y1+i,n},wrap:function(t){var e=this;return e.x1=ge.min(e.x1,t.x1),e.y1=ge.min(e.y1,t.y1),e.x2=ge.max(e.x2,t.x2),e.y2=ge.max(e.y2,t.y2),e},wrapPoint:function(t){return this.wrap(new C(t.x,t.y,t.x,t.y)),this},snapTo:function(t,e){var n=this;return e!=an&&e||(n.x1=t.x1,n.x2=t.x2),e!=sn&&e||(n.y1=t.y1,n.y2=t.y2),n},alignTo:function(t,e){var n,i,o=this,r=o.height(),a=o.width(),s=e==Je||e==Ae?sn:an,l=s==sn?r:a;return e===Ie?(n=t.center(),i=o.center(),o.x1+=n.x-i.x,o.y1+=n.y-i.y):o[s+1]=e===Je||e===Fe?t[s+1]-l:t[s+2],o.x2=o.x1+a,o.y2=o.y1+r,o},shrink:function(t,e){var n=this;return n.x2-=t,n.y2-=e,n},expand:function(t,e){return this.shrink(-t,-e),this},pad:function(t){var e=this,i=n(t);return e.x1-=i.left,e.x2+=i.right,e.y1-=i.top,e.y2+=i.bottom,e},unpad:function(t){var e=this,i=n(t);return i.left=-i.left,i.top=-i.top,i.right=-i.right,i.bottom=-i.bottom,e.pad(i)},clone:function(){var t=this;return new C(t.x1,t.y1,t.x2,t.y2)},center:function(){var t=this;return new cn(t.x1+t.width()/2,t.y1+t.height()/2)},containsPoint:function(t){var e=this;return t.x>=e.x1&&t.x<=e.x2&&t.y>=e.y1&&t.y<=e.y2},points:function(){var t=this;return[new cn(t.x1,t.y1),new cn(t.x2,t.y1),new cn(t.x2,t.y2),new cn(t.x1,t.y2)]},getHash:function(){var t=this;return[t.x1,t.y1,t.x2,t.y2].join(",")}},E=ue.extend({init:function(t,e,n,i,o){var r=this;r.c=t,r.ir=e,r.r=n,r.startAngle=i,r.angle=o},clone:function(){var t=this;return new E(t.c,t.ir,t.r,t.startAngle,t.angle)},middle:function(){return this.startAngle+this.angle/2},radius:function(t,e){var n=this;return e?n.ir=t:n.r=t,n},point:function(t,e){var n=this,i=t*je,o=ge.cos(i),r=ge.sin(i),a=e?n.ir:n.r,s=n.c.x-o*a,l=n.c.y-r*a;return new cn(s,l)},adjacentBox:function(t,e,n){var i=this.clone().expand(t),o=i.middle(),r=i.point(o),a=e/2,s=n/2,l=r.x-a,c=r.y-s,d=ge.sin(o*je),u=ge.cos(o*je);return ge.abs(d)<.9&&(l+=a*-u/ge.abs(u)),ge.abs(u)<.9&&(c+=s*-d/ge.abs(d)),new C(l,c,l+e,c+n)},containsPoint:function(t){var e=this,n=e.c,i=e.ir,o=e.r,r=e.startAngle,a=e.startAngle+e.angle,s=t.x-n.x,l=t.y-n.y,c=new cn(s,l),d=e.point(r),u=new cn(d.x-n.x,d.y-n.y),f=e.point(a),h=new cn(f.x-n.x,f.y-n.y),p=s*s+l*l;return(u.equals(c)||z(u,c))&&!z(h,c)&&p>=i*i&&o*o>=p},getBBox:function(){var t,e,n,i=this,o=new C(qe,qe,He,He),r=m(i.startAngle%360),a=m((r+i.angle)%360),s=i.ir,l=[0,90,180,270,r,a].sort(k),c=xe(r,l),d=xe(a,l);for(t=r==a?l:d>c?l.slice(c,d+1):[].concat(l.slice(0,d+1),l.slice(c,l.length)),e=0;e<t.length;e++)n=i.point(t[e]),o.wrapPoint(n),o.wrapPoint(n,s);return s||o.wrapPoint(i.c),o},expand:function(t){return this.r+=t,this}}),L=E.extend({init:function(t,e,n,i){E.fn.init.call(this,t,0,e,n,i)},expand:function(t){return E.fn.expand.call(this,t)},clone:function(){var t=this;return new L(t.c,t.r,t.startAngle,t.angle)},radius:function(t){return E.fn.radius.call(this,t)},point:function(t){return E.fn.point.call(this,t)}}),j=ue.extend({init:function(t){me(this,{height:40,rotation:90,radius:10,arcAngle:10},t)}}),V=ue.extend({init:function(t){var e=this;e.children=[],e.options=me({},e.options,t)},reflow:function(t){var e,n,i,o=this,r=o.children;for(n=0;n<r.length;n++)i=r[n],i.reflow(t),e=e?e.wrap(i.box):i.box.clone();o.box=e||t},getViewElements:function(t){var e,n,i,o=this,r=o.options,a=r.modelId,s=[],l=o.children,c=l.length;for(n=0;c>n;n++)i=l[n],i.discoverable||(i.options=i.options||{},i.options.modelId=a),s.push.apply(s,i.getViewElements(t));return o.discoverable&&(e=o.getRoot(),e&&(e.modelMap[a]=o)),s},enableDiscovery:function(){var t=this,e=t.options;e.modelId=ie.current.alloc(),t.discoverable=!0},destroy:function(){var t,n=this,i=n.children,o=n.getRoot(),r=n.options.modelId,a=n.options.id,s=ie.current;for(a&&s.free(a),r&&(s.free(r),o&&o.modelMap[r]&&(o.modelMap[r]=e)),t=0;t<i.length;t++)i[t].destroy()},getRoot:function(){var t=this.parent;return t?t.getRoot():null},translateChildren:function(t,e){var n,i=this,o=i.children,r=o.length;for(n=0;r>n;n++)o[n].box.translate(t,e)},append:function(){var t,e=this,n=arguments.length;for(p(e.children,arguments),t=0;n>t;t++)arguments[t].parent=e}}),S=V.extend({init:function(t){var e=this;e.modelMap={},V.fn.init.call(e,t)},options:{width:Le,height:Ce,background:rn,border:{color:Te,width:0},margin:n(5),zIndex:-2},reflow:function(){var t,e=this,n=e.options,i=e.children,o=new C(0,0,n.width,n.height);for(e.box=o.unpad(n.margin),t=0;t<i.length;t++)i[t].reflow(o),o=c(o,i[t].box)},getViewElements:function(t){var e=this,n=e.options,i=n.border||{},o=e.box.clone().pad(n.margin).unpad(i.width),r=[t.createRect(o,{stroke:i.width?i.color:"",strokeWidth:i.width,dashType:i.dashType,fill:n.background,fillOpacity:n.opacity,zIndex:n.zIndex})];return r.concat(V.fn.getViewElements.call(e,t))},getRoot:function(){return this}}),U=V.extend({init:function(t){V.fn.init.call(this,t)},options:{align:Fe,vAlign:Je,margin:{},padding:{},border:{color:Te,width:0},background:"",shrinkToFit:!1,width:0,height:0,visible:!0},reflow:function(t){function e(){s.align(t,an,l.align),s.align(t,sn,l.vAlign),s.paddingBox=i.clone().unpad(c).unpad(u)}var i,o,r,a,s=this,l=s.options,c=n(l.margin),d=n(l.padding),u=l.border.width,f=s.children;for(V.fn.reflow.call(s,t),i=l.width&&l.height?s.box=new C(0,0,l.width,l.height):s.box,l.shrinkToFit?(e(),o=s.contentBox=s.paddingBox.clone().unpad(d)):(o=s.contentBox=i.clone(),i.pad(d).pad(u).pad(c),e()),s.translateChildren(i.x1-o.x1+c.left+u+d.left,i.y1-o.y1+c.top+u+d.top),r=0;r<f.length;r++)a=f[r],a.reflow(a.box)},align:function(t,e,n){var i=this,o=i.box,r=e+1,a=e+2,s=e===an?on:Ue,l=o[s]();f(n,[Fe,Je])?(o[r]=t[r],o[a]=o[r]+l):f(n,[Qe,Ae])?(o[a]=t[a],o[r]=o[a]-l):n==Ie&&(o[r]=t[r]+(t[s]()-l)/2,o[a]=o[r]+l)},hasBox:function(){var t=this.options;return t.border.width||t.background},getViewElements:function(t,e){var n=this,i=n.options,o=[];return i.visible?(n.hasBox()&&o.push(t.createRect(n.paddingBox,me(n.elementStyle(),e))),o.concat(V.fn.getViewElements.call(n,t))):[]},elementStyle:function(){var t=this,e=t.options,n=e.border||{};return{id:e.id,stroke:n.width?n.color:"",strokeWidth:n.width,dashType:n.dashType,strokeOpacity:e.opacity,fill:e.background,fillOpacity:e.opacity,animation:e.animation,zIndex:e.zIndex,data:{modelId:e.modelId}}}}),D=V.extend({init:function(t,e){var n=this;V.fn.init.call(n,e),n.content=B(t),n.reflow(C())},options:{font:Pe,color:Te,align:Fe,vAlign:""},reflow:function(t){var e,n,i=this,r=i.options;e=r.size=o(i.content,{font:r.font},r.rotation),i.baseline=e.baseline,r.align==Fe?i.box=new C(t.x1,t.y1,t.x1+e.width,t.y1+e.height):r.align==Qe?i.box=new C(t.x2-e.width,t.y1,t.x2,t.y1+e.height):r.align==Ie&&(n=(t.width()-e.width)/2,i.box=new C(m(t.x1+n,_e),t.y1,m(t.x2-n,_e),t.y1+e.height)),r.vAlign==Ie?(n=(t.height()-e.height)/2,i.box=new C(i.box.x1,t.y1+n,i.box.x2,t.y2-n)):r.vAlign==Ae?i.box=new C(i.box.x1,t.y2-e.height,i.box.x2,t.y2):r.vAlign==Je&&(i.box=new C(i.box.x1,t.y1,i.box.x2,t.y1+e.height))},getViewElements:function(t){var e=this,n=e.options;return V.fn.getViewElements.call(this,t),[t.createText(e.content,me({},n,{x:e.box.x1,y:e.box.y1,baseline:e.baseline,data:{modelId:n.modelId}}))]}}),M=U.extend({init:function(t,e){var n,i=this;U.fn.init.call(i,e),e=i.options,n=new D(t,me({},e,{align:Fe,vAlign:Je})),i.append(n),i.hasBox()&&(n.options.id=s()),i.reflow(new C)}}),R=V.extend({init:function(t){var e=this;V.fn.init.call(e,t),t=e.options,e.append(new M(t.text,me({},t,{vAlign:t.position})))},options:{color:Te,position:Je,align:Ie,margin:n(5),padding:n(5)},reflow:function(t){var e=this;V.fn.reflow.call(e,t),e.box.snapTo(t,an)}}),R.buildTitle=function(t,e,n){var i;return"string"==typeof t&&(t={text:t}),t=me({visible:!0},n,t),t&&t.visible&&t.text&&(i=new R(t),e.append(i)),i},N=M.extend({init:function(t,e,n,i){var o=this,r=t;i.template?(o.template=fe(i.template),r=o.template({value:t,dataItem:n})):i.format&&(r=o.formatValue(t,i)),o.text=r,o.value=t,o.index=e,o.dataItem=n,M.fn.init.call(o,r,me({id:s()},i)),o.enableDiscovery()},formatValue:function(t,e){return A(e.format,t)},click:function(e,n){var i=this;e.trigger(we,{element:t(n.target),value:i.value,text:i.text,index:i.index,dataItem:i.dataItem,axis:i.parent.options})}}),O=V.extend({init:function(t){var e=this;V.fn.init.call(e,t),e.options.visible||(e.options=me({},e.options,{labels:{visible:!1},line:{visible:!1},margin:0,majorTickSize:0,minorTickSize:0})),e.options.minorTicks=me({},{color:e.options.line.color,width:e.options.line.width,visible:e.options.minorTickType!=We},e.options.minorTicks,{size:e.options.minorTickSize,align:e.options.minorTickType}),e.options.majorTicks=me({},{color:e.options.line.color,width:e.options.line.width,visible:e.options.majorTickType!=We},e.options.majorTicks,{size:e.options.majorTickSize,align:e.options.majorTickType}),e.createLabels(),e.createTitle(),e.createNotes()},options:{labels:{visible:!0,rotation:0,mirror:!1,step:1,skip:0},line:{width:1,color:Te,visible:!0},title:{visible:!0,position:Ie},majorTicks:{align:Ke,size:4,skip:0,step:1},minorTicks:{align:Ke,size:3,skip:0,step:1},axisCrossingValue:0,majorTickType:Ke,minorTickType:We,majorGridLines:{skip:0,step:1},minorGridLines:{visible:!1,width:1,color:Te,skip:0,step:1},margin:5,visible:!0,reverse:!1,justified:!0,notes:{},_alignLines:!0},createLabels:function(){var t,e,n,i=this,o=i.options,r=o.vertical?Qe:Ie,a=me({},o.labels,{align:r,zIndex:o.zIndex,modelId:o.modelId}),s=a.step;if(i.labels=[],a.visible)for(n=i.labelsCount(),e=a.skip;n>e;e+=s)t=i.createAxisLabel(e,a),i.append(t),i.labels.push(t)},destroy:function(){var t,e=this,n=e.labels;for(t=0;t<n.length;t++)n[t].destroy();V.fn.destroy.call(e)},lineBox:function(){var t=this,e=t.options,n=t.box,i=e.vertical,o=t.labels,r=i?Ue:on,a=e.justified,s=e.labels.mirror,l=s?n.x1:n.x2,c=s?n.y2:n.y1,d=0,u=e.line.width;return a&&o.length>1&&(d=o[0].box[r]()/2,u=h(o).box[r]()/2),i?C(l,n.y1+d,l,n.y2-u):C(n.x1+d,c,n.x2-u,c)},createTitle:function(){var t,e=this,n=e.options,i=me({rotation:n.vertical?-90:0,text:"",zIndex:1},n.title);i.visible&&i.text&&(t=new M(i.text,i),e.append(t),e.title=t)},createNotes:function(){var t,e,n,i,o,r=this,a=r.options,s=a.notes,l=s.data||[];for(r.notes=[],e=0;e<l.length;e++)i=me({},s,l[e]),i.value=r.parseNoteValue(i.value),n=i.label.text||i.value,i.label.template?(t=fe(i.label.template),n=t({value:n})):i.label.format&&(n=A(i.label.format,n)),o=new F(me({},i,{label:{text:n}})),o.options.visible&&(b(o.options.position)?a.vertical&&!f(o.options.position,[Fe,Qe])?o.options.position=a.reverse?Fe:Qe:a.vertical||f(o.options.position,[Je,Ae])||(o.options.position=a.reverse?Ae:Je):o.options.position=a.vertical?a.reverse?Fe:Qe:a.reverse?Ae:Je,r.append(o),r.notes.push(o))},parseNoteValue:function(t){return t},renderTicks:function(t){function e(e,s){var f,h=e.length;if(s.visible)for(f=s.skip;h>f;f+=s.step)0!==f%s.skipUnit&&(n=u?d.x2:d.x2-s.size,i=u?d.y1-s.size:d.y1,o=e[f],c.vertical?(r=cn(n,o),a=cn(n+s.size,o)):(r=cn(o,i),a=cn(o,i+s.size)),l.push(t.createLine(r.x,r.y,a.x,a.y,{strokeWidth:s.width,stroke:s.color,align:c._alignLines})))}var n,i,o,r,a,s=this,l=[],c=s.options,d=s.lineBox(),u=c.labels.mirror,f=c.majorTicks.visible?c.majorUnit:0;return e(s.getMajorTickPositions(),c.majorTicks),e(s.getMinorTickPositions(),me({},{skipUnit:f/c.minorUnit},c.minorTicks)),l},renderLine:function(t){var e,n=this,i=n.options,o=i.line,r=n.lineBox(),a=[];return o.width>0&&o.visible&&(e={strokeWidth:o.width,stroke:o.color,dashType:o.dashType,zIndex:o.zIndex,align:i._alignLines},a.push(t.createLine(r.x1,r.y1,r.x2,r.y2,e)),p(a,n.renderTicks(t))),a},getViewElements:function(t){var e=this,n=V.fn.getViewElements.call(e,t);return p(n,e.renderLine(t)),p(n,e.renderPlotBands(t)),n},getActualTickSize:function(){var t=this,e=t.options,n=0;return e.majorTicks.visible&&e.minorTicks.visible?n=ge.max(e.majorTicks.size,e.minorTicks.size):e.majorTicks.visible?n=e.majorTicks.size:e.minorTicks.visible&&(n=e.minorTicks.size),n},renderPlotBands:function(t){var e,n,i,o,r=this,a=r.options,s=a.plotBands||[],l=a.vertical,c=[],d=r.plotArea;return s.length&&(c=he(s,function(a){return i=w(a.from,He),o=w(a.to,qe),l?(e=d.axisX.lineBox(),n=r.getSlot(a.from,a.to)):(e=r.getSlot(a.from,a.to),n=d.axisY.lineBox()),t.createRect(C(e.x1,n.y1,e.x2,n.y2),{fill:a.color,fillOpacity:a.opacity,zIndex:-1})})),c},renderGridLines:function(t,e){function n(e,n){var a,u=e.length;if(n.visible)for(a=n.skip;u>a;a+=n.step)i=m(e[a]),f(i,b)||0===a%n.skipUnit||d&&y===i||(l.vertical?(o=cn(g,i),r=cn(v,i)):(o=cn(i,g),r=cn(i,v)),o&&r&&(s.push(t.createLine(o.x,o.y,r.x,r.y,{data:{modelId:c},strokeWidth:n.width,stroke:n.color,dashType:n.dashType,zIndex:-1})),b.push(i)))}var i,o,r,a=this,s=[],l=a.options,c=a.plotArea.options.modelId,d=e.options.line.visible,u=l.majorGridLines,h=u.visible?l.majorUnit:0,p=l.vertical,x=e.lineBox(),g=x[p?"x1":"y1"],v=x[p?"x2":"y2"],y=x[p?"y1":"x1"],b=[];return n(a.getMajorTickPositions(),l.majorGridLines),n(a.getMinorTickPositions(),me({},{skipUnit:h/l.minorUnit},l.minorGridLines)),s},reflow:function(t){var e,n,i=this,o=i.options,r=o.vertical,a=i.labels,s=a.length,l=i.getActualTickSize()+o.margin,c=0,d=0,u=i.title;for(n=0;s>n;n++)e=a[n],c=ge.max(c,e.box.height()),d=ge.max(d,e.box.width());u&&(r?d+=u.box.width():c+=u.box.height()),i.box=r?C(t.x1,t.y1,t.x1+d+l,t.y2):C(t.x1,t.y1,t.x2,t.y1+c+l),i.arrangeTitle(),i.arrangeLabels(),i.arrangeNotes()},arrangeLabels:function(){var t,e,n,i,o,r,a,s,l,c,d,u=this,f=u.options,h=f.labels,p=u.labels,x=!f.justified,g=f.vertical,m=u.lineBox(),v=f.labels.mirror,y=u.getMajorTickPositions(),b=u.getActualTickSize()+f.margin;for(n=0;n<p.length;n++)s=p[n],l=h.skip+h.step*n,c=g?s.box.height():s.box.width(),d=y[l]-c/2,g?(x&&(i=y[l],o=y[l+1],r=i+(o-i)/2,d=r-c/2),a=m.x2,v?a+=b:a-=b+s.box.width(),t=s.box.move(a,d)):(x?(i=y[l],o=y[l+1]):(i=d,o=d+c),e=m.y1,v?e-=b+s.box.height():e+=b,t=C(i,e,o,e+s.box.height())),s.reflow(t)},arrangeTitle:function(){var t=this,e=t.options,n=e.labels.mirror,i=e.vertical,o=t.title;o&&(i?(o.options.align=n?Qe:Fe,o.options.vAlign=o.options.position):(o.options.align=o.options.position,o.options.vAlign=n?Je:Ae),o.reflow(t.box))},arrangeNotes:function(){var t,e,n,i,o=this;for(t=0;t<o.notes.length;t++)e=o.notes[t],i=e.options.value,b(i)?(o.shouldRenderNote(i)?e.show():e.hide(),n=o.getSlot(i)):e.hide(),e.reflow(n||o.lineBox())},alignTo:function(t){var e=this,n=t.lineBox(),i=e.options.vertical,o=i?sn:an;e.box.snapTo(n,o),i?e.box.shrink(0,e.lineBox().height()-n.height()):e.box.shrink(e.lineBox().width()-n.width(),0),e.box[o+1]-=e.lineBox()[o+1]-n[o+1],e.box[o+2]-=e.lineBox()[o+2]-n[o+2]}}),F=U.extend({init:function(t){var e=this;U.fn.init.call(e,t),e.enableDiscovery(),e.render()},options:{icon:{zIndex:1,visible:!0,type:Be},label:{zIndex:2,position:Oe,visible:!0,align:Ie,vAlign:Ie},line:{visible:!0,zIndex:2},visible:!0,position:Je},hide:function(){this.options.visible=!1},show:function(){this.options.visible=!0},render:function(){var t,e,n,i=this,o=i.options,r=o.label,a=o.icon,s=a.size,l={data:{modelId:o.modelId}},c=C();o.visible&&(b(r)&&r.visible&&(i.label=new M(r.text||o.value,me({},r,l)),i.append(i.label),r.position===Oe&&(a.type===Be?s=ge.max(i.label.box.width(),i.label.box.height()):(e=i.label.box.width(),n=i.label.box.height()),c.wrap(i.label.box))),a.width=e||s,a.height=n||s,t=new G(me({},a,l)),i.marker=t,i.append(t),t.reflow(C()),i.wrapperBox=c.wrap(t.box))},reflow:function(t){var e,n,i,o=this,r=o.options,a=t.center(),s=o.wrapperBox,l=r.line.length,c=r.position,d=o.label,u=o.marker;r.visible&&(f(c,[Fe,Qe])?c===Fe?(i=s.alignTo(t,c).translate(-l,t.center().y-s.center().y),r.line.visible&&(e=cn(ge.floor(t.x1),a.y),o.linePoints=[e,cn(ge.floor(i.x2),a.y)],n=i.clone().wrapPoint(e))):(i=s.alignTo(t,c).translate(l,t.center().y-s.center().y),r.line.visible&&(e=cn(ge.floor(t.x2),a.y),o.linePoints=[e,cn(ge.floor(i.x1),a.y)],n=i.clone().wrapPoint(e))):c===Ae?(i=s.alignTo(t,c).translate(t.center().x-s.center().x,l),r.line.visible&&(e=cn(ge.floor(a.x),ge.floor(t.y2)),o.linePoints=[e,cn(ge.floor(a.x),ge.floor(i.y1))],n=i.clone().wrapPoint(e))):(i=s.alignTo(t,c).translate(t.center().x-s.center().x,-l),r.line.visible&&(e=cn(ge.floor(a.x),ge.floor(t.y1)),o.linePoints=[e,cn(ge.floor(a.x),ge.floor(i.y2))],n=i.clone().wrapPoint(e))),u&&u.reflow(i),d&&(d.reflow(i),u&&(r.label.position===Ke&&d.box.alignTo(u.box,c),d.reflow(d.box))),o.contentBox=i,o.box=n||i)},getViewElements:function(t){var e=this,n=U.fn.getViewElements.call(e,t),i=t.createGroup({data:{modelId:e.options.modelId},zIndex:1});return e.options.visible&&p(n,e.createLine(t)),i.children=n,[i]},createLine:function(t){var e=this,n=e.options.line;return[t.createPolyline(e.linePoints,!1,{stroke:n.color,strokeWidth:n.width,dashType:n.dashType,zIndex:n.zIndex})]},click:function(t,e){var n=this.eventArgs(e);t.trigger(Xe,n)||e.preventDefault()},hover:function(t,e){var n=this.eventArgs(e);t.trigger($e,n)||e.preventDefault()},leave:function(t){t._unsetActivePoint()},eventArgs:function(e){var n=this.parent,i=n.options;return{element:t(e.target),text:b(i.label)?i.label.text:""}}}),G=U.extend({options:{type:Be,align:Ie,vAlign:Ie},getViewElements:function(t,e){var n,i,o,r,a=this,s=a.options,l=s.type,c=s.rotation,d=a.paddingBox,u=d.center(),f=d.width()/2;if(V.fn.getViewElements.call(this,t),!((e||{}).visible===!0||s.visible&&a.hasBox()))return[];if(i=me(a.elementStyle(),e),l===Be?n=t.createCircle(new cn(m(d.x1+f,_e),m(d.y1+d.height()/2,_e)),f,i):o=l===tn?[new cn(d.x1+f,d.y1),new cn(d.x1,d.y2),new cn(d.x2,d.y2)]:d.points(),o){if(c)for(r=0;r<o.length;r++)o[r].rotate(u,c);n=t.createPolyline(o,!0,i)}return[n]}}),q=U.extend({init:function(t){var e=this;U.fn.init.call(e,t),e.createTextBox()},options:{arcAngle:300,border:{width:1,color:"red"},label:{zIndex:2,margin:n(2),border:{width:1,color:"green"}}},createTextBox:function(){var t=this,e=t.options,n=new M(e.code,e.label);t.append(n),t.textBox=n},reflow:function(t){var e=this,n=e.textBox;e.box=C(0,0,n.box.height(),1.5*n.box.height()),U.fn.reflow.call(e,t)},getViewElements:function(t){var e=this,n=e.options,i=e.box.center(),o=t.createPin(new j({origin:new cn(i.x,i.y),radius:e.textBox.box.height()/2,height:1.5*e.textBox.box.height(),rotation:0,arcAngle:n.arcAngle}),me({},{fill:"red",zIndex:1,kur:1,id:"111"},n)),r=[o];return p(r,U.fn.getViewElements.call(e,t)),r}}),H=O.extend({init:function(t,e,n){var i=this,o=i.initDefaults(t,e,n);O.fn.init.call(i,o)},options:{type:"numeric",min:0,max:1,vertical:!0,majorGridLines:{visible:!0,width:1,color:Te},zIndex:1},initDefaults:function(t,e,n){var i,o=this,a=n.narrowRange,s=o.autoAxisMin(t,e,a),l=o.autoAxisMax(t,e,a),c=r(s,l),d={majorUnit:c};return n.roundToMajorUnit!==!1&&(0>s&&v(s,c,1/3)&&(s-=c),l>0&&v(l,c,1/3)&&(l+=c)),d.min=g(s,c),d.max=x(l,c),n&&(i=b(n.min)||b(n.max),i&&n.min===n.max&&(n.min>0?n.min=0:n.max=1),n.majorUnit?(d.min=g(d.min,n.majorUnit),d.max=x(d.max,n.majorUnit)):i&&(n=me(d,n),d.majorUnit=r(n.min,n.max))),d.minorUnit=(n.majorUnit||d.majorUnit)/5,me(d,n)},range:function(){var t=this.options;return{min:t.min,max:t.max}},autoAxisMax:function(t,e,n){var i,o;if(!t&&!e)return 1;if(0>=t&&0>=e){if(e=t==e?0:e,o=ge.abs((e-t)/e),!n&&o>ln)return 0;i=ge.min(0,e-(t-e)/2)}else t=t==e?0:t,i=e;return i},autoAxisMin:function(t,e,n){var i,o;if(!t&&!e)return 0;if(t>=0&&e>=0){if(t=t==e?0:t,o=(e-t)/e,!n&&o>ln)return 0;i=ge.max(0,t-(e-t)/2)}else e=t==e?0:e,i=t;return i},getDivisions:function(t){var e=this.options,n=e.max-e.min;return ge.floor(m(n/t,_e))+1},getTickPositions:function(t,e){var n,i=this,o=i.options,r=o.vertical,a=o.reverse,s=i.lineBox(),l=r?s.height():s.width(),c=o.max-o.min,d=l/c,u=t*d,f=0,h=i.getDivisions(t),p=(r?-1:1)*(a?-1:1),x=1===p?1:2,g=s[(r?sn:an)+x],v=[];for(e&&(f=e/t),n=0;h>n;n++)0!==n%f&&v.push(m(g,_e)),g+=u*p;return v},getMajorTickPositions:function(){var t=this;return t.getTickPositions(t.options.majorUnit)},getMinorTickPositions:function(){var t=this;return t.getTickPositions(t.options.minorUnit)},getSlot:function(t,e){var n,i,o=this,r=o.options,a=r.reverse,s=r.vertical,l=s?sn:an,c=o.lineBox(),d=c[l+(a?2:1)],u=s?c.height():c.width(),f=a?-1:1,h=f*(u/(r.max-r.min)),p=new C(c.x1,c.y1,c.x1,c.y1);return b(t)||(t=e||0),b(e)||(e=t||0),t=ge.max(ge.min(t,r.max),r.min),e=ge.max(ge.min(e,r.max),r.min),s?(n=r.max-ge.max(t,e),i=r.max-ge.min(t,e)):(n=ge.min(t,e)-r.min,i=ge.max(t,e)-r.min),p[l+1]=d+h*(a?i:n),p[l+2]=d+h*(a?n:i),p},getValue:function(t){var e,n=this,i=n.options,o=i.reverse,r=i.vertical,a=1*i.max,s=1*i.min,l=r?sn:an,c=n.lineBox(),d=c[l+(o?2:1)],u=r?c.height():c.width(),f=o?-1:1,h=f*(t[l]-d),p=(a-s)/u,x=h*p;return 0>h||h>u?null:(e=r?a-x:s+x,m(e,Ee))},translateRange:function(t){var e=this,n=e.options,i=e.lineBox(),o=n.vertical,r=n.reverse,a=o?i.height():i.width(),s=n.max-n.min,l=a/s,c=m(t/l,Ee);return!o&&!r||o&&r||(c=-c),{min:n.min+c,max:n.max+c}},scaleRange:function(t){var e=this,n=e.options,i=-t*n.majorUnit;return{min:n.min-i,max:n.max+i}},labelsCount:function(){return this.getDivisions(this.options.majorUnit)},createAxisLabel:function(t,e){var n=this,i=n.options,o=m(i.min+t*i.majorUnit,Ee);return new N(o,t,null,e)},shouldRenderNote:function(t){var e=this.range();return e.min<=t&&t<=e.max}}),W=ue.extend({init:function(t){var e=this;e.children=[],e.options=me({},e.options,t)},render:function(){return this.template(this)},renderContent:function(){var t,e=this,n="",i=e.sortChildren(),o=i.length;for(t=0;o>t;t++)n+=i[t].render();return n},sortChildren:function(){var t,e,n=this,i=n.children;for(e=0,t=i.length;t>e;e++)i[e]._childIndex=e;return i.slice(0).sort(n.compareChildren)},refresh:t.noop,destroy:function(){var t,e,n=this,i=n.options.id,o=n.children;for(i&&ie.current.free(i),e=0,t=o.length;t>e;e++)o[e].destroy()},compareChildren:function(t,e){var n=t.options.zIndex||0,i=e.options.zIndex||0;return n!==i?n-i:t._childIndex-e._childIndex},renderId:function(){var t=this,e="";return t.options.id&&(e=t.renderAttr("id",t.options.id)),e},renderAttr:function(t,e){return b(e)?" "+t+"='"+e+"' ":""},renderDataAttributes:function(){var t,e,n=this,i=n.options.data,o="";for(t in i)e="data-"+t.replace(nn,"-$1").toLowerCase(),o+=n.renderAttr(e,i[t]);return o},renderCursor:function(){var t=this.options,e="";return b(t.cursor)&&t.cursor.style&&(e+="cursor: "+t.cursor.style+";"),e}}),X=W.extend({init:function(t){var e=this;W.fn.init.call(e,t),e.definitions={},e.decorators=[],e.animations=[]},destroy:function(){var t=this,e=t.animations,n=t._viewElement;for(W.fn.destroy.call(this);e.length>0;)e.shift().destroy();n&&(t._freeIds(n),t._viewElement=null)},_freeIds:function(e){t("[id]",e).each(function(){ie.current.free(t(this).attr("id"))})},replace:function(t){var e=this,n=I(t.options.id);n&&(e._freeIds(n),n.parentNode.replaceChild(e.renderElement(t.getViewElements(e)[0]),n))},load:function(t){var e=this;e.children=t.getViewElements(e)},renderDefinitions:function(){var t,e=this.definitions,n="";for(t in e)e.hasOwnProperty(t)&&(n+=e[t].render());return n},decorate:function(t){var e,n,i=this.decorators,o=i.length;for(e=0;o>e;e++)n=i[e],this._decorateChildren(n,t),t=n.decorate.call(n,t);return t},_decorateChildren:function(t,e){var n,i=this,o=e.children,r=o.length;for(n=0;r>n;n++)i._decorateChildren(t,o[n]),o[n]=t.decorate.call(t,o[n])},setupAnimations:function(){for(var t=0;t<this.animations.length;t++)this.animations[t].setup()},playAnimations:function(){for(var t=0;t<this.animations.length;t++)this.animations[t].play()},buildGradient:function(t){var e,n,i,o=this,r=o._gradientCache;return r||(r=o._gradientCache=[]),t&&(e=a(t),n=r[e],i=de.Gradients[t.gradient],!n&&i&&(n=me({id:s()},i,t),r[e]=n)),n},setDefaults:function(t){var e=this.options;return t=t||{},b(t.inline)||(t.inline=e.inline),b(t.align)||(t.align=e.align),t}}),de.Gradients={glass:{type:Ge,rotation:0,stops:[{offset:0,color:rn,opacity:0},{offset:.25,color:rn,opacity:.3},{offset:1,color:rn,opacity:0}]},sharpBevel:{type:Ye,stops:[{offset:0,color:rn,opacity:.55},{offset:.65,color:rn,opacity:0},{offset:.95,color:rn,opacity:.25}]},roundedBevel:{type:Ye,stops:[{offset:.33,color:rn,opacity:.06},{offset:.83,color:rn,opacity:.2},{offset:.95,color:rn,opacity:0}]},roundedGlass:{type:Ye,supportVML:!1,stops:[{offset:0,color:rn,opacity:0},{offset:.5,color:rn,opacity:.3},{offset:.99,color:rn,opacity:0}]},sharpGlass:{type:Ye,supportVML:!1,stops:[{offset:0,color:rn,opacity:.2},{offset:.15,color:rn,opacity:.15},{offset:.17,color:rn,opacity:.35},{offset:.85,color:rn,opacity:.05},{offset:.87,color:rn,opacity:.15},{offset:.99,color:rn,opacity:0}]}},$=ue.extend({init:function(t,e){var n=this;n.options=me({},n.options,e),n.element=t},options:{duration:Ne,easing:Ze},play:function(){var e,n,i,o,r,a=this,s=a.options,l=a.element,c=l.options.id,d=s.delay||0,u=+new Date+d,f=s.duration,h=u+f,p=t.easing[s.easing];setTimeout(function(){var t=function(){a._stopped||(n=+new Date,i=ge.min(n-u,f),o=i/f,r=p(o,i,0,1,f),a.step(r),(!e||_(e))&&(e=I(c)),l.refresh(e),h>n?de.requestFrame(t):a.destroy())};t()},d)},abort:function(){this._stopped=!0},destroy:function(){this.abort()},setup:pe,step:pe}),K=$.extend({options:{duration:200,easing:Ge},setup:function(){var t=this,e=t.element.options;t.targetFillOpacity=e.fillOpacity,t.targetStrokeOpacity=e.strokeOpacity,e.fillOpacity=e.strokeOpacity=0},step:function(t){var e=this,n=e.element.options;n.fillOpacity=t*e.targetFillOpacity,n.strokeOpacity=t*e.targetStrokeOpacity}}),Y=$.extend({options:{size:0,easing:Ge},setup:function(){var t=this.element.points;t[1].x=t[2].x=t[0].x},step:function(t){var e=this.options,n=y(0,e.size,t),i=this.element.points;i[1].x=i[2].x=i[0].x+n},destroy:function(){$.fn.destroy.call(this),this.element.destroy()}}),Q=$.extend({options:{easing:Ge,duration:900},setup:function(){var t,e,n=this,i=n.element,o=i.options,r=n.options,a=r.center;o.rotation&&(t=r.startAngle,e=o.rotation[0],r.duration=ge.max(1e3*(ge.abs(t-e)/r.speed),1),n.endState=e,o.rotation=[t,a.x,a.y])},step:function(t){var e=this,n=e.element;n.options.rotation&&(n.options.rotation[0]=y(e.options.startAngle,e.endState,t))}}),Z=$.extend({options:{easing:Ze},setup:function(){var t,e=this,n=e.element,i=n.points,o=n.options,r=o.vertical?sn:an,a=o.stackBase,s=o.aboveAxis,l=e.endState={top:i[0].y,right:i[1].x,bottom:i[3].y,left:i[0].x};t=r===sn?w(a,l[s?Ae:Je]):w(a,l[s?Fe:Qe]),e.startPosition=t,T(i,r,t)},step:function(t){var e=this,n=e.startPosition,i=e.endState,o=e.element,r=o.points;o.options.vertical?(r[0].y=r[1].y=y(n,i.top,t),r[2].y=r[3].y=y(n,i.bottom,t)):(r[0].x=r[3].x=y(n,i.left,t),r[1].x=r[2].x=y(n,i.right,t))}}),J=$.extend({options:{easing:Ze,duration:1e3},setup:function(){var t,e,n,i=this,o=i.element,r=o.points,a=o.options.animation,s=a.vertical,l=a.reverse,c=i.axis=s?"y":"x",d=i.options.endPosition,u=i.initialState={top:r[0].y,right:r[1].x,bottom:r[3].y,left:r[0].x},f=!b(i.options.endPosition);s?(n=l?"y2":"y1",t=u[f&&!l?Ae:Je],e=f?u[l?Ae:Je]:d[n]):(n=l?"x1":"x2",t=u[f&&!l?Fe:Qe],e=f?u[l?Fe:Qe]:d[n]),i.start=t,i.end=e,f?T(r,c,i.start):a.speed&&(i.options.duration=ge.max(1e3*(ge.abs(i.start-i.end)/a.speed),1))},step:function(t){var e=this,n=e.start,i=e.end,o=e.element,r=o.points,a=e.axis;o.options.animation.vertical?r[0][a]=r[1][a]=y(n,i,t):r[1][a]=r[2][a]=y(n,i,t)}}),te=$.extend({options:{easing:Ze,duration:1e3},setup:function(){var t,e,n,i=this,o=i.element,r=o.points,a=o.options.animation,s=a.vertical,l=a.reverse,c=s?"y":"x",d=c+(l?"1":"2"),u=c+(l?"2":"1"),f=a.startPosition[s?d:u],h=a.size/2,p=r.length,x=!b(i.options.endPosition),g=h;
for(i.axis=c,i.endPositions=[],i.startPositions=[],x||(f=r[1][c],e=i.options.endPosition[s?u:d],a.speed&&(i.options.duration=ge.max(1e3*(ge.abs(f-e)/a.speed),1))),n=0;p>n;n++)t=me({},r[n]),x?(i.endPositions[n]=t[c],r[n][c]=f-g):i.endPositions[n]=e-g,i.startPositions[n]=r[n][c],g-=h},step:function(t){var e,n=this,i=n.startPositions,o=n.endPositions,r=n.element,a=r.points,s=n.axis,l=a.length;for(e=0;l>e;e++)a[e][s]=y(i[e],o[e],t)}}),ee=i(Ve,K),ne=function(t){var e,n,i,o,r,a=this,s=ne.formats;if(1===arguments.length)for(t=a.resolveColor(t),o=0;o<s.length;o++)e=s[o].re,n=s[o].process,i=e.exec(t),i&&(r=n(i),a.r=r[0],a.g=r[1],a.b=r[2]);else a.r=arguments[0],a.g=arguments[1],a.b=arguments[2];a.r=a.normalizeByte(a.r),a.g=a.normalizeByte(a.g),a.b=a.normalizeByte(a.b)},ne.prototype={toHex:function(){var t=this,e=t.padDigit,n=t.r.toString(16),i=t.g.toString(16),o=t.b.toString(16);return"#"+e(n)+e(i)+e(o)},resolveColor:function(t){return t=t||Te,"#"==t.charAt(0)&&(t=t.substr(1,6)),t=t.replace(/ /g,""),t=t.toLowerCase(),t=ne.namedColors[t]||t},normalizeByte:function(t){return 0>t||isNaN(t)?0:t>255?255:t},padDigit:function(t){return 1===t.length?"0"+t:t},brightness:function(t){var e=this,n=ge.round;return e.r=n(e.normalizeByte(e.r*t)),e.g=n(e.normalizeByte(e.g*t)),e.b=n(e.normalizeByte(e.b*t)),e},percBrightness:function(){var t=this;return ge.sqrt(.241*t.r*t.r+.691*t.g*t.g+.068*t.b*t.b)}},ne.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(t){return[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],ne.namedColors={aqua:"00ffff",azure:"f0ffff",beige:"f5f5dc",black:"000000",blue:"0000ff",brown:"a52a2a",coral:"ff7f50",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgray:"a9a9a9",darkgreen:"006400",darkorange:"ff8c00",darkred:"8b0000",dimgray:"696969",fuchsia:"ff00ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lightblue:"add8e6",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumblue:"0000cd",navy:"000080",olive:"808000",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",pink:"ffc0cb",plum:"dda0dd",purple:"800080",red:"ff0000",royalblue:"4169e1",salmon:"fa8072",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",steelblue:"4682b4",tan:"d2b48c",teal:"008080",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},ie=ue.extend({init:function(t,e,n){this._pool=[],this._freed={},this._size=t,this._id=n,this._prefix=e},alloc:function(){var t,e=this,n=e._pool;return n.length>0?(t=n.pop(),e._freed[t]=!1):t=e._prefix+e._id++,t},free:function(t){var e=this,n=e._pool,i=e._freed;n.length<e._size&&!i[t]&&(n.push(t),i[t]=!0)}}),ie.current=new ie(Me,De,Re),oe=ue.extend({init:function(t){this._size=t,this._length=0,this._map={}},put:function(t,e){var n=this,i=n._map,o={key:t,value:e};i[t]=o,n._head?(n._tail.newer=o,o.older=n._tail,n._tail=o):n._head=n._tail=o,n._length>=n._size?(i[n._head.key]=null,n._head=n._head.newer,n._head.older=null):n._length++},get:function(t){var n=this,i=n._map[t];return i?(i===n._head&&i!==n._tail&&(n._head=i.newer,n._head.older=null),i!==n._tail&&(i.older&&(i.older.newer=i.newer,i.newer.older=i.older),i.older=n._tail,i.newer=null,n._tail.newer=i,n._tail=i),i.value):e}}),re=function(){this._views=[]},re.prototype={register:function(t,e,n){var i=this._views,o=i[0],r={name:t,type:e,order:n};!o||n<o.order?i.unshift(r):i.push(r)},create:function(t,n){var i,o=this._views,r=o[0];if(n)for(n=n.toLowerCase(),i=0;i<o.length;i++)if(o[i].name===n){r=o[i];break}return r?new r.type(t):(ce.logToConsole("Warning: KendoUI DataViz cannot render. Possible causes:\n- The browser does not support SVG, VML and Canvas. User agent: "+navigator.userAgent+"\n"+"- The kendo.dataviz.(svg|vml|canvas).js scripts are not loaded"),e)}},re.current=new re,ae={svg:function(){if(de.SVGView){var t=this._getModel(),e=new de.SVGView(t.options);return e.load(t),e.render()}throw Error("Unable to create SVGView. Check that kendo.dataviz.svg.js is loaded.")},imageDataURL:function(){if(de.CanvasView){if(de.supportsCanvas()){var t=this._getModel(),e=document.createElement("div"),n=new de.CanvasView(t.options);return n.load(t),n.renderTo(e).toDataURL()}return ce.logToConsole("Warning: Unable to generate image. The browser does not support Canvas.\nUser agent: "+navigator.userAgent),null}throw Error("Unable to create CanvasView. Check that kendo.dataviz.canvas.js is loaded.")}},o.cache=new oe(1e3),o.baselineMarker=t("<div class='"+ye+"baseline-marker' "+"style='display: inline-block; vertical-align: baseline;"+"width: "+ke+"px; height: "+ke+"px;"+"overflow: hidden;' />")[0],se=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,be)},de.requestFrame=function(t,e){return se(t,e)},B._element=le.createElement("span"),me(ce.dataviz,{init:function(t){ce.init(t,ce.dataviz.ui)},ui:{roles:{},themes:{},views:[],plugin:function(t){ce.ui.plugin(t,de.ui)}},AXIS_LABEL_CLICK:we,COORD_PRECISION:_e,DEFAULT_PRECISION:Ee,DEFAULT_WIDTH:Le,DEFAULT_HEIGHT:Ce,DEFAULT_FONT:Pe,INITIAL_ANIMATION_DURATION:Ne,NOTE_CLICK:Xe,NOTE_HOVER:$e,CLIP:ze,DASH_ARRAYS:{dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]},Axis:O,AxisLabel:N,Box2D:C,BoxElement:U,ChartElement:V,Color:ne,ElementAnimation:$,ExpandAnimation:Y,ExportMixin:ae,ArrowAnimation:te,BarAnimation:Z,BarIndicatorAnimatin:J,FadeAnimation:K,FadeAnimationDecorator:ee,IDPool:ie,LRUCache:oe,Note:F,NumericAxis:H,Point2D:cn,PinElement:q,Ring:E,Pin:j,RootElement:S,RotationAnimation:Q,Sector:L,ShapeElement:G,Text:D,TextBox:M,Title:R,ViewBase:X,ViewElement:W,ViewFactory:re,animationDecorator:i,append:p,autoFormat:A,autoMajorUnit:r,boxDiff:c,defined:b,decodeEntities:B,dateComparer:P,getElement:I,getSpacing:n,inArray:f,interpolateValue:y,last:h,measureText:o,rotatePoint:l,round:m,ceil:x,floor:g,supportsCanvas:u,supportsSVG:d,renderTemplate:ve,uniqueId:s,valueOrDefault:w})}(window.kendo.jQuery);;!function(){function t(t){this.view=t}function e(t){this.view=t}function n(t){return d.round(t)+.5}function i(t,e){var n,i,r=[];if(t=t?t.toLowerCase():null,t&&t!=E){for(n=G[t],i=0;i<n.length;i++)r.push(n[i]*(e||1));return"stroke-dasharray='"+r.join(" ")+"' "}return""}var r,o,a=jQuery,s=document,d=Math,p=window.kendo,l=p.Class,c=p.dataviz,f=c.Box2D,u=c.ExpandAnimation,h=c.Point2D,m=c.ViewBase,y=c.ViewElement,x=p.deepExtend,v=c.defined,w=c.round,g=c.renderTemplate,T=c.rotatePoint,P=c.uniqueId,A="butt",S=c.CLIP,D=c.COORD_PRECISION,G=c.DASH_ARRAYS,O=c.DEFAULT_WIDTH,C=c.DEFAULT_HEIGHT,k=c.DEFAULT_FONT,I="none",V="radial",E="solid",L="square",b="http://www.w3.org/2000/svg",R="transparent",M="undefined",_=m.extend({init:function(n){var i=this;m.fn.init.call(i,n),i.decorators.push(new t(i),new e(i)),c.ui.Chart&&i.decorators.push(new c.BarAnimationDecorator(i),new c.PieAnimationDecorator(i),new c.BubbleAnimationDecorator(i)),i.decorators.push(new r(i),new c.FadeAnimationDecorator(i)),c.Gauge&&i.decorators.push(new c.RadialPointerAnimationDecorator(i),new c.ArrowPointerAnimationDecorator(i),new c.BarIndicatorAnimationDecorator(i)),i.defsId=P(),i.template=_.template,i.display=i.options.inline?"inline":"block",i.template||(i.template=_.template=g("<?xml version='1.0' ?><svg xmlns='"+b+"' version='1.1' "+"width='#= d.options.width #px' height='#= d.options.height #px' "+"style='position: relative; display: #= d.display #;'>"+"#= d.renderDefinitions() #"+"#= d.renderContent() #</svg>"))},options:{width:O,height:C},renderTo:function(t){var e,n=this;return n.setupAnimations(),c.renderSVG(t,n.render()),e=t.firstElementChild,n.alignToScreen(e),n.playAnimations(),n._viewElement=e,e},renderDefinitions:function(){var t=this,e=t.defsId,n=m.fn.renderDefinitions.call(t);return"<defs id='"+e+"'>"+n+"</defs>"},renderElement:function(t){var e,n,i=this,r=s.createElement("div"),o=s.getElementById(i.defsId);return c.renderSVG(r,"<?xml version='1.0' ?><svg xmlns='"+b+"' version='1.1'>"+i.renderDefinitions()+t.render()+"</svg>"),e=r.firstElementChild.firstChild,n=r.firstElementChild.lastChild,o&&o.textContent!==e.textContent&&o.parentNode.replaceChild(e,o),n},createGroup:function(t){return this.decorate(new q(t))},createText:function(t,e){return this.decorate(new U(t,e))},createRect:function(t,e){return this.decorate(new z(t.points(),!0,this.setDefaults(e)))},createLine:function(t,e,n,i,r){return this.decorate(new z([new h(t,e),new h(n,i)],!1,this.setDefaults(r)))},createMultiLine:function(t,e){return this.decorate(new H(t,!1,this.setDefaults(e)))},createPolyline:function(t,e,n){return this.decorate(new z(t,e,this.setDefaults(n)))},createCircle:function(t,e,n){return this.decorate(new N(t,e,n))},createSector:function(t,e){return this.decorate(new W(t,e))},createRing:function(t,e){return this.decorate(new B(t,e))},createPin:function(t,e){return this.decorate(new j(t,e))},createGradient:function(t){return t.type===V?v(t.ir)?new X(t):new K(t):new J(t)},alignToScreen:function(t){var e,n,i,r;try{e=t.getScreenCTM?t.getScreenCTM():null}catch(o){}e&&(n=-e.e%1,i=-e.f%1,r=t.style,(0!==n||0!==i)&&(r.left=n+"px",r.top=i+"px"))}}),U=y.extend({init:function(t,e){var n=this;y.fn.init.call(n,e),n.content=t,n.template=U.template,n.template||(n.template=U.template=g("<text #= d.renderId() # #= d.renderDataAttributes() # x='#= Math.round(d.options.x) #' y='#= Math.round(d.options.y + d.options.baseline) #' fill-opacity='#= d.options.fillOpacity #' #= d.options.rotation ? d.renderRotation() : '' # style='font: #= d.options.font #; #= d.renderCursor() #' fill='#= d.options.color #'>#= d.content #</text>"))},options:{x:0,y:0,baseline:0,font:k,size:{width:0,height:0},fillOpacity:1,cursor:{}},refresh:function(t){var e=this.options;a(t).attr({"fill-opacity":e.fillOpacity})},clone:function(){var t=this;return new U(t.content,x({},t.options))},renderRotation:function(){var t=this,e=t.options,n=e.size,i=w(e.x+n.normalWidth/2,D),r=w(e.y+n.normalHeight/2,D),o=w(e.x+n.width/2,D),a=w(e.y+n.height/2,D),s=w(o-i,D),d=w(a-r,D);return"transform='translate("+s+","+d+") "+"rotate("+e.rotation+","+i+","+r+")'"}}),F=y.extend({init:function(t){var e=this;y.fn.init.call(e,t),e.template=F.template,e.template||(e.template=F.template=g("<path #= d.renderId() #style='display: #= d.renderDisplay() #; #= d.renderCursor() #' #= d.renderDataAttributes() # d='#= d.renderPoints() #' #= d.renderAttr(\"stroke\", d.options.stroke) # #= d.renderAttr(\"stroke-width\", d.options.strokeWidth) ##= d.renderDashType() # #= d.renderShapeOptions() # stroke-linecap='#= d.renderLinecap() #' stroke-linejoin='round' fill-opacity='#= d.options.fillOpacity #' stroke-opacity='#= d.options.strokeOpacity #' fill='#= d.renderFill() #'></path>"))},options:{fill:"",fillOpacity:1,strokeOpacity:1,rotation:[0,0,0],strokeLineCap:L,visible:!0,cursor:{}},refresh:function(t){var e=this.options;a(t).attr({d:this.renderPoints(),"fill-opacity":e.fillOpacity,"stroke-opacity":e.strokeOpacity}).css("display",this.renderDisplay())},clone:function(){return new F(x({},this.options))},renderPoints:function(){},renderDashType:function(){var t=this,e=t.options;return i(e.dashType,e.strokeWidth)},renderLinecap:function(){var t=this.options,e=t.dashType,n=t.strokeLineCap;return e&&e!=E?A:n},renderFill:function(){var t=this.options.fill;return t&&t!==R?t:I},renderDisplay:function(){return this.options.visible?"block":"none"},renderShapeOptions:function(){return this.options.crispEdges?"shape-rendering='crispEdges'":""},destroy:function(){}}),z=F.extend({init:function(t,e,n){var i=this;F.fn.init.call(i,n),i.points=t,i.closed=e},renderPoints:function(){var t=this,e=t.points;return t._renderPoints(e)},_renderPoints:function(t){var e,n=this,i=n.options.rotation,r=new h(i[1],i[2]),o=-i[0],a=[];for(e=0;e<t.length;e++)a.push(n._print(t[e].clone().rotate(r,o)));return n.closed&&a.push("z"),"M"+a.join(" ")},clone:function(){var t=this;return new z(x([],t.points),t.closed,x({},t.options))},_print:function(t){var e=this,i=e.options,r=i.strokeWidth,o=i.align!==!1&&r&&0!==r%2,a=o?n:w;return a(t.x,D)+" "+a(t.y,D)}}),H=z.extend({renderPoints:function(){var t,e=this,n=e.points,i=[];for(t=0;t<n.length;t++)i.push(e._renderPoints(n[t]));return i.join(" ")}}),B=F.extend({init:function(t,e){var n=this;F.fn.init.call(n,e),n.pathTemplate=B.pathTemplate,n.pathTemplate||(n.pathTemplate=B.pathTemplate=g("M #= d.firstOuterPoint.x # #= d.firstOuterPoint.y # A#= d.r # #= d.r # 0 #= d.isReflexAngle ? '1' : '0' #,1 #= d.secondOuterPoint.x # #= d.secondOuterPoint.y # L #= d.secondInnerPoint.x # #= d.secondInnerPoint.y # A#= d.ir # #= d.ir # 0 #= d.isReflexAngle ? '1' : '0' #,0 #= d.firstInnerPoint.x # #= d.firstInnerPoint.y # z")),n.config=t||{}},renderPoints:function(){var t,e,n=this,i=n.config,r=i.startAngle,o=i.angle+r,a=o-r>180,s=d.max(i.r,0),p=d.max(i.ir,0),l=i.c,c=i.point(r),f=i.point(r,!0);return w(r)%360===w(o)%360&&(o-=.05),t=i.point(o),e=i.point(o,!0),n.pathTemplate({firstOuterPoint:c,secondOuterPoint:t,isReflexAngle:a,r:s,ir:p,cx:l.x,cy:l.y,firstInnerPoint:f,secondInnerPoint:e})},clone:function(){var t=this;return new B(x({},t.config),x({},t.options))}}),j=F.extend({init:function(t,e){var n=this;F.fn.init.call(n,e),n.pathTemplate=j.pathTemplate,n.pathTemplate||(n.pathTemplate=j.pathTemplate=g("M #= d.origin.x # #= d.origin.y # #= d.as.x # #= d.as.y # A#= d.r # #= d.r # 0 #= d.isReflexAngle ? '1' : '0' #,0 #= d.ae.x # #= d.ae.y # z")),n.config=t||new c.Pin},renderPoints:function(){var t=this,e=t.config,n=e.radius,i=d.PI/180,r=e.arcAngle,o=n*d.sin(r*i/2),a=e.height-n*(1-d.cos(r*i/2)),s=e.origin,p={x:s.x+o,y:s.y-a},l={x:s.x-o,y:s.y-a},c=function(n,i){var r=t.options.rotation,o=e.rotation;return n=T(n.x,n.y,r[1],r[2],-r[0]),i&&(n=T(n.x,n.y,s.x,s.y,o)),n};return s=c(s),t.pathTemplate({origin:s,as:c(p,!0),ae:c(l,!0),r:n,isReflexAngle:r>180})}}),W=B.extend({init:function(t,e){var n=this;B.fn.init.call(n,t,e),n.pathTemplate=W.pathTemplate,n.pathTemplate||(n.pathTemplate=W.pathTemplate=g("M #= d.firstOuterPoint.x # #= d.firstOuterPoint.y # A#= d.r # #= d.r # 0 #= d.isReflexAngle ? '1' : '0' #,1 #= d.secondOuterPoint.x # #= d.secondOuterPoint.y # L #= d.cx # #= d.cy # z"))},options:{fill:"",fillOpacity:1,strokeOpacity:1,strokeLineCap:L},clone:function(){var t=this;return new W(x({},t.config),x({},t.options))}}),N=y.extend({init:function(t,e,n){var i=this;y.fn.init.call(i,n),i.c=t,i.r=e,i.template=N.template,i.template||(i.template=N.template=g("<circle #= d.renderId() # #= d.renderDataAttributes() #cx='#= d.c.x #' cy='#= d.c.y #' r='#= d.r #' #= d.renderAttr(\"stroke\", d.options.stroke) # #= d.renderAttr(\"stroke-width\", d.options.strokeWidth) #fill-opacity='#= d.options.fillOpacity #' stroke-opacity='#= d.options.strokeOpacity #'  fill='#= d.options.fill || \"none\" #'></circle>"))},options:{fill:"",fillOpacity:1,strokeOpacity:1},refresh:function(t){a(t).attr({r:d.max(0,this.r),"fill-opacity":this.options.fillOpacity})},clone:function(){var t=this;return new N(x({},t.c),t.r,x({},t.options))}}),q=y.extend({init:function(t){var e=this;y.fn.init.call(e,t),e.template=q.template,e.template||(e.template=q.template=g('<g#= d.renderId() ##= d.renderDataAttributes() ##= d.renderAttr("clip-path", d.options.clipPath) #>#= d.renderContent() #</g>'))}}),Q=y.extend({init:function(t){var e=this;y.fn.init.call(e,t),e.template=Q.template,e.template||(e.template=Q.template=g('<clipPath#= d.renderAttr("id", d.options.id) #>#= d.renderContent() #</clipPath>'))}}),Y=y.extend({init:function(t){var e=this;y.fn.init.call(e,t)},options:{id:""},renderStops:function(){var t,e,n=this,i=n.options.stops,r=n.stopTemplate,o=i.length,a="";for(t=0;o>t;t++)e=i[t],a+=r(e);return a}}),J=Y.extend({init:function(t){var e=this;Y.fn.init.call(e,t),e.template=J.template,e.stopTemplate=J.stopTemplate,e.template||(e.template=J.template=g("<linearGradient id='#= d.options.id #' gradientTransform='rotate(#= d.options.rotation #)'> #= d.renderStops() #</linearGradient>"),e.stopTemplate=J.stopTemplate=g("<stop offset='#= Math.round(d.offset * 100) #%' style='stop-color:#= d.color #;stop-opacity:#= d.opacity #' />"))},options:{rotation:0}}),K=Y.extend({init:function(t){var e=this;Y.fn.init.call(e,t),e.template=K.template,e.stopTemplate=K.stopTemplate,e.template||(e.template=K.template=g("<radialGradient id='#= d.options.id #' cx='#= d.options.cx #' cy='#= d.options.cy #' fx='#= d.options.cx #' fy='#= d.options.cy #' r='#= d.options.r #' gradientUnits='userSpaceOnUse'>#= d.renderStops() #</radialGradient>"),e.stopTemplate=K.stopTemplate=g("<stop offset='#= Math.round(d.offset * 100) #%' style='stop-color:#= d.color #;stop-opacity:#= d.opacity #' />"))}}),X=y.extend({init:function(t){var e=this;y.fn.init.call(e,t),e.template=X.template,e.stopTemplate=X.stopTemplate,e.template||(e.template=X.template=g("<radialGradient id='#= d.options.id #' cx='#= d.options.cx #' cy='#= d.options.cy #' fx='#= d.options.cx #' fy='#= d.options.cy #' r='#= d.options.r #' gradientUnits='userSpaceOnUse'>#= d.renderStops() #</radialGradient>"),e.stopTemplate=X.stopTemplate=g("<stop offset='#= d.offset #%' style='stop-color:#= d.color #;stop-opacity:#= d.opacity #' />"))},options:{id:""},renderStops:function(){var t,e,n=this,i=n.options,r=i.stops,o=n.stopTemplate,a=100*(i.ir/i.r),s=r.length,d="";for(e=x({},r[0]),e.offset=a,d+=o(e),t=1;s>t;t++)e=x({},r[t]),e.offset=e.offset*(100-a)+a,d+=o(e);return d}});t.prototype={decorate:function(t){var e,n,i=this,r=i.view,o=t.options,a=o.id;return o.overlay?(t.options.id=P(),e=r.createGroup(),n=t.clone(),e.children.push(t,n),n.options.id=a,n.options.fill=o.overlay,e):t}},e.prototype={decorate:function(t){var e=this,n=t.options;return n.fill=e.getPaint(n.fill),t},getPaint:function(t){var e,n,i,r=this,o=r.view,a=o.definitions;return t&&v(t.gradient)?(e=o.buildGradient(t),e?(n=e.id,i=a[n],i||(i=o.createGradient(e),a[n]=i),"url("+r.baseUrl()+"#"+i.options.id+")"):I):t},baseUrl:function(){var t=s.getElementsByTagName("base")[0],e="",n=s.location.href,i=n.indexOf("#");return t&&!p.support.browser.msie&&(-1!==i&&(n=n.substring(0,i)),e=n),e}},r=l.extend({init:function(t){this.view=t},decorate:function(t){var e,n,i=this,r=i.view,o=i.clipId,a=r.options,s=t.options.animation,d=r.definitions;return s&&s.type===S&&a.transitions&&(o||(i.clipId=o=P()),e=d[o],e||(e=new Q({id:o}),n=r.createRect(new f(0,0,a.width,a.height),{id:P()}),e.children.push(n),d[o]=e,r.animations.push(new u(n,{size:a.width}))),t.options.clipPath="url(#"+o+")"),t}}),o=function(t,e){t.innerHTML=e},function(){var t="<svg xmlns='"+b+"'></svg>",e=s.createElement("div"),n=typeof DOMParser!=M;e.innerHTML=t,n&&e.firstChild.namespaceURI!=b&&(o=function(t,e){var n=new DOMParser,i=n.parseFromString(e,"text/xml"),r=s.adoptNode(i.documentElement);t.innerHTML="",t.appendChild(r)})}(),c.supportsSVG()&&c.ViewFactory.current.register("svg",_,10),x(c,{renderSVG:o,SVGCircle:N,SVGClipAnimationDecorator:r,SVGClipPath:Q,SVGGradientDecorator:e,SVGGroup:q,SVGLine:z,SVGMultiLine:H,SVGLinearGradient:J,SVGOverlayDecorator:t,SVGPath:F,SVGRadialGradient:K,SVGDonutGradient:X,SVGRing:B,SVGSector:W,SVGText:U,SVGView:_})}(window.kendo.jQuery);;!function(){function t(t){return(t+540)%360*P}function n(t){return o.round(t)+.5}function e(t,n){var e,i,o,r=n.length;for(e=0;r>e;e++)i=n[e],o=new l(i.color),t.addColorStop(i.offset,"rgba("+o.r+","+o.g+","+o.b+","+i.opacity+")")}var i=jQuery,o=Math,r=window.kendo,a=r.dataviz,s=a.Box2D,l=a.Color,c=a.Point2D,d=a.Ring,h=a.ViewBase,f=a.ViewElement,u=r.deepExtend,p=a.round,v=a.renderTemplate,g="butt",y=a.COORD_PRECISION,x=a.DASH_ARRAYS,w=a.DEFAULT_WIDTH,C=a.DEFAULT_HEIGHT,b=a.DEFAULT_FONT,P=o.PI/180,L=2*o.PI,T="linear",m="radial",D="solid",k="square",R=v("<canvas width='#= d.options.width #px' height='#= d.options.height #px' style='position: relative; display: #= d.display #;'></canvas>"),E=h.extend({init:function(t){var n=this;h.fn.init.call(n,t),n.display=n.options.inline?"inline":"block"},options:{width:w,height:C},renderTo:function(t){var n,e=this,o=e.options;return n=t.firstElementChild,n&&"canvas"===n.tagName.toLowerCase()?(i(n).siblings().remove(),n.width=o.width,n.height=o.height):(t.innerHTML=R(this),n=t.firstElementChild),e._viewElement=n,e.renderContent(n.getContext("2d")),n},replace:function(t){var n,e=this,i=e._viewElement,o=t.box;i&&o&&(n=i.getContext("2d"),n.clearRect(o.x1,o.y1,o.width(),o.height()),t.getViewElements(e)[0].render(n))},renderContent:function(t){var n,e=this,i=e.sortChildren(),o=i.length;for(n=0;o>n;n++)i[n].render(t)},createGroup:function(t){return new G(t)},createText:function(t,n){return new H(t,n)},createRect:function(t,n){return new A(t.points(),!0,this.setDefaults(n))},createLine:function(t,n,e,i,o){return new A([new c(t,n),new c(e,i)],!1,this.setDefaults(o))},createMultiLine:function(t,n){return this.decorate(new _(t,!1,this.setDefaults(n)))},createPolyline:function(t,n,e){return new A(t,n,this.setDefaults(e))},createCircle:function(t,n,e){return new I(t,n,e)},createSector:function(t,n){return new S(t,n)},createRing:function(t,n){return new S(t,n)},createPin:function(t,n){return new F(t,n)}}),G=f.extend({render:function(t){this.renderContent(t)},renderContent:E.fn.renderContent}),O=f.extend({options:{fillOpacity:1,strokeOpacity:1,strokeLineCap:k},render:function(t){var n=this,e=n.options;t.save(),t.beginPath(),n.renderPoints(t),n.setLineDash(t),n.setLineCap(t),e.fill&&"transparent"!==e.fill&&(n.setFill(t),t.globalAlpha=e.fillOpacity,t.fill()),e.stroke&&e.strokeWidth&&(t.strokeStyle=e.stroke,t.lineWidth=e.strokeWidth,t.lineJoin="round",t.globalAlpha=e.strokeOpacity,t.stroke()),n.renderOverlay(t),t.restore()},setLineDash:function(t){var n,e=this.options.dashType;e=e?e.toLowerCase():null,e&&e!=D&&(n=x[e],t.setLineDash?t.setLineDash(n):(t.mozDash=n,t.webkitLineDash=n))},setLineCap:function(t){var n=this.options,e=n.dashType;t.lineCap=e&&e!==D?g:n.strokeLineCap},setFill:function(t){var n=this.options,e=n.fill;t.fillStyle=e},renderOverlay:function(t){var n,e,i=this.options,o=i.overlay;o&&o.gradient&&(e=a.Gradients[o.gradient],n=this.buildGradient(t,e),n&&(t.fillStyle=n,t.fill()))},renderPoints:i.noop,buildGradient:i.noop}),A=O.extend({init:function(t,n,e){var i=this;O.fn.init.call(i,e),i.points=t,i.closed=n},options:{rotation:[0,0,0]},renderPoints:function(t){var n=this,e=n.points;n._renderPoints(t,e)},_renderPoints:function(t,e){var i,o,r=this,a=r.options,s=a.strokeWidth,l=a.align!==!1&&s&&0!==s%2,c=l?n:p;if(0!==e.length&&(a.fill||a.stroke)){for(0!==a.rotation[0]&&r.setRotation(t),o=e[0],t.moveTo(c(o.x,y),c(o.y,y)),i=1;i<e.length;i++)o=e[i],t.lineTo(c(o.x,y),c(o.y,y));r.closed&&t.closePath()}},buildGradient:function(t,n){var i,o=this.bbox(),r=this.options.overlay.rotation,a=o.x2,s=o.y1;return 90===r&&(a=o.x1,s=o.y2),n&&n.type===T&&(i=t.createLinearGradient(o.x1,o.y1,a,s),e(i,n.stops)),i},bbox:function(){var t,n=this.points,e=new s;if(n.length>0)for(e.move(n[0].x,n[0].y),t=1;t<n.length;t++)e.wrapPoint(n[t]);return e},setRotation:function(t){var n=this,e=n.options,i=e.rotation,o=i[1],r=i[2];t.translate(o,r),t.rotate(i[0]*P),t.translate(-o,-r)}}),_=A.extend({renderPoints:function(t){var n,e=this,i=e.points;for(n=0;n<i.length;n++)e._renderPoints(t,i[n])}}),S=O.extend({init:function(t,n){var e=this;O.fn.init.call(e,n),e.config=t||{}},options:{strokeLineCap:k},renderPoints:function(n){var e,i,r=this,a=r.config,s=a.startAngle,l=a.angle+s,c=o.max(a.r,0),d=o.max(a.ir,0),h=a.c,f=t(s),u=t(l);f===u&&(s=0,l=360,f=0,u=2*Math.PI),e=a.point(s),i=a.point(l,!0),n.moveTo(e.x,e.y),n.arc(h.x,h.y,c,f,u),d>0?(n.lineTo(i.x,i.y),n.arc(h.x,h.y,d,u,f,!0)):n.lineTo(h.x,h.y)},buildGradient:function(t,n){var i,o=this.config,r=o.c;return n&&n.type===m&&(i=t.createRadialGradient(r.x,r.y,o.ir,r.x,r.y,o.r),e(i,n.stops)),i}}),I=O.extend({init:function(t,n,e){var i=this;O.fn.init.call(i,e),i.config=new d(t,0,n)},renderPoints:function(t){var n=this.config,e=n.c;t.arc(e.x,e.y,n.r,0,L,!1)},buildGradient:S.fn.buildGradient}),F=O.extend({init:function(t,n){var e=this;O.fn.init.call(e,n),e.config=t},renderPoints:function(n){var e=this,i=e.config,r=i.radius,a=o.PI/180,s=i.arcAngle,l=i.height-r*(1-o.cos(s*a/2)),c=i.origin,d=e.options.rotation;n.translate(d[1],d[2]),n.rotate(t(d[0])),n.translate(d[1]-c.x,d[2]-c.y),n.rotate(t(-e.config.rotation)),n.moveTo(0,0),n.arc(0,-l,r,t(90-s/2),t(90+s/2)),n.lineTo(0,0),n.closePath()}}),H=f.extend({init:function(t,n){var e=this;f.fn.init.call(e,n),e.content=t},options:{x:0,y:0,baseline:0,font:b,size:{width:0,height:0},fillOpacity:1},render:function(t){var n=this,e=n.options,i=n.content,o=e.x,r=e.y+e.baseline;t.save(),0!==e.rotation&&n.setRotation(t),t.font=e.font,t.fillStyle=e.color,t.globalAlpha=e.fillOpacity,t.fillText(i,o,r),t.restore()},setRotation:function(t){var n=this,e=n.options,i=e.size,o=e.x+i.normalWidth/2,r=e.y+i.normalHeight/2,a=e.x+i.width/2,s=e.y+i.height/2,l=a-o,c=s-r;t.translate(l,c),t.translate(o,r),t.rotate(e.rotation*P),t.translate(-o,-r)}});a.supportsCanvas()&&a.ViewFactory.current.register("canvas",E,30),u(a,{CanvasCircle:I,CanvasGroup:G,CanvasLine:A,CanvasMultiLine:_,CanvasPath:O,CanvasRing:S,CanvasText:H,CanvasView:E})}(window.kendo.jQuery);;!function(t,e){function a(t,e,a){return t.substring(e,e+a)}var n,r,i,o,h,s,d=window.kendo,u=t.extend,c=d.deepExtend,l=t.inArray,p=t.isPlainObject,v=d.dataviz,g=d.ui.Widget,f=v.Box2D,b=v.Text,w=300,m=100,S=10,C=/^\d+$/,B=/^[a-z0-9]+$/i,x="Character '{0}'  is not valid for symbology {1}",A=d.Class.extend({init:function(t){this.setOptions(t)},setOptions:function(t){var e=this;e.options=u({},e.options,t),e.quietZoneLength=e.options.addQuietZone?2*e.options.quietZoneLength:0},encode:function(t,a,n){var r=this;return t!==e&&(t+=""),r.initValue(t,a,n),r.options.addQuietZone&&r.addQuietZone(),r.addData(),r.options.addQuietZone&&r.addQuietZone(),{baseUnit:r.baseUnit,pattern:r.pattern}},options:{quietZoneLength:S,addQuietZone:!0,addCheckSum:!0},initValue:function(){},addQuietZone:function(){this.pattern.push(this.options.quietZoneLength||S)},addData:function(){},invalidCharacterError:function(t){throw Error(d.format(x,t,this.name))}}),k={},T=A.extend({minBaseUnitLength:.7,addData:function(){var t,e=this,a=e.value;for(e.addStart(),t=0;t<a.length;t++)e.addCharacter(a.charAt(t));e.options.addCheckSum&&e.pushCheckSum(),e.addStop(),e.prepareValues()},addCharacter:function(t){var e=this,a=e.characterMap[t];a||e.invalidCharacterError(t),e.addBase(a)},addBase:function(){}}),M={addCharacter:function(t){var e=this;e.characterMap[t]?e.addBase(e.characterMap[t]):t.charCodeAt(0)>127?e.invalidCharacterError(t):e.addExtended(t.charCodeAt(0))},addExtended:function(t){var a,n,r,i=this;for(n=0;n<i.extendedMappings.length;n++)if(a=i.extendedMappings[n].call(i,t)){for(r=0;r<a.length;r++)i.addBase(a[r]);return i.dataLength+=a.length-1,e}},extendedMappings:[function(t){if(t>=97&&122>=t){var e=this;return[e.characterMap[e.shiftCharacters[0]],e.characterMap[String.fromCharCode(t-32)]]}},function(t){if(t>=33&&58>=t){var e=this;return[e.characterMap[e.shiftCharacters[1]],e.characterMap[String.fromCharCode(t+32)]]}},function(t){if(t>=1&&26>=t){var e=this;return[e.characterMap[e.shiftCharacters[2]],e.characterMap[String.fromCharCode(t+64)]]}},function(t){var e,a,n,r=this;if(r.specialAsciiCodes[t])for(e=[],n=0;n<r.specialAsciiCodes[t].length;n++)e.push(r.characterMap[r.shiftCharacters[3]]),e.push(r.characterMap[r.specialAsciiCodes[t][n]]);else a=6*Math.floor(t/32)+(t-27)%32+64,e=[r.characterMap[r.shiftCharacters[3]],r.characterMap[String.fromCharCode(a)]];return e}],specialAsciiCodes:{0:["U"],64:["V"],96:["W"],127:["T","X","Y","Z"]},shiftValuesAsciiCodes:{39:36,40:47,41:43,42:37},characterMap:{"+":!1,"/":!1,$:!1,"%":!1},shiftCharacters:["SHIFT0","SHIFT1","SHIFT2","SHIFT3"]};k.code39=T.extend({name:"Code 39",checkSumMod:43,minRatio:2.5,maxRatio:3,gapWidth:1,splitCharacter:"|",initValue:function(t,e,a){var n=this;n.width=e,n.height=a,n.value=t,n.dataLength=t.length,n.pattern=[],n.patternString=""},prepareValues:function(){var t,e,a=this,n=a.minBaseUnitLength,r=a.maxRatio,i=a.minRatio,o=Math.max(.15*a.width,24);if(a.height<o)throw Error("Insufficient Height. The minimum height for value: "+a.value+" is: "+o);for(;(t=a.getBaseUnit(r))<n&&r>i;)r=parseFloat((r-.1).toFixed(1));if(n>t)throw e=Math.ceil(a.getBaseWidth(i)*n),Error("Insufficient width. The minimum width for value: "+a.value+" is: "+e);a.ratio=r,a.baseUnit=t,a.patternString=a.patternString.substring(0,a.patternString.length-1),a.pattern=a.pattern.concat(a.patternString.replace(/ratio/g,r).split(a.splitCharacter))},getBaseUnit:function(t){return this.width/this.getBaseWidth(t)},getBaseWidth:function(t){var e=this,a=3*(t+2);return e.quietZoneLength+a*(e.dataLength+2)+e.gapWidth*(e.dataLength+1)},addStart:function(){var t=this;t.addPattern(t.characterMap.START.pattern),t.addCharacterGap()},addBase:function(t){this.addPattern(t.pattern),this.addCharacterGap()},addStop:function(){this.addPattern(this.characterMap.START.pattern)},addPattern:function(t){for(var e=0;e<t.length;e++)this.patternString+=this.patternMappings[t.charAt(e)]},addCharacterGap:function(){var t=this;t.patternString+=t.gapWidth+t.splitCharacter},patternMappings:{b:"1|",w:"1|",B:"ratio|",W:"ratio|"},characterMap:{0:{pattern:"bwbWBwBwb",value:0},1:{pattern:"BwbWbwbwB",value:1},2:{pattern:"bwBWbwbwB",value:2},3:{pattern:"BwBWbwbwb",value:3},4:{pattern:"bwbWBwbwB",value:4},5:{pattern:"BwbWBwbwb",value:5},6:{pattern:"bwBWBwbwb",value:6},7:{pattern:"bwbWbwBwB",value:7},8:{pattern:"BwbWbwBwb",value:8},9:{pattern:"bwBWbwBwb",value:9},A:{pattern:"BwbwbWbwB",value:10},B:{pattern:"bwBwbWbwB",value:11},C:{pattern:"BwBwbWbwb",value:12},D:{pattern:"bwbwBWbwB",value:13},E:{pattern:"BwbwBWbwb",value:14},F:{pattern:"bwBwBWbwb",value:15},G:{pattern:"bwbwbWBwB",value:16},H:{pattern:"BwbwbWBwb",value:17},I:{pattern:"bwBwbWBwb",value:18},J:{pattern:"bwbwBWBwb",value:19},K:{pattern:"BwbwbwbWB",value:20},L:{pattern:"bwBwbwbWB",value:21},M:{pattern:"BwBwbwbWb",value:22},N:{pattern:"bwbwBwbWB",value:23},O:{pattern:"BwbwBwbWb",value:24},P:{pattern:"bwBwBwbWb",value:25},Q:{pattern:"bwbwbwBWB",value:26},R:{pattern:"BwbwbwBWb",value:27},S:{pattern:"bwBwbwBWb",value:28},T:{pattern:"bwbwBwBWb",value:29},U:{pattern:"BWbwbwbwB",value:30},V:{pattern:"bWBwbwbwB",value:31},W:{pattern:"BWBwbwbwb",value:32},X:{pattern:"bWbwBwbwB",value:33},Y:{pattern:"BWbwBwbwb",value:34},Z:{pattern:"bWBwBwbwb",value:35},"-":{pattern:"bWbwbwBwB",value:36},".":{pattern:"BWbwbwBwb",value:37}," ":{pattern:"bWBwbwBwb",value:38},$:{pattern:"bWbWbWbwb",value:39},"/":{pattern:"bWbWbwbWb",value:40},"+":{pattern:"bWbwbWbWb",value:41},"%":{pattern:"bwbWbWbWb",value:42},START:{pattern:"bWbwBwBwb"}},options:{addCheckSum:!1}}),k.code39extended=k.code39.extend(c({},M,{name:"Code 39 extended",characterMap:{SHIFT0:{pattern:"bWbwbWbWb",value:41},SHIFT1:{pattern:"bWbWbwbWb",value:40},SHIFT2:{pattern:"bWbWbWbwb",value:39},SHIFT3:{pattern:"bwbWbWbWb",value:42}}})),k.code93=T.extend({name:"Code 93",cCheckSumTotal:20,kCheckSumTotal:15,checkSumMod:47,initValue:function(t,e,a){var n=this;n.value=t,n.width=e,n.height=a,n.pattern=[],n.values=[],n.dataLength=t.length},prepareValues:function(){var t=this,e=Math.max(.15*t.width,24);if(t.height<e)throw Error("Insufficient Height");if(t.setBaseUnit(),t.baseUnit<t.minBaseUnitLength)throw Error("Insufficient Width")},setBaseUnit:function(){var t=this,e=2;t.baseUnit=t.width/(9*(t.dataLength+2+e)+t.quietZoneLength+1)},addStart:function(){var t=this.characterMap.START.pattern;this.addPattern(t)},addStop:function(){var t=this;t.addStart(),t.pattern.push(t.characterMap.TERMINATION_BAR)},addBase:function(t){this.addPattern(t.pattern),this.values.push(t.value)},pushCheckSum:function(){var t,e,a=this,n=a._getCheckValues();for(a.checksum=n.join(""),e=0;e<n.length;e++)t=a.characterMap[a._findCharacterByValue(n[e])],a.addPattern(t.pattern)},_getCheckValues:function(){var t,e,a,n=this,r=n.values,i=r.length,o=0;for(a=i-1;a>=0;a--)o+=n.weightedValue(r[a],i-a,n.cCheckSumTotal);for(t=o%n.checkSumMod,o=n.weightedValue(t,1,n.kCheckSumTotal),a=i-1;a>=0;a--)o+=n.weightedValue(r[a],i-a+1,n.kCheckSumTotal);return e=o%n.checkSumMod,[t,e]},_findCharacterByValue:function(t){for(var e in this.characterMap)if(this.characterMap[e].value===t)return e},weightedValue:function(t,e,a){return(e%a||a)*t},addPattern:function(t){var e,a;for(a=0;a<t.length;a++)e=parseInt(t.charAt(a),10),this.pattern.push(e)},characterMap:{0:{pattern:"131112",value:0},1:{pattern:"111213",value:1},2:{pattern:"111312",value:2},3:{pattern:"111411",value:3},4:{pattern:"121113",value:4},5:{pattern:"121212",value:5},6:{pattern:"121311",value:6},7:{pattern:"111114",value:7},8:{pattern:"131211",value:8},9:{pattern:"141111",value:9},A:{pattern:"211113",value:10},B:{pattern:"211212",value:11},C:{pattern:"211311",value:12},D:{pattern:"221112",value:13},E:{pattern:"221211",value:14},F:{pattern:"231111",value:15},G:{pattern:"112113",value:16},H:{pattern:"112212",value:17},I:{pattern:"112311",value:18},J:{pattern:"122112",value:19},K:{pattern:"132111",value:20},L:{pattern:"111123",value:21},M:{pattern:"111222",value:22},N:{pattern:"111321",value:23},O:{pattern:"121122",value:24},P:{pattern:"131121",value:25},Q:{pattern:"212112",value:26},R:{pattern:"212211",value:27},S:{pattern:"211122",value:28},T:{pattern:"211221",value:29},U:{pattern:"221121",value:30},V:{pattern:"222111",value:31},W:{pattern:"112122",value:32},X:{pattern:"112221",value:33},Y:{pattern:"122121",value:34},Z:{pattern:"123111",value:35},"-":{pattern:"121131",value:36},".":{pattern:"311112",value:37}," ":{pattern:"311211",value:38},$:{pattern:"321111",value:39},"/":{pattern:"112131",value:40},"+":{pattern:"113121",value:41},"%":{pattern:"211131",value:42},SHIFT0:{pattern:"122211",value:46},SHIFT1:{pattern:"311121",value:45},SHIFT2:{pattern:"121221",value:43},SHIFT3:{pattern:"312111",value:44},START:{pattern:"111141"},TERMINATION_BAR:"1"}}),k.code93extended=k.code93.extend(c({},M,{name:"Code 93 extended",pushCheckSum:function(){var t,e,a=this,n=a._getCheckValues();for(a.checksum=n.join(""),e=0;e<n.length;e++)t=n[e],a.shiftValuesAsciiCodes[t]?a.addExtended(a.shiftValuesAsciiCodes[t]):a.addPattern(a.characterMap[a._findCharacterByValue(t)].pattern)}})),n=d.Class.extend({init:function(t){this.encoding=t},addStart:function(){},is:function(){},move:function(){},pushState:function(){}}),r=n.extend({FNC4:"FNC4",init:function(t,e){var a=this;a.encoding=t,a.states=e,a._initMoves(e)},addStart:function(){this.encoding.addPattern(this.START)},is:function(t,e){var a=t.charCodeAt(e);return this.isCode(a)},move:function(t){for(var e=this,a=0;!e._moves[a].call(e,t)&&a<e._moves.length;)a++},pushState:function(t){var e,a,n=this,r=n.states,i=t.value,o=i.length;for(l("C",r)>=0&&(a=i.substr(t.index).match(/\d{4,}/g),a&&(o=i.indexOf(a[0],t.index)));(e=t.value.charCodeAt(t.index))>=0&&n.isCode(e)&&t.index<o;)n.encoding.addPattern(n.getValue(e)),t.index++},_initMoves:function(t){var e=this;e._moves=[],l(e.FNC4,t)>=0&&e._moves.push(e._moveFNC),l(e.shiftKey,t)>=0&&e._moves.push(e._shiftState),e._moves.push(e._moveState)},_moveFNC:function(t){return t.fnc?(t.fnc=!1,t.previousState==this.key):e},_shiftState:function(t){var a=this;return t.previousState==a.shiftKey&&(t.index+1>=t.value.length||a.encoding[a.shiftKey].is(t.value,t.index+1))?(a.encoding.addPattern(a.SHIFT),t.shifted=!0,!0):e},_moveState:function(){return this.encoding.addPattern(this.MOVE),!0},SHIFT:98}),i={},i.A=r.extend({key:"A",shiftKey:"B",isCode:function(t){return t>=0&&96>t},getValue:function(t){return 32>t?t+64:t-32},MOVE:101,START:103}),i.B=r.extend({key:"B",shiftKey:"A",isCode:function(t){return t>=32&&128>t},getValue:function(t){return t-32},MOVE:100,START:104}),i.C=n.extend({key:"C",addStart:function(){this.encoding.addPattern(this.START)},is:function(t,e){var n=a(t,e,4);return(e+4<=t.length||2==t.length)&&C.test(n)},move:function(){this.encoding.addPattern(this.MOVE)},pushState:function(t){for(var e;(e=a(t.value,t.index,2))&&C.test(e)&&2==e.length;)this.encoding.addPattern(parseInt(e,10)),t.index+=2},getValue:function(t){return t},MOVE:99,START:105}),i.FNC4=n.extend({key:"FNC4",dependentStates:["A","B"],init:function(t,e){this.encoding=t,this._initSubStates(e)},addStart:function(t){var e=t.value.charCodeAt(0)-128,a=this._getSubState(e);this.encoding[a].addStart()},is:function(t,e){var a=t.charCodeAt(e);return this.isCode(a)},isCode:function(t){return t>=128&&256>t},pushState:function(t){var e,a=this,n=a._initSubState(t),r=a.encoding,i=n.value.length;if(t.index+=i,3>i)for(;n.index<i;n.index++)e=n.value.charCodeAt(n.index),n.state=a._getSubState(e),n.previousState!=n.state&&(n.previousState=n.state,r[n.state].move(n)),r.addPattern(r[n.state].MOVE),r.addPattern(r[n.state].getValue(e));else n.state!=n.previousState&&r[n.state].move(n),a._pushStart(n),r.pushData(n,a.subStates),t.index<t.value.length&&a._pushStart(n);t.fnc=!0,t.state=n.state},_pushStart:function(t){var e=this;e.encoding.addPattern(e.encoding[t.state].MOVE),e.encoding.addPattern(e.encoding[t.state].MOVE)},_initSubState:function(t){var e=this,a={value:e._getAll(t.value,t.index),index:0};return a.state=e._getSubState(a.value.charCodeAt(0)),a.previousState=t.previousState==e.key?a.state:t.previousState,a},_initSubStates:function(t){var e,a=this;for(a.subStates=[],e=0;e<t.length;e++)l(t[e],a.dependentStates)>=0&&a.subStates.push(t[e])},_getSubState:function(t){var e,a=this;for(e=0;e<a.subStates.length;e++)if(a.encoding[a.subStates[e]].isCode(t))return a.subStates[e]},_getAll:function(t,e){for(var a,n="";(a=t.charCodeAt(e++))&&this.isCode(a);)n+=String.fromCharCode(a-128);return n}}),i.FNC1=n.extend({key:"FNC1",startState:"C",dependentStates:["C","B"],startAI:"(",endAI:")",init:function(t,e){this.encoding=t,this.states=e},addStart:function(){this.encoding[this.startState].addStart()},is:function(){return l(this.key,this.states)>=0},pushState:function(t){var e,a,n,r=this,i=r.encoding,o=t.value.replace(/\s/g,""),h=RegExp("["+r.startAI+r.endAI+"]","g"),s=t.index,d={state:r.startState};for(i.addPattern(r.START);;){if(d.index=0,n=o.charAt(s)===r.startAI?2:0,e=n>0?r.getBySeparator(o,s):r.getByLength(o,s),e.ai.length)a=s+n+e.id.length+e.ai.length;else if(a=o.indexOf(r.startAI,s+1),0>a){if(s+e.ai.max+e.id.length+n<o.length)throw Error("Separators are required after variable length identifiers");a=o.length}if(d.value=o.substring(s,a).replace(h,""),r.validate(e,d.value),i.pushData(d,r.dependentStates),a>=o.length)break;s=a,d.state!=r.startState&&(i[r.startState].move(d),d.state=r.startState),e.ai.length||i.addPattern(r.START)}t.index=t.value.length},validate:function(t,e){var a=e.substr(t.id.length),n=t.ai;if(!n.type&&!C.test(a))throw Error("Application identifier "+t.id+" is numeric only but contains non numeric character(s).");if("alphanumeric"==n.type&&!B.test(a))throw Error("Application identifier "+t.id+" is alphanumeric only but contains non alphanumeric character(s).");if(n.length&&n.length!==a.length)throw Error("Application identifier "+t.id+" must be "+n.length+" characters long.");if(n.min&&n.min>a.length)throw Error("Application identifier "+t.id+" must be at least "+n.min+" characters long.");if(n.max&&n.max<a.length)throw Error("Application identifier "+t.id+" must be at most "+n.max+" characters long.")},getByLength:function(t,e){var n,r,i,o=this;for(i=2;4>=i;i++)if(n=a(t,e,i),r=o.getAI(n)||o.getAI(n.substring(0,n.length-1)))return{id:n,ai:r};o.unsupportedAIError(n)},unsupportedAIError:function(t){throw Error(d.format("'{0}' is not a supported Application Identifier"),t)},getBySeparator:function(t,e){var a=this,n=t.indexOf(a.startAI,e),r=t.indexOf(a.endAI,n),i=t.substring(n+1,r),o=a.getAI(i)||a.getAI(i.substr(i.length-1));return o||a.unsupportedAIError(i),{ai:o,id:i}},getAI:function(t){var e,a,n,r=this.applicationIdentifiers,i=r.multiKey;if(r[t])return r[t];for(e=0;e<i.length;e++){if(i[e].ids&&l(t,i[e].ids)>=0)return i[e].type;if(i[e].ranges)for(a=i[e].ranges,n=0;n<a.length;n++)if(a[n][0]<=t&&t<=a[n][1])return i[e].type}},applicationIdentifiers:{22:{max:29,type:"alphanumeric"},402:{length:17},7004:{max:4,type:"alphanumeric"},242:{max:6,type:"alphanumeric"},8020:{max:25,type:"alphanumeric"},703:{min:3,max:30,type:"alphanumeric"},8008:{min:8,max:12,type:"alphanumeric"},253:{min:13,max:17,type:"alphanumeric"},8003:{min:14,max:30,type:"alphanumeric"},multiKey:[{ids:["15","17","8005","8100"],ranges:[[11,13],[310,316],[320,336],[340,369]],type:{length:6}},{ids:["240","241","250","251","400","401","403","7002","8004","8007","8110"],ranges:[[-9]],type:{max:30,type:"alphanumeric"}},{ids:["7001"],ranges:[[410,414]],type:{length:13}},{ids:["10","21","254","420","8002"],type:{max:20,type:"alphanumeric"}},{ids:["00","8006","8017","8018"],type:{length:18}},{ids:["01","02","8001"],type:{length:14}},{ids:["422"],ranges:[[424,426]],type:{length:3}},{ids:["20","8102"],type:{length:2}},{ids:["30","37"],type:{max:8,type:"alphanumeric"}},{ids:["390","392"],type:{max:15,type:"alphanumeric"}},{ids:["421","423"],type:{min:3,max:15,type:"alphanumeric"}},{ids:["391","393"],type:{min:3,max:18,type:"alphanumeric"}},{ids:["7003","8101"],type:{length:10}}]},START:102}),o=A.extend({init:function(t){A.fn.init.call(this,t),this._initStates()},_initStates:function(){var t,e=this;for(t=0;t<e.states.length;t++)e[e.states[t]]=new i[e.states[t]](e,e.states)},initValue:function(t,e,a){var n=this;n.pattern=[],n.value=t,n.width=e,n.height=a,n.checkSum=0,n.totalUnits=0,n.index=0,n.position=1},addData:function(){var t=this,e={value:t.value,index:0,state:""};0!==t.value.length&&(e.state=e.previousState=t.getNextState(e,t.states),t.addStart(e),t.pushData(e,t.states),t.addCheckSum(),t.addStop(),t.setBaseUnit())},pushData:function(t,e){for(var a,n=this;;){if(n[t.state].pushState(t),t.index>=t.value.length)break;t.shifted?(a=t.state,t.state=t.previousState,t.previousState=a,t.shifted=!1):(t.previousState=t.state,t.state=n.getNextState(t,e),n[t.state].move(t))}},addStart:function(t){this[t.state].addStart(t),this.position=1},addCheckSum:function(){var t=this;t.checksum=t.checkSum%103,t.addPattern(t.checksum)},addStop:function(){this.addPattern(this.STOP)},setBaseUnit:function(){var t=this;t.baseUnit=t.width/(t.totalUnits+t.quietZoneLength)},addPattern:function(t){var e,a,n=this,r=""+n.characterMap[t];for(a=0;a<r.length;a++)e=parseInt(r.charAt(a),10),n.pattern.push(e),n.totalUnits+=e;n.checkSum+=t*n.position++},getNextState:function(t,e){for(var a=0;a<e.length;a++)if(this[e[a]].is(t.value,t.index))return e[a];this.invalidCharacterError(t.value.charAt(t.index))},characterMap:[212222,222122,222221,121223,121322,131222,122213,122312,132212,221213,221312,231212,112232,122132,122231,113222,123122,123221,223211,221132,221231,213212,223112,312131,311222,321122,321221,312212,322112,322211,212123,212321,232121,111323,131123,131321,112313,132113,132311,211313,231113,231311,112133,112331,132131,113123,113321,133121,313121,211331,231131,213113,213311,213131,311123,311321,331121,312113,312311,332111,314111,221411,431111,111224,111422,121124,121421,141122,141221,112214,112412,122114,122411,142112,142211,241211,221114,413111,241112,134111,111242,121142,121241,114212,124112,124211,411212,421112,421211,212141,214121,412121,111143,111341,131141,114113,114311,411113,411311,113141,114131,311141,411131,211412,211214,211232,2331112],STOP:106}),k.code128a=o.extend({name:"Code 128 A",states:["A"]}),k.code128b=o.extend({name:"Code 128 B",states:["B"]}),k.code128c=o.extend({name:"Code 128 C",states:["C"]}),k.code128=o.extend({name:"Code 128",states:["C","B","A","FNC4"]}),k["gs1-128"]=o.extend({name:"Code GS1-128",states:["FNC1","C","B"]}),h=A.extend({initValue:function(t,e){var a=this;a.pattern=[],a.value=t,a.checkSumLength=0,a.width=e},setBaseUnit:function(){var t=this,e=7;t.baseUnit=t.width/(12*(t.value.length+t.checkSumLength)+t.quietZoneLength+e)},addData:function(){var t,e=this,a=e.value;for(e.addPattern(e.START),t=0;t<a.length;t++)e.addCharacter(a.charAt(t));e.options.addCheckSum&&e.addCheckSum(),e.addPattern(e.STOP),e.setBaseUnit()},addCharacter:function(t){var e=this,a=e.characterMap[t];a||e.invalidCharacterError(t),e.addPattern(a)},addPattern:function(t){for(var e=0;e<t.length;e++)this.pattern.push(parseInt(t.charAt(e),10))},addCheckSum:function(){var t,e=this,a=e.checkSums[e.checkSumType],n=a.call(e.checkSums,e.value);for(e.checksum=n.join(""),t=0;t<n.length;t++)e.checkSumLength++,e.addPattern(e.characterMap[n[t]])},checkSums:{Modulo10:function(t){var e,a,n,r=[0,""],i=t.length%2;for(e=0;e<t.length;e++)r[(e+i)%2]+=parseInt(t.charAt(e),10);for(n=r[0],a=""+2*r[1],e=0;e<a.length;e++)n+=parseInt(a.charAt(e),10);return[(10-n%10)%10]},Modulo11:function(t){var e,a,n,r=0,i=11,o=t.length;for(n=0;o>n;n++)e=((o-n)%6||6)+1,r+=e*t.charAt(n);return a=(i-r%i)%i,10!=a?[a]:[1,0]},Modulo11Modulo10:function(t){var e,a=this.Modulo11(t);return e=t+a[0],a.concat(this.Modulo10(e))},Modulo10Modulo10:function(t){var e,a=this.Modulo10(t);return e=t+a[0],a.concat(this.Modulo10(e))}},characterMap:["12121212","12121221","12122112","12122121","12211212","12211221","12212112","12212121","21121212","21121221"],START:"21",STOP:"121",checkSumType:""}),k.msimod10=h.extend({name:"MSI Modulo10",checkSumType:"Modulo10"}),k.msimod11=h.extend({name:"MSI Modulo11",checkSumType:"Modulo11"}),k.msimod1110=h.extend({name:"MSI Modulo11 Modulo10",checkSumType:"Modulo11Modulo10"}),k.msimod1010=h.extend({name:"MSI Modulo10 Modulo10",checkSumType:"Modulo10Modulo10"}),k.code11=A.extend({name:"Code 11",cCheckSumTotal:10,kCheckSumTotal:9,kCheckSumMinLength:10,checkSumMod:11,DASH_VALUE:10,DASH:"-",START:"112211",STOP:"11221",initValue:function(t,e){var a=this;a.pattern=[],a.value=t,a.width=e,a.totalUnits=0},addData:function(){var t,e=this,a=e.value;for(e.addPattern(e.START),t=0;t<a.length;t++)e.addCharacter(a.charAt(t));e.options.addCheckSum&&e.addCheckSum(),e.addPattern(e.STOP),e.setBaseUnit()},setBaseUnit:function(){var t=this;t.baseUnit=t.width/(t.totalUnits+t.quietZoneLength)},addCheckSum:function(){var t,e=this,a=e.value,n=a.length,r=e.getWeightedSum(a,n,e.cCheckSumTotal)%e.checkSumMod;e.checksum=r+"",e.addPattern(e.characterMap[r]),n++,n>=e.kCheckSumMinLength&&(t=(r+e.getWeightedSum(a,n,e.kCheckSumTotal))%e.checkSumMod,e.checksum+=t,e.addPattern(e.characterMap[t]))},getWeightedSum:function(t,e,a){var n,r=0;for(n=0;n<t.length;n++)r+=this.weightedValue(this.getValue(t.charAt(n)),e,n,a);return r},weightedValue:function(t,e,a,n){var r=(e-a)%n||n;return r*t},getValue:function(t){var e=this;return isNaN(t)?(t!==e.DASH&&e.invalidCharacterError(t),e.DASH_VALUE):parseInt(t,10)},addCharacter:function(t){var e=this,a=e.getValue(t),n=e.characterMap[a];e.addPattern(n)},addPattern:function(t){var e,a;for(a=0;a<t.length;a++)e=parseInt(t.charAt(a),10),this.pattern.push(e),this.totalUnits+=e},characterMap:["111121","211121","121121","221111","112121","212111","122111","111221","211211","211111","112111"],options:{addCheckSum:!0}}),k.postnet=A.extend({name:"Postnet",START:"2",VALID_CODE_LENGTHS:[5,9,11],DIGIT_SEPARATOR:"-",initValue:function(t,e,a){var n=this;n.height=a,n.width=e,n.baseHeight=a/2,n.value=t.replace(RegExp(n.DIGIT_SEPARATOR,"g"),""),n.pattern=[],n.validate(n.value),n.checkSum=0,n.setBaseUnit()},addData:function(){var t,e=this,a=e.value;for(e.addPattern(e.START),t=0;t<a.length;t++)e.addCharacter(a.charAt(t));e.options.addCheckSum&&e.addCheckSum(),e.addPattern(e.START),e.pattern.pop()},addCharacter:function(t){var e=this,a=e.characterMap[t];e.checkSum+=parseInt(t,10),e.addPattern(a)},addCheckSum:function(){var t=this;t.checksum=(10-t.checkSum%10)%10,t.addCharacter(t.checksum)},setBaseUnit:function(){var t=this,e=3;t.baseUnit=t.width/(10*(t.value.length+1)+e+t.quietZoneLength)},validate:function(t){var e=this;if(C.test(t)||e.invalidCharacterError(t.match(/[^0-9]/)[0]),l(t.length,e.VALID_CODE_LENGTHS)<0)throw Error("Invalid value length. Valid lengths for the Postnet symbology are "+e.VALID_CODE_LENGTHS.join(","))},addPattern:function(t){var e,a,n=this;for(a=0;a<t.length;a++)e=n.height-n.baseHeight*t.charAt(a),n.pattern.push({width:1,y1:e,y2:n.height}),n.pattern.push(1)},characterMap:["22111","11122","11212","11221","12112","12121","12211","21112","21121","21211"]}),k.ean13=A.extend({initValue:function(t,e,a){if("number"==typeof t&&(t+=""),12!=t.length||/\D/.test(t))throw Error("Invalid value provided");t.length<12&&(t="");var n=this;n.pattern=[],n.options.height=a,n.baseUnit=e/(95+n.quietZoneLength),n.value=t,n.checksum=n.calculateChecksum(),n.leftKey=t[0],n.leftPart=t.substr(1,6),n.rightPart=t.substr(7)+n.checksum},addData:function(){var t=this;t.addPieces(t.characterMap.start),t.addSide(t.leftPart,t.leftKey),t.addPieces(t.characterMap.middle),t.addSide(t.rightPart),t.addPieces(t.characterMap.start)},addSide:function(t,e){var a,n=this;for(a=0;a<t.length;a++)e&&parseInt(n.keyTable[e].charAt(a),10)?n.addPieces(Array.prototype.slice.call(n.characterMap.digits[t.charAt(a)]).reverse(),!0):n.addPieces(n.characterMap.digits[t.charAt(a)],!0)},addPieces:function(t,e){var a,n=this;for(a=0;a<t.length;a++)e?n.pattern.push({y1:0,y2:.95*n.options.height,width:t[a]}):n.pattern.push(t[a])},calculateChecksum:function(){var t,e,a=0,n=0,r=this.value.split("").reverse().join("");for(t=0;t<r.length;t++)t%2?n+=parseInt(r.charAt(t),10):a+=parseInt(r.charAt(t),10);return e=(10-(3*a+n)%10)%10},keyTable:["000000","001011","001101","001110","010011","011001","011100","010101","010110","011010"],characterMap:{digits:[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2]],start:[1,1,1],middle:[1,1,1,1,1]}}),k.ean8=k.ean13.extend({initValue:function(t,e,a){var n=this;if(7!=t.length||/\D/.test(t))throw Error("Invalid value provided");n.value=t,n.options.height=a,n.checksum=n.calculateChecksum(n.value),n.leftPart=n.value.substr(0,4),n.rightPart=n.value.substr(4)+n.checksum,n.pattern=[],n.baseUnit=e/(67+n.quietZoneLength)}}),s=g.extend({init:function(e,a){var n=this;g.fn.init.call(n,e,a),n.element=t(e),n.element.addClass("k-barcode"),n.view=v.ViewFactory.current.create({},n.options.renderAs),n.setOptions(a)},setOptions:function(a){var n=this;if(n.type=(a.type||n.options.type).toLowerCase(),"upca"==n.type&&(n.type="ean13",a.value="0"+a.value),"upce"==n.type&&(n.type="ean8",a.value="0"+a.value),!k[n.type])throw Error("Encoding "+n.type+"is not supported.");n.encoding=new k[n.type],n.options=t.extend(!0,n.options,a),a.value!==e&&n.redraw()},redraw:function(){var t=this,e=t.view;t._redraw(e),e.renderTo(t.element[0])},svg:function(){if(v.SVGView){var t=new v.SVGView;return this._redraw(t),t.render()}throw Error("Unable to create SVGView. Check that kendo.dataviz.svg.js is loaded.")},imageDataURL:function(){if(v.CanvasView){if(v.supportsCanvas()){var t=document.createElement("div"),e=new v.CanvasView;return this._redraw(e),e.renderTo(t).toDataURL()}return d.logToConsole("Warning: Unable to generate image. The browser does not support Canvas.\nUser agent: "+navigator.userAgent),null}throw Error("Unable to create CanvasView. Check that kendo.dataviz.canvas.js is loaded.")},_redraw:function(t){var a,n,r,i=this,o=i.options,h=o.text,s=i._getSize(),d=o.border||{},u=i.encoding,c=f(0,0,s.width,s.height).unpad(d.width).unpad(o.padding),l=c.height();i.contentBox=c,t.children=[],i._renderBackground(t,s),r=v.measureText(c,{font:o.text.font}).height,h.visible&&(l-=r),a=u.encode(o.value,s.width-(o.padding.left+o.padding.right),l),h.visible&&(n=o.value,o.checksum&&u.checksum!==e&&(n+=" "+u.checksum),i._renderTextElement(t,n)),i.barHeight=l,t.options.width=s.width,t.options.height=s.height,i._renderElements(t,a.pattern,a.baseUnit)},_getSize:function(){var t=this,e=t.element,a={width:w,height:m};return e.width()>0&&(a.width=e.width()),e.height()>0&&(a.height=e.height()),t.options.width&&(a.width=t.options.width),t.options.height&&(a.height=t.options.height),a},value:function(t){var a=this;return t===e?a.options.value:(a.options.value=t+"",a.redraw(),e)},_renderElements:function(t,e,a){var n,r,i,o=this,h=0+o.options.padding.left;for(i=0;i<e.length;i++)r=p(e[i])?e[i]:{width:e[i],y1:0,y2:o.barHeight},n=r.width*a,i%2&&t.children.push(t.createRect(new f(h,r.y1+o.contentBox.y1,h+n,r.y2+o.contentBox.y1),{fill:o.options.color,crispEdges:!0})),h+=n},_renderBackground:function(t,e){var a=this,n=a.options,r=n.border||{},i=f(0,0,e.width,e.height).unpad(r.width/2),o=t.createRect(i,{fill:n.background,stroke:r.width?r.color:"",strokeWidth:r.width,dashType:r.dashType});t.children.push(o)},_renderTextElement:function(t,e){var a=this,n=a.options.text,r=new b(e,{font:n.font,color:n.color,align:"center",vAlign:"bottom"});a.text=r,r.reflow(a.contentBox),r.box.unpad(n.margin),t.children.push(t.createText(e,{baseline:r.baseline,x:r.box.x1,y:r.box.y1,color:n.color,font:n.font}))},options:{name:"Barcode",renderAs:"canvas",value:"",type:"code39",checksum:!1,width:0,height:0,color:"black",background:"white",text:{visible:!0,font:"16px Consolas, Monaco, Sans Mono, monospace, sans-serif",color:"black",margin:{top:0,bottom:0,left:0,right:0}},border:{width:0,dashType:"solid",color:"black"},padding:{top:0,bottom:0,left:0,right:0}}}),v.ui.plugin(s),d.deepExtend(v,{encodings:k,Encoding:A})}(window.kendo.jQuery);;!function(){var o=window.kendo,e=o.dataviz.ui,r=o.deepExtend,l=1.5,c=.4,a="#000",i="Arial,Helvetica,sans-serif",s="11px "+i,n="12px "+i,f="16px "+i,t="#fff",d={title:{font:f},legend:{labels:{font:n}},seriesDefaults:{visible:!0,labels:{font:s},donut:{margin:1},line:{width:4},vericalLine:{width:4},scatterLine:{width:1},area:{opacity:.4,markers:{visible:!1,size:6},line:{opacity:1,width:0}},verticalArea:{opacity:.4,markers:{visible:!1,size:6},line:{opacity:1,width:0}},radarLine:{width:4,markers:{visible:!1}},radarArea:{opacity:.5,markers:{visible:!1,size:6},line:{opacity:1,width:0}},candlestick:{line:{width:1,color:a},border:{width:1,_brightness:.8},gap:1,spacing:.3,downColor:t,highlight:{line:{width:2},border:{width:2,opacity:1}}},ohlc:{line:{width:1},gap:1,spacing:.3,highlight:{line:{width:3,opacity:1}}},bubble:{opacity:.6,border:{width:0},labels:{background:"transparent"}},bar:{gap:l,spacing:c},column:{gap:l,spacing:c},bullet:{gap:l,spacing:c,target:{color:"#ff0000"}},verticalBullet:{gap:l,spacing:c,target:{color:"#ff0000"}},notes:{icon:{size:7,border:{width:1}},label:{padding:3,font:n},line:{length:10,width:1},visible:!0}},categoryAxis:{majorGridLines:{visible:!0}},axisDefaults:{labels:{font:n},title:{font:f,margin:5},crosshair:{tooltip:{font:n}},notes:{icon:{size:7,border:{width:1}},label:{padding:3,font:n},line:{length:10,width:1},visible:!0}},tooltip:{font:n},navigator:{pane:{height:90,margin:{top:10}}}},b={scale:{labels:{font:n}}},g=e.themes,k=e.registerTheme=function(o,e){var l,c={};c.chart=r({},d,e.chart),c.gauge=r({},b,e.gauge),l=c.chart.seriesDefaults,l.verticalLine=r({},l.line),l.verticalArea=r({},l.area),l.polarArea=r({},l.radarArea),l.polarLine=r({},l.radarLine),g[o]=c};k("black",{chart:{title:{color:t},legend:{labels:{color:t},inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}},seriesDefaults:{labels:{color:t},notes:{icon:{background:"#3b3b3b",border:{color:"#8e8e8e"}},label:{color:t},line:{color:"#8e8e8e"}},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#3d3d3d"}},scatter:{markers:{background:"#3d3d3d"}},scatterLine:{markers:{background:"#3d3d3d"}},candlestick:{downColor:"#555",line:{color:t},border:{_brightness:1.5,opacity:1},highlight:{border:{color:t,opacity:.2}}},ohlc:{line:{color:t}}},chartArea:{background:"#3d3d3d"},seriesColors:["#0081da","#3aafff","#99c900","#ffeb3d","#b20753","#ff4195"],axisDefaults:{line:{color:"#8e8e8e"},labels:{color:t},majorGridLines:{color:"#545454"},minorGridLines:{color:"#454545"},title:{color:t},crosshair:{color:"#8e8e8e"},notes:{icon:{background:"#3b3b3b",border:{color:"#8e8e8e"}},label:{color:t},line:{color:"#8e8e8e"}}}},gauge:{pointer:{color:"#0070e4"},scale:{rangePlaceholderColor:"#1d1d1d",labels:{color:t},minorTicks:{color:t},majorTicks:{color:t},line:{color:t}}}}),k("blueopal",{chart:{title:{color:"#293135"},legend:{labels:{color:"#293135"},inactiveItems:{labels:{color:"#27A5BA"},markers:{color:"#27A5BA"}}},seriesDefaults:{labels:{color:a,background:t,opacity:.5},candlestick:{downColor:"#c4d0d5",line:{color:"#9aabb2"}},notes:{icon:{background:"transparent",border:{color:"#9aabb2"}},label:{color:"#293135"},line:{color:"#9aabb2"}}},seriesColors:["#0069a5","#0098ee","#7bd2f6","#ffb800","#ff8517","#e34a00"],axisDefaults:{line:{color:"#9aabb2"},labels:{color:"#293135"},majorGridLines:{color:"#c4d0d5"},minorGridLines:{color:"#edf1f2"},title:{color:"#293135"},crosshair:{color:"#9aabb2"},notes:{icon:{background:"transparent",border:{color:"#9aabb2"}},label:{color:"#293135"},line:{color:"#9aabb2"}}}},gauge:{pointer:{color:"#005c83"},scale:{rangePlaceholderColor:"#daecf4",labels:{color:"#293135"},minorTicks:{color:"#293135"},majorTicks:{color:"#293135"},line:{color:"#293135"}}}}),k("highcontrast",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#66465B"},markers:{color:"#66465B"}}},seriesDefaults:{labels:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#ffffff"}},label:{color:"#ffffff"},line:{color:"#ffffff"}},pie:{overlay:{gradient:"sharpGlass"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#2c232b"}},scatter:{markers:{background:"#2c232b"}},scatterLine:{markers:{background:"#2c232b"}},area:{opacity:.5},candlestick:{downColor:"#664e62",line:{color:"#ffffff"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#ffffff",opacity:1}}},ohlc:{line:{color:"#ffffff"}}},chartArea:{background:"#2c232b"},seriesColors:["#a7008f","#ffb800","#3aafff","#99c900","#b20753","#ff4195"],axisDefaults:{line:{color:"#ffffff"},labels:{color:"#ffffff"},majorGridLines:{color:"#664e62"},minorGridLines:{color:"#4f394b"},title:{color:"#ffffff"},crosshair:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#ffffff"}},label:{color:"#ffffff"},line:{color:"#ffffff"}}}},gauge:{pointer:{color:"#a7008f"},scale:{rangePlaceholderColor:"#2c232b",labels:{color:"#ffffff"},minorTicks:{color:"#2c232b"},majorTicks:{color:"#664e62"},line:{color:"#ffffff"}}}}),k("default",{chart:{title:{color:"#8e8e8e"},legend:{labels:{color:"#232323"},inactiveItems:{labels:{color:"#919191"},markers:{color:"#919191"}}},seriesDefaults:{labels:{color:a,background:t,opacity:.5},candlestick:{downColor:"#dedede",line:{color:"#8d8d8d"}},notes:{icon:{background:"transparent",border:{color:"#8e8e8e"}},label:{color:"#232323"},line:{color:"#8e8e8e"}}},seriesColors:["#ff6800","#a0a700","#ff8d00","#678900","#ffb53c","#396000"],axisDefaults:{line:{color:"#8e8e8e"},labels:{color:"#232323"},minorGridLines:{color:"#f0f0f0"},majorGridLines:{color:"#dfdfdf"},title:{color:"#232323"},crosshair:{color:"#8e8e8e"},notes:{icon:{background:"transparent",border:{color:"#8e8e8e"}},label:{color:"#232323"},line:{color:"#8e8e8e"}}}},gauge:{pointer:{color:"#ea7001"},scale:{rangePlaceholderColor:"#dedede",labels:{color:"#2e2e2e"},minorTicks:{color:"#2e2e2e"},majorTicks:{color:"#2e2e2e"},line:{color:"#2e2e2e"}}}}),k("silver",{chart:{title:{color:"#4e5968"},legend:{labels:{color:"#4e5968"},inactiveItems:{labels:{color:"#B1BCC8"},markers:{color:"#B1BCC8"}}},seriesDefaults:{labels:{color:"#293135",background:"#eaeaec",opacity:.5},notes:{icon:{background:"transparent",border:{color:"#4e5968"}},label:{color:"#4e5968"},line:{color:"#4e5968"}},line:{markers:{background:"#eaeaec"}},scatter:{markers:{background:"#eaeaec"}},scatterLine:{markers:{background:"#eaeaec"}},pie:{connectors:{color:"#A6B1C0"}},donut:{connectors:{color:"#A6B1C0"}},candlestick:{downColor:"#a6afbe"}},chartArea:{background:"#eaeaec"},seriesColors:["#007bc3","#76b800","#ffae00","#ef4c00","#a419b7","#430B62"],axisDefaults:{line:{color:"#a6b1c0"},labels:{color:"#4e5968"},majorGridLines:{color:"#dcdcdf"},minorGridLines:{color:"#eeeeef"},title:{color:"#4e5968"},crosshair:{color:"#a6b1c0"},notes:{icon:{background:"transparent",border:{color:"#4e5968"}},label:{color:"#4e5968"},line:{color:"#4e5968"}}}},gauge:{pointer:{color:"#0879c0"},scale:{rangePlaceholderColor:"#f3f3f4",labels:{color:"#515967"},minorTicks:{color:"#515967"},majorTicks:{color:"#515967"},line:{color:"#515967"}}}}),k("metro",{chart:{title:{color:"#777777"},legend:{labels:{color:"#777777"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:a},notes:{icon:{background:"transparent",border:{color:"#777777"}},label:{color:"#777777"},line:{color:"#777777"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:["#8ebc00","#309b46","#25a0da","#ff6900","#e61e26","#d8e404","#16aba9","#7e51a1","#313131","#ed1691"],axisDefaults:{line:{color:"#c7c7c7"},labels:{color:"#777777"},minorGridLines:{color:"#c7c7c7"},majorGridLines:{color:"#c7c7c7"},title:{color:"#777777"},crosshair:{color:"#c7c7c7"},notes:{icon:{background:"transparent",border:{color:"#777777"}},label:{color:"#777777"},line:{color:"#777777"}}}},gauge:{pointer:{color:"#8ebc00"},scale:{rangePlaceholderColor:"#e6e6e6",labels:{color:"#777"},minorTicks:{color:"#777"},majorTicks:{color:"#777"},line:{color:"#777"}}}}),k("metroblack",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#797979"},markers:{color:"#797979"}}},seriesDefaults:{border:{_brightness:1},labels:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#cecece"}},label:{color:"#ffffff"},line:{color:"#cecece"}},line:{markers:{background:"#0e0e0e"}},bubble:{opacity:.6},scatter:{markers:{background:"#0e0e0e"}},scatterLine:{markers:{background:"#0e0e0e"}},candlestick:{downColor:"#828282",line:{color:"#ffffff"}},overlay:{gradient:"none"}},chartArea:{background:"#0e0e0e"},seriesColors:["#00aba9","#309b46","#8ebc00","#ff6900","#e61e26","#d8e404","#25a0da","#7e51a1","#313131","#ed1691"],axisDefaults:{line:{color:"#cecece"},labels:{color:"#ffffff"},minorGridLines:{color:"#2d2d2d"},majorGridLines:{color:"#333333"},title:{color:"#ffffff"},crosshair:{color:"#cecece"},notes:{icon:{background:"transparent",border:{color:"#cecece"}},label:{color:"#ffffff"},line:{color:"#cecece"}}}},gauge:{pointer:{color:"#00aba9"},scale:{rangePlaceholderColor:"#2d2d2d",labels:{color:"#ffffff"},minorTicks:{color:"#333333"},majorTicks:{color:"#cecece"},line:{color:"#cecece"}}}}),k("moonlight",{chart:{title:{color:"#ffffff"},legend:{labels:{color:"#ffffff"},inactiveItems:{labels:{color:"#A1A7AB"},markers:{color:"#A1A7AB"}}},seriesDefaults:{labels:{color:"#ffffff"},notes:{icon:{background:"transparent",border:{color:"#8c909e"}},label:{color:"#ffffff"},line:{color:"#8c909e"}},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#212a33"}},bubble:{opacity:.6},scatter:{markers:{background:"#212a33"}},scatterLine:{markers:{background:"#212a33"}},area:{opacity:.3},candlestick:{downColor:"#757d87",line:{color:"#ea9d06"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:t,opacity:.2}}},ohlc:{line:{color:"#ea9d06"}}},chartArea:{background:"#212a33"},seriesColors:["#ffca08","#ff710f","#ed2e24","#ff9f03","#e13c02","#a00201"],axisDefaults:{line:{color:"#8c909e"},minorTicks:{color:"#8c909e"},majorTicks:{color:"#8c909e"},labels:{color:"#ffffff"},majorGridLines:{color:"#3e424d"},minorGridLines:{color:"#2f3640"},title:{color:"#ffffff"},crosshair:{color:"#8c909e"},notes:{icon:{background:"transparent",border:{color:"#8c909e"}},label:{color:"#ffffff"},line:{color:"#8c909e"}}}},gauge:{pointer:{color:"#f4af03"},scale:{rangePlaceholderColor:"#2f3640",labels:{color:t},minorTicks:{color:"#8c909e"},majorTicks:{color:"#8c909e"},line:{color:"#8c909e"}}}}),k("uniform",{chart:{title:{color:"#686868"},legend:{labels:{color:"#686868"},inactiveItems:{labels:{color:"#B6B6B6"},markers:{color:"#B6B6B6"}}},seriesDefaults:{labels:{color:"#686868"},notes:{icon:{background:"transparent",border:{color:"#9e9e9e"}},label:{color:"#686868"},line:{color:"#9e9e9e"}},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#ffffff"}},bubble:{opacity:.6},scatter:{markers:{background:"#ffffff"}},scatterLine:{markers:{background:"#ffffff"}},area:{opacity:.3},candlestick:{downColor:"#cccccc",line:{color:"#cccccc"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#cccccc",opacity:.2}}},ohlc:{line:{color:"#cccccc"}}},chartArea:{background:"#ffffff"},seriesColors:["#527aa3","#6f91b3","#8ca7c2","#a8bdd1","#c5d3e0","#e2e9f0"],axisDefaults:{line:{color:"#9e9e9e"},minorTicks:{color:"#aaaaaa"},majorTicks:{color:"#888888"},labels:{color:"#686868"},majorGridLines:{color:"#dadada"},minorGridLines:{color:"#e7e7e7"},title:{color:"#686868"},crosshair:{color:"#9e9e9e"},notes:{icon:{background:"transparent",border:{color:"#9e9e9e"}},label:{color:"#686868"},line:{color:"#9e9e9e"}}}},gauge:{pointer:{color:"#527aa3"},scale:{rangePlaceholderColor:"#e7e7e7",labels:{color:"#686868"},minorTicks:{color:"#aaaaaa"},majorTicks:{color:"#888888"},line:{color:"#9e9e9e"}}}}),k("bootstrap",{chart:{title:{color:"#343434"},legend:{labels:{color:"#343434"},inactiveItems:{labels:{color:"#9A9A9A"},markers:{color:"#9A9A9A"}}},seriesDefaults:{labels:{color:"#343434"},notes:{icon:{background:"transparent",border:{color:"#b8b8b8"}},label:{color:"#343434"},line:{color:"#b8b8b8"}},pie:{overlay:{gradient:"sharpBevel"}},donut:{overlay:{gradient:"sharpGlass"}},line:{markers:{background:"#ffffff"}},bubble:{opacity:.6},scatter:{markers:{background:"#ffffff"}},scatterLine:{markers:{background:"#ffffff"}},area:{opacity:.3},candlestick:{downColor:"#d0d0d0",line:{color:"#d0d0d0"},border:{_brightness:1.5,opacity:1},highlight:{border:{color:"#b8b8b8",opacity:.2}}},ohlc:{line:{color:"#d0d0d0"}}},chartArea:{background:"#ffffff"},seriesColors:["#006dcc","#49AFCD","#5BB75B","#FAA732","#DA4F49","#363636"],axisDefaults:{line:{color:"#b8b8b8"},minorTicks:{color:"#dddddd"},majorTicks:{color:"#b8b8b8"},labels:{color:"#343434"},majorGridLines:{color:"#b8b8b8"},minorGridLines:{color:"#dddddd"},title:{color:"#343434"},crosshair:{color:"#b8b8b8"},notes:{icon:{background:"transparent",border:{color:"#b8b8b8"}},label:{color:"#343434"},line:{color:"#b8b8b8"}}}},gauge:{pointer:{color:"#0044cc"},scale:{rangePlaceholderColor:"#b8b8b8",labels:{color:"#343434"},minorTicks:{color:"#dddddd"},majorTicks:{color:"#b8b8b8"},line:{color:"#b8b8b8"}}}}),k("flat",{chart:{title:{color:"#4c5356"},legend:{labels:{color:"#4c5356"},inactiveItems:{labels:{color:"#CBCBCB"},markers:{color:"#CBCBCB"}}},seriesDefaults:{labels:{color:"#4c5356"},notes:{icon:{background:"transparent",border:{color:"#cdcdcd"}},label:{color:"#4c5356"},line:{color:"#cdcdcd"}},candlestick:{downColor:"#c7c7c7",line:{color:"#787878"}},area:{opacity:.9},overlay:{gradient:"none"},border:{_brightness:1}},seriesColors:["#10c4b2","#ff7663","#ffb74f","#a2df53","#1c9ec4","#ff63a5","#1cc47b"],axisDefaults:{line:{color:"#cdcdcd"},labels:{color:"#4c5356"},minorGridLines:{color:"#cdcdcd"},majorGridLines:{color:"#cdcdcd"},title:{color:"#4c5356"},crosshair:{color:"#cdcdcd"},notes:{icon:{background:"transparent",border:{color:"#cdcdcd"}},label:{color:"#4c5356"},line:{color:"#cdcdcd"}}}},gauge:{pointer:{color:"#10c4b2"},scale:{rangePlaceholderColor:"#cdcdcd",labels:{color:"#4c5356"},minorTicks:{color:"#4c5356"},majorTicks:{color:"#4c5356"},line:{color:"#4c5356"}}}})}(window.kendo.jQuery);;!function(e,t){function i(){this._defaults={}}function n(e){return r(e).min}function o(e){return r(e).max}function r(e){var i,n,o=Nn,r=Mn,a=e.length;for(i=0;a>i;i++)n=e[i],null!==n&&isFinite(n)&&(o=ei.min(o,n),r=ei.max(r,n));return{min:o===Nn?t:o,max:r===Mn?t:r}}function a(e,t,i,n){var o,r,a=(n.x-i.x)*(e.y-i.y)-(n.y-i.y)*(e.x-i.x),s=(n.y-i.y)*(t.x-e.x)-(n.x-i.x)*(t.y-e.y);return 0!==s&&(r=a/s,o=new Ai(e.x+r*(t.x-e.x),e.y+r*(t.y-e.y))),o}function s(e,t){var i,n,o,r=e.series,a=r.length,s=e.seriesDefaults,c=li({},e.seriesDefaults),u=t?li({},t.seriesDefaults):{},d=li({},u);for(l(c),l(d),i=0;a>i;i++)n=r[i].type||e.seriesDefaults.type,o=li({},d,u[n],{tooltip:e.tooltip},c,s[n]),r[i]._defaults=o,r[i]=li({},o,r[i])}function l(e){delete e.bar,delete e.column,delete e.line,delete e.verticalLine,delete e.pie,delete e.donut,delete e.area,delete e.verticalArea,delete e.scatter,delete e.scatterLine,delete e.bubble,delete e.candlestick,delete e.ohlc,delete e.bullet,delete e.verticalBullet,delete e.polarArea,delete e.polarLine,delete e.radarArea,delete e.radarLine}function c(e){var t,i,n,o,r=e.series,a=e.seriesColors||[];for(t=0;t<r.length;t++)i=r[t],n=a[t%a.length],i.color=i.color||n,o=i._defaults,o&&(o.color=o.color||n)}function u(e){var t;Qt([an,Ho,Wo,Yo],function(){t=this+"Axes",e[t]&&(e[this+"Axis"]=e[t],delete e[t])})}function d(t,i){var n=(i||{}).axisDefaults||{};Qt([an,Ho,Wo,Yo],function(){var i=this+"Axis",o=[].concat(t[i]),r=t.axisDefaults||{};o=e.map(o,function(e){var t=(e||{}).color,o=li({},n,n[i],r,r[i],{line:{color:t},labels:{color:t},title:{color:t}},e);return delete o[i],o}),t[i]=o.length>1?o:o[0]})}function h(e,t,i){e[t]=(e[t]||0)+i}function p(e){var t,i=e.length,n=0;for(t=0;i>t;t++)n=ei.max(n,e[t].data.length);return n}function f(e){return e*e}function g(e,t){if(null===t)return t;var i=ci(e,!0);return i(t)}function x(e,t){if(null===t)return t;var i="_date_"+e,n=t[i];return n||(n=v(ci(e,!0)(t)),t[i]=n),n}function v(e){var t,i;if(e instanceof Date)t=e;else if(typeof e===_o)t=ni.parseDate(e)||new Date(e);else if(e)if(Zt(e))for(t=[],i=0;i<e.length;i++)t.push(v(e[i]));else t=new Date(e);return t}function m(e){return Zt(e)?$t(e,m):e?v(e).getTime():t}function y(e,t,i,n){var o=e;return e&&(e=v(e),i===Xo?o=new Date(e.getFullYear()+t,0,1):i===Wn?o=new Date(e.getFullYear(),e.getMonth()+t,1):i===Mo?o=y(b(e,n),7*t,mn):i===mn?o=new Date(e.getFullYear(),e.getMonth(),e.getDate()+t):i===Vn?(o=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()+t),t>0&&V(e,o)&&(o=y(e,t+1,i,n))):i===jn?(o=new Date(e.getTime()+t*ko),o.setSeconds(0)):i===xo&&(o=new Date(e.getTime()+t*Ao)),o.setMilliseconds(0)),o}function b(e,t){var i=e.getDay(),n=0;if(!isNaN(i))for(t=t||0;i!==t;)0===i?i=6:i--,n++;return k(e,-n*Io)}function w(e,t,i){return e=v(e),y(e,0,t,i)}function _(e,t,i){return e=v(e),e&&w(e,t,i).getTime()===e.getTime()?e:y(e,1,t,i)}function A(e,t){var i=e.getTime()-t,n=e.getTimezoneOffset()-t.getTimezoneOffset();return i-n*ko}function k(e,t){var i=e.getTimezoneOffset(),n=new Date(e.getTime()+t),o=n.getTimezoneOffset()-i;return new Date(n.getTime()+o*ko)}function C(e,t,i){var n;return n=i===Xo?t.getFullYear()-e.getFullYear():i===Wn?12*C(e,t,Xo)+t.getMonth()-e.getMonth():i===mn?ei.floor(A(t,e)/Io):ei.floor((t-e)/Vo[i])}function I(e){return 1===e.length?e[0]:e}function P(e,t,i){return ei.max(ei.min(e,i),t)}function S(e){var t,i,n,o=e.length;if(o>0)for(i=0;o>i;i++)n=e[i].box,t?t.wrap(n):t=n.clone();return t||xi()}function T(e,t){return e&&t?e.toLowerCase()===t.toLowerCase():e===t}function V(e,t){return e&&t?m(e)===m(t):e===t}function D(e){for(var t,i=e.length;i--;)if(t=e[i],Bi(t)&&null!==t)return t}function E(e,t){null!==t&&e.push(t)}function B(e,t){for(var i,n,o=0,r=t.length-1;r>=o;)if(i=ei.floor((o+r)/2),n=t[i],e>n)o=i+1;else{if(!(n>e)){for(;V(t[i-1],e);)i--;return i}r=i-1}return t[i]<=e?i:i-1}function R(e){return"number"==typeof e&&!isNaN(e)}function L(e){var t,i,n=e.length,o=0;for(t=0;n>t;t++)i=e[t],R(i)&&o++;return o}function O(e){return L(e)===e.length}function F(e){var t,i,n,o={};for(t=0;t<e.length;t++)i=e[t],n=i.options.name,n&&(o[n]=i.range());return o}function H(e){var t=e.originalEvent,i=0;return t.wheelDelta&&(i=-t.wheelDelta/120,i=i>0?ei.ceil(i):ei.floor(i)),t.detail&&(i=zi(t.detail/3)),i}function U(e,t,i){var n,o,r,a,s;if(i=i||{},r=i.excluded=i.excluded||[],a=i.defaults=i.defaults||{},s=i.depth=i.depth||0,!(s>zn))for(n in e)Fi(n,i.excluded)||(o=e[n],ui(o)?e[n]=ji(o(t),a[n]):typeof o===io&&(i.defaults=a[n],i.depth++,U(o,t,i),i.depth--))}function z(e,i){var n,o,r,a=[],s=e.groupNameTemplate,l=i.length;for(Bi(s)?(ni.logToConsole("'groupNameTemplate' is obsolete and will be removed in future versions. Specify the group name template as 'series.name'"),s&&(n=di(s))):(n=di(e.name||""),0===n._slotCount&&(n=di(Bi(e.name)?"#= group.value #: #= series.name #":"#= group.value #"))),o=0;l>o;o++)r=li({},e),r.color=t,r._groupIx=o,a.push(r),n&&(r.name=n({series:r,group:i[o]}));return a}function N(e,t){var i,n,o=[];for(t=[].concat(t),i=0;i<e.length;i++)n=e[i],Fi(n.type,t)&&o.push(n);return o}function M(t,i){if(t instanceof Date){for(var n=0,o=i.length;o>n;n++)if(V(i[n],t))return n;return-1}return e.inArray(t,i)}function j(e,t){t=t||Ri;for(var i=1,n=e.length;n>i;i++)if(t(e[i],e[i-1])<0){e.sort(t);break}return e}function W(e,t){var i,n=j(e,t),o=n.length,r=o>0?[n[0]]:[];for(t=t||Ri,i=1;o>i;i++)0!==t(n[i],Ui(r))&&r.push(n[i]);return r}function Y(e,t){var i=e.type,n=t instanceof Date;return!i&&n||T(i,vn)}function X(e){var t,i,n,o,r=[],a=e.length;for(t=0;a>t;t++)for(i=e[t],o=i.length,n=0;o>n;n++)r[n]=r[n]||[],r[n].push(i[n]);return r}function G(e,t){if(e.indexOf(".")>-1)for(var i=e.split("."),n="";i.length>1;)n+=i.shift(),t[n]=t[n]||{},n+="."}var q,J,K,Q,Z,$,et,tt,it,nt,ot,rt,at,st,lt,ct,ut,dt,ht,pt,ft,gt,xt,vt,mt,yt,bt,wt,_t,At,kt,Ct,It,Pt,St,Tt,Vt,Dt,Et,Bt,Rt,Lt,Ot,Ft,Ht,Ut,zt,Nt,Mt,jt,Wt,Yt,Xt,Gt,qt,Jt,Kt,Qt=e.each,Zt=e.isArray,$t=e.map,ei=Math,ti=e.extend,ii=e.proxy,ni=window.kendo,oi=ni.Class,ri=ni.Observable,ai=ni.data.DataSource,si=ni.ui.Widget,li=ni.deepExtend,ci=ni.getter,ui=ni.isFunction,di=ni.template,hi=ni.dataviz,pi=hi.Axis,fi=hi.AxisLabel,gi=hi.BarAnimation,xi=hi.Box2D,vi=hi.BoxElement,mi=hi.ChartElement,yi=hi.Color,bi=hi.ElementAnimation,wi=hi.Note,_i=hi.NumericAxis,Ai=hi.Point2D,ki=hi.RootElement,Ci=hi.Ring,Ii=hi.ShapeElement,Pi=hi.Text,Si=hi.TextBox,Ti=hi.Title,Vi=hi.animationDecorator,Di=hi.append,Ei=hi.autoFormat,Bi=hi.defined,Ri=hi.dateComparer,Li=hi.getElement,Oi=hi.getSpacing,Fi=hi.inArray,Hi=hi.interpolateValue,Ui=hi.last,zi=hi.round,Ni=hi.renderTemplate,Mi=hi.uniqueId,ji=hi.valueOrDefault,Wi=".kendoChart",Yi="above",Xi="area",Gi="auto",qi="fit",Ji=hi.AXIS_LABEL_CLICK,Ki="bar",Qi=.8,Zi="below",$i="#000",en="both",tn="bottom",nn="bubble",on="bullet",rn="candlestick",an="category",sn="center",ln="change",cn="circle",un="click"+Wi,dn=hi.CLIP,hn="color",pn="column",fn=hi.COORD_PRECISION,gn="k-",xn="dataBound",vn="date",mn="days",yn=hi.DEFAULT_FONT,bn=hi.DEFAULT_HEIGHT,wn=hi.DEFAULT_PRECISION,_n=hi.DEFAULT_WIDTH,An="donut",kn=50,Cn="drag",In="dragEnd",Pn="dragStart",Sn="fadeIn",Tn="glass",Vn="hours",Dn=hi.INITIAL_ANIMATION_DURATION,En="insideBase",Bn="insideEnd",Rn="interpolate",Ln="left",On="legendItemClick",Fn="legendItemHover",Hn="line",Un=8,zn=5,Nn=Number.MAX_VALUE,Mn=-Number.MAX_VALUE,jn="minutes",Wn="months",Yn="mouseleave"+Wi,Xn="mousemove.tracking",Gn="mouseover"+Wi,qn="mouseout"+Wi,Jn="mousemove"+Wi,Kn=20,Qn=150,Zn="DOMMouseScroll"+Wi+" mousewheel"+Wi,$n=hi.NOTE_CLICK,eo=hi.NOTE_HOVER,to="noteText",io="object",no="ohlc",oo="outsideEnd",ro="_outline",ao="pie",so=70,lo="plotAreaClick",co="pointer",uo="right",ho="roundedBevel",po="roundedGlass",fo="scatter",go="scatterLine",xo="seconds",vo="selectStart",mo="select",yo="selectEnd",bo="seriesClick",wo="seriesHover",_o="string",Ao=1e3,ko=60*Ao,Co=60*ko,Io=24*Co,Po=7*Io,So=31*Io,To=365*Io,Vo={years:To,months:So,weeks:Po,days:Io,hours:Co,minutes:ko,seconds:Ao},Do="top",Eo=150,Bo=5,Ro=100,Lo=100,Oo="tooltip-inverse",Fo="touchstart"+Wi,Ho="value",Uo="verticalArea",zo="verticalBullet",No="verticalLine",Mo="weeks",jo="#fff",Wo="x",Yo="y",Xo="years",Go="zero",qo=3,Jo="zoomStart",Ko="zoom",Qo="zoomEnd",Zo=[xo,jn,Vn,mn,Mo,Wn,Xo],$o=[Ki,pn,no,rn,on],er={seconds:"HH:mm:ss",minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"},tr=si.extend({init:function(e,t){var i,n=this;ni.destroy(e),si.fn.init.call(n,e),i=li({},n.options,t),n.element.addClass(gn+i.name.toLowerCase()).css("position","relative"),n._originalOptions=li({},i),n._initTheme(i),n.bind(n.events,n.options),n.wrapper=n.element,n._initDataSource(t),ni.notify(n,hi.ui)},_initTheme:function(i){var n,o=this,r=hi.ui.themes||{},a=i.theme,s=r[a]||r[a.toLowerCase()],l=a&&s?s.chart:{},d=[],h=i.series||[];for(n=0;n<h.length;n++)d.push(e.extend({},h[n]));i.series=d,u(i),o._applyDefaults(i,l),null===i.seriesColors&&(i.seriesColors=t),o.options=li({},l,i),c(o.options)},_initDataSource:function(e){var t=this,i=(e||{}).dataSource;t._dataChangeHandler=ii(t._onDataChanged,t),t.dataSource=ai.create(i).bind(ln,t._dataChangeHandler),t._bindCategories(),t._redraw(),t._attachEvents(),i&&t.options.autoBind&&t.dataSource.fetch()},setDataSource:function(e){var t=this;t.dataSource.unbind(ln,t._dataChangeHandler),t.dataSource=e,e.bind(ln,t._dataChangeHandler),t.options.autoBind&&e.fetch()},events:[xn,bo,wo,Ji,On,Fn,lo,Pn,Cn,In,Jo,Ko,Qo,vo,mo,yo,$n,eo],items:function(){return e()},options:{name:"Chart",renderAs:"",theme:"default",chartArea:{},legend:{visible:!0,labels:{}},categoryAxis:{},autoBind:!0,seriesDefaults:{type:pn,data:[],highlight:{visible:!0},labels:{},negativeValues:{visible:!1}},series:[],seriesColors:null,tooltip:{visible:!1},transitions:!0,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{}},refresh:function(){var e=this;e._applyDefaults(e.options),c(e.options),e._bindSeries(),e._bindCategories(),e.trigger(xn),e._redraw()},redraw:function(e){var t,i,n=this;n._applyDefaults(n.options),e?(i=n._model._plotArea,t=i.findPane(e),i.redraw(t)):n._redraw()},_redraw:function(){var e,t=this,i=t._getModel();t._destroyView(),t._model=i,t._plotArea=i._plotArea,e=t._view=hi.ViewFactory.current.create(i.options,t.options.renderAs),e&&(e.load(i),t._viewElement=t._renderView(e),t._tooltip=t._createTooltip(),t._highlight=new Mt(e,t._viewElement),t._setupSelection())},_sharedTooltip:function(){var e=this,t=e.options;return e._plotArea instanceof Et&&t.tooltip.shared},_createTooltip:function(){var e,t=this,i=t.options,n=t.element;return e=t._sharedTooltip()?new Yt(n,t._plotArea,i.tooltip):new Wt(n,i.tooltip)},_renderView:function(){var e=this;return e._view.renderTo(e.element[0])},_applyDefaults:function(e,t){d(e,t),s(e,t)},_getModel:function(){var e,t=this,i=t.options,n=new ki(t._modelOptions());return n.parent=t,Ti.buildTitle(i.title,n),e=n._plotArea=t._createPlotArea(),i.legend.visible&&n.append(new Z(e.options.legend)),n.append(e),n.reflow(),n},_modelOptions:function(){var e=this,t=e.options,i=e.element,n=ei.floor(i.height()),o=ei.floor(i.width());return li({width:o||_n,height:n||bn,transitions:t.transitions},t.chartArea)},_createPlotArea:function(){var e=this,t=e.options;return q.current.create(t.series,t)},_setupSelection:function(){var e,t,i,n,o,r,a=this,s=a._plotArea,l=s.axes,c=a._selections=[];for(a._selectStartHandler||(a._selectStartHandler=ii(a._selectStart,a),a._selectHandler=ii(a._select,a),a._selectEndHandler=ii(a._selectEnd,a)),t=0;t<l.length;t++)i=l[t],r=i.options,i instanceof $&&r.select&&!r.vertical&&(n=0,o=r.categories.length-1,i instanceof tt&&(n=r.categories[n],o=r.categories[o]),r.justified||(i instanceof tt?o=y(o,1,r.baseUnit,r.weekStartDay):o++),e=new Jt(a,i,li({min:n,max:o},r.select)),e.bind(vo,a._selectStartHandler),e.bind(mo,a._selectHandler),e.bind(yo,a._selectEndHandler),c.push(e))},_selectStart:function(e){return this.trigger(vo,e)},_select:function(e){return this.trigger(mo,e)},_selectEnd:function(e){return this.trigger(yo,e)},_attachEvents:function(){var e=this,t=e.element;t.on(un,ii(e._click,e)),t.on(Gn,ii(e._mouseover,e)),t.on(qn,ii(e._mouseout,e)),t.on(Zn,ii(e._mousewheel,e)),t.on(Fo,ii(e._tap,e)),t.on(Yn,ii(e._mouseleave,e)),(e._plotArea.crosshairs.length||e._tooltip&&e._sharedTooltip())&&t.on(Jn,ii(e._mousemove,e)),ni.UserEvents&&(e._userEvents=new ni.UserEvents(t,{global:!0,threshold:5,filter:":not(.k-selector)",multiTouch:!1,start:ii(e._start,e),move:ii(e._move,e),end:ii(e._end,e)}))},_mouseout:function(e){var t=this,i=t._model.modelMap[e.target.getAttribute("data-model-id")];i&&i.leave&&i.leave(t,e)},_start:function(e){var t=this,i=t._events;Bi(i[Pn]||i[Cn]||i[In])&&t._startNavigation(e,Pn)},_move:function(e){var t,i,n,o,r,a,s=this,l=s._navState,c={};if(l){for(e.preventDefault(),t=l.axes,i=0;i<t.length;i++)n=t[i],o=n.options.name,o&&(r=n.options.vertical?e.y:e.x,a=r.startLocation-r.location,0!==a&&(c[n.options.name]=n.translateRange(a)));l.axisRanges=c,s.trigger(Cn,{axisRanges:c,originalEvent:e})}},_end:function(e){this._endNavigation(e,In)},_mousewheel:function(e){var t,i,n,o,r,a,s=this,l=e.originalEvent,c=H(e),u=s._navState,d={};if(u||(t=s._startNavigation(l,Jo),t||(u=s._navState)),u){for(i=u.totalDelta||c,u.totalDelta=i+c,n=s._navState.axes,o=0;o<n.length;o++)r=n[o],a=r.options.name,a&&(d[a]=r.scaleRange(i));s.trigger(Ko,{delta:c,axisRanges:d,originalEvent:e}),s._mwTimeout&&clearTimeout(s._mwTimeout),s._mwTimeout=setTimeout(function(){s._endNavigation(e,Qo)},Qn)}},_startNavigation:function(e,t){var i,n,o,r=this,a=r._eventCoordinates(e),s=r._model._plotArea,l=s.findPointPane(a),c=s.axes.slice(0),u=!1;if(l){for(i=0;i<c.length;i++)if(n=c[i],n.box.containsPoint(a)){u=!0;break}!u&&s.backgroundBox().containsPoint(a)&&(o=r.trigger(t,{axisRanges:F(c),originalEvent:e}),o?r._userEvents.cancel():(r._suppressHover=!0,r._unsetActivePoint(),r._navState={pane:l,axes:c}))}},_endNavigation:function(e,t){var i=this;i._navState&&(i.trigger(t,{axisRanges:i._navState.axisRanges,originalEvent:e}),i._suppressHover=!1,i._navState=null)},_getChartElement:function(t){var i,n=this,o=e(t.target).data("modelId"),r=n._model;return o&&(i=r.modelMap[o]),i&&i.aliasFor&&(i=i.aliasFor(t,n._eventCoordinates(t))),i},_eventCoordinates:function(e){var t=this,i=Bi((e.x||{}).client),n=i?e.x.client:e.clientX,o=i?e.y.client:e.clientY;return t._toModelCoordinates(n,o)},_toModelCoordinates:function(t,i){var n=this.element,o=n.offset(),r=parseInt(n.css("paddingLeft"),10),a=parseInt(n.css("paddingTop"),10),s=e(window);return new Ai(t-o.left-r+s.scrollLeft(),i-o.top-a+s.scrollTop())},_click:function(e){for(var t=this,i=t._getChartElement(e);i;)i.click&&i.click(t,e),i=i.parent},_startHover:function(e){var i,n=this,o=n._tooltip,r=n._highlight,a=n.options.tooltip;if(!n._suppressHover&&r&&!Fi(e.target,r._overlays)&&!n._sharedTooltip())return i=n._getChartElement(e),i&&i.hover&&(i.hover(n,e),!e.isDefaultPrevented())?(n._activePoint=i,a=li({},a,i.options.tooltip),a.visible&&o.show(i),r.show(i),!0):t},_mouseover:function(t){var i=this;i._startHover(t)&&e(document).on(Xn,ii(i._mouseMoveTracking,i))},_mouseMoveTracking:function(t){var i,n,o,r=this,a=r.options,s=r._tooltip,l=r._highlight,c=r._eventCoordinates(t),u=r._activePoint;r._plotArea.box.containsPoint(c)?u&&u.series&&(u.series.type===Hn||u.series.type===Xi)&&(n=u.parent,o=n.getNearestPoint(c.x,c.y,u.seriesIx),o&&o!=u&&(o.hover(r,t),r._activePoint=o,i=li({},a.tooltip,u.options.tooltip),i.visible&&s.show(o),l.show(o))):(e(document).off(Xn),r._unsetActivePoint())},_mousemove:function(e){var t,i=this,n=new Date,o=i._mousemove.timestamp;(!o||n-o>Kn)&&(t=i._eventCoordinates(e),i._trackCrosshairs(t),i._sharedTooltip()&&i._trackSharedTooltip(t),i._mousemove.timestamp=n)},_trackCrosshairs:function(e){var t,i,n=this._plotArea.crosshairs;for(t=0;t<n.length;t++)i=n[t],i.box.containsPoint(e)?i.showAt(e):i.hide()},_trackSharedTooltip:function(e){var t,i,n=this,o=n.options,r=n._plotArea,a=r.categoryAxis,s=n._tooltip,l=o.tooltip,c=n._highlight;t=a.pointCategoryIndex(e),t!==n._tooltipCategoryIx&&(i=r.pointsByCategoryIndex(t),i.length>0?(l.visible&&s.showAt(i,e),c.show(i)):s.hide(),n._tooltipCategoryIx=t)},_mouseleave:function(){var e,t=this,i=t._plotArea,n=i.crosshairs,o=t._tooltip,r=t._highlight;for(e=0;e<n.length;e++)n[e].hide();setTimeout(ii(o.hide,o),Lo),r.hide(),t._tooltipCategoryIx=null},_unsetActivePoint:function(){var e=this,t=e._tooltip,i=e._highlight;e._activePoint=null,t&&t.hide(),i&&i.hide()},_onDataChanged:function(){var e,t,i=this,n=i.options,o=i._sourceSeries||n.series,r=o.length,a=i.dataSource.view(),s=(i.dataSource.group()||[]).length>0,l=[];for(e=0;r>e;e++)t=o[e],i._isBindable(t)&&s?Di(l,z(t,a)):l.push(t||[]);i._sourceSeries=o,n.series=l,c(i.options),i._bindSeries(),i._bindCategories(),i.trigger(xn),i._redraw()},_bindSeries:function(){var e,t,i,n,o=this,r=o.dataSource.view(),a=o.options.series,s=a.length;for(e=0;s>e;e++)t=a[e],o._isBindable(t)&&(i=t._groupIx,n=Bi(i)?(r[i]||{}).items:r,t.autoBind!==!1&&(t.data=n))},_bindCategories:function(){var e,t,i=this,n=i.dataSource.view()||[],o=(i.dataSource.group()||[]).length>0,r=n,a=i.options,s=[].concat(a.categoryAxis);for(o&&n.length&&(r=n[0].items),e=0;e<s.length;e++)t=s[e],t.autoBind!==!1&&i._bindCategoryAxis(t,r,e)},_bindCategoryAxis:function(e,t,i){var n,o,r,a=(t||[]).length;if(e.field)for(e.categories=[],n=0;a>n;n++)r=t[n],o=g(e.field,r),0===n?(e.categories=[o],e.dataItems=[r]):(e.categories.push(o),e.dataItems.push(r));else this._bindCategoryAxisFromSeries(e,i)},_bindCategoryAxisFromSeries:function(e,t){var i,n,o,r,a,s,l,c,u,d,h,p=this,f=[],v=p.options.series,m=v.length,y={};for(n=0;m>n;n++)if(o=v[n],r=o.categoryAxis===e.name||!o.categoryAxis&&0===t,a=o.data,l=a.length,o.categoryField&&r&&l>0)for(h=Y(e,g(o.categoryField,a[0])),d=h?x:g,s=0;l>s;s++)c=a[s],u=d(o.categoryField,c),(h||!y[u])&&(f.push([u,c]),h||(y[u]=!0));f.length>0&&(h&&(f=W(f,function(e,t){return Ri(e[0],t[0])})),i=X(f),e.categories=i[0],e.dataItems=i[1])},_isBindable:function(e){var t,i,n=J.current.valueFields(e),o=!0;for(i=0;i<n.length;i++)if(t=n[i],t===Ho?t="field":t+="Field",!e[t]){o=!1;break}return o},_tap:function(e){var t=this;t._startHover(e)||t._unsetActivePoint(),t._click(e)},_legendItemClick:function(e,t){var i,n,o=this,r=o._plotArea,a=(r.srcSeries||r.series)[e];Fi(a.type,[ao,An])?(i=a.data[t],i.visible=Bi(i.visible)?!i.visible:!1):a.visible=!a.visible,o.options.transitions&&(o.options.transitions=!1,n=!0),o.redraw(),n&&(o.options.transitions=!0)},_legendItemHover:function(e,t){var i,n,o=this,r=o._plotArea,a=o._highlight,s=(r.srcSeries||r.series)[e];i=Fi(s.type,[ao,An])?t:e,n=r.pointsBySeriesIndex(i),a.show(n)},setOptions:function(e){var t=this;t._originalOptions=li(t._originalOptions,e),t.options=li({},t._originalOptions),t._sourceSeries=null,si.fn.setOptions.call(t,e),t._initTheme(t.options),e.dataSource&&t.setDataSource(ai.create(e.dataSource)),t.options.dataSource?t.refresh():t.redraw()},destroy:function(){var t=this,i=t.dataSource;t.element.off(Wi),i.unbind(ln,t._dataChangeHandler),e(document).off(Xn),t._userEvents&&t._userEvents.destroy(),t._destroyView(),si.fn.destroy.call(t)},_destroyView:function(){var e=this,t=e._model,i=e._view,n=e._selections;if(t&&(t.destroy(),e._model=null),i&&(i.destroy(),e._view=null),n)for(;n.length>0;)n.shift().destroy()}});li(tr.fn,hi.ExportMixin),q=oi.extend({init:function(){this._registry=[]},register:function(e,t){this._registry.push({type:e,seriesTypes:t})},create:function(e,t){var i,n,o,r=this._registry,a=r[0];for(i=0;i<r.length;i++)if(n=r[i],o=N(e,n.seriesTypes),o.length>0){a=n;break}return new a.type(o,t)}}),q.current=new q,J=oi.extend({init:function(){this._valueFields={},this._otherFields={},this._nullValue={},this._undefinedValue={}},register:function(e,i,n){var o,r,a=this;for(i=i||[Ho],o=0;o<e.length;o++)r=e[o],a._valueFields[r]=i,a._otherFields[r]=n,a._nullValue[r]=a._makeValue(i,null),a._undefinedValue[r]=a._makeValue(i,t)},canonicalFields:function(e){return this.valueFields(e).concat(this.otherFields(e))},valueFields:function(e){return this._valueFields[e.type]||[Ho]},otherFields:function(e){return this._otherFields[e.type]||[Ho]},bindPoint:function(e,t){var i,n,o,r,a,s=this,l=e.data,c=l[t],u={valueFields:{value:c}},d=s.valueFields(e),h=s._otherFields[e.type];return null===c?a=s._nullValue[e.type]:Bi(c)?Zt(c)?(n=c.slice(d.length),a=s._bindFromArray(c,d),i=s._bindFromArray(n,h)):typeof c===io&&(o=s.sourceFields(e,d),r=s.sourceFields(e,h),a=s._bindFromObject(c,d,o),i=s._bindFromObject(c,h,r)):a=s._undefinedValue[e.type],Bi(a)&&(1===d.length?u.valueFields.value=a[d[0]]:u.valueFields=a),u.fields=i||{},u},_makeValue:function(e,t){var i,n,o={},r=e.length;for(i=0;r>i;i++)n=e[i],o[n]=t;return o},_bindFromArray:function(e,t){var i,n,o={};if(t)for(n=ei.min(t.length,e.length),i=0;n>i;i++)o[t[i]]=e[i];return o},_bindFromObject:function(e,t,i){var n,o,r,a,s={};if(t)for(o=t.length,i=i||t,n=0;o>n;n++)r=t[n],a=i[n],s[r]=g(a,e);return s},sourceFields:function(e,t){var i,n,o,r,a;if(t)for(n=t.length,r=[],i=0;n>i;i++)o=t[i],a=o===Ho?"field":o+"Field",r.push(e[a]||o);return r}}),J.current=new J,K=mi.extend({init:function(e,t){var i=this;mi.fn.init.call(i,t),i.append(new Si(e,i.options))},options:{position:oo,margin:Oi(3),padding:Oi(4),color:$i,background:"",border:{width:1,color:""},aboveAxis:!0,vertical:!1,animation:{type:Sn,delay:Dn},zIndex:1},reflow:function(e){var t=this,i=t.options,n=i.vertical,o=i.aboveAxis,r=t.children[0],a=r.box,s=r.options.padding;r.options.align=n?sn:Ln,r.options.vAlign=n?Do:sn,i.position==Bn?n?(r.options.vAlign=Do,!o&&a.height()<e.height()&&(r.options.vAlign=tn)):r.options.align=o?uo:Ln:i.position==sn?(r.options.vAlign=sn,r.options.align=sn):i.position==En?n?r.options.vAlign=o?tn:Do:r.options.align=o?Ln:uo:i.position==oo&&(n?e=o?new xi(e.x1,e.y1-a.height(),e.x2,e.y1):new xi(e.x1,e.y2,e.x2,e.y2+a.height()):(r.options.align=sn,e=o?new xi(e.x2+a.width(),e.y1,e.x2,e.y2):new xi(e.x1-a.width(),e.y1,e.x1,e.y2))),n?s.left=s.right=(e.width()-r.contentBox.width())/2:s.top=s.bottom=(e.height()-r.contentBox.height())/2,r.reflow(e)}}),Q=Pi.extend({init:function(e,t){var i=this;i.item=e,Pi.fn.init.call(i,e.text,li({id:Mi(),cursor:{style:co}},t)),i.enableDiscovery()},click:function(e,t){var i=this.eventArgs(t);e.trigger(On,i)||(t.preventDefault(),e._legendItemClick(i.seriesIndex,i.pointIndex))},hover:function(e,t){var i=this.eventArgs(t);e.trigger(Fn,i)||(t.preventDefault(),e._legendItemHover(i.seriesIndex,i.pointIndex))},leave:function(e){e._unsetActivePoint()},eventArgs:function(t){var i=this.item;return{element:e(t.target),text:i.text,series:i.series,seriesIndex:i.series.index,pointIndex:i.pointIndex}}}),Z=mi.extend({init:function(e){var t=this;mi.fn.init.call(t,e),t.createLabels()},options:{position:uo,items:[],labels:{},offsetX:0,offsetY:0,margin:Oi(10),padding:Oi(5),border:{color:$i,width:0},background:"",zIndex:1,markers:{border:{width:1}}},createLabels:function(){var e,t,i=this,n=i.options.items,o=n.length;for(e=0;o>e;e++)t=n[e],i.append(new Q(t,li({},i.options.labels,{color:t.labelColor})))},reflow:function(e){var i=this,n=i.options,o=i.children.length;return 0===o?(i.box=e.clone(),t):"custom"==n.position?(i.customLayout(e),t):(n.position==Do||n.position==tn?i.horizontalLayout(e):i.verticalLayout(e),t)},getViewElements:function(e){var t,i,n,o,r,a,s,l=this,c=l.children,u=l.options,d=u.items,h=d.length,p=l.markerSize(),f=e.createGroup({zIndex:u.zIndex}),g=u.border||{};for(Di(f.children,mi.fn.getViewElements.call(l,e)),s=0;h>s;s++)o=d[s].markerColor,r=c[s],i=xi(),a=r.box,n=n?n.wrap(a):a.clone(),i.x1=a.x1-2*p,i.x2=i.x1+p,i.y1=u.position==Do||u.position==tn?a.y1+p/2:a.y1+(a.height()-p)/2,i.y2=i.y1+p,f.children.push(e.createRect(i,{fill:o,stroke:o,strokeWidth:u.markers.border.width,data:{modelId:r.options.modelId},cursor:{style:co}}));return c.length>0&&(t=Oi(u.padding),t.left+=2*p,n.pad(t),f.children.unshift(e.createRect(n,{stroke:g.width?g.color:"",strokeWidth:g.width,dashType:g.dashType,fill:u.background}))),[f]},verticalLayout:function(e){var t,i,n,o,r,a=this,s=a.options,l=a.children,c=l.length,u=l[0].box.clone(),d=Oi(s.margin),h=2*a.markerSize();for(o=1;c>o;o++)n=a.children[o],n.box.alignTo(a.children[o-1].box,tn),u.wrap(n.box);s.position==Ln?(t=e.x1+h+d.left,i=(e.y2-u.height())/2,u.x2+=h+d.left+d.right):(t=e.x2-u.width()-d.right,i=(e.y2-u.height())/2,u.translate(t,i),u.x1-=h+d.left),a.translateChildren(t+s.offsetX,i+s.offsetY),r=u.width(),u.x1=ei.max(e.x1,u.x1),u.x2=u.x1+r,u.y1=e.y1,u.y2=e.y2,a.box=u},horizontalLayout:function(e){var t,i,n,o,r=this,a=r.options,s=r.children,l=s.length,c=s[0].box.clone(),u=3*r.markerSize(),d=Oi(a.margin),h=s[0].box.width()+u,p=e.width(),f=0;for(o=1;l>o;o++)n=s[o],h+=n.box.width()+u,h>p-u?(n.box=xi(c.x1,c.y2,c.x1+n.box.width(),c.y2+n.box.height()),h=n.box.width()+u,f=n.box.y1):(n.box.alignTo(s[o-1].box,uo),n.box.y2=f+n.box.height(),n.box.y1=f,n.box.translate(u,0)),c.wrap(n.box);t=(e.width()-c.width()+u)/2,a.position===Do?(i=e.y1+d.top,c.y2=e.y1+c.height()+d.top+d.bottom,c.y1=e.y1):(i=e.y2-c.height()-d.bottom,c.y1=e.y2-c.height()-d.top-d.bottom,c.y2=e.y2),r.translateChildren(t+a.offsetX,i+a.offsetY),c.x1=e.x1,c.x2=e.x2,r.box=c},customLayout:function(e){var t,i=this,n=i.options,o=i.children,r=o.length,a=o[0].box.clone(),s=2*i.markerSize();for(t=1;r>t;t++)a=i.children[t].box,a.alignTo(i.children[t-1].box,tn),a.wrap(a);i.translateChildren(n.offsetX+s,n.offsetY),i.box=e},markerSize:function(){var e=this,t=e.children;return t.length>0?t[0].box.height()/2:0}}),$=pi.extend({init:function(e){var t=this;pi.fn.init.call(t,e),e=t.options,e.categories=e.categories.slice(0),t._ticks={}},options:{type:an,categories:[],vertical:!1,majorGridLines:{visible:!1,width:1,color:$i},zIndex:1,justified:!1},range:function(){return{min:0,max:this.options.categories.length}},getTickPositions:function(e){var t,i=this,n=i.options,o=n.vertical,r=n.justified,a=i.lineBox(),s=o?a.height():a.width(),l=e-(r?1:0),c=s/l,u=o?Yo:Wo,d=a[u+1],h=[];for(t=0;e>t;t++)h.push(zi(d,fn)),d+=c;return r||h.push(a[u+2]),n.reverse?h.reverse():h},getMajorTickPositions:function(){return this.getTicks().majorTicks},getMinorTickPositions:function(){return this.getTicks().minorTicks},getTicks:function(){var e,t=this,i=t._ticks,n=t.options,o=n.categories.length,r=n.reverse,a=n.justified,s=t.lineBox();return e=s.getHash()+o+r+a,i._hash!==e&&(i._hash=e,i.majorTicks=t.getTickPositions(o),i.minorTicks=t.getTickPositions(2*o)),i},getSlot:function(e,t){var i,n,o,r=this,a=r.options,s=r.getMajorTickPositions(),l=a.reverse,c=a.justified,u=a.vertical?Yo:Wo,d=r.lineBox(),h=d[u+(l?2:1)],p=d[u+(l?1:2)],f=d.clone(),g=ei.max(1,s.length-(c?0:1));return e=ji(e,0),t=ji(t,e),e=P(e,0,g),t=P(t-1,e,g),t=ei.max(e,t),i=0===e?h:s[e]||p,n=c?i:s[t],o=t-e,(o>0||e===t)&&(n=s[t+1]||p),c&&(e===g?i=n:n=i),f[u+1]=l?n:i,f[u+2]=l?i:n,f},pointCategoryIndex:function(e){var t,i,n,o,r=this,a=r.options,s=a.reverse,l=a.vertical,c=l?Yo:Wo,u=r.lineBox(),d=u[c+1],h=u[c+2],p=e[c],f=r.getMajorTickPositions(),g=Nn;if(d>p||p>h)return null;for(n=0;n<f.length;n++)if(t=f[n],i=f[n+1],Bi(i)||(i=s?d:h),s&&(t=i,i=f[n]),a.justified){if(p===i){o=ei.max(0,l?f.length-n-1:n+1);break}ei.abs(p-t)<g&&(g=p-t,o=n)}else if(p>=t&&i>=p){o=n;break}return o},getCategory:function(e){var t=this.pointCategoryIndex(e);return null===t?null:this.options.categories[t]},categoryIndex:function(e){return M(e,this.options.categories)},translateRange:function(e){var t=this,i=t.options,n=t.lineBox(),o=i.vertical?n.height():n.width(),r=i.categories.length,a=o/r,s=zi(e/a,wn);return{min:s,max:r+s}},scaleRange:function(e){var t=this,i=t.options,n=i.categories.length,o=e*n;return{min:-o,max:n+o}},labelsCount:function(){return this.options.categories.length},createAxisLabel:function(e,t){var i=this,n=i.options,o=n.dataItems?n.dataItems[e]:null,r=ji(n.categories[e],"");return new fi(r,e,o,t)},shouldRenderNote:function(){return this.options.categories.length}}),et=fi.extend({formatValue:function(e,t){return ni.toString(e,t.format,t.culture)}}),tt=$.extend({init:function(e){var t,i,n=this;e=e||{},e=li({roundToBaseUnit:!0},e,{categories:v(e.categories),min:v(e.min),max:v(e.max)}),e.categories&&e.categories.length>0?(t=(e.baseUnit||"").toLowerCase(),i=t!==qi&&!Fi(t,Zo),i&&(e.baseUnit=n.defaultBaseUnit(e)),(t===qi||e.baseUnitStep===Gi)&&n.autoBaseUnit(e),n.groupCategories(e)):e.baseUnit=e.baseUnit||mn,$.fn.init.call(n,e)},options:{type:vn,labels:{dateFormats:er},autoBaseUnitSteps:{seconds:[1,2,5,15,30],minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10},shouldRenderNote:function(e){var t=this,i=t.range(),n=t.options.categories||[];return Ri(e,i.min)>=0&&Ri(e,i.max)<=0&&n.length},parseNoteValue:function(e){return v(e)},translateRange:function(e){var t,i,n=this,o=n.options,r=o.baseUnit,a=o.weekStartDay,s=n.lineBox(),l=o.vertical?s.height():s.width(),c=n.range(),u=l/(c.max-c.min),d=zi(e/u,wn);return c.min&&c.max&&(t=k(o.min||c.min,d),i=k(o.max||c.max,d),c={min:y(t,0,r,a),max:y(i,0,r,a)}),c},scaleRange:function(e){var t,i=this,n=ei.abs(e),o=i.range(),r=o.min,a=o.max;if(o.min&&o.max){for(;n--;)o=A(r,a),t=ei.round(.1*o),0>e?(r=k(r,t),a=k(a,-t)):(r=k(r,-t),a=k(a,t));o={min:r,max:a}}return o},defaultBaseUnit:function(e){var t,i,n,o,r,a=e.categories,s=Bi(a)?a.length:0,l=Nn;for(t=0;s>t;t++)i=a[t],i&&o&&(n=A(i,o),n>0&&(l=ei.min(l,n),r=l>=To?Xo:l>=So-3*Io?Wn:l>=Po?Mo:l>=Io?mn:l>=Co?Vn:l>=ko?jn:xo)),o=i;return r||mn},range:function(e){e=e||this.options;var t=e.categories,i=e.baseUnit===qi,n=i?Zo[0]:e.baseUnit,o=e.baseUnitStep||1,a=m(e.min),s=m(e.max),l=r(t),c=m(l.min),u=m(l.max);return e.roundToBaseUnit?{min:y(a||c,0,n,e.weekStartDay),max:y(s||u,o,n,e.weekStartDay)}:{min:v(a||c),max:v(s||u)}},autoBaseUnit:function(e){for(var t,i,n,o=this,r=o.range(li({},e,{baseUnitStep:1})),a=e.baseUnit===qi,s=0,l=a?Zo[s++]:e.baseUnit,c=r.max-r.min,u=c/Vo[l],d=u,h=e.maxDateGroups||o.options.maxDateGroups,p=li({},o.options.autoBaseUnitSteps,e.autoBaseUnitSteps);!i||u>h;)if(t=t||p[l].slice(0),n=t.shift())i=n,u=d/i;else{if(l===Ui(Zo)){i=ei.ceil(d/h);break}if(!a){u>h&&(i=ei.ceil(d/h));break}l=Zo[s++]||Ui(Zo),d=c/Vo[l],t=null}e.baseUnitStep=i,e.baseUnit=l},getMajorTickPositions:function(){var e,t,i,n,o,r,a,s,l,c,u,d,h,p,f,g,x,v=this,m=v.options,y=m.categories,b=[];if(m.roundToBaseUnit||0===y.length)b=$.fn.getMajorTickPositions.call(v);else{for(i=m.vertical,n=m.reverse,o=v.lineBox(),r=i?o.height():o.width(),a=y[0].getTime(),s=v.range(v.options),l=s.max-s.min,c=r/l,u=y.length,d=(i?-1:1)*(n?-1:1),h=1===d?1:2,p=1===d?2:1,f=o[(i?Yo:Wo)+h],g=o[(i?Yo:Wo)+p],x=f,e=0;u>e;e++)t=y[e]-a,x=f+t*c*d,b.push(zi(x,fn));Ui(b)!==g&&b.push(g)}return b},groupCategories:function(e){var t,i,n=this,r=e.categories,a=v(o(r)),s=e.baseUnit,l=e.baseUnitStep||1,c=n.range(e),u=c.max,d=[];for(t=c.min;u>t&&(d.push(t),i=y(t,l,s,e.weekStartDay),!(i>a)||e.max);t=i);e.roundToBaseUnit||V(Ui(d),u)||d.push(u),e.srcCategories=r,e.categories=d},createAxisLabel:function(e,t){var i,n=this.options,o=n.dataItems?n.dataItems[e]:null,r=n.categories[e],a=n.baseUnit,s=!0,l=t.dateFormats[a];return n.justified&&(i=w(r,a,n.weekStartDay),s=V(i,r)),t=li({format:l},t,{visible:s}),new et(r,e,o,t)},categoryIndex:function(e,t){var i,n,o,r=this,a=r.options,s=a.categories,l=s.length-1;return e=v(e),t=t||r.range(),n=a.roundToBaseUnit&&V(t.max,e),!e||e>t.max||e<t.min||n?-1:(o=B(e,s),o!==l||a.justified||a.roundToBaseUnit||(i=y(e,0,a.baseUnit,a.startOfWeek),V(i,e)||o--),o)},getSlot:function(e,t){var i=this;return typeof e===io&&(e=i.categoryIndex(e)),typeof t===io&&(t=i.categoryIndex(t)),$.fn.getSlot.call(i,e,t)}}),it=pi.extend({init:function(e,t,i){var n=this;i=i||{},li(i,{min:v(i.min),max:v(i.max),axisCrossingValue:v(i.axisCrossingValues||i.axisCrossingValue)}),i=n.applyDefaults(v(e),v(t),i),pi.fn.init.call(n,i)},options:{type:vn,labels:{dateFormats:er}},applyDefaults:function(e,i,n){var o=this,r=n.min||e,a=n.max||i,s=n.baseUnit||o.timeUnits(a-r),l=Vo[s],c=w(m(r)-1,s)||v(a),u=_(m(a)+1,s),d=n.majorUnit?n.majorUnit:t,h=d||hi.ceil(hi.autoMajorUnit(c.getTime(),u.getTime()),l)/l,p=C(c,u,s),f=hi.ceil(p,h),g=f-p,x=ei.floor(g/2),b=g-x;
return n.baseUnit||delete n.baseUnit,li({baseUnit:s,min:y(c,-x,s),max:y(u,b,s),minorUnit:h/5},n,{majorUnit:h})},range:function(){var e=this.options;return{min:e.min,max:e.max}},getDivisions:function(e){var t=this.options;return ei.floor(C(t.min,t.max,t.baseUnit)/e+1)},getTickPositions:function(e){var t,i=this,n=i.options,o=n.vertical,r=n.reverse,a=i.lineBox(),s=o?a.height():a.width(),l=C(n.min,n.max,n.baseUnit),c=s/l,u=e*c,d=i.getDivisions(e),h=(o?-1:1)*(r?-1:1),p=1===h?1:2,f=a[(o?Yo:Wo)+p],g=[];for(t=0;d>t;t++)g.push(zi(f,fn)),f+=u*h;return g},getMajorTickPositions:function(){var e=this;return e.getTickPositions(e.options.majorUnit)},getMinorTickPositions:function(){var e=this;return e.getTickPositions(e.options.minorUnit)},getSlot:function(e,t){return _i.fn.getSlot.call(this,v(e),v(t))},getValue:function(e){var t=_i.fn.getValue.call(this,e);return null!==t?v(t):null},labelsCount:function(){return this.getDivisions(this.options.majorUnit)},createAxisLabel:function(e,t){var i=this.options,n=e*i.majorUnit,o=y(i.min,n,i.baseUnit),r=t.dateFormats[i.baseUnit];return t.format=t.format||r,new et(o,e,null,t)},timeUnits:function(e){var t=Vn;return e>=To?t=Xo:e>=So?t=Wn:e>=Po?t=Mo:e>=Io&&(t=mn),t},translateRange:function(e){var t=this,i=t.options,n=i.baseUnit,o=i.weekStartDay,r=t.lineBox(),a=i.vertical?r.height():r.width(),s=t.range(),l=a/(s.max-s.min),c=zi(e/l,wn),u=k(i.min,c),d=k(i.max,c);return{min:y(u,0,n,o),max:y(d,0,n,o)}},scaleRange:function(e){for(var t,i,n=this,o=n.options,r=o.baseUnit,a=o.weekStartDay,s=ei.abs(e),l=o.min,c=o.max;s--;)t=A(l,c),i=ei.round(.1*t),0>e?(l=k(l,i),c=k(c,-i)):(l=k(l,-i),c=k(c,i)),l=y(l,0,r,a),c=y(c,1,r,a);return{min:l,max:c}}}),nt=mi.extend({options:{vertical:!1,gap:0,spacing:0},reflow:function(e){var t,i,n=this,o=n.options,r=o.vertical,a=r?Yo:Wo,s=n.children,l=o.gap,c=o.spacing,u=s.length,d=u+l+c*(u-1),h=(r?e.height():e.width())/d,p=e[a+1]+h*(l/2);for(i=0;u>i;i++)t=(s[i].box||e).clone(),t[a+1]=p,t[a+2]=p+h,s[i].reflow(t),u-1>i&&(p+=h*c),p+=h}}),ot=mi.extend({options:{vertical:!0,isReversed:!1},reflow:function(e){var t,i,n,o,r=this,a=r.options,s=a.vertical,l=s?Wo:Yo,c=s?Yo:Wo,u=e[c+2],d=r.children,h=r.box=new xi,p=d.length;for(t=a.isReversed?s?tn:Ln:s?Do:uo,i=0;p>i;i++)n=d[i],o=n.box.clone(),o.snapTo(e,l),n.options&&(n.options.stackBase=u),0===i?h=r.box=o.clone():o.alignTo(d[i-1].box,t),n.reflow(o),h.wrap(o)}}),rt={click:function(t,i){var n=this;t.trigger(bo,{value:n.value,category:n.category,series:n.series,dataItem:n.dataItem,element:e(i.target)})},hover:function(t,i){var n=this;t.trigger(wo,{value:n.value,category:n.category,series:n.series,dataItem:n.dataItem,element:e(i.target)})}},at=mi.extend({init:function(e,t){var i=this;mi.fn.init.call(i,t),i.value=e,i.options.id=Mi(),i.enableDiscovery()},options:{color:jo,border:{width:1},vertical:!0,overlay:{gradient:Tn},aboveAxis:!0,labels:{visible:!1},animation:{type:Ki},opacity:1,notes:{label:{}}},render:function(){var e,t=this,i=t.value,n=t.options,o=n.labels,r=i;t._rendered||(t._rendered=!0,o.visible&&i&&(o.template?(e=di(o.template),r=e({dataItem:t.dataItem,category:t.category,value:t.value,series:t.series})):o.format&&(r=Ei(o.format,r)),t.append(new K(r,li({vertical:n.vertical,id:Mi()},n.labels)))),t.creteNote())},creteNote:function(){var e,t=this,i=t.options.notes,n=i.label.text;i.visible&&Bi(n)&&null!==n&&(i.label.template?(e=di(i.label.template),n=e({dataItem:t.dataItem,category:t.category,value:t.value,series:t.series})):i.label.format&&(n=Ei(i.label.format,n)),t.note=new wi(li({},i,{label:{text:n}})),t.append(t.note))},reflow:function(e){this.render();var t=this,i=t.options,n=t.children,o=n[0];t.box=e,o&&(o.options.aboveAxis=i.aboveAxis,o.reflow(e)),t.note&&t.note.reflow(e)},getViewElements:function(e){var t=this,i=t.options,n=i.vertical,o=i.border.width>0?{stroke:t.getBorderColor(),strokeWidth:i.border.width,strokeOpacity:i.border.opacity,dashType:i.border.dashType}:{},r=t.box,a=li({id:i.id,fill:i.color,fillOpacity:i.opacity,strokeOpacity:i.opacity,vertical:i.vertical,aboveAxis:i.aboveAxis,stackBase:i.stackBase,animation:i.animation,data:{modelId:i.modelId}},o),s=[];return r.width()>0&&r.height()>0&&(i.overlay&&(a.overlay=li({rotation:n?0:90},i.overlay)),s.push(e.createRect(r,a))),Di(s,mi.fn.getViewElements.call(t,e)),s},highlightOverlay:function(e,t){var i=this,n=i.box;return t=li({data:{modelId:i.options.modelId}},t),t.id=null,e.createRect(n,t)},getBorderColor:function(){var e=this,t=e.options,i=t.color,n=t.border,o=n.color,r=n._brightness||Qi;return Bi(o)||(o=new yi(i).brightness(r).toHex()),o},tooltipAnchor:function(e,t){var i,n,o=this,r=o.options,a=o.box,s=r.vertical,l=r.aboveAxis;return s?(i=a.x2+Bo,n=l?a.y1:a.y2-t):r.isStacked?(i=l?a.x2-e:a.x1,n=a.y1-t-Bo):(i=l?a.x2+Bo:a.x1-e-Bo,n=a.y1),new Ai(i,n)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}}),li(at.fn,rt),st=mi.extend({init:function(e,t){var i=this;mi.fn.init.call(i,t),i.plotArea=e,i.categoryAxis=e.seriesCategoryAxis(t.series[0]),i.valueAxisRanges={},i.points=[],i.categoryPoints=[],i.seriesPoints=[],i.render()},options:{series:[],invertAxes:!1,isStacked:!1},render:function(){var e=this;e.traverseDataPoints(ii(e.addValue,e))},addValue:function(e,t,i,n,o){var r,a=this,s=a.categoryPoints[i],l=a.seriesPoints[o];s||(a.categoryPoints[i]=s=[]),l||(a.seriesPoints[o]=l=[]),a.updateRange(e.valueFields,i,n),r=a.createPoint(e,t,i,n,o),r&&(r.category=t,r.series=n,r.seriesIx=o,r.owner=a,r.dataItem=n.data[i]),a.points.push(r),l.push(r),s.push(r)},evalPointOptions:function(e,t,i,n,o){U(e,{value:t,series:o,dataItem:o.data[n],category:i,index:n},{defaults:o._defaults,excluded:["data","aggregate"]})},updateRange:function(e,t,i){var n=this,o=i.axis,r=e.value,a=n.valueAxisRanges[o];isFinite(r)&&null!==r&&(a=n.valueAxisRanges[o]=a||{min:Nn,max:Mn},a.min=ei.min(a.min,r),a.max=ei.max(a.max,r))},seriesValueAxis:function(e){var t=this.plotArea,i=e.axis,n=i?t.namedValueAxes[i]:t.valueAxis;if(!n)throw Error("Unable to locate value axis with name "+i);return n},reflow:function(e){var t,i,n,o,r=this,a=0,s=r.categorySlots=[],l=r.points,c=r.categoryAxis;r.traverseDataPoints(function(e,u,d,h){t=r.pointValue(e),i=r.seriesValueAxis(h),n=r.categoryAxisCrossingValue(i),o=l[a++],o&&o.plotValue&&(t=o.plotValue);var p=r.categorySlot(c,d,i),f=r.valueSlot(i,t,n),g=r.pointSlot(p,f),x=i.options.reverse?n>t:t>=n;o&&(o.options.aboveAxis=x,r.reflowPoint(o,g)),s[d]||(s[d]=p)}),r.reflowCategories(s),r.box=e},categoryAxisCrossingValue:function(e){var t=this.categoryAxis,i=e.options,n=[].concat(i.axisCrossingValues||i.axisCrossingValue);return n[t.axisIndex||0]||0},reflowPoint:function(e,t){e.reflow(t)},reflowCategories:function(){},pointSlot:function(e,t){var i=this,n=i.options,o=n.invertAxes,r=o?t:e,a=o?e:t;return new xi(r.x1,a.y1,r.x2,a.y2)},valueSlot:function(e,t,i){return e.getSlot(t,i)},categorySlot:function(e,t){return e.getSlot(t)},_traverseDataPoints:function(e){var t,i,n,o,r,a,s,l,c,u,d,h=this,p=h.options,f=p.series,g=h.plotArea,x=f.length;for(i=0;x>i;i++)for(r=f[i],a=g.seriesCategoryAxis(r),s=a.options.categories||[],l=r.data,c=l.length,u=0;c>u;u++)n=J.current.bindPoint(r,u),d=n.fields.category,t=d?M(d,s):u,o=s[t],e(n,o,t,r,i)},traverseDataPoints:function(e){var t,i,n,o,r,a=this,s=a.options,l=s.series,c=a.categoryAxis.options.categories||[],u=p(l),d=l.length;for(t=0;u>t;t++)for(i=0;d>i;i++)r=l[i],o=c[t],n=J.current.bindPoint(r,t),e(n,o,t,r,i)},formatPointValue:function(e,t){return Ei(t,e.value)},pointValue:function(e){return e.valueFields.value}}),lt=st.extend({init:function(e,t){var i=this;i._groupTotals={},i._groups=[],st.fn.init.call(i,e,t)},render:function(){var e=this;st.fn.render.apply(e),e.computeAxisRanges()},pointType:function(){return at},clusterType:function(){return nt},stackType:function(){return ot},createPoint:function(e,i,n,o){var r,a,s,l,c,u,d=this,h=e.valueFields.value,p=d.options,f=d.children,g=d.options.isStacked,x=li({},o.labels),v=d.pointType(),m=d.clusterType(),y=d.stackType();return g&&x.position==oo&&(x.position=Bn),a=li({vertical:!p.invertAxes,overlay:o.overlay,labels:x,isStacked:g},o,{color:e.fields.color||t,notes:{label:{text:e.fields.noteText}}}),0>h&&a.negativeColor&&(a.color=a.negativeColor),d.evalPointOptions(a,h,i,n,o),r=new v(h,a),s=f[n],s||(s=new m({vertical:p.invertAxes,gap:p.gap,spacing:p.spacing}),d.append(s)),g?(u=d.getStackWrap(o,s),0===u.children.length?(l=new y({vertical:!p.invertAxes}),c=new y({vertical:!p.invertAxes,isReversed:!0}),u.append(l,c)):(l=u.children[0],c=u.children[1]),h>0?l.append(r):c.append(r)):s.append(r),r},getStackWrap:function(e,t){var i,n,o=t.children,r=e.stack,a=o.length;if(typeof r===_o){for(n=0;a>n;n++)if(o[n]._stackGroup===r){i=o[n];break}}else i=o[0];return i||(i=new mi,i._stackGroup=r,t.append(i)),i},updateRange:function(e,t,i){var n,o=this,r=e.value,a=o.options.isStacked;Bi(r)&&(a?(n=o.groupTotals(i.stack),h(r>0?n.positive:n.negative,t,r)):st.fn.updateRange.apply(o,arguments))},computeAxisRanges:function(){var e,t,i=this,r=i.options.isStacked;r&&(e=i.options.series[0].axis,t=i.categoryTotals(),i.valueAxisRanges[e]={min:n(t.negative.concat(0)),max:o(t.positive.concat(0))})},seriesValueAxis:function(e){var t=this,i=t.options;return st.fn.seriesValueAxis.call(t,i.isStacked?t.options.series[0]:e)},valueSlot:function(e,t,i){return e.getSlot(t,this.options.isStacked?0:i)},categorySlot:function(e,t,i){var n,o,r=this,a=r.options,s=e.getSlot(t);return a.isStacked&&(o=i.getSlot(0,0),n=a.invertAxes?Wo:Yo,s[n+1]=s[n+2]=o[n+1]),s},reflow:function(e){var t=this;t.setStacksDirection(),st.fn.reflow.call(t,e)},setStacksDirection:function(){var e,t,i,n,o,r,a,s,l,c=this,u=c.options,d=u.series,h=p(d),f=c.children,g=d.length;for(t=0;g>t;t++)for(i=d[t],n=c.seriesValueAxis(i),e=0;h>e;e++)o=f[e],r=c.getStackWrap(i,o),a=r.children,s=a[0],l=a[1],s&&l&&(s.options.isReversed=n.options.reverse,l.options.isReversed=!n.options.reverse)},reflowCategories:function(e){var t,i=this,n=i.children,o=n.length;for(t=0;o>t;t++)n[t].reflow(e[t])},groupTotals:function(e){var t,i,n=this;return t=typeof e===_o?e:n._groups[0]||"default",i=n._groupTotals[t],i||(i=n._groupTotals[t]={positive:[],negative:[]},n._groups.push(t)),i},categoryTotals:function(){var e,t,i,n=this,o=n._groups,r=n._groupTotals,a={positive:[],negative:[]},s=o.length;for(i=0;s>i;i++)e=o[i],t=r[e],Di(a.positive,t.positive),Di(a.negative,t.negative);return a}}),ct=st.extend({init:function(e,t){var i=this;i.wrapData(t),st.fn.init.call(i,e,t)},wrapData:function(e){var t,i,n,o=e.series;for(t=0;t<o.length;t++)n=o[t],i=n.data,i&&!Zt(i[0])&&typeof i[0]!=io&&(n.data=[i])},reflowCategories:function(e){var t,i=this,n=i.children,o=n.length;for(t=0;o>t;t++)n[t].reflow(e[t])},createPoint:function(e,t,i,n){var o,r,a,s=this,l=e.valueFields,c=s.options,u=s.children;return r=li({},{vertical:!c.invertAxes,overlay:n.overlay,categoryIx:i,invertAxes:c.invertAxes},n,{notes:{label:{text:e.fields.noteText}}}),s.evalPointOptions(r,l,t,i,n),o=new ut(l,r),a=u[i],a||(a=new nt({vertical:c.invertAxes,gap:c.gap,spacing:c.spacing}),s.append(a)),a.append(o),o},updateRange:function(e,t,i){var n=this,o=i.axis,r=e.current,a=e.target,s=n.valueAxisRanges[o];Bi(r)&&!isNaN(r)&&Bi(a&&!isNaN(a))&&(s=n.valueAxisRanges[o]=s||{min:Nn,max:Mn},s.min=ei.min.apply(ei,[s.min,r,a]),s.max=ei.max.apply(ei,[s.max,r,a]))},formatPointValue:function(e,t){return Ei(t,e.value.current,e.value.target)},pointValue:function(e){return e.valueFields.current}}),ut=mi.extend({init:function(e,t){var i=this;mi.fn.init.call(i,t),i.value=e,i.options.id=Mi(),i.enableDiscovery(),i.render()},options:{color:jo,border:{width:1},vertical:!1,animation:{type:Ki},opacity:1,target:{shape:"",border:{width:0,color:"green"},line:{width:2}},tooltip:{format:"Current: {0}</br>Target: {1}"}},render:function(){var e=this,t=e.options;Bi(e.value.target)&&(e.target=new dt({id:e.options.id,type:t.target.shape,background:t.target.color||t.color,opacity:t.opacity,zIndex:t.zIndex,border:t.target.border,vAlign:Do,align:uo}),e.append(e.target)),e.creteNote()},creteNote:function(){var e,t=this,i=t.options.notes,n=i.label.text;i.visible&&Bi(n)&&null!==n&&(i.label.template?(e=di(i.label.template),n=e({dataItem:t.dataItem,category:t.category,value:t.value,series:t.series})):i.label.format&&(n=Ei(i.label.format,n)),t.note=new wi(li({},i,{label:{text:n}})),t.append(t.note))},reflow:function(e){var t=this,i=t.options,n=t.owner,o=t.target,r=i.invertAxes,a=n.seriesValueAxis(t.options),s=n.categorySlot(n.categoryAxis,i.categoryIx,a),l=n.valueSlot(a,t.value.target,t.value.target),c=r?l:s,u=r?s:l,d=new xi(c.x1,u.y1,c.x2,u.y2);o&&(o.options.height=r?d.height():i.target.line.width,o.options.width=r?i.target.line.width:d.width(),o.reflow(d)),t.note&&t.note.reflow(e),t.box=e},getViewElements:function(e){var t=this,i=t.options,n=i.vertical,o=i.border.width>0?{stroke:i.border.color||i.color,strokeWidth:i.border.width,dashType:i.border.dashType}:{},r=t.box,a=li({id:i.id,fill:i.color,fillOpacity:i.opacity,strokeOpacity:i.opacity,vertical:i.vertical,aboveAxis:i.aboveAxis,animation:i.animation,data:{modelId:i.modelId}},o),s=[];return r.width()>0&&r.height()>0&&(i.overlay&&(a.overlay=li({rotation:n?0:90},i.overlay)),s.push(e.createRect(r,a))),Di(s,mi.fn.getViewElements.call(t,e)),s},tooltipAnchor:function(e,t){var i,n,o=this,r=o.options,a=o.box,s=r.vertical,l=r.aboveAxis;return s?(i=a.x2+Bo,n=l?a.y1:a.y2-t):r.isStacked?(i=l?a.x2-e:a.x1,n=a.y1-t-Bo):(i=l?a.x2+Bo:a.x1-e-Bo,n=a.y1),new Ai(i,n)},highlightOverlay:function(e,t){var i=this,n=i.box;return t=li({data:{modelId:i.options.modelId}},t),t.id=null,e.createRect(n,t)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}}),li(ut.fn,rt),dt=Ii.extend(),li(dt.fn,rt),ht=mi.extend({init:function(e,t){var i,n=this;n.value=e,mi.fn.init.call(n,t),t=n.options,t.id=Mi(),i=t.markers.border,Bi(i.color)||(i.color=t.color),n.enableDiscovery()},options:{aboveAxis:!0,vertical:!0,markers:{visible:!0,background:jo,size:Un,type:cn,border:{width:2},opacity:1},labels:{visible:!1,position:Yi,margin:Oi(3),padding:Oi(4),animation:{type:Sn,delay:Dn}},notes:{label:{}},highlight:{markers:{border:{}}}},render:function(){var e,t=this,i=t.options,n=i.markers,o=i.labels,r=n.background,a=li({},n.border),s=t.value;t._rendered||(t._rendered=!0,Bi(a.color)||(a.color=new yi(r).brightness(Qi).toHex()),t.marker=new Ii({id:t.options.id,visible:n.visible&&n.size,type:n.type,width:n.size,height:n.size,rotation:n.rotation,background:r,border:a,opacity:n.opacity,zIndex:n.zIndex,animation:n.animation}),t.append(t.marker),o.visible&&(o.template?(e=di(o.template),s=e({dataItem:t.dataItem,category:t.category,value:t.value,series:t.series})):o.format&&(s=t.formatValue(o.format)),t.label=new Si(s,li({id:Mi(),align:sn,vAlign:sn,margin:{left:5,right:5}},o)),t.append(t.label)),t.creteNote())},creteNote:function(){var e,t=this,i=t.options.notes,n=i.label.text;i.visible&&Bi(n)&&null!==n&&(i.label.template?(e=di(i.label.template),n=e({dataItem:t.dataItem,category:t.category,value:t.value,series:t.series})):i.label.format&&(n=Ei(i.label.format,n)),t.note=new wi(li({},i,{label:{text:n}})),t.append(t.note))},markerBox:function(){return this.marker.box},reflow:function(e){var t,i,n,o=this,r=o.options,a=r.vertical,s=r.aboveAxis;o.render(),o.box=e,t=e.clone(),a?s?t.y1-=t.height():t.y2+=t.height():s?t.x1+=t.width():t.x2-=t.width(),o.marker.reflow(t),o.reflowLabel(t),o.note&&(o.marker.options.visible?i=o.marker.box:(n=o.marker.box.center(),i=xi(n.x,n.y,n.x,n.y)),o.note.reflow(i))},reflowLabel:function(e){var t=this,i=t.options,n=t.marker,o=t.label,r=i.labels.position;o&&(r=r===Yi?Do:r,r=r===Zi?tn:r,o.reflow(e),o.box.alignTo(n.box,r),o.reflow(o.box))},highlightOverlay:function(e,t){var i=this,n=i.options.highlight,o=n.markers,r=i.marker,a=r.options.border.color;return t=li({data:{modelId:i.options.modelId}},t,{fill:o.color||a,stroke:o.border.color,strokeWidth:o.border.width,strokeOpacity:o.border.opacity||0,fillOpacity:o.opacity||1,visible:o.visible,id:null}),r.getViewElements(e,t)[0]},tooltipAnchor:function(e,t){var i=this,n=i.marker.box,o=i.options.aboveAxis;return Ai(n.x2+Bo,o?n.y1-t:n.y2)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}}),li(ht.fn,rt),pt=ht.extend({init:function(e,t){var i=this;ht.fn.init.call(i,e,t),i.category=e.category},options:{labels:{position:sn},highlight:{opacity:1,border:{width:1,opacity:1}}},highlightOverlay:function(e){var t=this,i=t.options,n=i.highlight,o=n.border.width,r=i.markers,a=t.box.center(),s=r.size/2-o/2,l=n.border.color||new yi(r.background).brightness(Qi).toHex();return e.createCircle(a,s,{id:null,data:{modelId:t.options.modelId},stroke:l,strokeWidth:o,strokeOpacity:n.border.opacity})},toggleHighlight:function(e){var i,n=this,o=n.options.highlight.opacity;n.highlighted=!n.highlighted,i=n.marker.getViewElements(e,{fillOpacity:n.highlighted?o:t})[0],i.refresh(Li(this.options.id))}}),ft=mi.extend({init:function(e,t,i){var n=this;mi.fn.init.call(n),n.linePoints=e,n.series=t,n.seriesIx=i,n.options.id=Mi(),n.enableDiscovery()},options:{closed:!1},points:function(e){var t,i,n=this,o=n.linePoints.concat(e||[]),r=[],a=o.length;for(t=0;a>t;t++)i=o[t].markerBox().center(),r.push(Ai(i.x,i.y));return r},getViewElements:function(e){var t=this,i=t.options,n=t.series,o=n._defaults,r=n.color;return mi.fn.getViewElements.call(t,e),ui(r)&&o&&(r=o.color),[e.createPolyline(t.points(),i.closed,{id:i.id,stroke:r,strokeWidth:n.width,strokeOpacity:n.opacity,fill:"",dashType:n.dashType,data:{modelId:i.modelId},zIndex:-1})]},aliasFor:function(e,t){var i=this,n=i.seriesIx;return i.parent.getNearestPoint(t.x,t.y,n)}}),gt={renderSegments:function(){var e,t,i,n,o,r,a,s=this,l=s.options,c=l.series,u=s.seriesPoints,d=u.length,h=[];for(t=0;d>t;t++){for(e=c[t],i=s.sortPoints(u[t]),a=i.length,n=[],r=0;a>r;r++)o=i[r],o?n.push(o):s.seriesMissingValues(e)!==Rn&&(n.length>1&&h.push(s.createSegment(n,e,t,Ui(h))),n=[]);n.length>1&&h.push(s.createSegment(n,e,t,Ui(h)))}s._segments=h,s.append.apply(s,h)},sortPoints:function(e){return e},seriesMissingValues:function(e){var t=e.missingValues,i=!t&&this.options.isStacked;return i?Go:t||Rn},createSegment:function(e,t,i){return new ft(e,t,i)},getNearestPoint:function(e,t,i){var n,o,r,a,s,l=this,c=l.options.invertAxes,u=c?Yo:Wo,d=c?t:e,h=l.seriesPoints[i],p=Nn,f=h.length;for(s=0;f>s;s++)n=h[s],n&&Bi(n.value)&&null!==n.value&&(o=n.box,r=ei.abs(o.center()[u]-d),p>r&&(a=n,p=r));return a}},xt=st.extend({init:function(e,t){var i=this;i._stackAxisRange={min:Nn,max:Mn},i._categoryTotals=[],i.enableDiscovery(),st.fn.init.call(i,e,t)},render:function(){var e=this;st.fn.render.apply(e),e.computeAxisRanges(),e.renderSegments()},createPoint:function(e,t,i,n){var o,r,a,s=this,l=e.valueFields.value,c=s.options,u=c.isStacked,d=s.categoryPoints[i],h=s.seriesMissingValues(n),p=0,f=e.fields;if(!Bi(l)||null===l){if(h!==Go)return null;l=0}return a=li({vertical:!c.invertAxes},n,{color:f.color,notes:{label:{text:e.fields.noteText}}}),s.evalPointOptions(a,l,t,i,n),r=new ht(l,a),u&&(o=D(d),o&&(p=o.plotValue),r.plotValue=l+p),s.append(r),r},updateRange:function(e,t){var i,n=this,o=n.options.isStacked,a=e.value,s=n._stackAxisRange,l=n._categoryTotals;Bi(a)&&(o?(h(l,t,a),i=r(l),s.min=ei.min(s.min,i.min),s.max=ei.max(s.max,i.max)):st.fn.updateRange.apply(n,arguments))},computeAxisRanges:function(){var e,t=this,i=t.options.isStacked;i&&(e=t.options.series[0].axis,t.valueAxisRanges[e]=t._stackAxisRange)},getViewElements:function(e){var t=this,i=st.fn.getViewElements.call(t,e),n=e.createGroup({animation:{type:dn}});return n.children=i,[n]}}),li(xt.fn,gt),vt=ft.extend({init:function(e,t,i,n){var o=this;o.stackPoints=t,ft.fn.init.call(o,e,i,n)},points:function(){var e,t,i=this,n=i.parent,o=n.plotArea,r=n.options.invertAxes,a=n.seriesValueAxis(i.series),s=a.lineBox(),l=o.seriesCategoryAxis(i.series),c=l.lineBox(),u=r?c.x1:c.y1,d=i.stackPoints,h=ft.fn.points.call(i,d),p=r?Wo:Yo;return u=P(u,s[p+1],s[p+2]),!i.stackPoints&&h.length>1&&(e=h[0],t=Ui(h),r?(h.unshift(Ai(u,e.y)),h.push(Ai(u,t.y))):(h.unshift(Ai(e.x,u)),h.push(Ai(t.x,u)))),h},getViewElements:function(e){var t,i=this,n=i.series,o=n._defaults,r=n.color,a=ft.fn.points.call(i),s=i.points();return mi.fn.getViewElements.call(i,e),ui(r)&&o&&(r=o.color),t=li({color:r,opacity:n.opacity},n.line),[e.createPolyline(s,!1,{id:i.options.id,fillOpacity:n.opacity,fill:r,stack:n.stack,data:{modelId:i.options.modelId},zIndex:-1}),e.createPolyline(a,!1,{stroke:t.color,strokeWidth:t.width,strokeOpacity:t.opacity,dashType:t.dashType,data:{modelId:i.options.modelId},strokeLineCap:"butt",zIndex:-1,align:!1})]}}),mt=xt.extend({createSegment:function(e,t,i,n){var o,r=this,a=r.options;return a.isStacked&&i>0&&n&&(o=n.linePoints.slice(0).reverse()),new vt(e,o,t,i)},seriesMissingValues:function(e){return e.missingValues||Go}}),yt=mi.extend({init:function(e,t){var i=this;mi.fn.init.call(i,t),i.plotArea=e,i.xAxisRanges={},i.yAxisRanges={},i.points=[],i.seriesPoints=[],i.render()},options:{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"}},render:function(){var e=this;e.traverseDataPoints(ii(e.addValue,e))},addValue:function(e,t){var i,n=this,o=e.x,r=e.y,a=t.seriesIx,s=n.seriesPoints[a];n.updateRange(e,t.series),Bi(o)&&null!==o&&Bi(r)&&null!==r&&(i=n.createPoint(e,t),i&&ti(i,t)),n.points.push(i),s.push(i)},updateRange:function(e,t){var i=this,n=e.x,o=e.y,r=t.xAxis,a=t.yAxis,s=i.xAxisRanges[r],l=i.yAxisRanges[a];Bi(n)&&null!==n&&(s=i.xAxisRanges[r]=s||{min:Nn,max:Mn},typeof n===_o&&(n=v(n)),s.min=ei.min(s.min,n),s.max=ei.max(s.max,n)),Bi(o)&&null!==o&&(l=i.yAxisRanges[a]=l||{min:Nn,max:Mn},typeof o===_o&&(o=v(o)),l.min=ei.min(l.min,o),l.max=ei.max(l.max,o))},evalPointOptions:function(e,t,i){var n=i.series;U(e,{value:t,series:n,dataItem:i.dataItem},{defaults:n._defaults,excluded:["data"]})},createPoint:function(e,t){var i,n,o=this,r=t.series;return n=li({markers:{opacity:r.opacity},tooltip:{format:o.options.tooltip.format},labels:{format:o.options.labels.format}},r,{color:t.color,notes:{label:{text:t.noteText}}}),o.evalPointOptions(n,e,t),i=new ht(e,n),o.append(i),i},seriesAxes:function(e){var t=this.plotArea,i=e.xAxis,n=i?t.namedXAxes[i]:t.axisX,o=e.yAxis,r=o?t.namedYAxes[o]:t.axisY;if(!n)throw Error("Unable to locate X axis with name "+i);if(!r)throw Error("Unable to locate Y axis with name "+o);return{x:n,y:r}},reflow:function(e){var t,i,n=this,o=n.points,r=0;n.traverseDataPoints(function(e,a){t=o[r++],i=n.seriesAxes(a.series);var s=i.x.getSlot(e.x,e.x),l=i.y.getSlot(e.y,e.y),c=n.pointSlot(s,l);t&&t.reflow(c)}),n.box=e},pointSlot:function(e,t){return new xi(e.x1,t.y1,e.x2,t.y2)},getViewElements:function(e){var t=this,i=mi.fn.getViewElements.call(t,e),n=e.createGroup({animation:{type:dn}});return n.children=i,[n]},traverseDataPoints:function(e){var t,i,n,o,r,a,s,l=this,c=l.options,u=c.series,d=l.seriesPoints;for(i=0;i<u.length;i++)for(n=u[i],o=d[i],o||(d[i]=[]),t=0;t<n.data.length;t++)r=J.current.bindPoint(n,t),a=r.valueFields,s=r.fields,e(a,li({pointIx:t,series:n,seriesIx:i,dataItem:n.data[t],owner:l},s))},formatPointValue:function(e,t){var i=e.value;return Ei(t,i.x,i.y)}}),bt=yt.extend({render:function(){var e=this;yt.fn.render.call(e),e.renderSegments()}}),li(bt.fn,gt),wt=yt.extend({options:{tooltip:{format:"{3}"},labels:{format:"{3}"}},addValue:function(e,t){var i,n=this,o=t.series,r=o.negativeValues,a=n.plotArea.options.seriesColors||[],s=!0;i=t.color||o.color||a[t.pointIx%a.length],e.size<0&&(i=r.color||i,s=r.visible),t.color=i,s&&yt.fn.addValue.call(this,e,t)},reflow:function(e){var t=this;t.updateBubblesSize(e),yt.fn.reflow.call(t,e)},createPoint:function(e,t){var i,n,o=this,r=t.series,a=r.data.length,s=t.pointIx*(Dn/a),l={delay:s,duration:Dn-s,type:nn};return n=li({tooltip:{format:o.options.tooltip.format},labels:{format:o.options.labels.format,animation:l}},r,{color:t.color,markers:{type:cn,background:t.color,border:r.border,opacity:r.opacity,animation:l},notes:{label:{text:t.noteText}}}),o.evalPointOptions(n,e,t),i=new pt(e,n),o.append(i),i},updateBubblesSize:function(e){var t,i,n,o,r,a,s,l,c,u,d,h,p,f,g,x,v=this,m=v.options,y=m.series,b=ei.min(e.width(),e.height());for(t=0;t<y.length;t++)for(n=y[t],o=v.seriesPoints[t],r=v.maxSize(o),a=n.minSize||ei.max(.02*b,10),s=n.maxSize||.2*b,l=a/2,c=s/2,u=ei.PI*l*l,d=ei.PI*c*c,h=d-u,p=h/r,i=0;i<o.length;i++)f=o[i],g=ei.abs(f.value.size)*p,x=ei.sqrt((u+g)/ei.PI),li(f.options,{markers:{size:2*x,zIndex:c-x},labels:{zIndex:c-x+1}})},maxSize:function(e){var t,i,n=e.length,o=0;for(t=0;n>t;t++)i=e[t].value.size,o=ei.max(o,ei.abs(i));return o},getViewElements:function(e){var t=this,i=mi.fn.getViewElements.call(t,e),n=e.createGroup();return n.children=i,[n]},formatPointValue:function(e,t){var i=e.value;return Ei(t,i.x,i.y,i.size,e.category)}}),_t=mi.extend({init:function(e,t){var i=this;mi.fn.init.call(i,t),i.value=e,i.options.id=Mi(),i.enableDiscovery(),i.createNote()},options:{border:{_brightness:.8},line:{width:2},overlay:{gradient:Tn},tooltip:{format:"<table style='text-align: left;'><th colspan='2'>{4:d}</th><tr><td>Open:</td><td>{0:C}</td></tr><tr><td>High:</td><td>{1:C}</td></tr><tr><td>Low:</td><td>{2:C}</td></tr><tr><td>Close:</td><td>{3:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}},notes:{visible:!0,label:{}}},reflow:function(e){var t,i,n,o=this,r=o.options,a=o.owner,s=o.value,l=a.seriesValueAxis(r),c=[];i=l.getSlot(s.open,s.close),n=l.getSlot(s.low,s.high),i.x1=n.x1=e.x1,i.x2=n.x2=e.x2,o.realBody=i,t=n.center().x,c.push([Ai(t,n.y1),Ai(t,i.y1)]),c.push([Ai(t,i.y2),Ai(t,n.y2)]),o.lowHighLinePoints=c,o.box=n.clone().wrap(i),o.reflowNote()},reflowNote:function(){var e=this;e.note&&e.note.reflow(e.box)},createNote:function(){var e,t=this,i=t.options.notes,n=i.label.text;i.visible&&Bi(n)&&null!==n&&(i.label.template?(e=di(i.label.template),n=e({dataItem:t.dataItem,category:t.category,value:t.value,series:t.series})):i.label.format&&(n=Ei(i.label.format,n)),t.note=new wi(li({},i,{label:{text:n}})),t.append(t.note))},getViewElements:function(e){var t=this,i=t.options,n=[],o=i.border.width>0?{stroke:t.getBorderColor(),strokeWidth:i.border.width,dashType:i.border.dashType,strokeOpacity:ji(i.border.opacity,i.opacity)}:{},r=li({fill:i.color,fillOpacity:i.opacity},o),a={strokeOpacity:ji(i.line.opacity,i.opacity),strokeWidth:i.line.width,stroke:i.line.color||i.color,dashType:i.line.dashType,strokeLineCap:"butt"},s=e.createGroup({animation:{type:dn}});return i.overlay&&(r.overlay=li({rotation:0},i.overlay)),n.push(e.createRect(t.realBody,r)),n.push(e.createPolyline(t.lowHighLinePoints[0],!1,a)),n.push(e.createPolyline(t.lowHighLinePoints[1],!1,a)),n.push(t.createOverlayRect(e,i)),Di(n,mi.fn.getViewElements.call(t,e)),s.children=n,[s]},getBorderColor:function(){var e=this,t=e.options,i=t.border,n=i.color;return Bi(n)||(n=new yi(t.color).brightness(i._brightness).toHex()),n},createOverlayRect:function(e,t){return e.createRect(this.box,{data:{modelId:t.modelId},fill:"#fff",fillOpacity:0})},highlightOverlay:function(e,t){var i=this,n=i.options,o=n.highlight,r=o.border,a=i.getBorderColor(),s=o.line,l={data:{modelId:n.modelId}},c=li({},l,t,{stroke:a,strokeOpacity:r.opacity,strokeWidth:r.width}),u=li({},l,{stroke:s.color||a,strokeWidth:s.width,strokeOpacity:s.opacity,strokeLineCap:"butt"}),d=e.createGroup();return d.children.push(e.createRect(i.realBody,c)),d.children.push(e.createPolyline(i.lowHighLinePoints[0],!1,u)),d.children.push(e.createPolyline(i.lowHighLinePoints[1],!1,u)),d},tooltipAnchor:function(){var e=this,t=e.box;return new Ai(t.x2+Bo,t.y1+Bo)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}}),li(_t.fn,rt),At=st.extend({options:{},reflowCategories:function(e){var t,i=this,n=i.children,o=n.length;for(t=0;o>t;t++)n[t].reflow(e[t])},addValue:function(e,t,i,n,o){var r,a,s=this,l=s.options,c=e.valueFields,u=s.children,d=e.fields.color||n.color,h=this.splitValue(c),p=O(h),f=s.categoryPoints[i],g=n.data[i];f||(s.categoryPoints[i]=f=[]),p&&(n.type==rn&&c.open>c.close&&(d=e.fields.downColor||n.downColor||n.color),r=s.createPoint(e,t,i,li({},n,{color:d}))),a=u[i],a||(a=new nt({vertical:l.invertAxes,gap:l.gap,spacing:l.spacing}),s.append(a)),r&&(s.updateRange(c,i,n),a.append(r),r.categoryIx=i,r.category=t,r.series=n,r.seriesIx=o,r.owner=s,r.dataItem=g),s.points.push(r),f.push(r)},pointType:function(){return _t},createPoint:function(e,t,i,n){var o=this,r=e.valueFields,a=li({},n,{notes:{label:{text:e.fields.noteText}}}),s=o.pointType();return o.evalPointOptions(a,r,t,i,n),new s(r,a)},splitValue:function(e){return[e.low,e.open,e.close,e.high]},updateRange:function(e,t,i){var n=this,o=i.axis,r=n.valueAxisRanges[o],a=n.splitValue(e);r=n.valueAxisRanges[o]=r||{min:Nn,max:Mn},r=n.valueAxisRanges[o]={min:ei.min.apply(ei,a.concat([r.min])),max:ei.max.apply(ei,a.concat([r.max]))}},formatPointValue:function(e,t){var i=e.value;return Ei(t,i.open,i.high,i.low,i.close,e.category)}}),kt=_t.extend({reflow:function(e){var t,i,n,o,r=this,a=r.options,s=r.owner,l=r.value,c=s.seriesValueAxis(a),u=[],d=[],h=[];o=c.getSlot(l.low,l.high),i=c.getSlot(l.open,l.open),n=c.getSlot(l.close,l.close),i.x1=n.x1=o.x1=e.x1,i.x2=n.x2=o.x2=e.x2,t=o.center().x,u.push(Ai(i.x1,i.y1)),u.push(Ai(t,i.y1)),d.push(Ai(t,n.y1)),d.push(Ai(n.x2,n.y1)),h.push(Ai(t,o.y1)),h.push(Ai(t,o.y2)),r.oPoints=u,r.cPoints=d,r.lhPoints=h,r.box=o.clone().wrap(i.clone().wrap(n)),r.reflowNote()},getViewElements:function(e){var t=this,i=t.options,n=[],o={strokeOpacity:i.opacity,zIndex:-1,strokeWidth:i.width,stroke:i.color,dashType:i.dashType},r=e.createGroup({animation:{type:dn}});return n.push(t.createOverlayRect(e,i)),n.push(e.createPolyline(t.oPoints,!0,o)),n.push(e.createPolyline(t.cPoints,!0,o)),n.push(e.createPolyline(t.lhPoints,!0,o)),Di(n,mi.fn.getViewElements.call(t,e)),r.children=n,[r]},highlightOverlay:function(e){var t=this,i=t.options,n=i.highlight,o={data:{modelId:i.modelId}},r=li(o,{strokeWidth:n.line.width,strokeOpacity:n.line.opacity,stroke:n.line.color||t.color}),a=e.createGroup();return a.children.push(e.createPolyline(t.oPoints,!0,r)),a.children.push(e.createPolyline(t.cPoints,!0,r)),a.children.push(e.createPolyline(t.lhPoints,!0,r)),a}}),Ct=At.extend({pointType:function(){return kt}}),It=mi.extend({init:function(e,t,i){var n=this;n.value=e,n.sector=t,mi.fn.init.call(n,i),n.options.id=Mi(),n.enableDiscovery()},options:{color:jo,overlay:{gradient:ho},border:{width:.5},labels:{visible:!1,distance:35,font:yn,margin:Oi(.5),align:cn,zIndex:1,position:oo},animation:{type:ao},highlight:{visible:!0,border:{width:1}},visible:!0},render:function(){var e,t=this,i=t.options,n=i.labels,o=t.value;t._rendered||t.visible===!1||(t._rendered=!0,n.template?(e=di(n.template),o=e({dataItem:t.dataItem,category:t.category,value:t.value,series:t.series,percentage:t.percentage})):n.format&&(o=Ei(n.format,o)),n.visible&&o&&(t.label=new Si(o,li({},n,{id:Mi(),align:sn,vAlign:"",animation:{type:Sn,delay:t.animationDelay}})),t.append(t.label)))},reflow:function(e){var t=this;t.render(),t.box=e,t.reflowLabel()},reflowLabel:function(){var e,t,i,n,o=this,r=o.sector.clone(),a=o.options,s=o.label,l=a.labels,c=l.distance,u=r.middle();s&&(n=s.box.height(),i=s.box.width(),l.position==sn?(r.r=ei.abs((r.r-n)/2)+n,e=r.point(u),s.reflow(xi(e.x,e.y-n/2,e.x,e.y))):l.position==Bn?(r.r=r.r-n/2,e=r.point(u),s.reflow(xi(e.x,e.y-n/2,e.x,e.y))):(e=r.clone().expand(c).point(u),e.x>=r.c.x?(t=e.x+i,s.orientation=uo):(t=e.x-i,s.orientation=Ln),s.reflow(xi(t,e.y-n,e.x,e.y))))},getViewElements:function(e){var t=this,i=t.sector,n=t.options,o=n.border||{},r=o.width>0?{stroke:o.color,strokeWidth:o.width,strokeOpacity:o.opacity,dashType:o.dashType}:{},a=[],s=n.overlay;return s&&(s=li({},n.overlay,{r:i.r,ir:i.ir,cx:i.c.x,cy:i.c.y,bbox:i.getBBox()})),t.value&&a.push(t.createSegment(e,i,li({id:n.id,fill:n.color,overlay:s,fillOpacity:n.opacity,strokeOpacity:n.opacity,animation:li(n.animation,{delay:t.animationDelay}),data:{modelId:n.modelId},zIndex:n.zIndex,singleSegment:1===(t.options.data||[]).length},r))),Di(a,mi.fn.getViewElements.call(t,e)),a
},createSegment:function(e,t,i){return i.singleSegment?e.createCircle(t.c,t.r,i):e.createSector(t,i)},highlightOverlay:function(e,t){var i,n=this,o=n.options.highlight||{},r=o.border||{},a=n.options.id+ro;return t=li({},t,{id:a}),0!==n.value&&(i=n.createSegment(e,n.sector,li({},t,{fill:o.color,fillOpacity:o.opacity,strokeOpacity:r.opacity,strokeWidth:r.width,stroke:r.color,id:null,data:{modelId:n.options.modelId}}))),i},tooltipAnchor:function(e,t){var i=this,n=i.sector.adjacentBox(Bo,e,t);return new Ai(n.x1,n.y1)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}}),li(It.fn,rt),Pt=mi.extend({init:function(e,t){var i=this;mi.fn.init.call(i,t),i.plotArea=e,i.points=[],i.legendItems=[],i.render()},options:{startAngle:90,connectors:{width:1,color:"#939393",padding:4},inactiveItems:{markers:{},labels:{}}},render:function(){var e=this;e.traverseDataPoints(ii(e.addValue,e))},traverseDataPoints:function(e){var t,i,n,o,r,a,s,l,c,u,d,h,p=this,f=p.options,g=p.plotArea.options.seriesColors||[],x=g.length,v=f.series,m=v.length,y=Mi(),b=0;for(o=0;m>o;o++){for(t=v[o],a=t.data,u=p.pointsTotal(t),s=360/u,d=Bi(t.startAngle)?t.startAngle:f.startAngle,o!=m-1&&t.labels.position==oo&&(t.labels.position=sn),h=0;h<a.length;h++)i=J.current.bindPoint(t,h),l=i.valueFields.value,n=i.fields,r=zi(l*s,wn),c=1!=a.length&&!!n.explode,ui(t.color)||(t.color=n.color||g[h%x]),e(l,new Ci(null,0,0,d,r),{owner:p,category:n.category||"",index:b,series:t,seriesIx:o,dataItem:a[h],percentage:l/u,explode:c,visibleInLegend:n.visibleInLegend,visible:n.visible,overlay:{id:y+o},zIndex:m-o,animationDelay:p.animationDelay(h,o,m)}),i.fields.visible!==!1&&(d+=r),b++;b=0}},evalSegmentOptions:function(e,t,i){var n=i.series;U(e,{value:t,series:n,dataItem:i.dataItem,category:i.category,percentage:i.percentage},{defaults:n._defaults,excluded:["data"]})},addValue:function(e,t,i){var n,o,r=this;r.createLegendItem(e,i),i.visible!==!1&&(o=li({},i.series,{index:i.index}),r.evalSegmentOptions(o,e,i),n=new It(e,t,o),ti(n,i),r.append(n),r.points.push(n))},createLegendItem:function(e,t){var i,n,o,r,a=this,s=(a.options.legend||{}).labels||{},l=(a.options.legend||{}).inactiveItems||{};t&&t.visibleInLegend!==!1&&(i=t.category||"",(s||{}).template&&(n=di(s.template),i=n({text:i,series:t.series,dataItem:t.dataItem,percentage:t.percentage,value:e})),t.visible===!1?(o=(l.markers||{}).color,r=(l.labels||{}).color):(o=(t.series||{}).color,r=s.color),i&&a.legendItems.push({pointIndex:t.index,text:i,series:t.series,markerColor:o,labelColor:r}))},pointsTotal:function(e){var t,i,n,o=e.data,r=o.length,a=0;for(i=0;r>i;i++)n=J.current.bindPoint(e,i),t=n.valueFields.value,"string"==typeof t&&(t=parseFloat(t)),t&&n.fields.visible!==!1&&(a+=t);return a},reflow:function(e){var t,i,n,o,r,a,s,l,c=this,u=c.options,d=e.clone(),h=5,p=ei.min(d.width(),d.height()),f=p/2,g=p-.85*p,x=ji(u.padding,g),v=xi(d.x1,d.y1,d.x1+p,d.y1+p),m=v.center(),y=c.seriesConfigs||[],b=d.center(),w=c.points,_=w.length,A=u.series.length,k=[],C=[];for(x=x>f-h?f-h:x,v.translate(b.x-m.x,b.y-m.y),a=f-x,l=Ai(a+v.x1+x,a+v.y1+x),s=0;_>s;s++)o=w[s],r=o.sector,r.r=a,r.c=l,i=o.seriesIx,y.length&&(t=y[i],r.ir=t.ir,r.r=t.r),i==A-1&&o.explode&&(r.c=r.clone().radius(.15*r.r).point(r.middle())),o.reflow(v),n=o.label,n&&n.options.position===oo&&i==A-1&&(n.orientation===uo?C.push(n):k.push(n));k.length>0&&(k.sort(c.labelComparator(!0)),c.leftLabelsReflow(k)),C.length>0&&(C.sort(c.labelComparator(!1)),c.rightLabelsReflow(C)),c.box=v},leftLabelsReflow:function(e){var t=this,i=t.distanceBetweenLabels(e);t.distributeLabels(i,e)},rightLabelsReflow:function(e){var t=this,i=t.distanceBetweenLabels(e);t.distributeLabels(i,e)},distanceBetweenLabels:function(e){var t,i,n,o=this,r=o.points,a=r[r.length-1],s=a.sector,l=e[0].box,c=e.length-1,u=s.r+a.options.labels.distance,d=[];for(i=zi(l.y1-(s.c.y-u-l.height()-l.height()/2)),d.push(i),n=0;c>n;n++)l=e[n].box,t=e[n+1].box,i=zi(t.y1-l.y2),d.push(i);return i=zi(s.c.y+u-e[c].box.y2-e[c].box.height()/2),d.push(i),d},distributeLabels:function(e,t){var i,n,o,r,a=this,s=e.length;for(r=0;s>r;r++)for(n=o=r,i=-e[r];i>0&&(n>=0||s>o);)i=a._takeDistance(e,r,--n,i),i=a._takeDistance(e,r,++o,i);a.reflowLabels(e,t)},_takeDistance:function(e,t,i,n){if(e[i]>0){var o=ei.min(e[i],n);n-=o,e[i]-=o,e[t]+=o}return n},reflowLabels:function(e,t){var i,n,o,r,a=this,s=a.points,l=s[s.length-1],c=l.sector,u=t.length,d=l.options.labels,h=d.distance,p=c.c.y-(c.r+h)-t[0].box.height();for(e[0]+=2,r=0;u>r;r++)i=t[r],p+=e[r],o=i.box,n=a.hAlignLabel(o.x2,c.clone().expand(h),p,p+o.height(),i.orientation==uo),i.orientation==uo?(d.align!==cn&&(n=c.r+c.c.x+h),i.reflow(new xi(n+o.width(),p,n,p))):(d.align!==cn&&(n=c.c.x-c.r-h),i.reflow(new xi(n-o.width(),p,n,p))),p+=o.height()},getViewElements:function(e){var t,i,n,o,r,s,l,c,u,d,h,p,f,g,x,v=this,m=v.options,y=m.connectors,b=v.points,w=[],_=b.length,A=4;for(c=0;_>c;c++)r=b[c],i=r.sector,n=i.middle(),l=r.label,s={seriesId:r.seriesIx},l&&(o=[],l.options.position===oo&&0!==r.value&&(p=l.box,f=i.c,g=i.point(n),x=Ai(p.x1,p.center().y),g=i.clone().expand(y.padding).point(n),o.push(g),l.orientation==uo?(d=Ai(p.x1-y.padding,p.center().y),h=a(f,g,x,d),x=Ai(d.x-A,d.y),h=h||x,h.x=ei.min(h.x,x.x),v.pointInCircle(h,i.c,i.r+A)||h.x<i.c.x?(u=i.c.x+i.r+A,r.options.labels.align!==pn?u<x.x?o.push(Ai(u,g.y)):o.push(Ai(g.x+2*A,g.y)):o.push(Ai(u,g.y)),o.push(Ai(x.x,d.y))):(h.y=d.y,o.push(h))):(d=Ai(p.x2+y.padding,p.center().y),h=a(f,g,x,d),x=Ai(d.x+A,d.y),h=h||x,h.x=ei.max(h.x,x.x),v.pointInCircle(h,i.c,i.r+A)||h.x>i.c.x?(u=i.c.x-i.r-A,r.options.labels.align!==pn?u>x.x?o.push(Ai(u,g.y)):o.push(Ai(g.x-2*A,g.y)):o.push(Ai(u,g.y)),o.push(Ai(x.x,d.y))):(h.y=d.y,o.push(h))),o.push(d),t=e.createPolyline(o,!1,{id:Mi(),stroke:y.color,strokeWidth:y.width,animation:{type:Sn,delay:r.animationDelay},data:{modelId:r.options.modelId}}),w.push(t)));return Di(w,mi.fn.getViewElements.call(v,e)),w},labelComparator:function(e){return e=e?-1:1,function(t,i){return t=(t.parent.sector.middle()+270)%360,i=(i.parent.sector.middle()+270)%360,(t-i)*e}},hAlignLabel:function(e,t,i,n,o){var r=t.c.x,a=t.c.y,s=t.r,l=ei.min(ei.abs(a-i),ei.abs(a-n));return l>s?e:r+ei.sqrt(s*s-l*l)*(o?1:-1)},pointInCircle:function(e,t,i){return f(t.x-e.x)+f(t.y-e.y)<f(i)},formatPointValue:function(e,t){return Ei(t,e.value)},animationDelay:function(e){return e*so}}),St=It.extend({options:{overlay:{gradient:po},labels:{position:sn},animation:{type:ao}},reflowLabel:function(){var e,t,i=this,n=i.sector.clone(),o=i.options,r=i.label,a=o.labels,s=n.middle();r&&(t=r.box.height(),a.position==sn?(n.r-=(n.r-n.ir)/2,e=n.point(s),r.reflow(new xi(e.x,e.y-t/2,e.x,e.y))):It.fn.reflowLabel.call(i))},createSegment:function(e,t,i){return e.createRing(t,i)}}),li(St.fn,rt),Tt=Pt.extend({options:{startAngle:90,connectors:{width:1,color:"#939393",padding:4}},addValue:function(e,t,i){var n,o,r=this;r.createLegendItem(e,i),e&&i.visible!==!1&&(o=li({},i.series),r.evalSegmentOptions(o,e,i),n=new St(e,t,o),ti(n,i),r.append(n),r.points.push(n))},reflow:function(e){var t,i,n,o,r,a,s=this,l=s.options,c=e.clone(),u=5,d=ei.min(c.width(),c.height()),h=d/2,p=d-.85*d,f=ji(l.padding,p),g=l.series,x=g.length,v=0,m=0,y=0,b=0;for(s.seriesConfigs=[],f=f>h-u?h-u:f,n=h-f,r=0;x>r;r++)t=g[r],0===r&&Bi(t.holeSize)&&(i=t.holeSize,n-=t.holeSize),Bi(t.size)?n-=t.size:v++,Bi(t.margin)&&r!=x-1&&(n-=t.margin);for(Bi(i)||(b=(h-f)/(x+.75),i=.75*b,n-=i),y=i,r=0;x>r;r++)t=g[r],o=ji(t.size,n/v),y+=m,a=y+o,s.seriesConfigs.push({ir:y,r:a}),m=t.margin||0,y=a;Pt.fn.reflow.call(s,e)},animationDelay:function(e,t,i){return e*kn+Dn*(t+1)/(i+1)}}),Vt=vi.extend({init:function(e){var t=this;vi.fn.init.call(t,e),e=t.options,e.id=Mi(),t.title=Ti.buildTitle(e.title,t,Vt.fn.options.title),t.content=new mi,t.append(t.content),t.axes=[],t.charts=[]},options:{zIndex:-1,shrinkToFit:!0,title:{align:Ln},visible:!0},appendAxis:function(e){var t=this;t.content.append(e),t.axes.push(e),e.pane=t},appendChart:function(e){var t=this;t.charts.push(e),t.content.append(e),e.pane=t},empty:function(){var e,t=this,i=t.parent;if(i){for(e=0;e<t.axes.length;e++)i.removeAxis(t.axes[e]);for(e=0;e<t.charts.length;e++)i.removeChart(t.charts[e])}t.axes=[],t.charts=[],t.content.destroy(),t.content.children=[]},reflow:function(e){var t=this;Ui(t.children)===t.content&&t.children.pop(),vi.fn.reflow.call(t,e),t.title&&(t.contentBox.y1+=t.title.box.height())},getViewElements:function(e){var t=this,i=vi.fn.getViewElements.call(t,e),n=e.createGroup({id:t.options.id}),o=[];return n.children=i.concat(t.renderGridLines(e),t.content.getViewElements(e)),t.view=e,t.options.visible&&(o=[n]),o},renderGridLines:function(e){var t,i,n,o,r,a,s=this,l=s.axes,c=l.concat(s.parent.axes),u=[],d=[];for(i=0;i<l.length;i++)for(o=l[i],r=o.options.vertical,t=r?u:d,n=0;n<c.length;n++)0===t.length&&(a=c[n],r!==a.options.vertical&&Di(t,o.renderGridLines(e,a,o)));return u.concat(d)},refresh:function(){var e=this,t=e.view;t&&t.replace(e)}}),Dt=mi.extend({init:function(e,t){var i=this;mi.fn.init.call(i,t),i.series=e,i.setSeriesIndexes(),i.charts=[],i.options.legend.items=[],i.axes=[],i.crosshairs=[],i.options.id=Mi(),i.enableDiscovery(),i.createPanes(),i.render(),i.createCrosshairs()},options:{series:[],plotArea:{margin:{}},background:"",border:{color:$i,width:0},legend:{}},setSeriesIndexes:function(){var e,t,i=this.series;for(e=0;e<i.length;e++)t=i[e],t.index=e},createPanes:function(){var e,t,i=this,n=[],o=i.options.panes||[],r=ei.max(o.length,1);for(e=0;r>e;e++)t=new Vt(o[e]),t.paneIndex=e,n.push(t),i.append(t);i.panes=n},destroy:function(){var e,t=this,i=t.charts,n=t.axes;for(e=0;e<i.length;e++)i[e].destroy();for(e=0;e<n.length;e++)n[e].destroy();mi.fn.destroy.call(t)},createCrosshairs:function(){var e,t,i,n,o,r=this,a=r.panes;for(e=0;e<a.length;e++)for(i=a[e],t=0;t<i.axes.length;t++)n=i.axes[t],n.options.crosshair&&n.options.crosshair.visible&&(o=new Xt(n,n.options.crosshair),r.crosshairs.push(o),r.append(o))},findPane:function(e){var t,i,n=this,o=n.panes;for(t=0;t<o.length;t++)if(o[t].options.name===e){i=o[t];break}return i||o[0]},findPointPane:function(e){var t,i,n=this,o=n.panes;for(t=0;t<o.length;t++)if(o[t].box.containsPoint(e)){i=o[t];break}return i},appendAxis:function(e){var t=this,i=t.findPane(e.options.pane);i.appendAxis(e),t.axes.push(e),e.plotArea=t},removeAxis:function(e){var t,i,n=this,o=[];for(t=0;t<n.axes.length;t++)i=n.axes[t],e!==i?o.push(i):i.destroy();n.axes=o},appendChart:function(e,t){var i=this;i.charts.push(e),t?t.appendChart(e):i.append(e)},removeChart:function(e){var t,i,n=this,o=[];for(t=0;t<n.charts.length;t++)i=n.charts[t],i!==e?o.push(i):i.destroy();n.charts=o},addToLegend:function(e){var t,i,n,o,r,a,s,l=e.length,c=[],u=this.options.legend,d=u.labels||{},h=u.inactiveItems||{};for(t=0;l>t;t++)i=e[t],i.visibleInLegend!==!1&&(n=i.name||"",d.template&&(n=di(d.template)({text:n,series:i})),o=i.color,s=i._defaults,ui(o)&&s&&(o=s.color),i.visible===!1?(r=h.labels.color,a=h.markers.color):(r=d.color,a=o),n&&c.push({text:n,labelColor:r,markerColor:a,series:i,active:i.visible}));Di(u.items,c)},groupAxes:function(e){var t,i,n,o,r=[],a=[];for(n=0;n<e.length;n++)for(t=e[n].axes,o=0;o<t.length;o++)i=t[o],i.options.vertical?a.push(i):r.push(i);return{x:r,y:a,any:r.concat(a)}},groupSeriesByPane:function(){var e,t,i,n=this,o=n.series,r={};for(e=0;e<o.length;e++)i=o[e],t=n.seriesPaneName(i),r[t]?r[t].push(i):r[t]=[i];return r},filterVisibleSeries:function(e){var t,i,n=[];for(t=0;t<e.length;t++)i=e[t],i.visible!==!1&&n.push(i);return n},reflow:function(e){var t=this,i=t.options.plotArea,n=t.panes,o=Oi(i.margin);t.box=e.clone().unpad(o),t.reflowPanes(),t.reflowAxes(n),t.reflowCharts(n)},redraw:function(e){var t,i=this;for(e=[].concat(e),t=0;t<e.length;t++)e[t].empty();for(i.render(e),i.reflowAxes(i.panes),i.reflowCharts(e),t=0;t<e.length;t++)e[t].refresh()},axisCrossingValues:function(e,t){var i,n=e.options,o=[].concat(n.axisCrossingValues||n.axisCrossingValue),r=t.length-o.length,a=o[0]||0;for(i=0;r>i;i++)o.push(a);return o},alignAxisTo:function(e,t,i,n){var o=e.getSlot(i,i),r=e.options.reverse?2:1,a=t.getSlot(n,n),s=t.options.reverse?2:1,l=e.box.translate(a[Wo+s]-o[Wo+r],a[Yo+s]-o[Yo+r]);e.pane!==t.pane&&l.translate(0,e.pane.box.y1-t.pane.box.y1),e.reflow(l)},alignAxes:function(e,t){var i,n,o,r,a=this,s=e[0],l=t[0],c=a.axisCrossingValues(s,t),u=a.axisCrossingValues(l,e),d={},h={},p={},f={};for(r=0;r<t.length;r++)o=t[r],i=o.pane,n=i.options.id,a.alignAxisTo(o,s,u[r],c[r]),o.options._overlap||(zi(o.lineBox().x1)===zi(s.lineBox().x1)&&(d[n]&&o.reflow(o.box.alignTo(d[n].box,Ln).translate(-o.options.margin,0)),d[n]=o),zi(o.lineBox().x2)===zi(s.lineBox().x2)&&(o._mirrored||(o.options.labels.mirror=!o.options.labels.mirror,o._mirrored=!0),a.alignAxisTo(o,s,u[r],c[r]),h[n]&&o.reflow(o.box.alignTo(h[n].box,uo).translate(o.options.margin,0)),h[n]=o),0!==r&&l.pane===o.pane&&o.alignTo(l));for(r=0;r<e.length;r++)o=e[r],i=o.pane,n=i.options.id,a.alignAxisTo(o,l,c[r],u[r]),o.options._overlap||(zi(o.lineBox().y1)===zi(l.lineBox().y1)&&(o._mirrored||(o.options.labels.mirror=!o.options.labels.mirror,o._mirrored=!0),a.alignAxisTo(o,l,c[r],u[r]),p[n]&&o.reflow(o.box.alignTo(p[n].box,Do).translate(0,-o.options.margin)),p[n]=o),zi(o.lineBox().y2,fn)===zi(l.lineBox().y2,fn)&&(f[n]&&o.reflow(o.box.alignTo(f[n].box,tn).translate(0,o.options.margin)),f[n]=o),0!==r&&o.alignTo(s))},shrinkAxisWidth:function(e){var t,i,n,o=this,r=o.groupAxes(e).any,a=S(r),s=0;for(t=0;t<e.length;t++)i=e[t],i.axes.length>0&&(s=ei.max(s,a.width()-i.contentBox.width()));for(t=0;t<r.length;t++)n=r[t],n.options.vertical||n.reflow(n.box.shrink(s,0))},shrinkAxisHeight:function(e){var t,i,n,o,r,a;for(t=0;t<e.length;t++)for(i=e[t],n=i.axes,o=ei.max(0,S(n).height()-i.contentBox.height()),r=0;r<n.length;r++)a=n[r],a.options.vertical&&a.reflow(a.box.shrink(0,o))},fitAxes:function(e){var t,i,n,o,r,a,s,l,c=this,u=c.groupAxes(e).any,d=0;for(s=0;s<e.length;s++)if(r=e[s],t=r.axes,i=r.contentBox,t.length>0)for(n=S(t),d=ei.max(d,i.x1-n.x1),o=ei.max(i.y1-n.y1,i.y2-n.y2),l=0;l<t.length;l++)a=t[l],a.reflow(a.box.translate(0,o));for(s=0;s<u.length;s++)a=u[s],a.reflow(a.box.translate(d,0))},reflowAxes:function(e){var t,i=this,n=i.groupAxes(e);for(t=0;t<e.length;t++)i.reflowPaneAxes(e[t]);n.x.length>0&&n.y.length>0&&(i.alignAxes(n.x,n.y),i.shrinkAxisWidth(e),i.alignAxes(n.x,n.y),i.shrinkAxisHeight(e),i.alignAxes(n.x,n.y),i.fitAxes(e))},reflowPaneAxes:function(e){var t,i=e.axes,n=i.length;if(n>0)for(t=0;n>t;t++)i[t].reflow(e.contentBox)},reflowCharts:function(e){var t,i,n=this,o=n.charts,r=o.length,a=n.box;for(i=0;r>i;i++)t=o[i].pane,(!t||Fi(t,e))&&o[i].reflow(a)},reflowPanes:function(){var e,t,i,n,o,r=this,a=r.box,s=r.panes,l=s.length,c=a.height(),u=l,d=0,h=a.y1;for(e=0;l>e;e++)t=s[e],n=t.options.height,t.options.width=a.width(),t.options.height?(n.indexOf&&n.indexOf("%")&&(o=parseInt(n,10)/100,t.options.height=o*a.height()),t.reflow(a.clone()),c-=t.options.height):d++;for(e=0;l>e;e++)t=s[e],t.options.height||(t.options.height=c/d);for(e=0;l>e;e++)t=s[e],i=a.clone().move(a.x1,h),t.reflow(i),u--,h+=t.options.height},backgroundBox:function(){var e,t,i,n,o,r,a=this,s=a.axes,l=s.length;for(i=0;l>i;i++)for(o=s[i],n=0;l>n;n++)r=s[n],o.options.vertical!==r.options.vertical&&(e=o.lineBox().clone().wrap(r.lineBox()),t=t?t.wrap(e):e);return t||a.box},getViewElements:function(e){var t=this,i=t.backgroundBox(),n=t.options,o=n.plotArea,r=o.border||{},a=mi.fn.getViewElements.call(t,e);return Di(a,[e.createRect(i,{fill:o.background,fillOpacity:o.opacity,zIndex:-2,strokeWidth:.1}),e.createRect(i,{id:n.id,data:{modelId:n.modelId},stroke:r.width?r.color:"",strokeWidth:r.width,fill:jo,fillOpacity:0,zIndex:-1,dashType:r.dashType})]),a},pointsByCategoryIndex:function(e){var t,i,n,o,r,a=this.charts,s=[];if(null!==e)for(t=0;t<a.length;t++)if(r=a[t],"_navigator"!==r.pane.options.name&&(n=a[t].categoryPoints[e],n&&n.length))for(i=0;i<n.length;i++)o=n[i],o&&Bi(o.value)&&null!==o.value&&s.push(o);return s},pointsBySeriesIndex:function(e){var t,i,n,o,r,a=this.charts,s=[];for(n=0;n<a.length;n++)for(r=a[n],t=r.points,o=0;o<t.length;o++)i=t[o],i&&i.options.index===e&&s.push(i);return s},paneByPoint:function(e){var t,i,n=this,o=n.panes;for(i=0;i<o.length;i++)if(t=o[i],t.box.containsPoint(e))return t}}),Et=Dt.extend({init:function(e,t){var i=this;i.namedCategoryAxes={},i.namedValueAxes={},i.valueAxisRangeTracker=new Bt,e.length>0&&(i.invertAxes=Fi(e[0].type,[Ki,on,No,Uo])),Dt.fn.init.call(i,e,t)},options:{categoryAxis:{categories:[]},valueAxis:{}},render:function(e){var t=this;e=e||t.panes,t.createCategoryAxes(e),t.aggregateCategories(e),t.createCharts(e),t.createValueAxes(e)},removeAxis:function(e){var t=this,i=e.options.name;Dt.fn.removeAxis.call(t,e),e instanceof $?delete t.namedCategoryAxes[i]:(t.valueAxisRangeTracker.reset(i),delete t.namedValueAxes[i]),e===t.categoryAxis&&delete t.categoryAxis,e===t.valueAxis&&delete t.valueAxis},createCharts:function(e){var t,i,n,o,r=this,a=r.groupSeriesByPane();for(t=0;t<e.length;t++)i=e[t],n=a[i.options.name||"default"]||[],r.addToLegend(n),o=r.filterVisibleSeries(n),o&&(r.createAreaChart(N(o,[Xi,Uo]),i),r.createBarChart(N(o,[pn,Ki]),i),r.createLineChart(N(o,[Hn,No]),i),r.createCandlestickChart(N(o,rn),i),r.createOHLCChart(N(o,no),i),r.createBulletChart(N(o,[on,zo]),i))},aggregateCategories:function(e){var t,i,n,o,r,a=this,s=a.srcSeries||a.series,l=[];for(t=0;t<s.length;t++)i=s[t],n=a.seriesCategoryAxis(i),o=a.findPane(n.options.pane),r=T(n.options.type,vn),(r||i.categoryField)&&Fi(o,e)&&(i=a.aggregateSeries(i,n)),l.push(i);a.srcSeries=s,a.series=l},aggregateSeries:function(e,t){var n,o,r,a,s,l=t.options,c=T(t.options.type,vn),u=l.categories,d=l.srcCategories||u,h=e.data,p=[],f=t.range(),v=li({},e),m=li({},e),y=g;for(v.data=a=[],c&&(y=x),n=0;n<h.length;n++)o=e.categoryField?y(e.categoryField,h[n]):d[n],r=t.categoryIndex(o,f),r>-1&&(p[r]=p[r]||[],p[r].push(n));for(s=new Kt(m,J.current,i.current),n=0;n<u.length;n++)a[n]=s.aggregatePoints(p[n],u[n]);return v},appendChart:function(e,t){for(var i=this,n=e.options.series,o=i.seriesCategoryAxis(n[0]),r=o.options.categories,a=ei.max(0,p(n)-r.length);a--;)r.push("");i.valueAxisRangeTracker.update(e.valueAxisRanges),Dt.fn.appendChart.call(i,e,t)},seriesPaneName:function(t){var i=this,n=i.options,o=t.axis,r=[].concat(n.valueAxis),a=e.grep(r,function(e){return e.name===o})[0],s=n.panes||[{}],l=(s[0]||{}).name||"default",c=(a||{}).pane||l;return c},seriesCategoryAxis:function(e){var t=this,i=e.categoryAxis,n=i?t.namedCategoryAxes[i]:t.categoryAxis;if(!n)throw Error("Unable to locate category axis with name "+i);return n},createBarChart:function(e,t){if(0!==e.length){var i=this,n=e[0],o=new lt(i,{series:e,invertAxes:i.invertAxes,isStacked:n.stack&&e.length>1,gap:n.gap,spacing:n.spacing});i.appendChart(o,t)}},createBulletChart:function(e,t){if(0!==e.length){var i=this,n=e[0],o=new ct(i,{series:e,invertAxes:i.invertAxes,gap:n.gap,spacing:n.spacing});i.appendChart(o,t)}},createLineChart:function(e,t){if(0!==e.length){var i=this,n=e[0],o=new xt(i,{invertAxes:i.invertAxes,isStacked:n.stack&&e.length>1,series:e});i.appendChart(o,t)}},createAreaChart:function(e,t){if(0!==e.length){var i=this,n=e[0],o=new mt(i,{invertAxes:i.invertAxes,isStacked:n.stack&&e.length>1,series:e});i.appendChart(o,t)}},createOHLCChart:function(e,t){if(0!==e.length){var i=this,n=e[0],o=new Ct(i,{invertAxes:i.invertAxes,gap:n.gap,series:e,spacing:n.spacing});i.appendChart(o,t)}},createCandlestickChart:function(e,t){if(0!==e.length){var i=this,n=e[0],o=new At(i,{invertAxes:i.invertAxes,gap:n.gap,series:e,spacing:n.spacing});i.appendChart(o,t)}},axisRequiresRounding:function(e,t){var i,n,o=this,r=N(o.series,$o);for(i=0;i<r.length;i++)if(n=r[i].categoryAxis||"",n===e||!n&&0===t)return!0},createCategoryAxes:function(e){var t,i,n,o,r,a,s,l,c=this,u=c.invertAxes,d=[].concat(c.options.categoryAxis),h=[];for(t=0;t<d.length;t++)if(i=d[t],n=c.findPane(i.pane),Fi(n,e)){if(a=i.name,o=i.categories||[],r=i.type||"",i=li({vertical:u,axisCrossingValue:u?Nn:0},i),Bi(i.justified)||(i.justified=c.isJustified()),c.axisRequiresRounding(a,t)&&(i.justified=!1,i.roundToBaseUnit=!0),s=Y(i,o[0])?new tt(i):new $(i),a){if(c.namedCategoryAxes[a])throw Error("Category axis with name "+a+" is already defined");c.namedCategoryAxes[a]=s}s.axisIndex=t,h.push(s),c.appendAxis(s)}l=c.categoryAxis||h[0],c.categoryAxis=l,u?c.axisY=l:c.axisX=l},isJustified:function(){var e,t,i=this,n=i.series;for(e=0;e<n.length;e++)if(t=n[e],!Fi(t.type,[Xi,Uo]))return!1;return!0},createValueAxes:function(e){var t,i,n,o,r,a,s,l=this,c=l.valueAxisRangeTracker,u=c.query(),d=[].concat(l.options.valueAxis),h=l.invertAxes,p={vertical:!h},f=[];for(s=0;s<d.length;s++)if(t=d[s],i=l.findPane(t.pane),Fi(i,e)){if(a=t.name,r=c.query(a)||u||{min:0,max:1},0===s&&r&&u&&(r.min=ei.min(r.min,u.min),r.max=ei.max(r.max,u.max)),n=new _i(r.min,r.max,li({},p,t)),a){if(l.namedValueAxes[a])throw Error("Value axis with name "+a+" is already defined");l.namedValueAxes[a]=n}n.axisIndex=s,f.push(n),l.appendAxis(n)}o=l.valueAxis||f[0],l.valueAxis=o,h?l.axisX=o:l.axisY=o},click:function(t,i){var n,o,r,a=this,s=t._eventCoordinates(i),l=new Ai(s.x,s.y),c=a.pointPane(l),u=[],d=[];if(c){for(n=c.axes,o=0;o<n.length;o++)r=n[o],r.getValue?E(d,r.getValue(l)):E(u,r.getCategory(l));0===u.length&&E(u,a.categoryAxis.getCategory(l)),u.length>0&&d.length>0&&t.trigger(lo,{element:e(i.target),category:I(u),value:I(d)})}},pointPane:function(e){var t,i,n=this,o=n.panes;for(i=0;i<o.length;i++)if(t=o[i],t.contentBox.containsPoint(e))return t}}),Bt=oi.extend({init:function(){var e=this;e.axisRanges={}},update:function(e){var t,i,n,o=this,r=o.axisRanges;for(n in e)t=r[n],i=e[n],r[n]=t=t||{min:Nn,max:Mn},t.min=ei.min(t.min,i.min),t.max=ei.max(t.max,i.max)},reset:function(e){this.axisRanges[e]=t},query:function(e){return this.axisRanges[e]}}),Rt=Dt.extend({init:function(e,t){var i=this;i.namedXAxes={},i.namedYAxes={},i.xAxisRangeTracker=new Bt,i.yAxisRangeTracker=new Bt,Dt.fn.init.call(i,e,t)},options:{xAxis:{},yAxis:{}},render:function(e){var t,i,n,o,r=this,a=r.groupSeriesByPane();for(e=e||r.panes,t=0;t<e.length;t++)i=e[t],n=a[i.options.name||"default"]||[],r.addToLegend(n),o=r.filterVisibleSeries(n),o&&(r.createScatterChart(N(o,fo),i),r.createScatterLineChart(N(o,go),i),r.createBubbleChart(N(o,nn),i));r.createAxes(e)},appendChart:function(e,t){var i=this;i.xAxisRangeTracker.update(e.xAxisRanges),i.yAxisRangeTracker.update(e.yAxisRanges),Dt.fn.appendChart.call(i,e,t)},removeAxis:function(e){var t=this,i=e.options.name;Dt.fn.removeAxis.call(t,e),e.options.vertical?(t.yAxisRangeTracker.reset(i),delete t.namedYAxes[i]):(t.xAxisRangeTracker.reset(i),delete t.namedXAxes[i]),e===t.axisX&&delete t.axisX,e===t.axisY&&delete t.axisY},seriesPaneName:function(t){var i=this,n=i.options,o=t.xAxis,r=[].concat(n.xAxis),a=e.grep(r,function(e){return e.name===o})[0],s=t.yAxis,l=[].concat(n.yAxis),c=e.grep(l,function(e){return e.name===s})[0],u=n.panes||[{}],d=u[0].name||"default",h=(a||{}).pane||(c||{}).pane||d;return h},createScatterChart:function(e,t){var i=this;e.length>0&&i.appendChart(new yt(i,{series:e}),t)},createScatterLineChart:function(e,t){var i=this;e.length>0&&i.appendChart(new bt(i,{series:e}),t)},createBubbleChart:function(e,t){var i=this;e.length>0&&i.appendChart(new wt(i,{series:e}),t)},createXYAxis:function(e,t,i){var n,o,r,a,s,l,c,u=this,d=e.name,h=t?u.namedYAxes:u.namedXAxes,p=t?u.yAxisRangeTracker:u.xAxisRangeTracker,f=p.query(),g=p.query(d)||f||{min:0,max:1},x=li({},e,{vertical:t}),v=u.series,m=[x.min,x.max];for(o=0;o<v.length;o++)if(r=v[o],a=r[t?"yAxis":"xAxis"],a==x.name||0===i&&!a){s=J.current.bindPoint(r,0).valueFields,m.push(s[t?"y":"x"]);break}for(0===i&&f&&(g.min=ei.min(g.min,f.min),g.max=ei.max(g.max,f.max)),c=0;c<m.length;c++)if(m[c]instanceof Date){l=!0;break}if(n=T(x.type,vn)||!x.type&&l?new it(g.min,g.max,x):new _i(g.min,g.max,x),d){if(h[d])throw Error((t?"Y":"X")+" axis with name "+d+" is already defined");h[d]=n}return u.appendAxis(n),n},createAxes:function(e){var t,i=this,n=i.options,o=[].concat(n.xAxis),r=[],a=[].concat(n.yAxis),s=[];Qt(o,function(n){t=i.findPane(this.pane),Fi(t,e)&&r.push(i.createXYAxis(this,!1,n))}),Qt(a,function(n){t=i.findPane(this.pane),Fi(t,e)&&s.push(i.createXYAxis(this,!0,n))}),i.axisX=i.axisX||r[0],i.axisY=i.axisY||s[0]},click:function(t,i){var n,o,r,a,s=this,l=t._eventCoordinates(i),c=new Ai(l.x,l.y),u=s.axes,d=u.length,h=[],p=[];for(n=0;d>n;n++)o=u[n],a=o.options.vertical?p:h,r=o.getValue(c),null!==r&&a.push(r);h.length>0&&p.length>0&&t.trigger(lo,{element:e(i.target),x:I(h),y:I(p)})}}),Lt=Dt.extend({render:function(){var e=this,t=e.series;e.createPieChart(t)},createPieChart:function(e){var t=this,i=e[0],n=new Pt(t,{series:e,padding:i.padding,startAngle:i.startAngle,connectors:i.connectors,legend:t.options.legend});t.appendChart(n)},appendChart:function(e,t){Dt.fn.appendChart.call(this,e,t),Di(this.options.legend.items,e.legendItems)}}),Ot=Lt.extend({render:function(){var e=this,t=e.series;e.createDonutChart(t)},createDonutChart:function(e){var t=this,i=e[0],n=new Tt(t,{series:e,padding:i.padding,connectors:i.connectors,legend:t.options.legend});t.appendChart(n)}}),Ft=bi.extend({options:{easing:"easeOutElastic",duration:Dn},setup:function(){var e,t=this.element,i=t.config;t.options.singleSegment&&(i=t),this.endRadius=i.r,e=this.startRadius=i.ir||0,i.r=e},step:function(e){var t=this,i=t.element,n=t.endRadius,o=i.config,r=t.startRadius;i.options.singleSegment&&(o=i),o.r=Hi(r,n,e)}}),Ht=bi.extend({options:{easing:"easeOutElastic",duration:Dn},setup:function(){var e=this.element;e.endRadius=e.radius,e.radius=0},step:function(e){var t=this.element,i=t.endRadius;t.radius=Hi(0,i,e)}}),Ut=Vi(Ki,gi),zt=Vi(ao,Ft),Nt=Vi(nn,Ht),Mt=oi.extend({init:function(e,t,i){var n=this;n.options=li({},n.options,i),n.view=e,n.viewElement=t,n._overlays=[]},options:{fill:jo,fillOpacity:.2,stroke:jo,strokeWidth:1,strokeOpacity:.2},show:function(e){var t,i,n,o,r,a=this,s=a.view,l=a.viewElement,c=a._overlays;for(a.hide(),a._points=e=[].concat(e),n=0;n<e.length;n++)o=e[n],o&&(r=o.options,(!r||(r.highlight||{}).visible)&&(o.highlightOverlay&&(t=o.highlightOverlay(s,a.options),t&&(i=s.renderElement(t),l.appendChild(i),c.push(i))),o.toggleHighlight&&o.toggleHighlight(s)))},hide:function(){for(var e,t,i,n,o=this,r=o._points,a=o._overlays;a.length;)e=o._overlays.pop(),e.parentNode.removeChild(e);if(r)for(t=0;t<r.length;t++)i=r[t],i&&(n=i.options,(!n||(n.highlight||{}).visible)&&i.toggleHighlight&&i.toggleHighlight(o.view));o._points=[]}}),jt=oi.extend({init:function(t,i){var n=this;n.options=li({},n.options,i),n.chartElement=t,n.chartPadding={top:parseInt(t.css("paddingTop"),10),left:parseInt(t.css("paddingLeft"),10)},n.template=jt.template,n.template||(n.template=jt.template=Ni("<div class='"+gn+"tooltip' "+"style='display:none; position: absolute; font: #= d.font #;"+"border: #= d.border.width #px solid;"+"opacity: #= d.opacity #; filter: alpha(opacity=#= d.opacity * 100 #);'>"+"</div>")),n.element=e(n.template(n.options)).appendTo(t),n._moveProxy=ii(n.move,n)},options:{border:{width:1},opacity:1,animation:{duration:Eo}},move:function(){var e=this,t=e.options,i=e.element,n=e._offset();e.visible||i.css({top:n.top,left:n.left}),i.stop(!0,!0).show().animate({left:n.left,top:n.top},t.animation.duration),e.visible=!0},_offset:function(){var t=this,i=t.element,n=t.anchor,o=t.chartPadding,r=zi(n.y+o.top),a=zi(n.x+o.left),s=ni.support.zoomLevel(),l=e(window),c=window.pageYOffset||document.documentElement.scrollTop||0,u=window.pageXOffset||document.documentElement.scrollLeft||0;return c=t.chartElement.offset().top-c,u=t.chartElement.offset().left-u,r+=t._currentPosition(r+c,i.outerHeight(),l.outerHeight()/s),a+=t._currentPosition(a+u,i.outerWidth(),l.outerWidth()/s),{top:r,left:a}},setStyle:function(e){this.element.css({backgroundColor:e.background,borderColor:e.border.color||e.background,font:e.font,color:e.color,opacity:e.opacity,borderWidth:e.border.width})},show:function(){var e=this;e.showTimeout=setTimeout(e._moveProxy,Ro)},hide:function(){var e=this;clearTimeout(e.showTimeout),e.visible&&(e._hideElement(),e.point=null,e.visible=!1,e.index=null)},_hideElement:function(){this.element.fadeOut()},_pointContent:function(e){var t,i,n=this,o=li({},n.options,e.options.tooltip);return Bi(e.value)&&(t=""+e.value),o.template?(i=di(o.template),t=i({value:e.value,category:e.category,series:e.series,dataItem:e.dataItem,percentage:e.percentage})):o.format&&(t=e.formatValue(o.format)),t},_pointAnchor:function(e){var t=this,i=t.element;return e.tooltipAnchor(i.outerWidth(),i.outerHeight())},_currentPosition:function(e,t,i){var n=0;return e+t>i&&(n=i-(e+t)),0>e&&(n=-e),n},_updateStyle:function(e,t){if(Bi(e.background)||(e.background=t.color),!Bi(e.color)){var i=this,n=i.element,o=new yi(e.background).percBrightness();o>180?n.addClass(gn+Oo):n.removeClass(gn+Oo)}}}),Wt=jt.extend({show:function(e){var t=this,i=li({},t.options,e.options.tooltip);e&&(t.element.html(t._pointContent(e)),t.anchor=t._pointAnchor(e),t._updateStyle(i,e.options),t.setStyle(i),jt.fn.show.call(t,e))}}),Yt=jt.extend({init:function(e,t,i){var n=this;jt.fn.init.call(n,e,i),n.plotArea=t},options:{sharedTemplate:"<table><th colspan='2'>#= categoryText #</th># for(var i = 0; i < points.length; i++) { ## var point = points[i]; #<tr># if(point.series.name) { #<td>#= point.series.name #:</td> # } #<td>#= content(point) #</td></tr># } #</table>",categoryFormat:"{0:d}"},showAt:function(e,t){var i,n=this,o=n.options,r=n.plotArea,a=r.categoryAxis,s=a.pointCategoryIndex(t),l=a.getCategory(t),c=a.getSlot(s);i=n._content(e,l),n.element.html(i),n.anchor=n._slotAnchor(t,c),n._updateStyle(o,e[0].options),n.setStyle(o),jt.fn.show.call(n)},_slotAnchor:function(e,t){var i,n=this,o=n.plotArea,r=o.categoryAxis,a=e.y-n.element.height()/2;return i=r.options.vertical?Ai(e.x,a):Ai(t.center().x,a)},_content:function(e,t){var i,n,o=this;return i=ni.template(o.options.sharedTemplate),n=i({points:e,category:t,categoryText:Ei(o.options.categoryFormat,t),content:o._pointContent})}}),Xt=mi.extend({init:function(e,t){var i=this;mi.fn.init.call(i,t),i.axis=e,i.options.id||(i.options.id=Mi()),i._visible=!1,i.stickyMode=e instanceof $},options:{color:$i,width:1,zIndex:-1,tooltip:{visible:!1}},repaint:function(){var e=this,t=e.element;e.getViewElements(e._view),t=e.element,t.refresh(Li(e.options.id))},showAt:function(e){var t=this;t.updateAxisReference(),t._visible=!0,t.point=e,t.repaint(),t.options.tooltip.visible&&(t.tooltip||(t.tooltip=new Gt(t,li({},t.options.tooltip,{stickyMode:t.stickyMode}))),t.tooltip.showAt(e))},hide:function(){var e=this;e._visible&&(e._visible=!1,e.repaint(),e.tooltip&&e.tooltip.hide())},linePoints:function(){var e,t,i,n=this,o=n.axis,r=o.options.vertical,a=n.getBox(),s=n.point,l=r?Yo:Wo;return t=Ai(a.x1,a.y1),i=r?Ai(a.x2,a.y1):Ai(a.x1,a.y2),s&&(n.stickyMode?(e=o.getSlot(o.pointCategoryIndex(s)),t[l]=i[l]=e.center()[l]):t[l]=i[l]=s[l]),n.box=a,[t,i]},getBox:function(){var e,t,i,n=this,o=n.axis,r=o.pane.axes,a=r.length,s=o.options.vertical,l=o.lineBox().clone(),c=s?Wo:Yo;for(i=0;a>i;i++)t=r[i],t.options.vertical!=s&&(e?e.wrap(t.lineBox()):e=t.lineBox().clone());return l[c+1]=e[c+1],l[c+2]=e[c+2],l},getViewElements:function(e){var t=this,i=t.options,n=[];return t.points=t.linePoints(),t.element=e.createPolyline(t.points,!1,{id:i.id,stroke:i.color,strokeWidth:i.width,strokeOpacity:i.opacity,dashType:i.dashType,zIndex:i.zIndex,visible:t._visible}),n.push(t.element),t._view=e,Di(n,mi.fn.getViewElements.call(t,e)),n},updateAxisReference:function(){var e,t,i=this,n=i.axis,o=n.plotArea,r=o.axes;for(t=0;t<r.length;t++)if(e=r[t],Bi(n.axisIndex)&&n instanceof _i!=e instanceof $&&n.axisIndex===e.axisIndex){i.axis=e;break}}}),Gt=jt.extend({init:function(e,t){var i=this,n=e.axis.getRoot().parent.element;i.crosshair=e,jt.fn.init.call(i,n,li({},i.options,{background:e.axis.plotArea.options.seriesColors[0]},t)),i._updateStyle(i.options,{}),i.setStyle(i.options)
},options:{padding:10},showAt:function(e){var t=this,i=t.element;t.point=e,t.element.html(t.content(e)),t.anchor=t.getAnchor(i.outerWidth(),i.outerHeight()),t.move()},move:function(){var e=this,t=e.element,i=e._offset();t.css({top:i.top,left:i.left}).show()},content:function(e){var t,i,n,o=this,r=o.options,a=o.crosshair.axis,s=a.options;return i=t=a[r.stickyMode?"getCategory":"getValue"](e),r.template?(n=di(r.template),t=n({value:i})):r.format?t=Ei(r.format,i):s.type===vn&&(t=Ei(s.labels.dateFormats[s.baseUnit],i)),t},getAnchor:function(e,t){var i,n,o=this,r=o.options,a=r.position,s=o.crosshair.axis.options.vertical,l=o.crosshair.points,c=l[0],u=l[1],d=e/2,h=t/2,p=r.padding;return s?a===Ln?(i=c.x-e-p,n=c.y-h):(i=u.x+p,n=u.y-h):a===tn?(i=u.x-d,n=u.y+p):(i=c.x-d,n=c.y-t-p),Ai(i,n)},hide:function(){this.element.hide(),this.point=null}}),qt={min:function(e){var t,i,n=Nn,o=e.length;for(t=0;o>t;t++)i=e[t],R(i)&&(n=ei.min(n,i));return n===Nn?e[0]:n},max:function(e){var t,i,n=Mn,o=e.length;for(t=0;o>t;t++)i=e[t],R(i)&&(n=ei.max(n,i));return n===Mn?e[0]:n},sum:function(e){var t,i,n=e.length,o=0;for(t=0;n>t;t++)i=e[t],R(i)&&(o+=i);return o},count:function(e){var t,i,n=e.length,o=0;for(t=0;n>t;t++)i=e[t],null!==i&&Bi(i)&&o++;return o},avg:function(e){var t=e[0],i=L(e);return i>0&&(t=qt.sum(e)/i),t},first:function(e){var t,i,n=e.length;for(t=0;n>t;t++)if(i=e[t],null!==i&&Bi(i))return i;return e[0]}},i.prototype={register:function(e,t){for(var i=0;i<e.length;i++)this._defaults[e[i]]=t},query:function(e){return this._defaults[e]}},i.current=new i,Jt=ri.extend({init:function(t,i,n){var o,r,a=this,s=t.element,l=i.lineBox(),c=a.getValueAxis(i),u=c.lineBox(),d="."+gn;ri.fn.init.call(a),a.options=li({},a.options,n),n=a.options,a.chart=t,a.chartElement=s,a.categoryAxis=i,a._dateAxis=a.categoryAxis instanceof tt,a.valueAxis=c,a._dateAxis&&li(n,{min:v(n.min),max:v(n.max),from:v(n.from),to:v(n.to)}),a.template=Jt.template,a.template||(a.template=Jt.template=Ni("<div class='"+gn+"selector' "+"style='width: #= d.width #px; height: #= d.height #px;"+" top: #= d.offset.top #px; left: #= d.offset.left #px;'>"+"<div class='"+gn+"mask'></div>"+"<div class='"+gn+"mask'></div>"+"<div class='"+gn+"selection'>"+"<div class='"+gn+"selection-bg'></div>"+"<div class='"+gn+"handle "+gn+"leftHandle'><div></div></div>"+"<div class='"+gn+"handle "+gn+"rightHandle'><div></div></div>"+"</div></div>")),r={left:parseInt(s.css("paddingLeft"),10),right:parseInt(s.css("paddingTop"),10)},a.options=li({},{width:l.width(),height:u.height(),padding:r,offset:{left:u.x2+r.left,top:u.y1+r.right},from:n.min,to:n.max},n),a.options.visible&&(a.wrapper=o=e(a.template(a.options)).appendTo(s),a.selection=o.find(d+"selection"),a.leftMask=o.find(d+"mask").first(),a.rightMask=o.find(d+"mask").last(),a.leftHandle=o.find(d+"leftHandle"),a.rightHandle=o.find(d+"rightHandle"),a.options.selection={border:{left:parseFloat(a.selection.css("border-left-width"),10),right:parseFloat(a.selection.css("border-right-width"),10)}},a.leftHandle.css("top",(a.selection.height()-a.leftHandle.height())/2),a.rightHandle.css("top",(a.selection.height()-a.rightHandle.height())/2),a.set(a._index(n.from),a._index(n.to)),a.bind(a.events,a.options),a.wrapper[0].style.cssText=a.wrapper[0].style.cssText,a.wrapper.on(Zn,ii(a._mousewheel,a)),ni.UserEvents?a.userEvents=new ni.UserEvents(a.wrapper,{global:!0,threshold:5,stopPropagation:!0,multiTouch:!0,start:ii(a._start,a),move:ii(a._move,a),end:ii(a._end,a),tap:ii(a._tap,a),gesturestart:ii(a._gesturechange,a),gesturechange:ii(a._gesturechange,a)}):a.leftHandle.add(a.rightHandle).removeClass(gn+"handle"))},events:[vo,mo,yo],options:{visible:!0,mousewheel:{zoom:en},min:Mn,max:Nn},destroy:function(){var e=this,t=e.userEvents;t&&t.destroy()},_rangeEventArgs:function(e){var t=this;return{axis:t.categoryAxis.options,from:t._value(e.from),to:t._value(e.to)}},_start:function(t){var i,n=this,o=n.options,r=e(t.event.target);!n._state&&r&&(n.chart._unsetActivePoint(),n._state={moveTarget:r.parents(".k-handle").add(r).first(),startLocation:t.x?t.x.location:0,range:{from:n._index(o.from),to:n._index(o.to)}},i=n._rangeEventArgs({from:n._index(o.from),to:n._index(o.to)}),n.trigger(vo,i)&&(n.userEvents.cancel(),n._state=null))},_move:function(e){if(this._state){var t=this,i=t._state,n=t.options,o=t.categoryAxis.options.categories,r=t._index(n.from),a=t._index(n.to),s=t._index(n.min),l=t._index(n.max),c=i.startLocation-e.x.location,u=i.range,d={from:u.from,to:u.to},h=u.to-u.from,p=i.moveTarget,f=t.wrapper.width()/(o.length-1),g=ei.round(c/f);p&&(e.preventDefault(),p.is(".k-selection, .k-selection-bg")?(u.from=ei.min(ei.max(s,r-g),l-h),u.to=ei.min(u.from+h,l)):p.is(".k-leftHandle")?(u.from=ei.min(ei.max(s,r-g),l-1),u.to=ei.max(u.from+1,u.to)):p.is(".k-rightHandle")&&(u.to=ei.min(ei.max(s+1,a-g),l),u.from=ei.min(u.to-1,u.from)),(u.from!==d.from||u.to!==d.to)&&(t.move(u.from,u.to),t.trigger(mo,t._rangeEventArgs(u))))}},_end:function(){var e=this,t=e._state.range;delete e._state,e.set(t.from,t.to),e.trigger(yo,e._rangeEventArgs(t))},_gesturechange:function(e){if(this._state){var t=this,i=t.chart,n=t._state,o=t.options,r=t.categoryAxis,a=n.range,s=i._toModelCoordinates(e.touches[0].x.location).x,l=i._toModelCoordinates(e.touches[1].x.location).x,c=ei.min(s,l),u=ei.max(s,l);e.preventDefault(),n.moveTarget=null,a.from=r.pointCategoryIndex(new hi.Point2D(c))||o.min,a.to=r.pointCategoryIndex(new hi.Point2D(u))||o.max,t.move(a.from,a.to)}},_tap:function(e){var t=this,i=t.options,n=t.chart._eventCoordinates(e),o=t.categoryAxis,r=o.pointCategoryIndex(new hi.Point2D(n.x,o.box.y1)),a=t._index(i.from),s=t._index(i.to),l=t._index(i.min),c=t._index(i.max),u=s-a,d=a+u/2,h=ei.round(d-r),p={},f=3===e.event.which;t._state||f||(e.preventDefault(),t.chart._unsetActivePoint(),o.options.justified||h--,p.from=ei.min(ei.max(l,a-h),c-u),p.to=ei.min(p.from+u,c),t._start(e),t._state&&(t._state.range=p,t.trigger(mo,t._rangeEventArgs(p)),t._end()))},_mousewheel:function(e){var t,i=this,n=i.options,o=H(e);i._start({event:{target:i.selection}}),i._state&&(t=i._state.range,e.preventDefault(),e.stopPropagation(),ei.abs(o)>1&&(o*=qo),n.mousewheel.reverse&&(o*=-1),i.expand(o)&&i.trigger(mo,{axis:i.categoryAxis.options,delta:o,originalEvent:e,from:i._value(t.from),to:i._value(t.to)}),i._mwTimeout&&clearTimeout(i._mwTimeout),i._mwTimeout=setTimeout(function(){i._end()},Qn))},_index:function(e){var t=this,i=t.categoryAxis,n=i.options.categories,o=e;return e instanceof Date&&(o=B(e,n),!i.options.justified&&e>Ui(n)&&(o+=1)),o},_value:function(e){var t=this,i=this.categoryAxis,n=i.options.categories,o=e;return t._dateAxis&&(o=e>n.length-1?t.options.max:n[e]),o},_slot:function(e){var t=this,i=this.categoryAxis;return i.getSlot(t._index(e))},move:function(e,t){var i,n,o,r,a=this,s=a.options,l=s.offset,c=s.padding,u=s.selection.border;o=a._slot(e),i=zi(o.x1-l.left+c.left),a.leftMask.width(i),a.selection.css("left",i),o=a._slot(t),n=zi(s.width-(o.x1-l.left+c.left)),a.rightMask.width(n),r=s.width-n,r!=s.width&&(r+=u.right),a.rightMask.css("left",r),a.selection.width(ei.max(s.width-(i+n)-u.right,0))},set:function(e,t){var i=this,n=i.options,o=i._index(n.min),r=i._index(n.max);e=P(i._index(e),o,r),t=P(i._index(t),e+1,r),n.visible&&i.move(e,t),n.from=i._value(e),n.to=i._value(t)},expand:function(e){var i=this,n=i.options,o=i._index(n.min),r=i._index(n.max),a=n.mousewheel.zoom,s=i._index(n.from),l=i._index(n.to),c={from:s,to:l},u=li({},c);return i._state&&(c=i._state.range),a!==uo&&(c.from=P(P(s-e,0,l-1),o,r)),a!==Ln&&(c.to=P(P(l+e,c.from+1,r),o,r)),c.from!==u.from||c.to!==u.to?(i.set(c.from,c.to),!0):t},getValueAxis:function(e){var t,i,n=e.pane.axes,o=n.length;for(t=0;o>t;t++)if(i=n[t],i.options.vertical!==e.options.vertical)return i}}),Kt=function(e,t,i){var n,o,r,a=this,s=t.canonicalFields(e),l=t.valueFields(e),c=t.sourceFields(e,s),u=a._seriesFields=[],d=i.query(e.type),h=e.aggregate||d;for(a._series=e,a._binder=t,n=0;n<s.length;n++){if(r=s[n],typeof h===io)o=h[r];else{if(0!==n&&!Fi(r,l))break;o=h}o&&u.push({canonicalName:r,name:c[n],transform:ui(o)?o:qt[o]})}},Kt.prototype={aggregatePoints:function(e,t){var i,n,o,r,a=this,s=a._bindPoints(e||[]),l=a._series,c=a._seriesFields,u={};for(i=0;i<c.length;i++){if(n=c[i],o=a._bindField(s.values,n.canonicalName),r=n.transform(o,l,s.dataItems,t),null!==r&&typeof r===io){u=r;break}Bi(r)&&(G(n.name,u),ni.setter(n.name)(u,r))}return u},_bindPoints:function(e){var t,i,n=this,o=n._binder,r=n._series,a=[],s=[];for(t=0;t<e.length;t++)i=e[t],a.push(o.bindPoint(r,i)),s.push(r.data[i]);return{values:a,dataItems:s}},_bindField:function(e,t){var i,n,o,r,a=[],s=e.length;for(i=0;s>i;i++)n=e[i],r=n.valueFields,o=Bi(r[t])?r[t]:n.fields[t],a.push(o);return a}},ti(e.easing,{easeOutElastic:function(e,t,i,n){var o=1.70158,r=0,a=n;return 0===e?i:1===e?i+n:(r||(r=.5),a<ei.abs(n)?(a=n,o=r/4):o=r/(2*ei.PI)*ei.asin(n/a),a*ei.pow(2,-10*e)*ei.sin((1*e-o)*1.1*ei.PI/r)+n+i)}}),hi.ui.plugin(tr),q.current.register(Et,[Ki,pn,Hn,No,Xi,Uo,rn,no,on,zo]),q.current.register(Rt,[fo,go,nn]),q.current.register(Lt,[ao]),q.current.register(Ot,[An]),J.current.register([Ki,pn,Hn,No,Xi,Uo],[Ho],[an,hn,to]),i.current.register([Ki,pn,Hn,No,Xi,Uo],{value:"max",color:"first",noteText:"first"}),J.current.register([fo,go,nn],[Wo,Yo],[hn,to]),J.current.register([nn],[Wo,Yo,"size"],[hn,an,to]),J.current.register([rn,no],["open","high","low","close"],[an,hn,"downColor",to]),i.current.register([rn,no],{open:"max",high:"max",low:"min",close:"max",color:"first",downColor:"first",noteText:"first"}),J.current.register([on,zo],["current","target"],[an,hn,"visibleInLegend",to]),i.current.register([on,zo],{current:"max",target:"max",color:"first",noteText:"first"}),J.current.register([ao,An],[Ho],[an,hn,"explode","visibleInLegend","visible"]),li(hi,{EQUALLY_SPACED_SERIES:$o,Aggregates:qt,AreaChart:mt,AreaSegment:vt,AxisGroupRangeTracker:Bt,Bar:at,BarAnimationDecorator:Ut,BarChart:lt,BarLabel:K,BubbleAnimationDecorator:Nt,BubbleChart:wt,BulletChart:ct,CandlestickChart:At,Candlestick:_t,CategoricalChart:st,CategoricalPlotArea:Et,CategoryAxis:$,ClusterLayout:nt,Crosshair:Xt,CrosshairTooltip:Gt,DateCategoryAxis:tt,DateValueAxis:it,DefaultAggregates:i,DonutChart:Tt,DonutPlotArea:Ot,DonutSegment:St,Highlight:Mt,SharedTooltip:Yt,Legend:Z,LineChart:xt,LinePoint:ht,LineSegment:ft,Pane:Vt,PieAnimation:Ft,PieAnimationDecorator:zt,PieChart:Pt,PiePlotArea:Lt,PieSegment:It,PlotAreaBase:Dt,PlotAreaFactory:q,ScatterChart:yt,ScatterLineChart:bt,Selection:Jt,SeriesAggregator:Kt,SeriesBinder:J,ShapeElement:Ii,StackLayout:ot,Tooltip:Wt,OHLCChart:Ct,OHLCPoint:kt,XYPlotArea:Rt,addDuration:y,areNumbers:O,axisGroupBox:S,categoriesCount:p,ceilDate:_,countNumbers:L,duration:C,indexOf:M,isNumber:R,floorDate:w,filterSeriesByType:N,limitValue:P,lteDateIndex:B,evalOptions:U,singleItemOrArray:I,sortDates:j,sparseArrayLimits:r,startOfWeek:b,transpose:X,toDate:v,toTime:m,uniqueDates:W})}(window.kendo.jQuery);;!function(e){function t(e,t){return e.value.x-t.value.x}function n(e,t){return 180-A.abs(A.abs(e-t)-180)}var r,i,o,a,s,l,c,u,h,g,f,p,d,x,m,v,A=Math,y=window.kendo,L=y.deepExtend,C=y.dataviz,w=C.AreaSegment,b=C.Axis,S=C.AxisGroupRangeTracker,j=C.BarChart,k=C.Box2D,B=C.CategoryAxis,P=C.CategoricalChart,G=C.CategoricalPlotArea,I=C.ChartElement,V=C.DonutSegment,T=C.LineChart,R=C.LineSegment,U=C.NumericAxis,O=C.PlotAreaBase,E=C.PlotAreaFactory,D=C.Point2D,z=C.Ring,_=C.ScatterChart,M=C.ScatterLineChart,N=C.SeriesBinder,q=C.append,W=C.getSpacing,X=C.filterSeriesByType,Y=C.limitValue,F=C.round,Q="arc",H="#000",J=C.COORD_PRECISION,K=.15,Z=A.PI/180,$="plotAreaClick",et="polarArea",tt="polarLine",nt="polarScatter",rt="radarArea",it="radarColumn",ot="radarLine",at="x",st="y",lt="zero",ct=[et,tt,nt],ut=[rt,it,ot],ht={renderGridLines:function(e,t){var n,r,i=this,o=i.options,a=A.abs(i.box.center().y-t.lineBox().y1),s=!1,l=[];return o.majorGridLines.visible&&(n=i.majorGridLineAngles(t),s=!0,l=i.gridLineElements(e,n,a,o.majorGridLines)),o.minorGridLines.visible&&(r=i.minorGridLineAngles(t,s),q(l,i.gridLineElements(e,r,a,o.minorGridLines))),l},gridLineElements:function(e,t,n,r){var i,o,a,s=this,l=s.box.center(),c=s.plotArea.options.modelId,u=[];for(a={data:{modelId:c},zIndex:-1,strokeWidth:r.width,stroke:r.color,dashType:r.dashType},i=0;i<t.length;i++)o=D.onCircle(l,t[i],n),u.push(e.createLine(l.x,l.y,o.x,o.y,a));return u},gridLineAngles:function(t,n,r){var i=this,o=i.intervals(n,r);return e.map(o,function(e){var n=i.intervalAngle(e);return t.options.visible&&90===n?undefined:n})}},gt=B.extend({options:{startAngle:90,labels:{margin:W(10)},majorGridLines:{visible:!0},justified:!0},range:function(){return{min:0,max:this.options.categories.length}},reflow:function(e){this.box=e,this.reflowLabels()},lineBox:function(){return this.box},reflowLabels:function(){var e,t,n=this,r=new k,i=n.labels;for(t=0;t<i.length;t++)i[t].reflow(r),e=i[t].box,i[t].reflow(n.getSlot(t).adjacentBox(0,e.width(),e.height()))},intervals:function(e,t){var n,r=this,i=r.options,o=i.categories.length,a=0,s=0,l=o/e||1,c=360/l,u=[];for(t&&(s=360/(o/t)),n=0;l>n;n++)a=F(a,J),0!==a%s&&u.push(a%360),i.reverse?a=360+a-c:a+=c;return u},majorIntervals:function(){return this.intervals(1)},minorIntervals:function(){return this.intervals(.5)},intervalAngle:function(e){return(360+e+this.options.startAngle)%360},majorAngles:function(){return e.map(this.majorIntervals(),e.proxy(this.intervalAngle,this))},renderLine:function(){return[]},majorGridLineAngles:function(e){return this.gridLineAngles(e,1)},minorGridLineAngles:function(e,t){return this.gridLineAngles(e,.5,t?1:0)},renderPlotBands:function(e){var t,n,r,i,o,a,s=this,l=s.options,c=l.plotBands||[],u=[];for(t=0;t<c.length;t++)n=c[t],r=s.plotBandSlot(n),i=s.getSlot(n.from),o=n.from-A.floor(n.from),r.startAngle+=o*i.angle,a=A.ceil(n.to)-n.to,r.angle-=(a+o)*i.angle,u.push(e.createSector(r,{fill:n.color,fillOpacity:n.opacity,strokeOpacity:n.opacity,zIndex:-1}));return u},plotBandSlot:function(e){return this.getSlot(e.from,e.to-1)},getSlot:function(e,t){var n,r,i,o=this,a=o.options,s=a.justified,l=o.box,c=o.majorAngles(),u=c.length,h=360/u;return a.reverse&&!s&&(e=(e+1)%u),e=Y(A.floor(e),0,u-1),r=c[e],s&&(r-=h/2,0>r&&(r+=360)),t=Y(A.ceil(t||e),e,u-1),n=t-e+1,i=h*n,new z(l.center(),0,l.height()/2,r,i)},pointCategoryIndex:function(e){var t,n,r=this,i=null,o=r.options.categories.length;for(t=0;o>t;t++)if(n=r.getSlot(t),n.containsPoint(e)){i=t;break}return i}});L(gt.fn,ht),r=U.extend({options:{majorGridLines:{visible:!0}},renderPlotBands:function(e){var t,n,r,i,o,a=this,s=a.options,l=s.plotBands||[],c=[],u=s.majorGridLines.type,h=a.plotArea.polarAxis,g=h.majorAngles(),f=h.box.center();for(t=0;t<l.length;t++)n=l[t],r={fill:n.color,fillOpacity:n.opacity,strokeOpacity:n.opacity,zIndex:-1},i=a.getSlot(n.from,n.to),o=new z(f,f.y-i.y2,f.y-i.y1,0,360),c.push(u===Q?e.createRing(o,r):e.createPolyline(a.plotBandPoints(o,g),!0,r));return c},plotBandPoints:function(e,t){var n,r=[],i=[];for(n=0;n<t.length;n++)r.push(D.onCircle(e.c,t[n],e.ir)),i.push(D.onCircle(e.c,t[n],e.r));return r.reverse(),r.push(r[0]),i.push(i[0]),i.concat(r)},renderGridLines:function(e,t){var n,r=this,i=r.options,o=r.getTickPositions(i.majorUnit),a=t.majorAngles(),s=0,l=t.box.center(),c=[];return i.majorGridLines.visible&&(s=i.majorUnit,c=r.gridLineElements(e,l,o,a,i.majorGridLines)),i.minorGridLines.visible&&(n=r.getTickPositions(i.minorUnit,s),q(c,r.gridLineElements(e,l,n,a,i.minorGridLines))),c},gridLineElements:function(e,t,n,r,i){var o,a,s,l,c,u=this,h=u.plotArea.options.modelId,g=[];for(o={data:{modelId:h},zIndex:-1,strokeWidth:i.width,stroke:i.color,dashType:i.dashType},l=0;l<n.length;l++)if(s=t.y-n[l],s>0)if(i.type===Q)g.push(e.createCircle(t,s,o));else{for(a=[],c=0;c<r.length;c++)a.push(D.onCircle(t,r[c],s));g.push(e.createPolyline(a,!0,o))}return g},getValue:function(e){var t,r,i,o,a,s,l,c=this,u=c.options,h=c.lineBox(),g=c.plotArea.polarAxis,f=g.majorAngles(),p=g.box.center(),d=e.distanceTo(p),x=d;return u.majorGridLines.type!==Q&&f.length>1&&(t=e.x-p.x,r=e.y-p.y,i=(A.atan2(r,t)/Z+540)%360,f.sort(function(e,t){return n(e,i)-n(t,i)}),o=n(f[0],f[1])/2,a=n(i,f[0]),s=90-o,l=180-a-s,x=d*(A.sin(l*Z)/A.sin(s*Z))),U.fn.getValue.call(c,new D(h.x1,h.y2-x))}}),i=b.extend({init:function(e){var t=this;b.fn.init.call(t,e),e=t.options,e.minorUnit=e.minorUnit||t.options.majorUnit/2},options:{type:"polar",startAngle:0,reverse:!1,majorUnit:60,min:0,max:360,labels:{margin:W(10)},majorGridLines:{color:H,visible:!0},minorGridLines:{color:"#aaa"}},getDivisions:function(e){return U.fn.getDivisions.call(this,e)-1},reflow:function(e){this.box=e,this.reflowLabels()},reflowLabels:function(){var e,t,n=this,r=new k,i=n.majorIntervals(),o=n.labels;for(t=0;t<o.length;t++)o[t].reflow(r),e=o[t].box,o[t].reflow(n.getSlot(i[t]).adjacentBox(0,e.width(),e.height()))},lineBox:function(){return this.box},intervals:function(e,t){var n,r=this,i=r.options,o=r.getDivisions(e),a=i.min,s=[];for(t&&(t/=e),n=0;o>n;n++)0!==n%t&&s.push((360+a)%360),a+=e;return s},majorIntervals:function(){return this.intervals(this.options.majorUnit)},minorIntervals:function(){return this.intervals(this.options.minorUnit)},intervalAngle:function(e){return(360+e-this.options.startAngle)%360},majorAngles:gt.fn.majorAngles,renderLine:function(){return[]},majorGridLineAngles:function(e){return this.gridLineAngles(e,this.options.majorUnit)},minorGridLineAngles:function(e,t){return this.gridLineAngles(e,this.options.minorUnit,t?this.options.majorUnit:0)},renderPlotBands:gt.fn.renderPlotBands,plotBandSlot:function(e){return this.getSlot(e.from,e.to)},getSlot:function(e,t){var n,r=this,i=r.options,o=i.startAngle,a=r.box;return e=Y(e,i.min,i.max),t=Y(t||e,e,i.max),i.reverse&&(e*=-1,t*=-1),e=(540-e-o)%360,t=(540-t-o)%360,e>t&&(n=e,e=t,t=n),new z(a.center(),0,a.height()/2,e,t-e)},getValue:function(e){var t=this,n=t.options,r=t.box.center(),i=e.x-r.x,o=e.y-r.y,a=A.round(A.atan2(o,i)/Z),s=n.startAngle;return n.reverse||(a*=-1,s*=-1),(a+s+360)%360},labelsCount:U.fn.labelsCount,createAxisLabel:U.fn.createAxisLabel}),L(i.fn,ht),o=I.extend({options:{gap:1,spacing:0},reflow:function(e){var t,n,r=this,i=r.options,o=r.children,a=i.gap,s=i.spacing,l=o.length,c=l+a+s*(l-1),u=e.angle/c,h=e.startAngle+u*(a/2);for(n=0;l>n;n++)t=e.clone(),t.startAngle=h,t.angle=u,o[n].sector&&(t.r=o[n].sector.r),o[n].reflow(t),o[n].sector=t,h+=u+u*s}}),a=I.extend({reflow:function(e){var t,n,r,i=this,o=i.options.isReversed,a=i.children,s=a.length,l=o?s-1:0,c=o?-1:1;for(i.box=new k,r=l;r>=0&&s>r;r+=c)t=a[r].sector,t.startAngle=e.startAngle,t.angle=e.angle,r!==l&&(n=a[o?r+1:r-1].sector,t.ir=n.r,t.r+=t.ir)}}),s=V.extend({init:function(e,t){V.fn.init.call(this,e,null,t)},options:{overlay:{gradient:null},labels:{distance:10}}}),l=j.extend({pointType:function(){return s},clusterType:function(){return o},stackType:function(){return a},valueSlot:function(e,t){return e.getSlot(t)},categorySlot:function(e,t){return e.getSlot(t)},pointSlot:function(e,t){var n=e.clone(),r=e.c.y-t.y1;return n.r=r,n},reflow:P.fn.reflow,reflowPoint:function(e,t){e.sector=t,e.reflow()}}),c=T.extend({pointSlot:function(e,t){var n=e.c.y-t.y1,r=D.onCircle(e.c,e.middle(),n);return new k(r.x,r.y,r.x,r.y)},createSegment:function(e,t,n){var r=new R(e,t,n);return e.length===t.data.length&&(r.options.closed=!0),r}}),u=w.extend({points:function(){return R.fn.points.call(this,this.stackPoints)}}),h=c.extend({createSegment:function(e,t,n,r){var i,o=this,a=o.options;return a.isStacked&&n>0&&r&&(i=r.linePoints.slice(0).reverse()),e.push(e[0]),new u(e,i,t,n)},seriesMissingValues:function(e){return e.missingValues||lt}}),g=_.extend({pointSlot:function(e,t){var n=e.c.y-t.y1,r=D.onCircle(e.c,e.startAngle,n);return new k(r.x,r.y,r.x,r.y)}}),f=M.extend({pointSlot:g.fn.pointSlot}),p=w.extend({points:function(){var e=this,t=e.parent,n=t.plotArea,r=n.polarAxis,i=r.box.center(),o=e.stackPoints,a=R.fn.points.call(e,o);return a.unshift(i),a.push(i),a}}),d=f.extend({createSegment:function(e,t,n){return new p(e,[],t,n)},seriesMissingValues:function(e){return e.missingValues||lt},sortPoints:function(e){return e.sort(t)}}),x=O.extend({init:function(e,t){var n=this;n.valueAxisRangeTracker=new S,O.fn.init.call(n,e,t)},render:function(){var e=this;e.addToLegend(e.series),e.createPolarAxis(),e.createCharts(),e.createValueAxis()},createValueAxis:function(){var e,t,n=this,i=n.valueAxisRangeTracker,o=i.query();e=i.query(name)||o||{min:0,max:1},e&&o&&(e.min=A.min(e.min,o.min),e.max=A.max(e.max,o.max)),t=new r(e.min,e.max,n.valueAxisOptions({roundToMajorUnit:!1})),n.valueAxis=t,n.appendAxis(t)},reflowAxes:function(){var e,t=this,n=t.options.plotArea,r=t.valueAxis,i=t.polarAxis,o=t.box,a=A.min(o.width(),o.height())*K,s=W(n.padding||{},a),l=o.clone().unpad(s),c=l.clone().shrink(0,l.height()/2);i.reflow(l),r.reflow(c),e=r.lineBox().height()-r.box.height(),r.reflow(r.box.unpad({top:e})),t.axisBox=l,t.alignAxes(l)},alignAxes:function(){var e=this,t=e.valueAxis,n=t.getSlot(t.options.min),r=t.options.reverse?2:1,i=e.polarAxis.getSlot(0).c,o=t.box.translate(i.x-n[at+r],i.y-n[st+r]);t.reflow(o)},backgroundBox:function(){return this.box}}),m=x.extend({options:{categoryAxis:{categories:[]},valueAxis:{}},createPolarAxis:function(){var e,t=this;e=new gt(t.options.categoryAxis),t.polarAxis=e,t.categoryAxis=e,t.appendAxis(e)},valueAxisOptions:function(e){var t=this;return t._hasBarCharts&&L(e,{majorGridLines:{type:Q},minorGridLines:{type:Q}}),L(e,t.options.valueAxis)},appendChart:G.fn.appendChart,createCharts:function(){var e=this,t=e.series,n=e.panes[0];e.createAreaChart(X(t,[rt]),n),e.createLineChart(X(t,[ot]),n),e.createBarChart(X(t,[it]),n)},createAreaChart:function(e,t){if(0!==e.length){var n=this,r=e[0],i=n.filterVisibleSeries(e),o=new h(n,{isStacked:r.stack&&i.length>1,series:e});n.appendChart(o,t)}},createLineChart:function(e,t){if(0!==e.length){var n=this,r=e[0],i=n.filterVisibleSeries(e),o=new c(n,{isStacked:r.stack&&i.length>1,series:e});n.appendChart(o,t)}},createBarChart:function(e,t){if(0!==e.length){var n=this,r=e[0],i=n.filterVisibleSeries(e),o=new l(n,{isStacked:r.stack&&i.length>1,series:e,gap:r.gap,spacing:r.spacing});n._hasBarCharts=!0,n.appendChart(o,t)}},seriesCategoryAxis:function(){return this.categoryAxis},click:function(t,n){var r,i,o=this,a=t._eventCoordinates(n),s=new D(a.x,a.y);r=o.categoryAxis.getCategory(s),i=o.valueAxis.getValue(s),null!==r&&null!==i&&t.trigger($,{element:e(n.target),category:r,value:i})}}),v=x.extend({options:{xAxis:{},yAxis:{}},createPolarAxis:function(){var e,t=this;e=new i(t.options.xAxis),t.polarAxis=e,t.axisX=e,t.appendAxis(e)},valueAxisOptions:function(e){var t=this;return L(e,{majorGridLines:{type:Q},minorGridLines:{type:Q}},t.options.yAxis)},createValueAxis:function(){var e=this;x.fn.createValueAxis.call(e),e.axisY=e.valueAxis},appendChart:function(e,t){var n=this;n.valueAxisRangeTracker.update(e.yAxisRanges),O.fn.appendChart.call(n,e,t)},createCharts:function(){var e=this,t=e.series,n=e.panes[0];e.createLineChart(X(t,[tt]),n),e.createScatterChart(X(t,[nt]),n),e.createAreaChart(X(t,[et]),n)},createLineChart:function(e,t){if(0!==e.length){var n=this,r=new f(n,{series:e});n.appendChart(r,t)}},createScatterChart:function(e,t){if(0!==e.length){var n=this,r=new g(n,{series:e});n.appendChart(r,t)}},createAreaChart:function(e,t){if(0!==e.length){var n=this,r=new d(n,{series:e});n.appendChart(r,t)}},click:function(t,n){var r,i,o=this,a=t._eventCoordinates(n),s=new D(a.x,a.y);r=o.axisX.getValue(s),i=o.axisY.getValue(s),null!==r&&null!==i&&t.trigger($,{element:e(n.target),x:r,y:i})}}),E.current.register(v,ct),E.current.register(m,ut),N.current.register(ct,[at,st],["color"]),N.current.register(ut,["value"],["color"]),C.DefaultAggregates.current.register(ut,{value:"max",color:"first"}),L(C,{PolarAxis:i,PolarPlotArea:v,RadarBarChart:l,RadarCategoryAxis:gt,RadarClusterLayout:o,RadarNumericAxis:r,RadarPlotArea:m,RadarStackLayout:a})}(window.kendo.jQuery);;!function(){function e(e,n,i){var t=P(e.from)?e.from:O,o=P(e.to)?e.to:I;return e.from=a.max(a.min(o,t),n),e.to=a.min(a.max(o,t),i),e}var n,i,t,o,r,a=Math,s=window.kendo,l=s.ui.Widget,c=s.deepExtend,p=s.dataviz,g=p.Axis,d=p.Box2D,h=p.ChartElement,u=p.NumericAxis,m=p.Pin,f=p.Ring,x=p.RootElement,w=p.RotationAnimation,v=p.BarIndicatorAnimatin,y=p.ArrowAnimation,b=p.append,A=p.animationDecorator,k=p.autoMajorUnit,_=p.getElement,z=p.getSpacing,P=p.defined,R=p.rotatePoint,S=p.Point2D,T=p.round,E=p.uniqueId,B=150,j="arrow",U="arrowPointer",V="barIndicator",D="#000",L=.05,M=p.COORD_PRECISION,I=Number.MAX_VALUE,O=-Number.MAX_VALUE,C=200,N=.5,G=200,W=60,X=60,q=a.PI/180,F="inside",Q="needle",H="outside",J="radialPointer",K=90,Y=h.extend({init:function(e,n){var i=this,t=e.options;h.fn.init.call(i,n),n=i.options,n.id||(n.id=E()),n.fill=n.color,i.scale=e,n.value=P(n.value)?a.min(a.max(n.value,t.min),t.max):t.min},options:{color:D},value:function(e){var n=this,i=n.options,t=i.value,o=n.scale.options;return 0===arguments.length?t:(i._oldValue=i.value,i.value=a.min(a.max(e,o.min),o.max),n.repaint(),undefined)}}),Z=Y.extend({options:{shape:Q,cap:{size:L},arrow:{width:16,height:14},animation:{type:J,speed:B}},reflow:function(){var e=this,n=e.options,i=e.scale,t=i.ring,o=t.c,r=t.r*n.cap.size;e.box=new d(o.x-r,o.y-r,o.x+r,o.y+r)},repaint:function(){var e=this,n=e.scale,i=e.options,t=e.elements[0],o=i.animation,r=n.slotAngle(n.options.min),a=n.slotAngle(i._oldValue)-r,s=t._animation;t.options.rotation[0]=n.slotAngle(i.value)-r,s&&s.abort(),o.transitions===!1?t.refresh(_(i.id)):(s=t._animation=new w(t,c(o,{startAngle:a,reverse:n.options.reverse})),s.setup(),s.play())},_renderNeedle:function(e,n,i,t){var o=this,r=o.options,a=o.scale,s=a.ring.r*r.cap.size;return[e.createPolyline([R((n.x1+n.x2)/2,n.y1+a.options.minorTicks.size,i.x,i.y,t),R(i.x-s/2,i.y,i.x,i.y,t),R(i.x+s/2,i.y,i.x,i.y,t)],!0,r),e.createCircle(i,s,{fill:r.cap.color||r.color})]},_renderArrow:function(e,n,i,t){var o=this,r=o.options,a=o.scale,s=a.ring.clone(),l=5,c=r.arrow,p=c.height;return s.ir=s.r-l,[e.createPin(new m({origin:R((n.x1+n.x2)/2,n.y1+p,i.x,i.y,t),height:c.height,radius:l,rotation:t,arcAngle:180}),r),e.createRing(s,{fill:r.color})]},renderPointer:function(e){var n,i=this,t=i.scale,o=t.ring,r=o.c,a=o.r,s=i.options,l=new d(r.x-a,r.y-a,r.x+a,r.y+a),p=l.center(),g=t.slotAngle(t.options.min),h=K-g;return s.animation!==!1&&c(s.animation,{startAngle:0,center:p,reverse:t.options.reverse}),c(s,{rotation:[t.slotAngle(s.value)-g,p.x,p.y]}),n=s.shape==j?i._renderArrow(e,l,p,h):i._renderNeedle(e,l,p,h)},getViewElements:function(e){var n=this,i=n.renderPointer(e);return n.elements=i,i}}),$=u.extend({init:function(e){var n=this;n.options=c({},n.options,e),n.options.majorUnit=n.options.majorUnit||k(n.options.min,n.options.max),g.fn.init.call(n,n.options),n.options.minorUnit=n.options.minorUnit||n.options.majorUnit/10},options:{min:0,max:100,majorTicks:{size:15,align:F,color:D,width:N,visible:!0},minorTicks:{size:10,align:F,color:D,width:N,visible:!0},startAngle:-30,endAngle:210,labels:{position:F,padding:2}},reflow:function(e){var n=this,i=n.options,t=e.center(),o=a.min(e.height(),e.width())/2,r=n.ring||new p.Ring(t,o-i.majorTicks.size,o,i.startAngle,i.endAngle-i.startAngle);n.ring=r,n.box=r.getBBox(),n.arrangeLabels()},slotAngle:function(e){var n,i=this.options,t=i.startAngle,o=i.reverse,r=i.endAngle-t,a=i.min,s=i.max;return n=o?i.endAngle-(e-a)/(s-a)*r:(e-a)/(s-a)*r+t},renderTicks:function(e){function n(n,o,r,a,s){var l,c,p,g=i.tickAngles(n,o),d=s/o,h=g.length;if(a)for(l=0;h>l;l++)0!==l%d&&(p=n.point(g[l]),c=n.point(g[l],!0),t.push(e.createLine(c.x,c.y,p.x,p.y,{align:!1,stroke:r.color,strokeWidth:r.width})))}var i=this,t=[],o=i.ring,r=o.clone(),a=i.options,s=a.minorTicks.size;return n(o,a.majorUnit,a.majorTicks,a.majorTicks.visible),a.labels.position==F?r.radius(r.r-s,!0):r.radius(r.ir+s),n(r,a.minorUnit,a.minorTicks,a.minorTicks.visible,a.majorUnit),t},arrangeLabels:function(){var e,n,i,t,o,r,s,l,c,p,g=this,h=g.options,u=g.ring.clone(),m=g.tickAngles(u,h.majorUnit),f=g.labels,x=f.length,w=h.labels,v=w.padding,y=.05*u.r,b=h.rangeSize=h.rangeSize||.1*u.r,A=h.ranges||[];for(undefined!==g.options.rangeDistance?y=g.options.rangeDistance:g.options.rangeDistance=y,w.position===F&&A.length&&(u.r-=b+y,u.ir-=b+y),s=0;x>s;s++)o=f[s],e=o.box.width()/2,n=o.box.height()/2,t=m[s],i=t*q,p=w.position===F,r=u.point(t,p),l=r.x+a.cos(i)*(e+v)*(p?1:-1),c=r.y+a.sin(i)*(n+v)*(p?1:-1),o.reflow(new d(l-e,c-n,l+e,c+n)),g.box.wrap(o.box)},tickAngles:function(e,n){var i,t=this,o=t.options,r=o.reverse,a=o.max-o.min,s=e.angle,l=e.startAngle,c=a/n,p=s/c,g=[];for(r&&(l+=s,p=-p),i=0;c>i;i++)g.push(T(l,M)),l+=p;return T(l)<=o.endAngle&&g.push(l),g},renderRanges:function(e){var n,i,t,o,r,a=this,s=[],l=a.rangeSegments(),c=l.length,p=a.options.reverse;if(c)for(o=a.getRadius(),r=0;c>r;r++)t=l[r],n=a.slotAngle(t[p?"to":"from"]),i=a.slotAngle(t[p?"from":"to"]),0!==i-n&&s.push(e.createRing(new f(a.ring.c,o.inner,o.outer,n,i-n),{fill:t.color,fillOpacity:t.opacity,zIndex:-1}));return s},rangeSegments:function(){function n(e,n,i){return{from:e,to:n,color:i}}var i,t,o,r,a,s=this,l=s.options,c=l.ranges||[],p=c.length,g=l.rangePlaceholderColor,d=[],h=l.min,u=l.max;if(p)for(d.push(n(h,u,g)),r=0;p>r;r++)for(i=e(c[r],h,u),t=d.length,a=0;t>a;a++)if(o=d[a],o.from<=i.from&&i.from<=o.to){d.push(n(i.from,i.to,i.color)),o.from<=i.to&&i.to<=o.to&&d.push(n(i.to,o.to,g)),o.to=i.from;break}return d},getRadius:function(){var e,n,i=this,t=i.options,o=t.rangeSize,r=t.rangeDistance,a=i.ring;return t.labels.position===H?(n=a.ir-r,e=n-o):(n=a.r,e=n-o,a.r-=o+r,a.ir-=o+r),{inner:e,outer:n}},getViewElements:function(e){var n=this,i=h.fn.getViewElements.call(n,e);return b(i,n.renderRanges(e)),b(i,n.renderTicks(e)),i}}),en=h.extend({init:function(e){h.fn.init.call(this,e),this.render()},options:{margin:{},background:"",border:{color:D,width:0},minorTicks:{align:F}},reflow:function(e){var n,i=this,t=i.scale,o=i.pointer;t.reflow(e),n=t.box.clone(),o.scale=t,o.reflow(),n.wrap(o.box),i.box=n,i.fitScale(e),i.alignScale(e)},alignScale:function(e){var n=this,i=n.box.center(),t=e.center(),o=i.x-t.x,r=i.y-t.y,a=n.scale,s=n.pointer;a.ring.c.x-=o,a.ring.c.y-=r,a.reflow(e),s.reflow(),n.box=a.box.clone().wrap(s.box)},fitScale:function(e){for(var n,i,t,o,r=this,s=r.scale,l=s.ring,c=r.box,p=a.abs(r.getDiff(c,e)),g=T(p,M),d=T(-p,M),h=0;!(!(100>h)||(h++,g!=o&&(n=r.getPlotBox(g,e,l),n>=0&&2>=n))||d!=o&&(t=r.getPlotBox(d,e,l),t>=0&&2>=t)||(o=n>0&&t>0?2*g:0>n&&0>t?2*d:T((g+d)/2||1,M),i=r.getPlotBox(o,e,l),i>=0&&2>=i));)i>0?(d=o,t=i):(g=o,n=i)},getPlotBox:function(e,n,i){var t=this,o=t.scale,r=t.pointer;return i=i.clone(),i.r+=e,i.ir+=e,o.ring=i,o.reflow(n),r.scale=o,r.reflow(),t.box=o.box.clone().wrap(r.box),t.getDiff(t.box,n)},getDiff:function(e,n){return a.min(n.width()-e.width(),n.height()-e.height())},render:function(){var e,n=this,i=n.options;e=n.scale=new $(i.scale),n.append(n.scale),n.pointer=new Z(e,c({},i.pointer,{animation:{transitions:i.transitions}})),n.append(n.pointer)}}),nn=u.extend({init:function(e){var n=this;n.options=c({},n.options,e),n.options=c({},n.options,{labels:{mirror:n.options.mirror}}),n.options.majorUnit=n.options.majorUnit||k(n.options.min,n.options.max),g.fn.init.call(n,n.options),n.options.minorUnit=n.options.minorUnit||n.options.majorUnit/10},options:{min:0,max:50,majorTicks:{size:15,align:F,color:D,width:N,visible:!0},minorTicks:{size:10,align:F,color:D,width:N,visible:!0},line:{width:N},labels:{position:F,padding:2},mirror:!1,_alignLines:!1},renderRanges:function(n){var i,t,o,r,a,s=this,l=s.options,c=l.min,p=l.max,g=l.ranges||[],h=l.vertical,u=l.labels.mirror,m=[],f=g.length,x=l.rangeSize||l.minorTicks.size/2;if(f)for(r=0;f>r;r++)i=e(g[r],c,p),a=s.getSlot(i.from,i.to),t=h?s.lineBox():a,o=h?a:s.lineBox(),h?t.x1-=x*(u?-1:1):o.y2+=x*(u?-1:1),m.push(n.createRect(new d(t.x1,o.y1,t.x2,o.y2),{fill:i.color,fillOpacity:i.opacity}));return m},getViewElements:function(e){var n=this,i=u.fn.getViewElements.call(n,e);return b(i,n.renderRanges(e)),i}}),tn=Y.extend({init:function(e,n){var i=this;Y.fn.init.call(i,e,n),i.options=c({size:i.pointerSize(),track:{visible:P(n.track)}},i.options)},options:{shape:V,track:{border:{width:1}},color:D,border:{width:1},opacity:1,margin:z(3),animation:{type:V},visible:!0},repaint:function(){var e=this,n=e.scale,i=e.options,t=e.element,o=t._animation;o&&o.abort(),i.animation.transitions===!1?(e.getViewElements(e._view),t.points=e.element.points,t.refresh(_(i.id))):(i.animation=c({},i.animation,{endPosition:n.getSlot(n.options.min,i.value),reverse:n.options.reverse}),o=t._animation=i.shape===j?new y(t,i.animation):new v(t,i.animation),o.setup(),o.play())},reflow:function(){var e,n,i,t=this,o=t.options,r=t.scale,a=r.lineBox(),s=o.track.size||o.size,l=o.size/2,c=r.options.mirror,p=z(o.margin),g=r.options.vertical,h=g?p[c?"left":"right"]:p[c?"bottom":"top"];h=c?-h:h,g?(i=new d(a.x1+h,a.y1,a.x1+h,a.y2),c?i.x1-=s:i.x2+=s,o.shape!==V&&(n=new d(a.x2+h,a.y1-l,a.x2+h,a.y2+l),e=n)):(i=new d(a.x1,a.y1-h,a.x2,a.y1-h),c?i.y2+=s:i.y1-=s,o.shape!==V&&(n=new d(a.x1-l,a.y1-h,a.x2+l,a.y1-h),e=n)),t.trackBox=i,t.pointerRangeBox=n,t.box=e||i.clone().pad(o.border.width)},renderPointer:function(e){var n,i=this,t=i.scale,o=i.options,r=P(o.border)?{stroke:o.border.width?o.border.color||o.color:"",strokeWidth:o.border.width,dashType:o.border.dashType}:{},a=c({fill:o.color,fillOpacity:o.opacity,animation:c(o.animation,{startPosition:t.getSlot(t.options.min,o.value),size:o.size,vertical:t.options.vertical,reverse:t.options.reverse}),id:o.id,zIndex:2,align:!1},r),s=i.pointerShape(o.value);return o.shape===j?(a.animation.type=U,n=e.createPolyline(s,!0,a)):n=e.createRect(s,a),n},pointerShape:function(e){var n,i,t,o=this,r=o.options,a=o.scale,s=a.getSlot(e,a.options.min),l=r.size,c=o.pointerRangeBox,p=a.options.vertical,g=l/2,h=a.options.mirror?-1:1,u=a.options.reverse;return r.shape==j?p?(i=u?"y2":"y1",n=[new S(c.x1,s[i]-g),new S(c.x1-h*l,s[i]),new S(c.x1,s[i]+g)]):(i=u?"x1":"x2",n=[new S(s[i]-g,c.y2),new S(s[i],c.y2+h*l),new S(s[i]+g,c.y2)]):(t=o.trackBox,n=p?new d(t.x1,s.y1,t.x1+l,s.y2):new d(s.x1,t.y1,s.x2,t.y1+l)),n},pointerSize:function(){var e,n=this,i=n.options,t=n.scale,o=t.options.majorTicks.size;return e=i.shape===j?.6*o:.3*o,T(e)},renderTrack:function(e){var n=this,i=n.options,t=i.track,o=t.border||{},r=n.trackBox.clone().pad(o.width||0);return e.createRect(r,{fill:t.color,fillOpacity:t.opacity,stroke:o.width?o.color||t.color:"",strokeWidth:o.width,dashType:o.dashType,align:!1})},getViewElements:function(e){var n=this,i=n.options,t=[];return n.element=n.renderPointer(e),t.push(n.element),!i.track.visible||i.shape!==V&&""!==i.shape||t.push(n.renderTrack(e)),n._view=e,b(t,Y.fn.getViewElements.call(n,e)),t}}),on=h.extend({init:function(e){h.fn.init.call(this,e),this.render()},options:{plotArea:{margin:{},background:"",border:{color:D,width:0}},pointer:{},scale:{}},reflow:function(e){var n=this,i=n.scale,t=n.pointer;i.reflow(e),t.reflow(e),n.box=n.getBox(e),n.alignElements(),n.shrinkElements()},shrinkElements:function(){var e=this,n=e.scale,i=e.pointer,t=n.box.clone(),o=i.box,r=n.options.vertical?"y":"x";t[r+1]+=a.max(t[r+1]-o[r+1],0),t[r+2]-=a.max(o[r+2]-t[r+2],0),n.reflow(t),i.reflow(e.box)},getBox:function(e){var n,i=this,t=i.scale,o=i.pointer,r=e.center(),a=o.box.clone().wrap(t.box);return t.options.vertical?(n=a.width()/2,a=new d(r.x-n,e.y1,r.x+n,e.y2)):(n=a.height()/2,a=new d(e.x1,r.y-n,e.x2,r.y+n)),a},alignElements:function(){var e,n=this,i=n.scale,t=n.pointer,o=i.box,r=t.box.clone().wrap(i.box),a=n.box;i.options.vertical?(e=a.center().x-r.center().x,i.reflow(new d(o.x1+e,a.y1,o.x2+e,a.y2))):(e=a.center().y-r.center().y,i.reflow(new d(a.x1,o.y1+e,a.x2,o.y2+e))),t.reflow(n.box)},render:function(){var e,n=this,i=n.options;e=n.scale=new nn(i.scale),n.append(n.scale),n.pointer=new tn(e,c({},i.pointer,{animation:{transitions:i.transitions}})),n.append(n.pointer)},getViewElements:function(e){var n=this,i=n.options.plotArea,t=h.fn.getViewElements.call(n,e),o=i.border||{},r=[e.createRect(n.box,{fill:i.background,stroke:o.width?o.color:"",strokeWidth:o.width,dashType:o.dashType})];return b(r,t),r}}),rn=l.extend({init:function(e,n){var i,t,o,r,a=this,s=p.ui.themes||{};l.fn.init.call(a,e),a.wrapper=a.element,a._originalOptions=c({},n),i=c({},a.options,n),o=i.theme,r=s[o]||s[o.toLowerCase()],t=o&&r?r.gauge:{},a.options=c({},t,i),a.element.addClass("k-gauge"),a.redraw()},options:{plotArea:{},theme:"default",renderAs:"",pointer:{},scale:{},gaugeArea:{}},value:function(e){var n=this,i=n._pointers[0];return 0===arguments.length?i.value():(n.options.pointer.value=e,n._view.renderElement?i.value(e):n.redraw(),undefined)},redraw:function(){var e,n=this,i=n.element,t=n._model=n._getModel();n._plotArea=t._plotArea,e=n._view=p.ViewFactory.current.create(t.options,n.options.renderAs),e&&(e.load(t),n._viewElement=e.renderTo(i[0]))},_createModel:function(){var e=this,n=e.options,i=e._getSize();return new x(c({width:i.width,height:i.height,transitions:n.transitions},n.gaugeArea))},_getSize:function(){var e=this,n=e.element,i=n.width(),t=n.height();return i||(i=G),t||(t=C),{width:i,height:t}}});c(rn.fn,p.ExportMixin),n=rn.extend({init:function(e,n){var i=this;rn.fn.init.call(i,e,n),s.notify(i,p.ui)},options:{name:"RadialGauge",transitions:!0,gaugeArea:{background:""}},_getModel:function(){var e,n=this,i=n.options,t=n._createModel();return e=t._plotArea=new en(i),n._pointers=[e.pointer],t.append(e),t.reflow(),t}}),i=rn.extend({init:function(e,n){var i=this;rn.fn.init.call(i,e,n),s.notify(i,p.ui)},options:{name:"LinearGauge",transitions:!0,gaugeArea:{background:""},scale:{vertical:!0}},_getModel:function(){var e,n=this,i=n.options,t=n._createModel();return e=t._plotArea=new on(i),n._pointers=[e.pointer],t.append(e),t.reflow(),t},_getSize:function(){var e=this,n=e.element,i=n.width(),t=n.height(),o=e.options.scale.vertical;return i||(i=o?W:G),t||(t=o?C:X),{width:i,height:t}}}),t=A(J,w),o=A(U,y),r=A(V,v),p.ui.plugin(n),p.ui.plugin(i),c(p,{Gauge:rn,RadialGaugePlotArea:en,LinearGaugePlotArea:on,RadialPointer:Z,LinearPointer:tn,LinearScale:nn,RadialScale:$,RadialPointerAnimationDecorator:t,ArrowPointerAnimationDecorator:o,BarIndicatorAnimationDecorator:r})}(window.kendo.jQuery);;!function(){function t(t){this.view=t}function e(t){this.view=t}function n(){return d.support.browser.msie&&!T()&&void 0!==window.performance}function i(t,e,n){var i=new f(t),r=new f(e),s=o(i.r,r.r,n),a=o(i.g,r.g,n),l=o(i.b,r.b,n);return new f(s,a,l).toHex()}function o(t,e,n){return p.round(n*e+(1-n)*t)}function r(t,e){var n,o,r,s=e.stops,a=s.length,l=u({},e);for(l.stops=[],n=0;a>n;n++)o=s[n],r=l.stops[n]=u({},s[n]),r.color=i(t,o.color,o.opacity),r.opacity=0;return l}var s,a=jQuery,l=document,p=Math,d=window.kendo,c=d.Class,u=d.deepExtend,h=d.dataviz,f=h.Color,m=h.Box2D,y=h.Point2D,x=h.ExpandAnimation,v=h.ViewBase,b=h.ViewElement,w=h.defined,g=h.renderTemplate,k=h.uniqueId,C=h.rotatePoint,L=h.round,T=h.supportsSVG,A="#000",D=h.CLIP,M=h.COORD_PRECISION,V=h.DEFAULT_WIDTH,P=h.DEFAULT_HEIGHT,O=h.DEFAULT_FONT,_="object",E="linear",I="radial",G="transparent",N=v.extend({init:function(i){var o=this;v.fn.init.call(o,i),o.decorators.push(new t(o),new e(o)),h.ui.Chart&&o.decorators.push(new h.BarAnimationDecorator(o),new h.PieAnimationDecorator(o),new h.BubbleAnimationDecorator(o)),o.decorators.push(new s(o)),n()||o.decorators.push(new h.FadeAnimationDecorator(o)),h.Gauge&&o.decorators.push(new h.RadialPointerAnimationDecorator(o),new h.ArrowPointerAnimationDecorator(o),new h.BarIndicatorAnimationDecorator(o)),o.template=N.template,o.tagName=o.options.inline?"span":"div",o.template||(o.template=N.template=g("<#= d.tagName # style='width:#= d.options.width #px; height:#= d.options.height #px; position: relative;'>#= d.renderContent() #</#= d.tagName #>"))},options:{width:V,height:P},renderTo:function(t){var e,n=this;return l.namespaces&&l.namespaces.add("kvml","urn:schemas-microsoft-com:vml","#default#VML"),n.setupAnimations(),t.innerHTML=n.render(),n.playAnimations(),e=t.firstChild,n._viewElement=e,e},renderElement:function(t){var e,n=l.createElement("div");return n.style.display="none",l.body.appendChild(n),n.innerHTML=t.render(),e=n.firstChild,l.body.removeChild(n),e},createText:function(t,e){return this.decorate(e&&e.rotation?new R(t,e):new z(t,e))},createRect:function(t,e){return this.decorate(new W(t.points(),!0,this.setDefaults(e)))},createLine:function(t,e,n,i,o){return this.decorate(new W([new y(t,e),new y(n,i)],!1,this.setDefaults(o)))},createMultiLine:function(t,e){return this.decorate(new j(t,!1,this.setDefaults(e)))},createPolyline:function(t,e,n){return this.decorate(new W(t,e,this.setDefaults(n)))},createCircle:function(t,e,n){return this.decorate(new Q(t,e,n))},createSector:function(t,e){return this.decorate(new U(t,e))},createRing:function(t,e){return this.decorate(new B(t,this.setDefaults(e)))},createGroup:function(t){return this.decorate(new X(this.setDefaults(t)))},createGradient:function(t){var e=w(t.cx)&&w(t.cy)&&w(t.bbox);return t.type===I&&e?new Y(t):t.type===E?new K(t):A}}),z=b.extend({init:function(t,e){var n=this;b.fn.init.call(n,e),n.content=t,n.template=z.template,n.template||(n.template=z.template=g("<kvml:textbox #= d.renderId() # #= d.renderDataAttributes() #style='position: absolute; left: #= d.options.x #px; top: #= d.options.y #px; font: #= d.options.font #; color: #= d.options.color #; visibility: #= d.renderVisibility() #; white-space: nowrap; #= d.renderCursor() #'>#= d.content #</kvml:textbox>"))},options:{x:0,y:0,font:O,color:A,fillOpacity:1,cursor:{}},refresh:function(t){a(t).css("visibility",this.renderVisibility())},clone:function(){var t=this;return new z(t.content,u({},t.options))},renderVisibility:function(){return this.options.fillOpacity>0?"visible":"hidden"},renderCursor:function(){var t=this.options,e="";return w(t.cursor.style)&&(e+="cursor: "+t.cursor.style+";"),e}}),R=b.extend({init:function(t,e){var n=this;b.fn.init.call(n,e),n.content=t,n.template=R.template,n.template||(n.template=R.template=g("<kvml:shape #= d.renderId() # #= d.renderDataAttributes() #style='position: absolute; top: 0px; left: 0px; width: 1px; height: 1px;' stroked='false' coordsize='1,1'>#= d.renderPath() #<kvml:fill color='#= d.options.color #' /><kvml:textpath on='true' style='font: #= d.options.font #;' fitpath='false' string='#= d.content #' /></kvml:shape>"))},options:{x:0,y:0,font:O,color:A,size:{width:0,height:0}},renderPath:function(){var t=this,e=t.options,n=e.size.width,i=e.size.height,o=e.x+n/2,r=e.y+i/2,s=-e.rotation,a=C(e.x,r,o,r,s),l=C(e.x+n,r,o,r,s);return"<kvml:path textpathok='true' v='m "+L(a.x)+","+L(a.y)+" l "+L(l.x)+","+L(l.y)+"' />"}}),F=b.extend({init:function(t){var e=this;b.fn.init.call(e,t),e.template=F.template,e.template||(e.template=F.template=g('<kvml:stroke on=\'#= !!d.options.stroke && !!d.options.strokeWidth #\' #= d.renderAttr("color", d.options.stroke) #weight=\'#= d.options.strokeWidth || 0 #px\' #= d.renderAttr("dashstyle", d.options.dashType) ##= d.renderAttr("opacity", d.options.strokeOpacity) # />'))},refresh:function(t){try{t.opacity=this.options.strokeOpacity}catch(e){}}}),H=b.extend({init:function(t){var e=this;b.fn.init.call(e,t),e.template=H.template,e.template||(e.template=H.template=g('<kvml:fill on=\'#= d.isEnabled() #\' #= d.renderAttr("color", d.options.fill) ##= d.renderAttr("weight", d.options.fillWidth) ##= d.renderAttr("opacity", d.options.fillOpacity) # />'))},isEnabled:function(){var t=this.options.fill;return!!t&&t.toLowerCase()!==G},refresh:function(t){try{t.opacity=this.options.fillOpacity}catch(e){}}}),S=b.extend({init:function(t){var e=this;b.fn.init.call(e,t),e.template=S.template,e.template||(e.template=S.template=g("<kvml:shape #= d.renderId() # #= d.renderDataAttributes() #style='position:absolute; #= d.renderSize() # display:#= d.renderDisplay() #; #= d.renderCursor() #' coordorigin='0 0' #= d.renderCoordsize() #><kvml:path v='#= d.renderPoints() # e' />#= d.fill.render() + d.stroke.render() #</kvml:shape>")),e.stroke=new F(e.options),e.fill=new H(e.options)},options:{fill:"",fillOpacity:1,strokeOpacity:1,rotation:[0,0,0],visible:!0,cursor:{}},renderCoordsize:function(){var t=this.options.align===!1?1e4:1;return"coordsize='"+t+" "+t+"'"},renderSize:function(){var t=this.options.align===!1?100:1;return"width:"+t+"px; height:"+t+"px;"},render:function(){var t=this;return t.fill.options.fillOpacity=t.options.fillOpacity,t.stroke.options.strokeOpacity=t.options.strokeOpacity,b.fn.render.call(t)},renderDisplay:function(){return this.options.visible?"block":"none"},renderPoints:function(){},refresh:function(t){if(t){var e=this,n=a(t),i=n[0].parentNode,o=e.fill,r=e.stroke;i&&(n.find("path")[0].v=this.renderPoints(),o.options=r.options=e.options,o.refresh(n.find("fill")[0]),r.refresh(n.find("stroke")[0]),n.css("display",e.renderDisplay()),i.style.cssText=i.style.cssText)}},renderCursor:function(){var t=this.options,e="";return w(t.cursor.style)&&(e+="cursor: "+t.cursor.style+";"),e}}),W=S.extend({init:function(t,e,n){var i=this;S.fn.init.call(i,n),i.points=t,i.closed=e},renderPoints:function(){var t=this,e=t.points;return t._renderPoints(e)},_renderPoints:function(t){var e,n=this,i=t.length,o=function(t){var e=n.options.rotation;return C(t.x,t.y,e[1],e[2],-e[0])},r="m "+n._print(o(t[0]));if(i>1)for(r+=" l ",e=1;i>e;e++)r+=n._print(o(t[e])),i-1>e&&(r+=", ");return n.closed&&(r+=" x"),r},clone:function(){var t=this;return new W(u([],t.points),t.closed,u({},t.options))},_print:function(t){var e=this.options.align===!1?100:1;return p.round(t.x*e)+","+p.round(t.y*e)}}),j=W.extend({renderPoints:function(){var t,e=this,n=e.points,i=[];for(t=0;t<n.length;t++)i.push(e._renderPoints(n[t]));return i.join(" ")}}),B=S.extend({init:function(t,e){var n=this;S.fn.init.call(n,e),n.pathTemplate=B.pathTemplate,n.pathTemplate||(n.pathTemplate=B.pathTemplate=g("M #= d.osp.x #,#= d.osp.y # WA #= d.obb.l #,#= d.obb.t # #= d.obb.r #,#= d.obb.b # #= d.osp.x #,#= d.osp.y # #= d.oep.x #,#= d.oep.y # L #= d.iep.x #,#= d.iep.y # AT #= d.ibb.l #,#= d.ibb.t # #= d.ibb.r #,#= d.ibb.b # #= d.iep.x #,#= d.iep.y # #= d.isp.x #,#= d.isp.y # X E")),n.config=t},renderPoints:function(){function t(t){return new y(L(t.x),L(t.y))}var e,n,i,o,r=this,s=r.config,a=p.max(L(s.r),0),l=p.max(L(s.ir),0),d=L(s.c.x),c=L(s.c.y),u=s.startAngle,h=s.angle+u,f=h-u,m={l:d-a,t:c-a,r:d+a,b:c+a},x={l:d-l,t:c-l,r:d+l,b:c+l};return 1>=f?h+=1-f:f>359&&(h-=1-f),e=t(s.point(u)),n=t(s.point(u,!0)),o=t(s.point(h)),i=t(s.point(h,!0)),r.pathTemplate({obb:m,ibb:x,osp:e,isp:n,oep:o,iep:i,cx:d,cy:c})},clone:function(){var t=this;return new B(u({},t.config),u({},t.options))}}),U=B.extend({init:function(t,e){var n=this;B.fn.init.call(n,t,e),n.pathTemplate=U.pathTemplate,n.pathTemplate||(n.pathTemplate=U.pathTemplate=g("M #= d.osp.x #,#= d.osp.y # WA #= d.obb.l #,#= d.obb.t # #= d.obb.r #,#= d.obb.b # #= d.osp.x #,#= d.osp.y # #= d.oep.x #,#= d.oep.y # L #= d.cx #,#= d.cy # X E"))},clone:function(){var t=this;return new U(u({},t.config),u({},t.options))}}),Q=b.extend({init:function(t,e,n){var i=this;b.fn.init.call(i,n),i.c=t,i.r=e,i.template=Q.template,i.template||(i.template=Q.template=g("<kvml:oval #= d.renderId() # #= d.renderDataAttributes() #style='position:absolute; width:#= d.r * 2 #px; height:#= d.r * 2 #px; top:#= d.c.y - d.r #px; left:#= d.c.x - d.r #px;'>#= d.fill.render() + d.stroke.render() #</kvml:oval>")),i.stroke=new F(i.options),i.fill=new H(i.options)},options:{fill:"",fillOpacity:1},refresh:function(t){var e=this,n=e.c,i=p.max(0,e.r),o=2*i,r=a(t);r.css({width:o,height:o,top:n.y-i,left:n.x-i}),e.fill.options=e.options,e.fill.refresh(r.find("fill")[0])},clone:function(){var t=this;return new Q(u({},t.c),t.r,u({},t.options))}}),X=b.extend({init:function(t){var e=this;b.fn.init.call(e,t),e.tagName=e.options.inline?"span":"div",e.template=X.template,e.template||(e.template=X.template=g("<#= d.tagName # #= d.renderId() ##= d.renderDataAttributes() #style='position: absolute; white-space: nowrap;'>#= d.renderContent() #</#= d.tagName #>"))}}),q=b.extend({init:function(t,e){var n=this;b.fn.init.call(n,e),n.tagName=n.options.inline?"span":"div",n.template=q.template,n.clipTemplate=q.clipTemplate,n.template||(n.template=q.template=g("<#= d.tagName # #= d.renderId() #style='position:absolute; width:#= d.box.width() #px; height:#= d.box.height() #px; top:#= d.box.y1 #px; left:#= d.box.x1 #px; clip:#= d._renderClip() #;' >#= d.renderContent() #</#= d.tagName #>"),n.clipTemplate=q.clipTemplate=g("rect(#= d.points[0].y #px #= d.points[1].x #px #= d.points[2].y #px #= d.points[0].x #px)")),n.box=t,n.points=t.points()},clone:function(){var t=this;return new q(t.box,u({},t.options))},refresh:function(t){t&&(t.style.clip=this._renderClip())},_renderClip:function(){return this.clipTemplate(this)},destroy:function(){a("#"+this.options.id+">*").unwrap()}}),J=b.extend({init:function(t){var e=this;b.fn.init.call(e,t)},options:{opacity:1},renderColors:function(){var t,e,n=this,i=n.options,o=i.stops,r=o.length,s=[],a=p.round;for(e=0;r>e;e++)t=o[e],s.push(a(100*t.offset)+"% "+t.color);return s.join(",")}}),K=J.extend({init:function(t){var e=this;J.fn.init.call(e,t),e.template=K.template,e.template||(e.template=K.template=g("<kvml:fill type='gradient' angle='#= 270 - d.options.rotation #' colors='#= d.renderColors() #' opacity='#= d.options.opacity #' />"))},options:{rotation:0}}),Y=J.extend({init:function(t){var e=this;J.fn.init.call(e,t),e.template=Y.template,e.template||(e.template=Y.template=g("<kvml:fill type='gradienttitle' focus='100%' focusposition='#= d.focusPosition() #'colors='#= d.renderColors() #' color='#= d.firstColor() #' color2='#= d.lastColor() #' opacity='#= d.options.opacity #' />"))},focusPosition:function(){var t=this.options,e=t.bbox,n=t.cx,i=t.cy,o=Math.max(0,Math.min(1,(n-e.x1)/e.width())),r=Math.max(0,Math.min(1,(i-e.y1)/e.height()));return L(o,M)+" "+L(r,M)},firstColor:function(){var t=this.options.stops;return t[0].color},lastColor:function(){var t=this.options.stops;return t[t.length-1].color}});t.prototype={decorate:function(t){var e,n,i=t.options,o=this.view;return i.overlay&&(n=i.overlay.bbox,e=o.buildGradient(u({},i.overlay,{_overlayFill:i.fill,_bboxHash:w(n)?n.getHash():""}))),e?(delete i.overlay,i.fill=u(r(i.fill,e),{opacity:i.fillOpacity}),t):t}},e.prototype={decorate:function(t){var e=this,n=e.view,i=t.options,o=i.fill;return o&&o.supportVML!==!1&&(o.gradient&&(o=n.buildGradient(o)),typeof o===_&&(t.fill=n.createGradient(o))),t}},s=c.extend({init:function(t){this.view=t},decorate:function(t){var e,n=this,i=n.view,o=i.options,r=t.options.animation;return r&&r.type===D&&o.transitions?(e=new q(new m(0,0,o.width,o.height),{id:k(),inline:o.inline}),i.animations.push(new x(e,{size:o.width})),e.children.push(t),e):t}}),d.support.browser.msie&&h.ViewFactory.current.register("vml",N,20),u(h,{VMLCircle:Q,VMLClipAnimationDecorator:s,VMLClipRect:q,VMLFill:H,VMLGroup:X,VMLLine:W,VMLMultiLine:j,VMLLinearGradient:K,VMLOverlayDecorator:t,VMLPath:S,VMLRadialGradient:Y,VMLRing:B,VMLRotatedText:R,VMLSector:U,VMLStroke:F,VMLText:z,VMLView:N,blendColors:i,blendGradient:r})}(window.kendo.jQuery);;!function(o,r){function e(o){return parseInt(o,2)}function t(o,r){var e=Number(o).toString(2);return e.length<r&&(e=Array(r-e.length+1).join(0)+e),e}function d(o,r){for(var e=[],t=0;t<o.length;)e.push(o.substring(t,t+r)),t+=r;return e}function a(o,r,e,t){for(var d=0;d<o.length;d++)o[d][e][t]=r}function s(o,r,e,t){for(var d=0;d<hr.length;d++)o[d][e][t]=hr[d](e,t)?1^r:parseInt(r,10)}function n(){var o,r;for(r=1;255>r;r++)o=2*dr[r-1],o>255&&(o=285^o),dr[r]=o,tr[o]=r;o=285^2*dr[r-1],dr[r]=o,dr[-1]=0}function l(){var o,r,e,t=68;for(o=2;t>=o;o++)r=ar[o-1],e=[o,0],ar[o]=k(r,e)}function u(o,e){var t=[],d=o.length-1;do t[d]=dr[(o[d]+e)%255],d--;while(o[d]!==r);return t}function C(o,r){return parseInt(o.charAt(r),10)}function w(o,r,e,t,d){r[o][t]=(r[o][t]<<1^d)%128,r[o][t]==pr&&(e[o]+=40)}function g(o,r,e,t,d,a){e[o][a]==t?d[o][a]++:(e[o][a]=t,d[o][a]>=5&&(r[o]+=3+d[o][a]-5),d[o][a]=1)}function c(o,r){var e=Math.floor(100*(o/r)),t=e%5,d=Math.abs(e-t-50),a=Math.abs(e+5-t-50),s=10*Math.min(d/5,a/5);return s}var i,p,h,D,B,f,k,P,v,M,L,m,Q,_,E,A,H,S,I,R,V,U,x,O,T,b,F,N,y,Z,z,G,j,K,W=window.kendo,$=o.extend,X=W.dataviz,q=W.ui.Widget,J=X.Box2D,Y="0000",or="numeric",rr="alphanumeric",er="byte",tr={1:0},dr={0:1},ar=[[1,0],[1,25,0]],sr={15:20,16:20,18:24,19:24,22:20,24:22,26:24,28:20,30:20,31:24,32:28,33:24,36:18,37:22,39:20,40:24},nr=[{L:{groups:[[1,19]],totalDataCodewords:19,errorCodewordsPerBlock:7},M:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:10},Q:{groups:[[1,13]],totalDataCodewords:13,errorCodewordsPerBlock:13},H:{groups:[[1,9]],totalDataCodewords:9,errorCodewordsPerBlock:17}},{L:{groups:[[1,34]],totalDataCodewords:34,errorCodewordsPerBlock:10},M:{groups:[[1,28]],totalDataCodewords:28,errorCodewordsPerBlock:16},Q:{groups:[[1,22]],totalDataCodewords:22,errorCodewordsPerBlock:22},H:{groups:[[1,16]],totalDataCodewords:16,errorCodewordsPerBlock:28}},{L:{groups:[[1,55]],totalDataCodewords:55,errorCodewordsPerBlock:15},M:{groups:[[1,44]],totalDataCodewords:44,errorCodewordsPerBlock:26},Q:{groups:[[2,17]],totalDataCodewords:34,errorCodewordsPerBlock:18},H:{groups:[[2,13]],totalDataCodewords:26,errorCodewordsPerBlock:22}},{L:{groups:[[1,80]],totalDataCodewords:80,errorCodewordsPerBlock:20},M:{groups:[[2,32]],totalDataCodewords:64,errorCodewordsPerBlock:18},Q:{groups:[[2,24]],totalDataCodewords:48,errorCodewordsPerBlock:26},H:{groups:[[4,9]],totalDataCodewords:36,errorCodewordsPerBlock:16}},{L:{groups:[[1,108]],totalDataCodewords:108,errorCodewordsPerBlock:26},M:{groups:[[2,43]],totalDataCodewords:86,errorCodewordsPerBlock:24},Q:{groups:[[2,15],[2,16]],totalDataCodewords:62,errorCodewordsPerBlock:18},H:{groups:[[2,11],[2,12]],totalDataCodewords:46,errorCodewordsPerBlock:22}},{L:{groups:[[2,68]],totalDataCodewords:136,errorCodewordsPerBlock:18},M:{groups:[[4,27]],totalDataCodewords:108,errorCodewordsPerBlock:16},Q:{groups:[[4,19]],totalDataCodewords:76,errorCodewordsPerBlock:24},H:{groups:[[4,15]],totalDataCodewords:60,errorCodewordsPerBlock:28}},{L:{groups:[[2,78]],totalDataCodewords:156,errorCodewordsPerBlock:20},M:{groups:[[4,31]],totalDataCodewords:124,errorCodewordsPerBlock:18},Q:{groups:[[2,14],[4,15]],totalDataCodewords:88,errorCodewordsPerBlock:18},H:{groups:[[4,13],[1,14]],totalDataCodewords:66,errorCodewordsPerBlock:26}},{L:{groups:[[2,97]],totalDataCodewords:194,errorCodewordsPerBlock:24},M:{groups:[[2,38],[2,39]],totalDataCodewords:154,errorCodewordsPerBlock:22},Q:{groups:[[4,18],[2,19]],totalDataCodewords:110,errorCodewordsPerBlock:22},H:{groups:[[4,14],[2,15]],totalDataCodewords:86,errorCodewordsPerBlock:26}},{L:{groups:[[2,116]],totalDataCodewords:232,errorCodewordsPerBlock:30},M:{groups:[[3,36],[2,37]],totalDataCodewords:182,errorCodewordsPerBlock:22},Q:{groups:[[4,16],[4,17]],totalDataCodewords:132,errorCodewordsPerBlock:20},H:{groups:[[4,12],[4,13]],totalDataCodewords:100,errorCodewordsPerBlock:24}},{L:{groups:[[2,68],[2,69]],totalDataCodewords:274,errorCodewordsPerBlock:18},M:{groups:[[4,43],[1,44]],totalDataCodewords:216,errorCodewordsPerBlock:26},Q:{groups:[[6,19],[2,20]],totalDataCodewords:154,errorCodewordsPerBlock:24},H:{groups:[[6,15],[2,16]],totalDataCodewords:122,errorCodewordsPerBlock:28}},{L:{groups:[[4,81]],totalDataCodewords:324,errorCodewordsPerBlock:20},M:{groups:[[1,50],[4,51]],totalDataCodewords:254,errorCodewordsPerBlock:30},Q:{groups:[[4,22],[4,23]],totalDataCodewords:180,errorCodewordsPerBlock:28},H:{groups:[[3,12],[8,13]],totalDataCodewords:140,errorCodewordsPerBlock:24}},{L:{groups:[[2,92],[2,93]],totalDataCodewords:370,errorCodewordsPerBlock:24},M:{groups:[[6,36],[2,37]],totalDataCodewords:290,errorCodewordsPerBlock:22},Q:{groups:[[4,20],[6,21]],totalDataCodewords:206,errorCodewordsPerBlock:26},H:{groups:[[7,14],[4,15]],totalDataCodewords:158,errorCodewordsPerBlock:28}},{L:{groups:[[4,107]],totalDataCodewords:428,errorCodewordsPerBlock:26},M:{groups:[[8,37],[1,38]],totalDataCodewords:334,errorCodewordsPerBlock:22},Q:{groups:[[8,20],[4,21]],totalDataCodewords:244,errorCodewordsPerBlock:24},H:{groups:[[12,11],[4,12]],totalDataCodewords:180,errorCodewordsPerBlock:22}},{L:{groups:[[3,115],[1,116]],totalDataCodewords:461,errorCodewordsPerBlock:30},M:{groups:[[4,40],[5,41]],totalDataCodewords:365,errorCodewordsPerBlock:24},Q:{groups:[[11,16],[5,17]],totalDataCodewords:261,errorCodewordsPerBlock:20},H:{groups:[[11,12],[5,13]],totalDataCodewords:197,errorCodewordsPerBlock:24}},{L:{groups:[[5,87],[1,88]],totalDataCodewords:523,errorCodewordsPerBlock:22},M:{groups:[[5,41],[5,42]],totalDataCodewords:415,errorCodewordsPerBlock:24},Q:{groups:[[5,24],[7,25]],totalDataCodewords:295,errorCodewordsPerBlock:30},H:{groups:[[11,12],[7,13]],totalDataCodewords:223,errorCodewordsPerBlock:24}},{L:{groups:[[5,98],[1,99]],totalDataCodewords:589,errorCodewordsPerBlock:24},M:{groups:[[7,45],[3,46]],totalDataCodewords:453,errorCodewordsPerBlock:28},Q:{groups:[[15,19],[2,20]],totalDataCodewords:325,errorCodewordsPerBlock:24},H:{groups:[[3,15],[13,16]],totalDataCodewords:253,errorCodewordsPerBlock:30}},{L:{groups:[[1,107],[5,108]],totalDataCodewords:647,errorCodewordsPerBlock:28},M:{groups:[[10,46],[1,47]],totalDataCodewords:507,errorCodewordsPerBlock:28},Q:{groups:[[1,22],[15,23]],totalDataCodewords:367,errorCodewordsPerBlock:28},H:{groups:[[2,14],[17,15]],totalDataCodewords:283,errorCodewordsPerBlock:28}},{L:{groups:[[5,120],[1,121]],totalDataCodewords:721,errorCodewordsPerBlock:30},M:{groups:[[9,43],[4,44]],totalDataCodewords:563,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[1,23]],totalDataCodewords:397,errorCodewordsPerBlock:28},H:{groups:[[2,14],[19,15]],totalDataCodewords:313,errorCodewordsPerBlock:28}},{L:{groups:[[3,113],[4,114]],totalDataCodewords:795,errorCodewordsPerBlock:28},M:{groups:[[3,44],[11,45]],totalDataCodewords:627,errorCodewordsPerBlock:26},Q:{groups:[[17,21],[4,22]],totalDataCodewords:445,errorCodewordsPerBlock:26},H:{groups:[[9,13],[16,14]],totalDataCodewords:341,errorCodewordsPerBlock:26}},{L:{groups:[[3,107],[5,108]],totalDataCodewords:861,errorCodewordsPerBlock:28},M:{groups:[[3,41],[13,42]],totalDataCodewords:669,errorCodewordsPerBlock:26},Q:{groups:[[15,24],[5,25]],totalDataCodewords:485,errorCodewordsPerBlock:30},H:{groups:[[15,15],[10,16]],totalDataCodewords:385,errorCodewordsPerBlock:28}},{L:{groups:[[4,116],[4,117]],totalDataCodewords:932,errorCodewordsPerBlock:28},M:{groups:[[17,42]],totalDataCodewords:714,errorCodewordsPerBlock:26},Q:{groups:[[17,22],[6,23]],totalDataCodewords:512,errorCodewordsPerBlock:28},H:{groups:[[19,16],[6,17]],totalDataCodewords:406,errorCodewordsPerBlock:30}},{L:{groups:[[2,111],[7,112]],totalDataCodewords:1006,errorCodewordsPerBlock:28},M:{groups:[[17,46]],totalDataCodewords:782,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[16,25]],totalDataCodewords:568,errorCodewordsPerBlock:30},H:{groups:[[34,13]],totalDataCodewords:442,errorCodewordsPerBlock:24}},{L:{groups:[[4,121],[5,122]],totalDataCodewords:1094,errorCodewordsPerBlock:30},M:{groups:[[4,47],[14,48]],totalDataCodewords:860,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[14,25]],totalDataCodewords:614,errorCodewordsPerBlock:30},H:{groups:[[16,15],[14,16]],totalDataCodewords:464,errorCodewordsPerBlock:30}},{L:{groups:[[6,117],[4,118]],totalDataCodewords:1174,errorCodewordsPerBlock:30},M:{groups:[[6,45],[14,46]],totalDataCodewords:914,errorCodewordsPerBlock:28},Q:{groups:[[11,24],[16,25]],totalDataCodewords:664,errorCodewordsPerBlock:30},H:{groups:[[30,16],[2,17]],totalDataCodewords:514,errorCodewordsPerBlock:30}},{L:{groups:[[8,106],[4,107]],totalDataCodewords:1276,errorCodewordsPerBlock:26},M:{groups:[[8,47],[13,48]],totalDataCodewords:1e3,errorCodewordsPerBlock:28},Q:{groups:[[7,24],[22,25]],totalDataCodewords:718,errorCodewordsPerBlock:30},H:{groups:[[22,15],[13,16]],totalDataCodewords:538,errorCodewordsPerBlock:30}},{L:{groups:[[10,114],[2,115]],totalDataCodewords:1370,errorCodewordsPerBlock:28},M:{groups:[[19,46],[4,47]],totalDataCodewords:1062,errorCodewordsPerBlock:28},Q:{groups:[[28,22],[6,23]],totalDataCodewords:754,errorCodewordsPerBlock:28},H:{groups:[[33,16],[4,17]],totalDataCodewords:596,errorCodewordsPerBlock:30}},{L:{groups:[[8,122],[4,123]],totalDataCodewords:1468,errorCodewordsPerBlock:30},M:{groups:[[22,45],[3,46]],totalDataCodewords:1128,errorCodewordsPerBlock:28},Q:{groups:[[8,23],[26,24]],totalDataCodewords:808,errorCodewordsPerBlock:30},H:{groups:[[12,15],[28,16]],totalDataCodewords:628,errorCodewordsPerBlock:30}},{L:{groups:[[3,117],[10,118]],totalDataCodewords:1531,errorCodewordsPerBlock:30},M:{groups:[[3,45],[23,46]],totalDataCodewords:1193,errorCodewordsPerBlock:28},Q:{groups:[[4,24],[31,25]],totalDataCodewords:871,errorCodewordsPerBlock:30},H:{groups:[[11,15],[31,16]],totalDataCodewords:661,errorCodewordsPerBlock:30}},{L:{groups:[[7,116],[7,117]],totalDataCodewords:1631,errorCodewordsPerBlock:30},M:{groups:[[21,45],[7,46]],totalDataCodewords:1267,errorCodewordsPerBlock:28},Q:{groups:[[1,23],[37,24]],totalDataCodewords:911,errorCodewordsPerBlock:30},H:{groups:[[19,15],[26,16]],totalDataCodewords:701,errorCodewordsPerBlock:30}},{L:{groups:[[5,115],[10,116]],totalDataCodewords:1735,errorCodewordsPerBlock:30},M:{groups:[[19,47],[10,48]],totalDataCodewords:1373,errorCodewordsPerBlock:28},Q:{groups:[[15,24],[25,25]],totalDataCodewords:985,errorCodewordsPerBlock:30},H:{groups:[[23,15],[25,16]],totalDataCodewords:745,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[3,116]],totalDataCodewords:1843,errorCodewordsPerBlock:30},M:{groups:[[2,46],[29,47]],totalDataCodewords:1455,errorCodewordsPerBlock:28},Q:{groups:[[42,24],[1,25]],totalDataCodewords:1033,errorCodewordsPerBlock:30},H:{groups:[[23,15],[28,16]],totalDataCodewords:793,errorCodewordsPerBlock:30}},{L:{groups:[[17,115]],totalDataCodewords:1955,errorCodewordsPerBlock:30},M:{groups:[[10,46],[23,47]],totalDataCodewords:1541,errorCodewordsPerBlock:28},Q:{groups:[[10,24],[35,25]],totalDataCodewords:1115,errorCodewordsPerBlock:30},H:{groups:[[19,15],[35,16]],totalDataCodewords:845,errorCodewordsPerBlock:30}},{L:{groups:[[17,115],[1,116]],totalDataCodewords:2071,errorCodewordsPerBlock:30},M:{groups:[[14,46],[21,47]],totalDataCodewords:1631,errorCodewordsPerBlock:28},Q:{groups:[[29,24],[19,25]],totalDataCodewords:1171,errorCodewordsPerBlock:30},H:{groups:[[11,15],[46,16]],totalDataCodewords:901,errorCodewordsPerBlock:30}},{L:{groups:[[13,115],[6,116]],totalDataCodewords:2191,errorCodewordsPerBlock:30},M:{groups:[[14,46],[23,47]],totalDataCodewords:1725,errorCodewordsPerBlock:28},Q:{groups:[[44,24],[7,25]],totalDataCodewords:1231,errorCodewordsPerBlock:30},H:{groups:[[59,16],[1,17]],totalDataCodewords:961,errorCodewordsPerBlock:30}},{L:{groups:[[12,121],[7,122]],totalDataCodewords:2306,errorCodewordsPerBlock:30},M:{groups:[[12,47],[26,48]],totalDataCodewords:1812,errorCodewordsPerBlock:28},Q:{groups:[[39,24],[14,25]],totalDataCodewords:1286,errorCodewordsPerBlock:30},H:{groups:[[22,15],[41,16]],totalDataCodewords:986,errorCodewordsPerBlock:30}},{L:{groups:[[6,121],[14,122]],totalDataCodewords:2434,errorCodewordsPerBlock:30},M:{groups:[[6,47],[34,48]],totalDataCodewords:1914,errorCodewordsPerBlock:28},Q:{groups:[[46,24],[10,25]],totalDataCodewords:1354,errorCodewordsPerBlock:30},H:{groups:[[2,15],[64,16]],totalDataCodewords:1054,errorCodewordsPerBlock:30}},{L:{groups:[[17,122],[4,123]],totalDataCodewords:2566,errorCodewordsPerBlock:30},M:{groups:[[29,46],[14,47]],totalDataCodewords:1992,errorCodewordsPerBlock:28},Q:{groups:[[49,24],[10,25]],totalDataCodewords:1426,errorCodewordsPerBlock:30},H:{groups:[[24,15],[46,16]],totalDataCodewords:1096,errorCodewordsPerBlock:30}},{L:{groups:[[4,122],[18,123]],totalDataCodewords:2702,errorCodewordsPerBlock:30},M:{groups:[[13,46],[32,47]],totalDataCodewords:2102,errorCodewordsPerBlock:28},Q:{groups:[[48,24],[14,25]],totalDataCodewords:1502,errorCodewordsPerBlock:30},H:{groups:[[42,15],[32,16]],totalDataCodewords:1142,errorCodewordsPerBlock:30}},{L:{groups:[[20,117],[4,118]],totalDataCodewords:2812,errorCodewordsPerBlock:30},M:{groups:[[40,47],[7,48]],totalDataCodewords:2216,errorCodewordsPerBlock:28},Q:{groups:[[43,24],[22,25]],totalDataCodewords:1582,errorCodewordsPerBlock:30},H:{groups:[[10,15],[67,16]],totalDataCodewords:1222,errorCodewordsPerBlock:30}},{L:{groups:[[19,118],[6,119]],totalDataCodewords:2956,errorCodewordsPerBlock:30},M:{groups:[[18,47],[31,48]],totalDataCodewords:2334,errorCodewordsPerBlock:28},Q:{groups:[[34,24],[34,25]],totalDataCodewords:1666,errorCodewordsPerBlock:30},H:{groups:[[20,15],[61,16]],totalDataCodewords:1276,errorCodewordsPerBlock:30}}],lr=[1,0,1,1,1],ur=[1,0,1],Cr={L:"01",M:"00",Q:"11",H:"10"},wr="101010000010010",gr="10100110111",cr="1111100100101",ir=["11101100","00010001"],pr=93,hr=[function(o,r){return 0===(o+r)%2},function(o){return 0===o%2},function(o,r){return 0===r%3},function(o,r){return 0===(o+r)%3},function(o,r){return 0===(Math.floor(o/2)+Math.floor(r/3))%2},function(o,r){return 0===o*r%2+o*r%3},function(o,r){return 0===(o*r%2+o*r%3)%2},function(o,r){return 0===((o+r)%2+o*r%3)%2}],Dr=/^\d+/,Br="A-Z0-9 $%*+./:-",fr="A-Z $%*+./:-",kr=RegExp("^["+fr+"]+"),Pr=RegExp("^["+Br+"]+"),vr=RegExp("^[^"+Br+"]+"),Mr=8,Lr=5,mr=8,Qr=17,_r=9,Er=16,Ar=Math.round,Hr=W.Class.extend({getVersionIndex:function(o){return 10>o?0:o>26?2:1},getBitsCharacterCount:function(o){var r=this;return r.bitsInCharacterCount[r.getVersionIndex(o||40)]},getModeCountString:function(o,r){var e=this;return e.modeIndicator+t(o,e.getBitsCharacterCount(r))},encode:function(){},getStringBitsLength:function(){},getValue:function(){},modeIndicator:"",bitsInCharacterCount:[]}),Sr={};Sr[or]=Hr.extend({bitsInCharacterCount:[10,12,14],modeIndicator:"0001",getValue:function(o){return parseInt(o,10)},encode:function(o,r){var e,a=this,s=d(o,3),n=a.getModeCountString(o.length,r);for(e=0;e<s.length-1;e++)n+=t(s[e],10);return n+t(s[e],1+3*s[e].length)},getStringBitsLength:function(o,r){var e=o%3;return 4+this.getBitsCharacterCount(r)+10*Math.floor(o/3)+3*e+(0===e?0:1)}}),Sr[rr]=Hr.extend({characters:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:18,J:19,K:20,L:21,M:22,N:23,O:24,P:25,Q:26,R:27,S:28,T:29,U:30,V:31,W:32,X:33,Y:34,Z:35," ":36,$:37,"%":38,"*":39,"+":40,"-":41,".":42,"/":43,":":44},bitsInCharacterCount:[9,11,13],modeIndicator:"0010",getValue:function(o){return this.characters[o]},encode:function(o,r){var e,a,s=this,n=d(o,2),l=s.getModeCountString(o.length,r);for(a=0;a<n.length-1;a++)e=45*s.getValue(n[a].charAt(0))+s.getValue(n[a].charAt(1)),l+=t(e,11);return e=2==n[a].length?45*s.getValue(n[a].charAt(0))+s.getValue(n[a].charAt(1)):s.getValue(n[a].charAt(0)),l+t(e,1+5*n[a].length)},getStringBitsLength:function(o,r){return 4+this.getBitsCharacterCount(r)+11*Math.floor(o/2)+6*(o%2)}}),Sr[er]=Hr.extend({bitsInCharacterCount:[8,16,16],modeIndicator:"0100",getValue:function(o){var r=o.charCodeAt(0);if(127>=r||r>=160&&255>=r)return r;throw Error("Unsupported character: "+o)},encode:function(o,r){var e,d=this,a=d.getModeCountString(o.length,r);for(e=0;e<o.length;e++)a+=t(d.getValue(o.charAt(e)),8);return a},getStringBitsLength:function(o,r){return 4+this.getBitsCharacterCount(r)+8*o}}),i={};for(p in Sr)i[p]=new Sr[p];h=function(o){var e=this,t=o.length-1,d=o.length-1,a=d,s=-1,n=0;e.move=function(){t+=s*n,n^=1,d=a-n},e.getNextCell=function(){for(;o[t][d]!==r;)e.move(),(0>t||t>=o.length)&&(s=-s,a-=8!=a?2:3,d=a,t=0>s?o.length-1:0);return{row:t,column:d}},e.getNextRemainderCell=function(){return e.move(),o[t][d]===r?{row:t,column:d}:r}},D=function(o,r){var e,t,d,a,n,l,u=new h(o[0]);for(a=0;a<r.length;a++)for(e=r[a],t=0;e.length>0;){for(n=0;n<e.length;n++)for(l=0;8>l;l++)d=u.getNextCell(),s(o,e[n][t].charAt(l),d.row,d.column);for(t++;e[0]&&t==e[0].length;)e.splice(0,1)}for(;d=u.getNextRemainderCell();)s(o,0,d.row,d.column)},B=function(o,r){for(var e=8*r,t=0,d=0;o.length<e&&t<Y.length;)o+=Y.charAt(t++);for(0!==o.length%8&&(o+=Array(9-o.length%8).join("0"));o.length<e;)o+=ir[d],d^=1;return o},f=function(o,r){var e,t=[],d=o.length-2;for(e=d;e>=0;e--)t[e]=o[e]^r[e];return t},k=function(o,e){var t,d,a=[];for(t=0;t<o.length;t++)for(d=0;d<e.length;d++)a[t+d]=a[t+d]===r?(o[t]+(e[d]>=0?e[d]:0))%255:tr[dr[a[t+d]]^dr[(o[t]+e[d])%255]];return a},n(),l(),P=function(o,r){var e,d,a=ar[r-1],s=Array(r).concat(o),n=Array(s.length-a.length).concat(a),l=o.length,C=[];for(d=0;l>d;d++)e=u(n,tr[s[s.length-1]]),n.splice(0,1),s=f(e,s);for(d=s.length-1;d>=0;d--)C[r-1-d]=t(s[d],8);return C},v=function(o,r){var t,d,a,s,n,l,u,C,w=0,g=[],c=[],i=r.groups;for(l=0;l<i.length;l++)for(a=i[l][0],u=0;a>u;u++){for(d=i[l][1],t=[],s=[],C=1;d>=C;C++)n=o.substring(w,w+8),t.push(n),s[d-C]=e(n),w+=8;g.push(t),c.push(P(s,r.errorCodewordsPerBlock))}return[g,c]},M=function(o,r,e,t,d){var a,s,n=Dr.exec(o),l=n?n[0]:"",u=kr.exec(o),C=u?u[0]:"",w=Pr.exec(o),g=w?w[0]:"";return l&&(l.length>=r||o.length==l.length||l.length>=e&&!Pr.test(o.charAt(l.length)))?(a=or,s=l):g&&(o.length==g.length||g.length>=t||d==rr)?(a=rr,s=l||C):(a=er,s=g?g+vr.exec(o.substring(g.length))[0]:vr.exec(o)[0]),{mode:a,modeString:s}},L=function(o){var r,e,t=[],d=0;for(t.push(M(o,Mr,Lr,mr,r)),r=t[0].mode,o=o.substr(t[0].modeString.length);o.length>0;)e=M(o,Qr,_r,Er,r),e.mode!=r?(r=e.mode,t.push(e),d++):t[d].modeString+=e.modeString,o=o.substr(e.modeString.length);return t},m=function(o){var r,e,t=0;for(e=0;e<o.length;e++)r=i[o[e].mode],t+=r.getStringBitsLength(o[e].modeString.length);return Math.ceil(t/8)},Q=function(o,r){var e=0,t=nr.length-1,d=Math.floor(nr.length/2);do o<nr[d][r].totalDataCodewords?t=d:e=d,d=e+Math.floor((t-e)/2);while(t-e>1);return o<=nr[e][r].totalDataCodewords?d+1:t+1},_=function(o,r){var e,t,d="";for(t=0;t<o.length;t++)e=i[o[t].mode],d+=e.encode(o[t].modeString,r);return d},E=function(o){var r,t,d=e(o),a="";if(0===d)return"101010000010010";for(r=A(e(o),gr,15),t=0;t<r.length;t++)a+=r.charAt(t)^wr.charAt(t);return a},A=function(o,r,d){var a=e(r),s=r.length-1,n=o<<s,l=d-s,u=t(o,l),C=H(n,a);return C=u+t(C,s)},H=function(o,r){var e=r.toString(2).length,t=o.toString(2).length;do o^=r<<t-e,t=o.toString(2).length;while(t>=e);return o},S=function(o){var r,e,t=[],d=17+4*o;for(r=0;r<hr.length;r++)for(t[r]=Array(d),e=0;d>e;e++)t[r][e]=Array(d);return t},I=function(o,r){var e,t,d=o[0],s=0,n=r.length;for(e=0,t=8;8>=e;e++)6!==e&&a(o,C(r,n-1-s++),e,t);for(e=8,t=7;t>=0;t--)6!==t&&a(o,C(r,n-1-s++),e,t);for(s=0,t=d.length-1,e=8;t>=d.length-8;t--)a(o,C(r,n-1-s++),e,t);for(a(o,1,d.length-8,8),e=d.length-7,t=8;e<d.length;e++)a(o,C(r,n-1-s++),e,t)},R=function(o){return A(o,cr,18)},V=function(o,r){var e,t,d,s,n=o[0],l=n.length,u=0,w=l-11,g=l-11,c=0;for(s=0;s<r.length;s++)e=Math.floor(s/3),t=s%3,d=C(r,r.length-s-1),a(o,d,u+e,w+t),a(o,d,g+t,c+e)},U=function(o,r,e,t){var d,s,n,l=r.length+2,u=r.length+1;for(s=0;s<r.length;s++)for(n=s;l-s>n;n++)d=r[s],a(o,d,e+n,t+s),a(o,d,e+s,t+n),a(o,d,e+u-n,t+u-s),a(o,d,e+u-s,t+u-n)},x=function(o,r,e,t){var d=e,s=t,n=o[0];do a(o,0,d,t),a(o,0,e,s),d+=r[0],s+=r[1];while(d>=0&&d<n.length)},O=function(o){var r=o[0].length;U(o,lr,0,0),x(o,[-1,-1],7,7),U(o,lr,r-7,0),x(o,[1,-1],r-8,7),U(o,lr,0,r-7),x(o,[-1,1],7,r-8)},T=function(o,e){var t,d,a,s,n,l,u,C,w;if(!(2>e)){for(a=o[0],s=a.length,n=Math.floor(e/7),l=[6],u=0,(t=sr[e])?d=(s-13-t)/n:t=d=(s-13)/(n+1),l.push(l[u++]+t);l[u]+d<s;)l.push(l[u++]+d);for(C=0;C<l.length;C++)for(w=0;w<l.length;w++)a[l[C]][l[w]]===r&&U(o,ur,l[C]-2,l[w]-2)}},b=function(o){var r,e=6,t=6,d=1,s=o[0].length;for(r=8;s-8>r;r++)a(o,d,e,r),a(o,d,r,t),d^=1},F=function(o){var r,e,t,d,a,s,n,l=[],u=[],C=[],i=[],p=[],h=0,D=1,B=o[0].length;for(e=0;e<o.length;e++)l[e]=0,C[e]=0,p[e]=[0,0],i[e]=[0,0],u[e]=[];for(e=0;B>e;e++)for(t=0;B>t;t++)for(d=0;d<o.length;d++)r=o[d],C[d]+=parseInt(r[e][t],10),u[d][h]===r[e][t]&&B>e+1&&t-1>=0&&r[e+1][t]==u[d][h]&&r[e+1][t-1]==u[d][h]&&(l[d]+=3),w(d,i,l,h,r[e][t]),w(d,i,l,D,r[t][e]),g(d,l,u,r[e][t],p,h),g(d,l,u,r[t][e],p,D);for(s=B*B,n=Number.MAX_VALUE,e=0;e<l.length;e++)l[e]+=c(C[e],s),l[e]<n&&(n=l[e],a=e);return a},N=function(o,r){this.dataString=o,this.version=r},y=function(){this.getEncodingResult=function(o,r){var e=L(o),t=m(e),d=Q(t,r),a=_(e,d);return new N(a,d)}},Z=function(){this.mode=i[this.encodingMode]},Z.fn=Z.prototype={encodingMode:er,utfBOM:"111011111011101110111111",initialModeCountStringLength:20,getEncodingResult:function(o,r){var e=this,t=e.encode(o),d=e.getDataCodewordsCount(t),a=Q(d,r),s=e.mode.getModeCountString(t.length/8,a)+t;return new N(s,a)},getDataCodewordsCount:function(o){var r=this,e=o.length,t=Math.ceil((r.initialModeCountStringLength+e)/8);return t},encode:function(o){var r,e=this,t=e.utfBOM;for(r=0;r<o.length;r++)t+=e.encodeCharacter(o.charCodeAt(r));return t},encodeCharacter:function(o){var r,e,d=this.getBytesCount(o),a=d-1,s="";if(1==d)s=t(o,8);else{for(r=8-d,e=0;a>e;e++)s=t(128|63&o>>6*e,8)+s;s=(o>>6*a|255>>r<<r).toString(2)+s}return s},getBytesCount:function(o){var r,e=this.ranges;for(r=0;r<e.length;r++)if(o<e[r])return r+1},ranges:[128,2048,65536,2097152,67108864]},z=function(o){return o&&o.toLowerCase().indexOf("utf_8")>=0?new Z:new y},G=function(o,r,e){var d,a,s,n=new z(e),l=n.getEncodingResult(o,r),u=l.version,C=nr[u-1][r],w=B(l.dataString,C.totalDataCodewords),g=v(w,C),c=S(u);return O(c),T(c,u),b(c),u>=7&&V(c,t(0,18)),I(c,t(0,15)),D(c,g),d=F(c),a=c[d],u>=7&&V([a],R(u)),s=Cr[r]+t(d,3),I([a],E(s)),a},j={DEFAULT_SIZE:200,QUIET_ZONE_LENGTH:4,DEFAULT_ERROR_CORRECTION_LEVEL:"L",DEFAULT_BACKGROUND:"#fff",DEFAULT_DARK_MODULE_COLOR:"#000",MIN_BASE_UNIT_SIZE:1},K=q.extend({init:function(r,e){var t=this;q.fn.init.call(t,r,e),t.element=o(r),t.element.addClass("k-qrcode"),t._view=X.ViewFactory.current.create({},t.options.renderAs),t.setOptions(e)},redraw:function(){var o=this,r=o._view;o._redraw(r),r.renderTo(o.element[0])},svg:function(){if(X.SVGView){var o=new X.SVGView;return this._redraw(o),o.render()}throw Error("Unable to create SVGView. Check that kendo.dataviz.svg.js is loaded.")},imageDataURL:function(){if(X.CanvasView){if(X.supportsCanvas()){var o=document.createElement("div"),r=new X.CanvasView;return this._redraw(r),r.renderTo(o).toDataURL()}return W.logToConsole("Warning: Unable to generate image. The browser does not support Canvas.\nUser agent: "+navigator.userAgent),null}throw Error("Unable to create CanvasView. Check that kendo.dataviz.canvas.js is loaded.")},_redraw:function(o){var r,e,t,d,a,s,n=this,l=n._value,u=n.options.border||{},C=u.width||0;u.width=C,l&&(t=G(l,n.options.errorCorrection,n.options.encoding),d=n._getSize(),s=d-2*C,r=n._calculateBaseUnit(s,t.length),a=t.length*r,e=n._calculateQuietZone(a,s,C),o.children=[],o.options.width=d,o.options.height=d,n._renderBackground(o,d,u),n._renderMatrix(o,t,r,e))},_getSize:function(){var o,r,e,t=this;return t.options.size?o=parseInt(t.options.size,10):(r=t.element,e=Math.min(r.width(),r.height()),o=e>0?e:j.DEFAULT_SIZE),o},_calculateBaseUnit:function(o,r){var e=Math.floor(o/r);if(e<j.MIN_BASE_UNIT_SIZE)throw Error("Insufficient size.");return e*r>=o&&e-1>=j.MIN_BASE_UNIT_SIZE&&e--,e},_calculateQuietZone:function(o,r,e){return e+(r-o)/2},_renderMatrix:function(o,r,e,t){var d,a,s,n,l,u=this,C=[];for(l=0;l<r.length;l++)for(d=t+l*e,n=0;n<r.length;){for(;0===r[l][n]&&n<r.length;)n++;if(n<r.length){for(a=n;1==r[l][n];)n++;s=new J(Ar(t+a*e),Ar(d),Ar(t+n*e),Ar(d+e)),C.push(s.points())}}o.children.push(o.createMultiLine(C,{crispEdges:!0,fill:u.options.color,stroke:u.options.color,strokeWidth:0,align:!1}))},_renderBackground:function(o,r,e){var t=this;o.children.push(o.createRect(J(0,0,r,r).unpad(e.width/2),{fill:t.options.background,stroke:e.color,strokeWidth:e.width,align:!1}))},setOptions:function(o){var e=this;o=o||{},e.options=$(e.options,o),o.value!==r&&(e._value=e.options.value+""),e.redraw()},value:function(o){var e=this;return o===r?e._value:(e._value=o+"",e.redraw(),r)},options:{name:"QRCode",renderAs:"canvas",encoding:"ISO_8859_1",value:"",errorCorrection:j.DEFAULT_ERROR_CORRECTION_LEVEL,background:j.DEFAULT_BACKGROUND,color:j.DEFAULT_DARK_MODULE_COLOR,size:"",border:{color:"",width:0}}}),X.ui.plugin(K),W.deepExtend(X,{QRCode:K,QRCodeDefaults:j,QRCodeFunctions:{FreeCellVisitor:h,fillData:D,padDataString:B,generateErrorCodewords:P,xorPolynomials:f,getBlocks:v,multiplyPolynomials:k,chooseMode:M,getModes:L,getDataCodewordsCount:m,getVersion:Q,getDataString:_,encodeFormatInformation:E,encodeBCH:A,dividePolynomials:H,initMatrices:S,addFormatInformation:I,encodeVersionInformation:R,addVersionInformation:V,addCentricPattern:U,addFinderSeparator:x,addFinderPatterns:O,addAlignmentPatterns:T,addTimingFunctions:b,scoreMaskMatrixes:F,encodeData:G,UTF8Encoder:Z},QRCodeFields:{modes:i,powersOfTwo:tr,powersOfTwoResult:dr,generatorPolynomials:ar}})}(window.kendo.jQuery);;!function(e){function t(e){return"number"==typeof e?[e]:e}var i=window.kendo,a=i.dataviz,n=a.ui.Chart,r=i.data.ObservableArray,s=a.SharedTooltip,o=i.deepExtend,l=e.isArray,h=a.inArray,d=Math,p="k-",u=150,c=150,f="bar",g="bullet",v="pie",y=[f,g],b=n.extend({init:function(i,a){var s=this,u=s.stage=e("<span />"),c=a||{};i=e(i).addClass(p+"sparkline").empty().append(u),s._initialWidth=d.floor(i.width()),c=t(c),(l(c)||c instanceof r)&&(c={seriesDefaults:{data:c}}),c.series||(c.series=[{data:t(c.data)}]),o(c,{seriesDefaults:{type:c.type}}),(h(c.series[0].type,y)||h(c.seriesDefaults.type,y))&&(c=o({},{categoryAxis:{crosshair:{visible:!1}}},c)),n.fn.init.call(s,i,c)},options:{name:"Sparkline",chartArea:{margin:2},axisDefaults:{visible:!1,majorGridLines:{visible:!1},valueAxis:{narrowRange:!0}},seriesDefaults:{type:"line",area:{line:{width:.5}},bar:{stack:!0},width:.5,overlay:{gradient:null},highlight:{visible:!1},border:{width:0},markers:{size:2,visible:!1}},tooltip:{visible:!0,shared:!0},categoryAxis:{crosshair:{visible:!0,tooltip:{visible:!1}}},legend:{visible:!1},transitions:!1,pointWidth:5},_applyDefaults:function(e){var t=this,i=a.ViewFactory.current.create({},e.renderAs);a.CanvasView&&i instanceof a.CanvasView&&o(e,{categoryAxis:{crosshair:{visible:!1}}}),n.fn._applyDefaults.apply(t,arguments)},_modelOptions:function(){var e,t=this,i=t.options,a=t._initialWidth,n=t.stage;return t.stage[0].innerHTML="&nbsp;",e=o({width:a?a:t._autoWidth(),height:n.height(),transitions:i.transitions},i.chartArea,{inline:!0,align:!1}),n.css({width:e.width,height:e.height}),e},_createTooltip:function(){var e,t=this,i=t.options,a=t.element;return e=t._sharedTooltip()?new m(a,t._plotArea,i.tooltip):n.fn._createTooltip.call(t)},_renderView:function(){var e=this;return e.element.empty().append(e.stage),e._view.renderTo(e.stage[0])},_autoWidth:function(){var e,t,i,n=this,r=n.options,s=a.getSpacing(r.chartArea.margin),o=r.series,l=n.dataSource.total(),h=0;for(t=0;t<o.length;t++){if(i=o[t],i.type===f)return u;if(i.type===g)return c;if(i.type===v)return n.stage.height();i.data&&(h=d.max(h,i.data.length))}return e=d.max(l,h)*r.pointWidth,e>0&&(e+=s.left+s.right),e}}),m=s.extend({options:{animation:{duration:0}},_anchor:function(e,t){var i=s.fn._anchor.call(this,e,t);return i.y=-this.element.height()-this.options.offset,i},_hideElement:function(){this.element.hide()}});a.ui.plugin(b),o(a,{})}(window.kendo.jQuery);;!function(t){function e(){}function i(t){return e.prototype=t,new e}var a,o=window.kendo,n=o.Class,s=o.Observable,r=o.deepExtend,l=Math,c=t.proxy,d=o.dataviz,p=d.defined,u=d.filterSeriesByType,h=o.template,f=d.ui.Chart,m=d.Selection,v=d.addDuration,g=d.last,_=d.limitValue,x=d.lteDateIndex,b=d.renderTemplate,S=d.toDate,y=d.toTime,w=28,A="change",D="k-",T="drag",C="dragEnd",E="_navigator",k=E,U=d.EQUALLY_SPACED_SERIES,B=3,F="zoom",j="zoomEnd",z=f.extend({init:function(e,i){t(e).addClass(D+"chart"),f.fn.init.call(this,e,i)},_applyDefaults:function(t,e){var i=this,a=i.element.width()||d.DEFAULT_WIDTH,o={seriesDefaults:{categoryField:t.dateField},axisDefaults:{categoryAxis:{name:"default",majorGridLines:{visible:!1},labels:{step:2},majorTicks:{visible:!1},maxDateGroups:l.floor(a/w)}}};e&&(e=r({},e,o)),i._navigator||H.setup(t,e),f.fn._applyDefaults.call(i,t,e)},_initDataSource:function(t){var e,i,a=t||{},o=a.dataSource,n=o&&o.serverFiltering,s=[].concat(a.categoryAxis)[0],l=a.navigator||{},c=l.select,p=c&&c.from&&c.to;n&&p&&(e=[].concat(o.filter||[]),i=new d.DateCategoryAxis(r({baseUnit:"fit"},s,{categories:[c.from,c.to]})),o.filter=H.buildFilter(i.range().min,c.to).concat(e)),f.fn._initDataSource.call(this,t)},options:{name:"StockChart",dateField:"date",axisDefaults:{categoryAxis:{type:"date",baseUnit:"fit",justified:!0},valueAxis:{narrowRange:!0,labels:{format:"C"}}},navigator:{select:{},seriesDefaults:{markers:{visible:!1},tooltip:{visible:!0,template:"#= kendo.toString(category, 'd') #"},line:{width:2}},hint:{},visible:!0},tooltip:{visible:!0},legend:{visible:!1}},_redraw:function(){var t=this,e=t._navigator;e&&e.dataSource?e.redrawSlaves():(e||(e=t._navigator=new H(t)),e.filterAxes(),f.fn._redraw.call(t),e.redraw())},_onDataChanged:function(){var t=this;f.fn._onDataChanged.call(t),t._dataBound=!0},_bindCategoryAxis:function(t,e,i){var a,o=this,n=o.options.categoryAxis,s=n.length;if(f.fn._bindCategoryAxis.apply(this,arguments),t.name===k)for(;s>i;)a=n[i++],a.pane==E&&(a.categories=t.categories)},_trackSharedTooltip:function(t){var e=this,i=e._plotArea,a=i.paneByPoint(t);a&&a.options.name===E?e._unsetActivePoint():f.fn._trackSharedTooltip.call(e,t)},destroy:function(){var t=this;t._navigator.destroy(),f.fn.destroy.call(t)}}),H=s.extend({init:function(t){var e=this;e.chart=t,e.options=r({},e.options,t.options.navigator),e._initDataSource(),p(e.options.hint.visible)||(e.options.hint.visible=e.options.visible),t.bind(T,c(e._drag,e)),t.bind(C,c(e._dragEnd,e)),t.bind(F,c(e._zoom,e)),t.bind(j,c(e._zoomEnd,e))},options:{},_initDataSource:function(){var t=this,e=t.options,i=e.autoBind,a=e.dataSource;p(i)||(i=t.chart.options.autoBind),t._dataChangedHandler=c(t._onDataChanged,t),a&&(t.dataSource=o.data.DataSource.create(a).bind(A,t._dataChangedHandler),i&&t.dataSource.fetch())},_onDataChanged:function(){var t,e,i,a,o,n=this,s=n.chart,r=s.options.series,l=r.length,c=s.options.categoryAxis,d=c.length,p=n.dataSource.view();for(t=0;l>t;t++)i=r[t],i.axis==k&&s._isBindable(i)&&(i.data=p);for(e=0;d>e;e++)a=c[e],a.pane==E&&(a.name==k?(s._bindCategoryAxis(a,p,e),o=a.categories):a.categories=o);s._model&&(n.redraw(),n.filterAxes(),(!s.options.dataSource||s.options.dataSource&&s._dataBound)&&n.redrawSlaves())},destroy:function(){var t=this,e=t.dataSource;e&&e.unbind(A,t._dataChangeHandler),t.selection&&t.selection.destroy()},redraw:function(){this._redrawSelf();var e=this,o=e.chart,n=e.options,s=e.mainAxis(),r=i(s),l=s.options.categories,c=e.options.select||{},d=e.selection,p=s.range(),u=p.min,h=p.max,f=c.from||u,v=c.to||h;l.length>0&&(d&&(d.destroy(),d.wrapper.remove()),r.box=s.box,d=e.selection=new m(o,r,{min:u,max:h,from:f,to:v,selectStart:t.proxy(e._selectStart,e),select:t.proxy(e._select,e),selectEnd:t.proxy(e._selectEnd,e),mousewheel:{zoom:"left"}}),n.hint.visible&&(e.hint=new a(o.element,{min:u,max:h,template:n.hint.template,format:n.hint.format})))},_redrawSelf:function(t){var e=this.chart._plotArea;e&&e.redraw(g(e.panes),t)},redrawSlaves:function(){var t=this,e=t.chart,i=e._plotArea,a=i.panes.slice(0,-1);i.srcSeries=e.options.series,i.redraw(a)},_drag:function(t){var e,i,a,o=this,n=o.chart,s=n._eventCoordinates(t.originalEvent),r=o.mainAxis(),l=r.range(),c=r.pane.box.containsPoint(s),d=n._plotArea.categoryAxis,p=t.axisRanges[d.options.name],u=o.options.select,h=o.selection;p&&!c&&h&&(e=u.from&&u.to?y(u.to)-y(u.from):y(h.options.to)-y(h.options.from),i=S(_(y(p.min),l.min,y(l.max)-e)),a=S(_(y(i)+e,y(l.min)+e,l.max)),o.options.select={from:i,to:a},o._liveDrag()&&(o.filterAxes(),o.redrawSlaves()),h.set(i,a),o.showHint(i,a))},_dragEnd:function(){var t=this;t.filterAxes(),t.filterDataSource(),t.redrawSlaves(),t.hint&&t.hint.hide()},_liveDrag:function(){var t=o.support,e=t.touch,i=t.browser,a=i.mozilla,n=i.msie&&i.version<9;return!e&&!a&&!n},readSelection:function(){var t=this,e=t.selection,i=e.options,a=t.options.select;a.from=i.from,a.to=i.to},filterAxes:function(){var t,e,i=this,a=i.options.select||{},o=i.chart,n=o.options.categoryAxis,s=a.from,r=a.to;for(t=0;t<n.length;t++)e=n[t],e.pane!==E&&(e.min=S(s),e.max=S(r))},filterDataSource:function(){var t,e=this,i=e.options.select||{},a=e.chart,o=a.dataSource,n=o&&o.options.serverFiltering;e.dataSource&&n&&(t=new d.DateCategoryAxis(r({baseUnit:"fit"},a.options.categoryAxis[0],{categories:[i.from,i.to]})).options,o.filter(H.buildFilter(v(t.min,-t.baseUnitStep,t.baseUnit),v(t.max,t.baseUnitStep,t.baseUnit))))},_zoom:function(t){var e,i,a=this,n=a.chart,s=t.delta,r=n._plotArea.categoryAxis,c=a.options.select,d=a.selection,p=a.mainAxis().options.categories;d&&(e=x(d.options.from,p),i=x(d.options.to,p),t.originalEvent.preventDefault(),l.abs(s)>1&&(s*=B),i-e>1?(d.expand(s),a.readSelection()):(r.options.min=c.from,c.from=r.scaleRange(-t.delta).min),o.support.touch||(a.filterAxes(),a.redrawSlaves()),d.set(c.from,c.to),a.showHint(a.options.select.from,a.options.select.to))},_zoomEnd:function(t){this._dragEnd(t)},showHint:function(t,e){var i=this,a=i.chart,o=a._plotArea;i.hint&&i.hint.show(t,e,o.backgroundBox())},_selectStart:function(t){var e=this.chart;e._selectStart.call(e,t)},_select:function(t){var e=this,i=e.chart;e.showHint(t.from,t.to),i._select.call(i,t)},_selectEnd:function(t){var e=this,i=e.chart;e.hint&&e.hint.hide(),e.readSelection(),e.filterAxes(),e.filterDataSource(),e.redrawSlaves(),i._selectEnd.call(i,t)},mainAxis:function(){var t=this.chart._plotArea;return t?t.namedCategoryAxes[k]:undefined}});H.setup=function(t,e){t=t||{},e=e||{};var i=r({},e.navigator,t.navigator),a=t.panes=[].concat(t.panes),o=r({},i.pane,{name:E});i.visible||(o.visible=!1,o.height=.1),a.push(o),H.attachAxes(t,i),H.attachSeries(t,i,e)},H.attachAxes=function(t,e){var i=e.series||[],a=t.categoryAxis=[].concat(t.categoryAxis),o=t.valueAxis=[].concat(t.valueAxis),n=u(i,U),s=0===n.length,l=r({type:"date",pane:E,roundToBaseUnit:!s,justified:s,tooltip:{visible:!1},labels:{step:1},autoBind:!e.dataSource,autoBaseUnitSteps:{minutes:[1],hours:[1],days:[1],weeks:[],months:[1],years:[1]},_overlap:!1},e.categoryAxis);a.push(r({},l,{name:k,baseUnit:"fit",maxDateGroups:200,baseUnitStep:"auto",labels:{visible:!1},majorTicks:{visible:!1}}),r({},l,{name:k+"_labels",maxDateGroups:20,baseUnitStep:"auto",autoBaseUnitSteps:{minutes:[]},majorTicks:{visible:!0}}),r({},l,{name:k+"_ticks",maxDateGroups:200,majorTicks:{visible:!0,width:.5},labels:{visible:!1,mirror:!0}})),o.push({name:k,pane:E,majorGridLines:{visible:!1},visible:!1})},H.attachSeries=function(t,e,i){var a,o=t.series=t.series||[],n=[].concat(e.series||[]),s=i.seriesColors,l=e.seriesDefaults;for(a=0;a<n.length;a++)o.push(r({color:s[a%s.length],categoryField:e.dateField,visibleInLegend:!1,tooltip:{visible:!1}},l,n[a],{axis:k,categoryAxis:k,autoBind:!e.dataSource}))},H.buildFilter=function(t,e){return[{field:"Date",operator:"gte",value:S(t)},{field:"Date",operator:"lt",value:S(e)}]},a=n.extend({init:function(e,i){var a=this;a.options=r({},a.options,i),a.container=e,a.chartPadding={top:parseInt(e.css("paddingTop"),10),left:parseInt(e.css("paddingLeft"),10)},a.template=a.template,a.template||(a.template=a.template=b("<div class='"+D+"navigator-hint' "+"style='display: none; position: absolute; top: 1px; left: 1px;'>"+"<div class='"+D+"tooltip'>&nbsp;</div>"+"<div class='"+D+"scroll' />"+"</div>")),a.element=t(a.template()).appendTo(e)},options:{format:"{0:d} - {1:d}",hideDelay:500},show:function(t,e,i){var a,n=this,s=S(y(t)+y(e-t)/2),r=n.options,l=o.format(n.options.format,t,e),c=n.element.find("."+D+"tooltip"),d=n.element.find("."+D+"scroll"),p=.4*i.width(),u=i.center().x-p,f=i.center().x,m=f-u,v=r.max-r.min,g=m/v,_=s-r.min;n._hideTimeout&&clearTimeout(n._hideTimeout),n._visible||(n.element.stop(!1,!0).css("visibility","hidden").show(),n._visible=!0),r.template&&(a=h(r.template),l=a({from:t,to:e})),c.html(l).css({left:i.center().x-c.outerWidth()/2,top:i.y1}),d.css({width:p,left:u+_*g,top:i.y1+parseInt(c.css("margin-top"),10)+parseInt(c.css("border-top-width"),10)+c.height()/2}),n.element.css("visibility","visible")},hide:function(){var t=this;t._hideTimeout&&clearTimeout(t._hideTimeout),t._hideTimeout=setTimeout(function(){t._visible=!1,t.element.fadeOut("slow")},t.options.hideDelay)}}),d.ui.plugin(z),r(d,{Navigator:H})}(window.kendo.jQuery);;!function(e,t){function i(e){var t,i,n=e.find(b("popover")),r=d.roles;for(t=0,i=n.length;i>t;t++)l.initWidget(n[t],{},r)}function n(e){l.triggeredByInput(e)||e.preventDefault()}function r(e,t){e[0]&&t[0]&&e[0]!=t[0]&&e.kendoAnimateTo(t,{effects:"fade",duration:p})}function o(t){t.each(function(){l.initWidget(e(this),{},d.roles)})}function a(e){for(var t=e.split("?")[1]||"",i={},n=t.split(/&|=/),r=n.length,o=0;r>o;o+=2)i[n[o]]=n[o+1];return i}var l=window.kendo,s=l.mobile,d=s.ui,c=l.attr,h=l.Class,u=d.Widget,f="init",p=320,m="beforeShow",w="show",v="afterShow",g="beforeHide",y="hide",_="z-index",x=l.attrValue,b=l.roleSelector,V=u.extend({init:function(t,i){var n=this;u.fn.init.call(n,t,i),t=n.element,n.params={},n._paramsHistory=[],e.extend(n,i),n.applicationNativeScrolling=s.application&&s.application.options.useNativeScrolling,n._id(),n._layout(),n._scroller(),n._model()},events:[f,m,w,v,g,y],options:{name:"View",title:"",reload:!1,defaultTransition:"",useNativeScrolling:!1,stretch:!1,zoom:!1,model:null},destroy:function(){this.layout&&this.layout.detach(this),u.fn.destroy.call(this),this.scroller&&this.scroller.destroy(),l.destroy(this.element)},purge:function(){this.destroy(),this.element.remove()},showStart:function(){var e=this;e.element.css("display",""),e.inited||(e.inited=!0,e.trigger(f,{view:e})),e.layout&&e.layout.attach(e),e.trigger(w,{view:e}),e._padIfNativeScrolling()},hideStart:function(){this.trigger(g,{view:this})},hideComplete:function(){var e=this;e.element.hide(),e.trigger(y,{view:e})},updateParams:function(e,t,i){this._paramsHistory[this._paramsHistory.length-2]===JSON.stringify(t)&&(this._paramsHistory.pop(),this.nextViewID=this.id,this.backTransition=this.transition),this.switchWith(new k(this),e,t,i)},_padIfNativeScrolling:function(){this.applicationNativeScrolling&&this.content.css({paddingTop:this.header.height(),paddingBottom:this.footer.height()})},switchWith:function(e,t,i,n){var r=this,o=this._paramsHistory,a=function(){r.trigger(v,{view:r}),r._padIfNativeScrolling(),n()};r.trigger(m,{view:r})||(r._back=o[o.length-1]===JSON.stringify(i),r._back||o.push(JSON.stringify(i)),r.params=i,e?(e.hideStart(),r.showStart(),new S({current:e,next:r,transition:t,defaultTransition:e.options.defaultTransition,complete:a})):(r.showStart(),a()))},parallaxContents:function(e){var t=this,i=t.content;return e.header[0]||(i=i.add(t.header)),e.footer[0]||(i=i.add(t.footer)),i},contentElement:function(){var e=this;return e.options.stretch?e.content:e.scrollerContent},_scroller:function(){var t=this;t.applicationNativeScrolling||(t.options.stretch?t.content.addClass("km-stretched-view"):(t.content.kendoMobileScroller({zoom:t.options.zoom,useNative:t.options.useNativeScrolling}),t.scroller=t.content.data("kendoMobileScroller"),t.scrollerContent=t.scroller.scrollElement),l.support.kineticScrollNeeded&&(e(t.element).on("touchmove",".km-header",n),t.options.useNativeScrolling||e(t.element).on("touchmove",".km-content",n)))},_model:function(){var e=this,t=e.element,n=e.options.model;"string"==typeof n&&(n=l.getter(n)(window)),e.model=n,i(t),e.element.css("display",""),n?l.bind(t.children(),n,d,l.ui,l.dataviz.ui):s.init(t.children()),e.element.css("display","none")},_id:function(){var e=this.element;this.id=x(e,"url")||"#"+e.attr("id")},_layout:function(){var e=this,t=b("content"),i=e.element;i.data("kendoView",e).addClass("km-view"),e.transition=x(i,"transition"),e.header=i.children(b("header")).addClass("km-header"),e.footer=i.children(b("footer")).addClass("km-footer"),i.children(t)[0]||i.wrapInner("<div "+c("role")+'="content"></div>'),e.content=i.children(b("content")).addClass("km-content"),e.element.prepend(e.header).append(e.footer),e.layout&&e.layout.setup(e)}}),k=l.mobile.ui.Widget.extend({init:function(t){var i=t.element.clone(!0);e.extend(this,{element:i,header:i.children(b("header")),content:i.children(b("content")),footer:i.children(b("footer")),transition:t.transition,options:{defaultTransition:t.options.defaultTransition},params:JSON.stringify(t.params),id:t.id}),t.element.parent().append(this.element)},parallaxContents:V.prototype.parallaxContents,hideStart:e.noop,hideComplete:function(){this.element.remove()}}),S=h.extend({init:function(t){e.extend(this,t);var i=this,n=i.current,o=i.next,a=n.element,l=o.element,s=o,d=n,c=i._transition();c.reverse&&!c.parallax&&(s=n,d=o),s.element.css(_,1),d.element.css(_,0),c.parallax&&(r(n.footer,o.footer),r(n.header,o.header),a=n.parallaxContents(o),l=o.parallaxContents(n)),a.kendoAnimateTo(l,c),i.back()||(n.nextViewID=o.id,n.backTransition=c.transition)},_transition:function(){var e=this,t=e.current,i=e.next,n=e.back(),r=function(){t.hideComplete(),e.complete()},o=n?i.backTransition:i.transition,a=e.transition||o||e.defaultTransition,l=a.split(" "),s=l[0],d=/^slide/.test(s),c="reverse"===l[1];return e.back()&&!e.transition&&(c=!c),{effects:s,reverse:c,parallax:d,complete:r,transition:a,duration:p}},back:function(){var e=this.next,t=this.current;return e.nextViewID&&e.nextViewID===t.id&&e._back}}),N=u.extend({init:function(e,t){var n=this;u.fn.init.call(n,e,t),e=n.element,n.element=e.detach(),n.header=e.children(b("header")).addClass("km-header"),n.footer=e.children(b("footer")).addClass("km-footer"),n.elements=n.header.add(n.footer),i(e),l.mobile.init(n.element.children()),n.trigger(f,{layout:n})},options:{name:"Layout"},events:[f,w,y],setup:function(e){e.header[0]||(e.header=this.header),e.footer[0]||(e.footer=this.footer)},detach:function(e){var t=this;e.header===t.header&&t.header[0]&&e.element.prepend(t.header.detach()[0].cloneNode(!0)),e.footer===t.footer&&t.footer.length&&e.element.append(t.footer.detach()[0].cloneNode(!0)),t.trigger(y,{layout:t,view:e})},attach:function(e){var t=this,i=t.currentView;i&&t.detach(i),e.header===t.header&&(t.header.detach(),e.element.children(b("header")).remove(),e.element.prepend(t.header)),e.footer===t.footer&&(t.footer.detach(),e.element.children(b("footer")).remove(),e.element.append(t.footer)),t.trigger(w,{layout:t,view:e}),t.currentView=e}}),C=l.Observable,T=/<body[^>]*>(([\u000a\u000d\u2028\u2029]|.)*)<\/body>/i,I="loadStart",R="loadComplete",L="showStart",W="sameViewRequested",E="viewShow",D=C.extend({init:function(t){var i,n,r,a=this;if(C.fn.init.call(a),e.extend(a,t),a.sandbox=e("<div />"),r=a.container,i=a._hideViews(r),a.rootView=i.first(),!a.rootView[0]&&t.rootNeeded)throw n=r[0]==l.mobile.application.element[0]?'Your kendo mobile application element does not contain any direct child elements with data-role="view" attribute set. Make sure that you instantiate the mobile application using the correct container.':'Your pane element does not contain any direct child elements with data-role="view" attribute set.',Error(n);a._view=null,a.layouts={},a._setupLayouts(r),o(r.children(b("modalview drawer"))),a.loader&&(a.bind(L,function(){a.loader.transition()}),a.bind(I,function(){a.loader.show()}),a.bind(R,function(){a.loader.hide()}),a.bind(E,function(){a.loader.transitionDone()}))},view:function(){return this._view},showView:function(e,i){if(e=e.replace(RegExp("^"+this.remoteViewURLPrefix),""),""===e&&this.remoteViewURLPrefix&&(e="/"),e===this.url)return this.trigger(W),t;this.trigger(L);var n=this,r=function(t){n._show(t,i,a(e))},o=n._findViewElement(e),l=o.data("kendoView");n.url=e,l&&l.reload&&(l.purge(),o=[]),this.trigger("viewTypeDetermined",{remote:0===o.length,url:e}),o[0]?(l||(l=n._createView(o)),r(l)):n._loadView(e,r)},_findViewElement:function(e){var t,i=e.split("?")[0];return i?(t=this.container.children("["+c("url")+"='"+i+"']"),t[0]||-1!==i.indexOf("/")||(t=this.container.children("#"===i.charAt(0)?i:"#"+i)),t):this.rootView},_createView:function(e){var i,n=this,r=x(e,"layout");return t===r&&(r=n.layout),r&&(r=n.layouts[r]),i={defaultTransition:n.transition,loader:n.loader,container:n.container,layout:r,reload:x(e,"reload")},l.initWidget(e,i,d.roles)},_loadView:function(i,n){var r=this;return this.serverNavigation?(location.href=i,t):(r._xhr&&r._xhr.abort(),r.trigger(I),r._xhr=e.get(l.absoluteURL(i,r.remoteViewURLPrefix),function(e){r.trigger(R),n(r._createRemoteView(i,e))},"html").fail(function(e){r.trigger(R),0===e.status&&e.responseText&&n(r._createRemoteView(i,e.responseText))}),t)},_createRemoteView:function(e,t){var i,n,r,a=this,l=a.sandbox,s=e.split("?")[0],d=a.container;return T.test(t)&&(t=RegExp.$1),l[0].innerHTML=t,d.append(l.children("script, style")),i=a._hideViews(l),r=i.first(),r.length||(i=r=l.wrapInner("<div data-role=view />").children()),r.hide().attr(c("url"),s),a._setupLayouts(l),n=l.children(b("modalview drawer")),d.append(l.children(b("layout modalview drawer")).add(i)),o(n),a._createView(r)},_show:function(e,t,i){var n=this;n._view!==e?e.switchWith(n._view,t,i,function(){n._view=e,n.trigger(E,{view:e})}):n._view.updateParams(t,i,function(){n.trigger(E,{view:n._view})})},_hideViews:function(e){return e.children(b("view splitview")).hide()},_setupLayouts:function(i){var n=this;i.children(b("layout")).each(function(){var i=e(this),r=x(i,"platform");(r===t||r===s.application.os.name)&&(n.layouts[l.attrValue(i,"id")]=l.initWidget(i,{},d.roles))})}});l.mobile.ViewEngine=D,d.plugin(V),d.plugin(N)}(window.kendo.jQuery);;!function(n){var i=window.kendo,t=i.mobile.ui,o=t.Widget,e=n.map(i.eventMap,function(n){return n}).join(" ").split(" "),a=o.extend({init:function(i,t){var e=this,a=n('<div class="km-loader"><span class="km-loading km-spin"></span><span class="km-loading-left"></span><span class="km-loading-right"></span></div>');o.fn.init.call(e,a,t),e.container=i,e._attachCapture(),a.append(e.options.loading).hide().appendTo(i)},options:{name:"Loader",loading:"<h1>Loading...</h1>",timeout:100},show:function(){var n=this;clearTimeout(n._loading),n.options.loading!==!1&&(n._loading=setTimeout(function(){n.element.show()},n.options.timeout))},hide:function(){var n=this;clearTimeout(n._loading),n.element.hide()},transition:function(){this.transitioning=!0,this.container.css("pointer-events","none")},transitionDone:function(){this.transitioning=!1,this.container.css("pointer-events","")},_attachCapture:function(){function n(n){t.transitioning&&n.preventDefault()}var i,t=this;for(t.transitioning=!1,i=0;i<e.length;i++)t.container[0].addEventListener(e[i],n,!0)}});t.plugin(a)}(window.kendo.jQuery);;!function(e){var i=window.kendo,n=i.mobile,t=i.roleSelector,o=n.ui,a=o.Widget,r=n.ViewEngine,s=n.ui.Loader,l="external",u="href",d="#!",g="navigate",p="viewShow",v="sameViewRequested",h=/popover|actionsheet|modalview|drawer/,c="#:back",w=i.attrValue,f="button backbutton detailbutton listview-link",m="tab",k=a.extend({init:function(e,i){var n=this;a.fn.init.call(n,e,i),i=n.options,e=n.element,e.addClass("km-pane"),n.history=[],n.loader=new s(e,{loading:n.options.loading}),n.viewEngine=new r({container:e,transition:i.transition,rootNeeded:!i.initial,serverNavigation:i.serverNavigation,remoteViewURLPrefix:i.root||"",layout:i.layout,loader:n.loader}),n.viewEngine.bind(p,function(e){n.trigger(p,e)}),n.viewEngine.bind(v,function(e){n.trigger(v,e)}),n.viewEngine.bind("viewTypeDetermined",function(e){e.remote&&n.options.serverNavigation||n.trigger(g,{url:e.url})}),n._setupAppLinks()},navigateToInitial:function(){var e=this.options.initial;e&&this.navigate(e)},options:{name:"Pane",transition:"",layout:"",initial:null,loading:"<h1>Loading...</h1>"},events:[g,p,v],destroy:function(){a.fn.destroy.call(this),i.destroy(this.element)},navigate:function(e,i){var n=this,t=n.history;if(e===c){if(1===t.length)return;t.pop(),e=t[t.length-1]}else n.history.push(e);n.viewEngine.showView(e,i)},hideLoading:function(){this.loader.hide()},showLoading:function(){this.loader.show()},view:function(){return this.viewEngine.view()},_setupAppLinks:function(){this.element.handler(this).on("down",t(m),"_mouseup").on("up",t(f),"_mouseup").on("click",t(m+" "+f),"_appLinkClick")},_appLinkClick:function(i){var n="#"!==i.currentTarget.href[0]&&this.options.serverNavigation;n||w(e(i.currentTarget),"rel")==l||i.preventDefault()},_mouseup:function(t){if(!(t.which>1||t.isDefaultPrevented())){var a=this,r=e(t.currentTarget),s=w(r,"transition"),g=w(r,"rel")||"",p=w(r,"target"),v=r.attr(u),c=v&&"#"!==v[0]&&this.options.serverNavigation;c||g===l||undefined===v||v===d||(r.attr(u,d),setTimeout(function(){r.attr(u,v)}),g.match(h)?(i.widgetInstance(e(v),o).openFor(r),"actionsheet"===g&&t.stopPropagation()):("_top"===p?a=n.application.pane:p&&(a=e("#"+p).data("kendoMobilePane")),a.navigate(v,s)),t.preventDefault())}}});o.plugin(k)}(window.kendo.jQuery);;!function(e,i){function t(e,i){var t=[];return u&&t.push("km-on-"+u.name),e.skin?t.push("km-"+e.skin):("ios"==e.name&&e.majorVersion>6?t.push("km-ios7"):t.push("km-"+e.name),t.push("km-"+e.name+e.majorVersion),t.push("km-"+e.majorVersion),t.push("km-m"+(e.minorVersion?e.minorVersion[0]:0))),e.appMode?t.push("km-app"):t.push("km-web"),i&&i.statusBarStyle&&t.push("km-"+i.statusBarStyle+"-status-bar"),t.join(" ")}function n(){return 0===parseInt(e("<div style='background: Background' />").css("background-color").split(",")[1],10)?"dark":"light"}function o(e){return u.wp?"-kendo-landscape"==e.css("animation-name"):1==Math.abs(window.orientation)/90}function a(e){return o(e)?v:w}function s(e){e.parent().addBack().css("min-height",window.innerHeight)}function r(){e("meta[name=viewport]").remove(),H.append(g({height:", width=device-width"+(o()?", height="+window.innerHeight+"px":d.mobileOS.flatVersion>=600&&d.mobileOS.flatVersion<700?", height="+window.innerWidth+"px":", height=device-height")}))}var l=window.kendo,p=l.mobile,d=l.support,c=p.ui.Pane,m="ios",u=d.mobileOS,h="blackberry"==u.device&&u.flatVersion>=600&&u.flatVersion<1e3&&u.appMode,w="km-vertical",v="km-horizontal",f={ios7:{ios:!0,browser:"default",device:"iphone",flatVersion:"700",majorVersion:"7",minorVersion:"0.0",name:"ios",tablet:!1},ios:{ios:!0,browser:"default",device:"iphone",flatVersion:"612",majorVersion:"6",minorVersion:"1.2",name:"ios",tablet:!1},android:{android:!0,browser:"default",device:"android",flatVersion:"233",majorVersion:"2",minorVersion:"3.3",name:"android",tablet:!1},blackberry:{blackberry:!0,browser:"default",device:"blackberry",flatVersion:"710",majorVersion:"7",minorVersion:"1.0",name:"blackberry",tablet:!1},meego:{meego:!0,browser:"default",device:"meego",flatVersion:"850",majorVersion:"8",minorVersion:"5.0",name:"meego",tablet:!1},wp:{wp:!0,browser:"default",device:"wp",flatVersion:"800",majorVersion:"8",minorVersion:"0.0",name:"wp",tablet:!1}},g=l.template('<meta content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no#=data.height#" name="viewport" />',{usedWithBlock:!1}),b=l.template('<meta name="apple-mobile-web-app-capable" content="#= data.webAppCapable === false ? \'no\' : \'yes\' #" /> <meta name="apple-mobile-web-app-status-bar-style" content="#=data.statusBarStyle#" /> <meta name="msapplication-tap-highlight" content="no" /> ',{usedWithBlock:!1}),k=l.template("<style>.km-view { clip: rect(0 #= data.width #px #= data.height #px 0); }</style>",{usedWithBlock:!1}),V=u.android||u.blackberry||u.meego,y=g({height:""}),_=l.template('<link rel="apple-touch-icon'+(u.android?"-precomposed":"")+'" # if(data.size) { # sizes="#=data.size#" #}# href="#=data.icon#" />',{usedWithBlock:!1}),B=("iphone"==u.device||"ipod"==u.device)&&u.majorVersion<7,S=("iphone"==u.device||"ipod"==u.device)&&u.majorVersion>=7,C=S?"none":null,j="mobilesafari"==u.browser?60:0,x=e(window),H=e("head"),z="init",T=e.proxy,E=l.Observable.extend({init:function(i,t){var n=this;p.application=n,n.options=e.extend({hideAddressBar:!0,useNativeScrolling:!1,statusBarStyle:"black",transition:"",updateDocumentTitle:!0},t),l.Observable.fn.init.call(n,n.options),n.bind(n.events,n.options),e(function(){i=e(i),n.element=i[0]?i:e(document.body),n._setupPlatform(),n._setupElementClass(),n._attachHideBarHandlers(),n.pane=new c(n.element,n.options),n.pane.navigateToInitial(),n._attachMeta(),n.options.updateDocumentTitle&&n._setupDocumentTitle(),n._startHistory(),n.trigger(z)})},events:[z],navigate:function(e,i){this.pane.navigate(e,i)},scroller:function(){return this.view().scroller},hideLoading:function(){if(!this.pane)throw Error("The mobile application instance is not fully instantiated. Please consider activating loading in the application init event handler.");this.pane.hideLoading()},showLoading:function(){if(!this.pane)throw Error("The mobile application instance is not fully instantiated. Please consider activating loading in the application init event handler.");this.pane.showLoading()},view:function(){return this.pane.view()},skin:function(e){var i=this;return arguments.length?(i.options.skin=e||"",i.element[0].className="km-pane",i._setupPlatform(),i._setupElementClass(),i.options.skin):i.options.skin},_setupPlatform:function(){var i,o=this,a=o.options.platform,s=o.options.skin,r=u||f[m];a&&(r="string"==typeof a?e.extend({},r,f[a]):a),s&&(r=e.extend({},r,{skin:s})),o.os=r,o.osCssClass=t(o.os,o.options),r.skin||"wp"!=r.name||(o.element.parent().css("overflow","hidden"),i=function(){o.element.removeClass("km-wp-dark km-wp-light").addClass("km-wp-"+n())},e(window).on("focusin",i),document.addEventListener("resume",i),i())},_startHistory:function(){var e=this,i=e.options.initial,t=new l.Router({pushState:e.options.pushState,root:e.options.root,init:function(n){var o=n.url,a=e.options.pushState?o:"/";e.pane.viewEngine.rootView.attr(l.attr("url"),a),"/"===o&&i&&(t.navigate(i,!0),n.preventDefault())},routeMissing:function(i){e.pane.navigate(i.url,C)}});e.pane.bind("navigate",function(e){t.navigate(e.url,!0)}),t.start(),e.router=t},_setupElementClass:function(){var i,t=this,n=t.element;n.parent().addClass("km-root km-"+(t.os.tablet?"tablet":"phone")),n.addClass(t.osCssClass+" "+a(n)),this.options.useNativeScrolling&&n.parent().addClass("km-native-scrolling"),d.wpDevicePixelRatio&&n.parent().css("font-size",d.wpDevicePixelRatio+"em"),h&&r(),t.options.useNativeScrolling?n.parent().addClass("km-native-scrolling"):V&&(i=(window.outerWidth>window.outerHeight?window.outerWidth:window.outerHeight)+200,e(k({width:i,height:i})).appendTo(H)),l.onResize(function(){n.removeClass("km-horizontal km-vertical").addClass(a(n)),t.options.useNativeScrolling&&s(n),h&&r()})},_attachMeta:function(){var e,i=this.options,t=i.icon;if(h||H.prepend(y),H.prepend(b(i)),t){"string"==typeof t&&(t={"":t});for(e in t)H.prepend(_({icon:t[e],size:e}))}i.useNativeScrolling&&s(this.element)},_attachHideBarHandlers:function(){var e=this,i=T(e,"_hideBar");!d.mobileOS.appMode&&e.options.hideAddressBar&&B&&!e.options.useNativeScrolling&&(e._initialHeight={},x.on("load",i),l.onResize(i),e.element[0].addEventListener("touchstart",function(i){l.triggeredByInput(i)||e._hideBar()},!0))},_setupDocumentTitle:function(){var e=this,t=document.title;e.pane.bind("viewShow",function(e){var n=e.view.title;document.title=n!==i?n:t})},_hideBar:function(){var i,t=this,n=t.element,o=window.orientation+"",a=t._initialHeight;a[o]||(a[o]=x.height()),i=a[o]+j,i!=n.height()&&(n.height(i),e(window).trigger(l.support.resize)),setTimeout(window.scrollTo,0,0,1)}});l.mobile.Application=E}(window.kendo.jQuery);;!function(e){var t=window.kendo,i=t.mobile,o=i.ui,n="show",p="hide",r="open",s="close",a='<div class="km-popup-wrapper" />',l='<div class="km-popup-arrow" />',d='<div class="km-popup-overlay" />',h="km-up km-down km-left km-right",c=o.Widget,f={down:{origin:"bottom center",position:"top center"},up:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"}},u={animation:{open:{effects:"fade:in",duration:0},close:{effects:"fade:out",duration:400}}},w={horizontal:{offset:"top",size:"height"},vertical:{offset:"left",size:"width"}},g={up:"down",down:"up",left:"right",right:"left"},m=c.extend({init:function(o,n){var r,s=this,h=o.closest(".km-modalview-wrapper"),g=h[0]?h:i.application.element,m={viewport:i.application.element,open:function(){s.overlay.show()},activate:e.proxy(s._activate,s),deactivate:function(){s.overlay.hide(),s.trigger(p)}};c.fn.init.call(s,o,n),o=s.element,n=s.options,o.wrap(a).addClass("km-popup").show(),r=s.options.direction.match(/left|right/)?"horizontal":"vertical",s.dimensions=w[r],s.wrapper=o.parent().css({width:n.width,height:n.height}).addClass("km-popup-wrapper km-"+n.direction).hide(),s.arrow=e(l).prependTo(s.wrapper).hide(),s.overlay=e(d).appendTo(g).hide(),m.appendTo=s.overlay,s.popup=new t.ui.Popup(s.wrapper,e.extend(!0,m,u,f[n.direction]))},options:{name:"Popup",width:240,height:320,direction:"down"},events:[n,p],show:function(t){var i=this,o=i.popup;o.options.anchor=e(t),o.open()},target:function(){return this.popup.options.anchor},hide:function(){this.popup.close()},destroy:function(){c.fn.destroy.call(this),this.popup.destroy()},_activate:function(){var t=this,i=t.options.direction,o=t.dimensions,p=o.offset,r=t.popup,s=r.options.anchor,a=e(s).offset(),l=e(r.element).offset(),d=r.flipped?g[i]:i,c=a[p]-l[p]+e(s)[o.size]()/2;t.wrapper.removeClass(h).addClass("km-"+d),t.arrow.css(p,c).show(),t.trigger(n)}}),v=c.extend({init:function(i,n){var p,a=this;a.initialOpen=!1,c.fn.init.call(a,i,n),n=a.options,p=e.extend({show:function(){a.trigger(r,{target:a.popup.target()})},hide:function(){a.trigger(s)}},this.options.popup),a.popup=new m(a.element,p),a.pane=new o.Pane(a.element,this.options.pane),a.pane.navigateToInitial(),t.notify(a,o)},options:{name:"PopOver",popup:{},pane:{}},events:[r,s],open:function(e){this.openFor(e)},openFor:function(e){this.popup.show(e),this.initialOpen||(this.pane.navigate(""),this.initialOpen=!0)},close:function(){this.popup.hide()},destroy:function(){c.fn.destroy.call(this),this.pane.destroy(),this.popup.destroy(),t.destroy(this.element)}});o.plugin(m),o.plugin(v)}(window.kendo.jQuery);;!function(i,e){var n=window.kendo,o=n.mobile.ui,t=n.ui.Popup,s='<div class="km-shim"/>',p=o.Widget,a=p.extend({init:function(e,o){var a=this,d=n.mobile.application,h=d?d.os.name:n.support.mobileOS.name,r="ios"===h||"wp"===h||d.os.skin,c="blackberry"===h,l=o.align||(r?"bottom center":c?"center right":"center center"),m=o.position||(r?"bottom center":c?"center right":"center center"),u=o.effect||(r?"slideIn:up":c?"slideIn:left":"fade:in"),f=i(s).handler(a).hide();p.fn.init.call(a,e,o),a.shim=f,a.element=e,a.options.modal||a.shim.on("up","hide"),(d?d.element:i(document.body)).append(f),a.popup=new t(a.element,{anchor:f,modal:!0,appendTo:f,origin:l,position:m,animation:{open:{effects:u,duration:a.options.duration},close:{duration:a.options.duration}},deactivate:function(){f.hide()},open:function(){f.show()}}),n.notify(a)},options:{name:"Shim",modal:!0,align:e,position:e,effect:e,duration:200},show:function(){this.shim.css("height",this.shim.parent()[0].scrollHeight),this.popup.open()},hide:function(e){e&&i.contains(this.shim[0],e.target)||this.popup.close()},destroy:function(){p.fn.destroy.call(this),this.shim.kendoDestroy(),this.popup.destroy(),this.shim.remove()}});o.plugin(a)}(window.kendo.jQuery);;!function(t){var e=window.kendo,i=e.support,n=e.mobile.ui,o=n.Shim,a=n.Popup,s=n.Widget,c="open",r="li>a",p="actionsheetContext",h='<div class="km-actionsheet-wrapper" />',l=e.template('<li class="km-actionsheet-cancel"><a href="\\#">#:cancel#</a></li>'),d=s.extend({init:function(c,p){var d=this,u=i.mobileOS,f=u.tablet?a:o;s.fn.init.call(d,c,p),c=d.element,c.addClass("km-actionsheet").append(l({cancel:d.options.cancel})).wrap(h).on("up",r,"_click").on("click",r,e.preventDefault),d.wrapper=c.parent(),d.shim=new f(d.wrapper,t.extend({modal:u.ios&&u.majorVersion<7},d.options.popup)),e.notify(d,n),e.onResize(t.proxy(this,"_resize"))},events:[c],options:{name:"ActionSheet",cancel:"Cancel",popup:{height:"auto"}},open:function(e,i){var n=this;n.target=t(e),n.context=i,n.shim.show(e)},close:function(){this.context=this.target=null,this.shim.hide()},openFor:function(t){var e=this,i=t.data(p);e.open(t,i),e.trigger(c,{target:t,context:i})},destroy:function(){s.fn.destroy.call(this),this.shim.destroy()},_click:function(i){if(!i.isDefaultPrevented()){var n=t(i.currentTarget).data("action");n&&e.getter(n)(window)({target:this.target,context:this.context}),i.preventDefault(),this.close()}},_resize:function(){if(i.mobileOS.tablet)this.shim.hide();else if(this.element.is(":visible")){var t=this.wrapper.parent(),e=t.parent();t.css({top:e.height()-t.height()+"px",width:e.width()+"px"})}}});n.plugin(d)}(window.kendo.jQuery);;!function(t){function e(e,n,i){t(n.target).closest(".km-button,.km-detail").toggleClass("km-state-active",i),m&&e.deactivateTimeoutID&&(clearTimeout(e.deactivateTimeoutID),e.deactivateTimeoutID=0)}function n(e){return t('<span class="km-badge">'+e+"</span>")}var i=window.kendo,a=i.mobile,s=a.ui,o=s.Widget,l=i.support,c=l.mobileOS,m=c.android&&c.flatVersion>=300,d="click",r=o.extend({init:function(t,n){var a=this;o.fn.init.call(a,t,n),a._wrap(),a._style(),a._userEvents=new i.UserEvents(a.element,{press:function(t){a._activate(t)},tap:function(t){a._release(t)},release:function(t){e(a,t,!1)},end:function(t){i.mobile.application.options.useNativeScrolling&&t.preventDefault()}}),m&&a.element.on("move",function(t){a._timeoutDeactivate(t)})},destroy:function(){o.fn.destroy.call(this),this._userEvents.destroy()},events:[d],options:{name:"Button",icon:"",style:"",badge:""},badge:function(t){var e=this.badgeElement=this.badgeElement||n(t).appendTo(this.element);return t?(e.html(t),this):t===!1?(e.empty().remove(),this.badgeElement=!1,this):e.html()},_timeoutDeactivate:function(t){this.deactivateTimeoutID||(this.deactivateTimeoutID=setTimeout(e,500,this,t,!1))},_activate:function(t){var n=document.activeElement,i=n?n.nodeName:"";e(this,t,!0),("INPUT"==i||"TEXTAREA"==i)&&n.blur()},_release:function(e){var n=this;e.which>1||n.trigger(d,{target:t(e.target),button:n.element})&&e.preventDefault()},_style:function(){var e,n=this.options.style,i=this.element;n&&(e=n.split(" "),t.each(e,function(){i.addClass("km-"+this)}))},_wrap:function(){var e=this,i=e.options.icon,a=e.options.badge,s='<span class="km-icon km-'+i,o=e.element.addClass("km-button"),l=o.children("span:not(.km-icon)").addClass("km-text"),c=o.find("img").addClass("km-image");!l[0]&&o.html()&&(l=o.wrapInner('<span class="km-text" />').children("span.km-text")),!c[0]&&i&&(l[0]||(s+=" km-notext"),e.iconElement=o.prepend(t(s+'" />'))),a&&(e.badgeElement=n(a).appendTo(o))}}),u=r.extend({options:{name:"BackButton",style:"back"},init:function(t,e){var n=this;r.fn.init.call(n,t,e),undefined===n.element.attr("href")&&n.element.attr("href","#:back")}}),p=r.extend({options:{name:"DetailButton",style:""},init:function(t,e){r.fn.init.call(this,t,e)},_style:function(){var e,n=this.options.style+" detail",i=this.element;n&&(e=n.split(" "),t.each(e,function(){i.addClass("km-"+this)}))},_wrap:function(){var e=this,n=e.options.icon,i='<span class="km-icon km-'+n,a=e.element,s=a.children("span"),o=a.find("img").addClass("km-image");!o[0]&&n&&(s[0]||(i+=" km-notext"),a.prepend(t(i+'" />')))}});s.plugin(r),s.plugin(u),s.plugin(p)}(window.kendo.jQuery);;!function(e,n){function t(n){return e('<span class="km-badge">'+n+"</span>")}var i=window.kendo,s=i.mobile.ui,a=s.Widget,d="km-state-active",l="select",r="li:not(."+d+")",o=a.extend({init:function(e,n){var t=this;a.fn.init.call(t,e,n),t.element.addClass("km-buttongroup").find("li").each(t._button),t.element.on(t.options.selectOn,r,"_select"),t.select(t.options.index)},events:[l],options:{name:"ButtonGroup",selectOn:"down",index:-1},current:function(){return this.element.find("."+d)},select:function(t){var i=this,s=-1;t!==n&&-1!==t&&(i.current().removeClass(d),"number"==typeof t?(s=t,t=e(i.element[0].children[t])):t.nodeType&&(t=e(t),s=t.index()),t.addClass(d),i.selectedIndex=s)},badge:function(n,i){var s,a=this.element;return isNaN(n)||(n=a.children().get(n)),n=a.find(n),s=e(n.children(".km-badge")[0]||t(i).appendTo(n)),i?(s.html(i),this):i===!1?(s.empty().remove(),this):s.html()},_button:function(){var n=e(this).addClass("km-button"),s=i.attrValue(n,"icon"),a=i.attrValue(n,"badge"),d=n.children("span"),l=n.find("img").addClass("km-image");d[0]||(d=n.wrapInner("<span/>").children("span")),d.addClass("km-text"),!l[0]&&s&&n.prepend(e('<span class="km-icon km-'+s+'"/>')),a&&t(a).appendTo(n)},_select:function(e){if(!(e.which>1||e.isDefaultPrevented())){var n=this;n.select(e.currentTarget),n.trigger(l)}}});s.plugin(o)}(window.kendo.jQuery);;!function(e){var i=window.kendo,t=i.mobile,n=i.support.mobileOS,s=i.effects.Transition,o=i.roleSelector,h="x",r=t.ui,a=!(n.ios&&7==n.majorVersion),l="beforeShow",d="init",u="show",v="hide",c=r.View.extend({init:function(n,s){var h,r,l;e(n).parent().prepend(n),t.ui.Widget.fn.init.call(this,n,s),this._layout(),this._scroller(),this._model(),this.pane=this.element.closest(o("pane")).data("kendoMobilePane"),h=this,this.pane.bind("viewShow",function(e){h._viewShow(e)}),this.pane.bind("sameViewRequested",function(){h.hide()}),r=function(e){h.visible&&(h.hide(),e.preventDefault())},l=this.userEvents=new i.UserEvents(this.pane.element,{filter:o("view"),allowSelection:!0}),a?(l.bind("start",function(e){h._start(e)}),l.bind("move",function(e){h._update(e)}),l.bind("end",function(e){h._end(e)}),l.bind("tap",r)):l.bind("press",r),this.leftPositioned="left"===this.options.position,this.visible=!1,this.element.addClass("km-drawer").addClass(this.leftPositioned?"km-left-drawer":"km-right-drawer")},options:{name:"Drawer",position:"left",views:[],title:""},events:[l,v,d,u],show:function(){this._activate()&&this._show()},hide:function(){this._transitioning||(this.currentView.scroller&&this.currentView.scroller.enable(),this.visible=!1,c.current=null,this._moveViewTo(0),this.trigger(v,{view:this}))},openFor:function(){this.visible?this.hide():this.show()},destroy:function(){r.View.fn.destroy.call(this),this.userEvents.destroy()},_activate:function(){var e=this.options.views,i=!e[0]||e.indexOf(this.pane.view().id.replace("#",""))>-1;return this.trigger(l,{view:this})||!i?!1:(this._setAsCurrent(),this.trigger(u,{view:this}),!0)},_show:function(){if(!this._transitioning){this.currentView.scroller&&this.currentView.scroller.disable(),this.visible=!0;var e=this.element.width();this.leftPositioned||(e=-e),this._moveViewTo(e)}},_setAsCurrent:function(){c.last!==this&&(c.last&&c.last.element.hide(),this.element.show()),c.last=this,c.current=this},_moveViewTo:function(e){this.userEvents.cancel(),this._transitioning=!0,this.transition.moveTo({location:e,duration:400,ease:s.easeOutExpo})},_viewShow:function(e){var t,n=this,o=this.movable,r=o&&o.x;return this.currentView===e.view?(this.hide(),undefined):(this.currentView=e.view,t=e.view.element,o=this.movable=new i.ui.Movable(t),this.transition=new s({axis:h,movable:this.movable,onEnd:function(){n._transitioning=!1,0===o[h]&&(t[0].style.cssText="")}}),r&&(this.movable.moveAxis(h,r),this.hide()),undefined)},_start:function(e){var t,n,s,o,h,r=e.sender;return Math.abs(e.x.velocity)<Math.abs(e.y.velocity)||i.triggeredByInput(e.event)?(r.cancel(),undefined):(t=this.leftPositioned,n=this.visible,s=t&&n||!t&&!c.current,o=!t&&n||t&&!c.current,h=e.x.velocity<0,(s&&h||o&&!h)&&this._activate()?(r.capture(),undefined):(r.cancel(),undefined))},_update:function(e){var i,t=this.movable,n=t.x+e.x.delta;i=this.leftPositioned?Math.min(Math.max(0,n),this.element.width()):Math.max(Math.min(0,n),-this.element.width()),this.movable.moveAxis(h,i),e.event.preventDefault(),e.event.stopPropagation()},_end:function(e){var i,t=e.x.velocity,n=Math.abs(this.movable.x)>this.element.width()/2,s=.8;i=this.leftPositioned?t>-s&&(t>s||n):s>t&&(-s>t||n),i?this._show():this.hide()}});r.plugin(c)}(window.kendo.jQuery);;!function(t){function e(){return this.nodeType===g.TEXT_NODE&&this.nodeValue.match(G)}function i(t,e){e&&!t[0].querySelector(".km-icon")&&t.prepend('<span class="km-icon km-'+e+'"/>')}function s(t){i(t,x(t,"icon")),i(t,x(t.children(y),"icon"))}function n(t){var s=t.parent(),n=t.add(s.children(m.roleSelector("detailbutton"))),o=s.contents().not(n).not(e);o.length||(t.addClass("km-listview-link").attr(m.attr("role"),"listview-link"),i(t,x(s,"icon")),i(t,x(t,"icon")))}function o(t){if(t[0].querySelector("input[type=checkbox],input[type=radio]")){var e=t.parent();e.contents().not(t).not(function(){return 3==this.nodeType})[0]||(t.addClass("km-listview-label"),t.children("[type=checkbox],[type=radio]").addClass("km-widget"))}}function r(e,i){t(e).css("transform","translate3d(0px, "+i+"px, 0px)")}var a,l,h,d,c,u,f,p,m=window.kendo,g=window.Node,b=m.mobile,v=b.ui,_=m.data.DataSource,w=v.Widget,k=".km-list > li, > li:not(.km-group-container)",S=".km-listview-link, .km-listview-label",y="["+m.attr("icon")+"]",T=t.proxy,x=m.attrValue,C="km-group-title",H="km-state-active",D='<div class="'+C+'"><div class="km-text"></div></div>',I=m.template('<li><div class="'+C+'"><div class="km-text">#= this.headerTemplate(data) #</div></div><ul>#= kendo.render(this.template, data.items)#</ul></li>'),B='<div class="km-listview-wrapper" />',R=m.template('<form class="km-filter-form"><div class="km-filter-wrap"><input type="search" placeholder="#=placeholder#"/><a href="\\#" class="km-filter-reset" title="Clear"><span class="km-icon km-clear"></span><span class="km-text">Clear</span></a></div></form>'),F=".kendoMobileListView",z="styled",V="dataBound",L="dataBinding",O="itemChange",M="click",E="change",P="progress",U="function",G=/^\s+$/,j=/button/,N=m.Class.extend({init:function(t){var e,i,s=t.scroller();s&&(this.options=t.options,this.element=t.element,this.scroller=t.scroller(),this._shouldFixHeaders(),e=this,i=function(){e._cacheHeaders()},m.onResize(i),t.bind(z,i),t.bind(V,i),s.bind("scroll",function(t){e._fixHeader(t)}))},_fixHeader:function(e){if(this.fixedHeaders){var i,s,n,o=0,r=this.scroller,a=this.headers,l=e.scrollTop;do{if(i=a[o++],!i){n=t("<div />");break}s=i.offset,n=i.header}while(s+1>l);this.currentHeader!=o&&(r.fixedContainer.html(n.clone()),this.currentHeader=o)}},_shouldFixHeaders:function(){this.fixedHeaders="group"===this.options.type&&this.options.fixedHeaders},_cacheHeaders:function(){if(this._shouldFixHeaders(),this.fixedHeaders){var e=[],i=this.scroller.scrollTop;this.element.find("."+C).each(function(s,n){n=t(n),e.unshift({offset:n.position().top+i,header:n})}),this.headers=e,this._fixHeader({scrollTop:i})}}}),W=function(){return{page:1}},q=m.Class.extend({init:function(t){var e=this,i=t.options,s=t.scroller(),n=i.pullParameters||W;this.listView=t,this.scroller=s,t.bind("_dataSource",function(t){e.setDataSource(t.dataSource)}),s.setOptions({pullToRefresh:!0,pull:function(){e._pulled=!0,e.dataSource.read(n.call(t,e._first))},pullTemplate:i.pullTemplate,releaseTemplate:i.releaseTemplate,refreshTemplate:i.refreshTemplate})},setDataSource:function(t){var e=this;this._first=t.view()[0],this.dataSource=t,t.bind("change",function(){e._change()})},_change:function(){var t,e=this.scroller,i=this.dataSource;this._pulled&&e.pullHandled(),(this._pulled||!this._first)&&(t=i.view(),t[0]&&(this._first=t[0])),this._pulled=!1}}),Q=m.Observable.extend({init:function(t){var e=this;m.Observable.fn.init.call(e),e.buffer=t.buffer,e.height=t.height,e.item=t.item,e.items=[],e.footer=t.footer,e.buffer.bind("reset",function(){e.refresh()}),e.bind("resize",function(){e.footer&&e.footer.below(e.items[e.items.length-1])})},refresh:function(){for(var t,e,i,s,n=this.buffer,o=this.items,r=!1;o.length;)o.pop().destroy();for(this.bottom=0,this.offset=n.offset,this.top=0,i=this.item,s=0;s<n.viewSize;s++){if(s===n.total()){r=!0;break}e=i(this.content(this.offset+o.length)),e.below(t),t=e,o.push(e),this.bottom=e.bottom}this.itemCount=o.length,this.trigger("reset"),this.trigger("resize",{top:this.top,bottom:this.bottom}),r&&this.trigger("endReached")},totalHeight:function(){var t=this,e=(t.bottom-t.top)/t.itemCount,i=t.buffer.length-t.offset-t.itemCount;return(this.footer?this.footer.height:0)+this.bottom+i*e},batchUpdate:function(t){var e,i=this.height(),s=this.offset;if(this.lastDirection)for(;this.bottom>t+2*i&&0!==this.offset;)this.reOrder(!0);else for(;this.top<t-i;){if(e=this.offset+this.itemCount,e===this.buffer.total()){this.trigger("endReached");break}if(e===this.buffer.length)break;this.reOrder(!1)}s!==this.offset&&this.trigger("resize",{top:this.top,bottom:this.bottom})},reOrder:function(t){var e,i=this.items;t?(this.offset--,e=i.pop(),e.update(this.content(this.offset)),e.above(i[0]),i.unshift(e)):(e=i.shift(),e.update(this.content(this.offset+this.itemCount)),e.below(i[i.length-1]),i.push(e),this.offset++),this.top=i[0].top,this.bottom=i[i.length-1].bottom},update:function(t){var e,i,s,n,o=this,r=this.items,a=this.height(),l=this.itemCount,h=a/2,d=(this.lastTop||0)>t,c=t-h,u=t+a+h;this.lastTop=t,this.lastDirection=d,d?this.top>c&&this.bottom>u+h&&this.offset>0&&(this.offset--,e=r.pop(),i=r[0],e.update(this.content(this.offset)),r.unshift(e),m.effects.animationFrame(function(){e.above(i),o.top=r[0].top,o.bottom=r[r.length-1].bottom,o.trigger("resize",{top:o.top,bottom:o.bottom})})):this.bottom<u&&this.top<c-h&&(n=this.offset+l,n===this.buffer.total()?this.trigger("endReached"):n!==this.buffer.length&&(e=r.shift(),s=r[r.length-1],r.push(e),e.update(this.content(this.offset+this.itemCount)),o.offset++,m.effects.animationFrame(function(){e.below(s),o.top=r[0].top,o.bottom=r[r.length-1].bottom,o.trigger("resize",{top:o.top,bottom:o.bottom})})))},content:function(t){return this.buffer.at(t)}});m.mobile.ui.VirtualList=Q,a=m.Class.extend({init:function(e,i){var s=e.append([i])[0],n=s.offsetHeight;t.extend(this,{top:0,element:s,listView:e,height:n,bottom:n})},update:function(t){this.element=this.listView.setDataItem(this.element,t)},above:function(t){t&&(this.height=this.element.offsetHeight,this.top=t.top-this.height,this.bottom=t.top,r(this.element,this.top))},below:function(t){t&&(this.height=this.element.offsetHeight,this.top=t.bottom,this.bottom=this.top+this.height,r(this.element,this.top))},destroy:function(){m.destroy(this.element),t(this.element).remove()}}),l='<div><span class="km-icon"></span><span class="km-loading-left"></span><span class="km-loading-right"></span></div>',h=m.Class.extend({init:function(e){this.element=t('<li class="km-load-more km-scroller-refresh" style="display: none"></li>').appendTo(e.element),this._loadIcon=t(l).appendTo(this.element)},enable:function(){this.element.show(),this.height=this.element.outerHeight(!0)},disable:function(){this.element.hide(),this.height=this.element.outerHeight(!0)},below:function(t){t&&(this.top=t.bottom,this.bottom=this.height+this.top,r(this.element,this.top))}}),d=h.extend({init:function(e,i){this._loadIcon=t(l).hide(),this._loadButton=t('<a class="km-load">'+e.options.loadMoreText+"</a>").hide(),this.element=t('<li class="km-load-more" style="display: none"></li>').append(this._loadIcon).append(this._loadButton).appendTo(e.element);var s=this;this._loadButton.kendoMobileButton().data("kendoMobileButton").bind("click",function(){s._hideShowButton(),i.next()}),i.bind("resize",function(){s._showLoadButton()}),this.height=this.element.outerHeight(!0),this.disable()},_hideShowButton:function(){this._loadButton.hide(),this.element.addClass("km-scroller-refresh"),this._loadIcon.css("display","block")},_showLoadButton:function(){this._loadButton.show(),this.element.removeClass("km-scroller-refresh"),this._loadIcon.hide()}}),c=m.Class.extend({init:function(t){var e=this;this.listView=t,this.options=t.options,t.bind("_dataSource",function(t){e.setDataSource(t.dataSource)})},destroy:function(){this.list.unbind(),this.buffer.unbind(),m.unbindResize(this._resizeHandler)},setDataSource:function(e){var i,s,n,o=this.options,r=this.listView,l=r.scroller(),c=o.loadMore;this.dataSource&&this._unbindDataSource(),this.dataSource=e,s=new m.data.Buffer(e,Math.floor(e.pageSize()/2),c),i=c?new d(r,s):new h(r),n=new Q({buffer:s,footer:i,item:function(t){return new a(r,t)},height:function(){return l.height()}}),l&&(l.makeVirtual(),l.bind("scroll",function(t){n.update(t.scrollTop)}),l.bind("scrollEnd",function(t){n.batchUpdate(t.scrollTop)}),n.bind("resize",function(){m.effects.animationFrame(function(){l.virtualSize(0,n.totalHeight())})}),n.bind("reset",function(){i.enable()}),n.bind("endReached",function(){i.disable()}),this._resizeHandler=m.onResize(function(){l.reset(),r.element.is(":visible")?(s.range(0),n.refresh()):n._needsRefresh=!0}),r.view().bind("show",function(){n._needsRefresh&&(setTimeout(function(){n.refresh()}),n._needsRefresh=!1)}),s.bind("expand",function(){n.lastDirection=!1,n.batchUpdate(l.scrollTop)})),t.extend(this,{buffer:s,list:n,footer:i})},refresh:function(){this.list.refresh()},_unbindDataSource:function(){}}),u=m.Class.extend({init:function(t){var e,i=this;this.listView=t,this.options=t.options,e=this,this._refreshHandler=function(t){e.refresh(t)},this._progressHandler=function(){t.showLoading()},t.bind("_dataSource",function(t){i.setDataSource(t.dataSource)})},destroy:function(){},refresh:function(t){var e,i=t&&t.action,s=t&&t.items,n=this.listView,o=this.dataSource,r=this.options.appendOnRefresh,a=o.view(),l=o.group(),h=l&&l[0];return"itemchange"===i?(e=n.findByDataItem(s)[0],e&&n.setDataItem(e,s[0]),undefined):(n.trigger(L),"add"!==i||h?"remove"!==i||h?h?n.replaceGrouped(a):r&&!n._filter?n.prepend(a):n.replace(a):n.remove(s):n.append(s),this._shouldShowLoading()&&n.hideLoading(),n.trigger(V,{ns:v}),undefined)},setDataSource:function(t){this.dataSource&&this._unbindDataSource(),this.dataSource=t,t.bind(E,this._refreshHandler),this._shouldShowLoading()&&this.dataSource.bind(P,this._progressHandler)},_unbindDataSource:function(){this.dataSource.unbind(E,this._refreshHandler).unbind(P,this._progressHandler)},_shouldShowLoading:function(){var t=this.options;return!t.pullToRefresh&&!t.loadMore&&!t.endlessScroll}}),f=m.Class.extend({init:function(t){var e=this,i=t.options.filterable,s="change paste";this.listView=t,this.options=i,t.element.before(R({placeholder:i.placeholder||"Search..."})),i.autoFilter!==!1&&(s+=" keyup"),this.searchInput=t.wrapper.find("input[type=search]").closest("form").on("submit"+F,function(t){t.preventDefault()}).end().on("focus"+F,function(){e._oldFilter=e.searchInput.val()}).on(s.split(" ").join(F+" ")+F,T(this._filterChange,this)),this.clearButton=t.wrapper.find(".km-filter-reset").on(M,T(this,"_clearFilter")).hide()},_search:function(t){this._filter=!0,this.clearButton[t?"show":"hide"](),this.listView.dataSource.filter(t)},_filterChange:function(t){var e=this;"paste"==t.type&&this.options.autoFilter!==!1?setTimeout(function(){e._applyFilter()},1):this._applyFilter()},_applyFilter:function(){var t=this.options,e=this.searchInput.val(),i=e.length?{field:t.field,operator:t.operator||"startsWith",ignoreCase:t.ignoreCase,value:e}:null;e!==this._oldFilter&&(this._oldFilter=e,this._search(i))},_clearFilter:function(t){this.searchInput.val(""),this._search(null),t.preventDefault()}}),p=w.extend({init:function(t,e){var i=this;w.fn.init.call(this,t,e),t=this.element,e=this.options,e.scrollTreshold&&(e.scrollThreshold=e.scrollTreshold),t.on("down",S,"_highlight").on("move up cancel",S,"_dim"),this._userEvents=new m.UserEvents(t,{filter:k,allowSelection:!0,tap:function(t){i._click(t)},end:function(t){m.mobile.application.options.useNativeScrolling&&t.preventDefault()}}),t.css("-ms-touch-action","auto"),t.wrap(B),this.wrapper=this.element.parent(),this._headerFixer=new N(this),this._itemsCache={},this._templates(),this.virtual=e.endlessScroll||e.loadMore,this._style(),this._itemBinder=this.virtual?new c(this):new u(this),this.options.pullToRefresh&&(this._pullToRefreshHandler=new q(this)),this.options.filterable&&(this._filter=new f(this)),this.setDataSource(e.dataSource),this._enhanceItems(this.items()),m.notify(this,v)},events:[M,L,V,O],options:{name:"ListView",style:"",type:"flat",autoBind:!0,fixedHeaders:!1,template:"#:data#",headerTemplate:'<span class="km-text">#:value#</span>',appendOnRefresh:!1,loadMore:!1,loadMoreText:"Press to load more",endlessScroll:!1,scrollThreshold:30,pullToRefresh:!1,pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing",pullOffset:140,filterable:!1},refresh:function(){this._itemBinder.refresh()},setOptions:function(t){w.fn.setOptions.call(this,t)},setDataSource:function(t){var e=!t;this.dataSource=_.create(t),this.trigger("_dataSource",{dataSource:this.dataSource}),this.options.autoBind&&!e&&(this.items().remove(),this.dataSource.fetch())},destroy:function(){w.fn.destroy.call(this),m.destroy(this.element),this._userEvents.destroy(),this._itemBinder&&this._itemBinder.destroy(),delete this.element,delete this.wrapper,delete this._userEvents},items:function(){return"group"===this.options.type?this.element.find(".km-list").children():this.element.children().not(".km-load-more")},scroller:function(){return this._scrollerInstance||(this._scrollerInstance=this.element.closest(".km-scroll-wrapper").data("kendoMobileScroller")),this._scrollerInstance},showLoading:function(){var t=this.view();t&&t.loader&&t.loader.show()},hideLoading:function(){var t=this.view();t&&t.loader&&t.loader.hide()},append:function(t){return this._insert(t,"append")},prepend:function(t){return this._insert(t,"prepend")},replace:function(t){return this.element.empty(),this._insert(t,"append")},replaceGrouped:function(e){this.options.type="group",this.element.empty();var i=t(m.render(this.groupTemplate,e));this._enhanceItems(i.children("ul").children("li")),b.init(i),this.element.append(i),this._style()},remove:function(t){var e=this.findByDataItem(t);m.destroy(e),e.remove()},findByDataItem:function(t){var e,i,s=[];for(e=0,i=t.length;i>e;e++)s[e]="[data-"+m.ns+"uid="+t[e].uid+"]";return this.element.find(s.join(","))},setDataItem:function(e,i){var s=this,n=function(n){var o=t(n[0]);t(e).replaceWith(o),s.trigger(O,{item:o,data:i,ns:v})};return this._renderItems([i],n)[0]},_insert:function(t,e){var i=this;return this._renderItems(t,function(s){i.element[e](s);for(var n=0;n<s.length;n++)i.trigger(O,{item:[s[n]],data:t[n],ns:v})})},_renderItems:function(e,i){var s=t(m.render(this.template,e));return i(s),b.init(s),this._enhanceItems(s),s},_dim:function(t){this._toggle(t,!1)},_highlight:function(t){this._toggle(t,!0)},_toggle:function(e,i){if(!(e.which>1)){var s=t(e.currentTarget),n=s.parent(),o=x(s,"role")||"",r=!o.match(j),a=e.isDefaultPrevented();r&&n.toggleClass(H,i&&!a)}},_templates:function(){var t=this.options.template,e=this.options.headerTemplate,i=' data-uid="#=arguments[0].uid || ""#"',s={},n={};typeof t===U&&(s.template=t,t="#=this.template(data)#"),this.template=T(m.template("<li"+i+">"+t+"</li>"),s),n.template=this.template,typeof e===U&&(n._headerTemplate=e,e="#=this._headerTemplate(data)#"),n.headerTemplate=m.template(e),this.groupTemplate=T(I,n)},_click:function(e){if(!(e.event.which>1||e.event.isDefaultPrevented())){var i,s=e.target,n=t(e.event.target),o=n.closest(m.roleSelector("button","detailbutton","backbutton")),r=m.widgetInstance(o,v),a=s.attr(m.attr("uid"));a&&(i=this.dataSource.getByUid(a)),this.trigger(M,{target:n,item:s,dataItem:i,button:r})&&e.preventDefault()}},_styleGroups:function(){var e=this.element.children();e.children("ul").addClass("km-list"),e.each(function(){var e=t(this),i=e.contents().first();e.addClass("km-group-container"),i.is("ul")||i.is("div."+C)||i.wrap(D)})},_style:function(){var t=this.options,e="group"===t.type,i=this.element,s="inset"===t.style;i.addClass("km-listview").toggleClass("km-list",!e).toggleClass("km-virtual-list",this.virtual).toggleClass("km-listinset",!e&&s).toggleClass("km-listgroup",e&&!s).toggleClass("km-listgroupinset",e&&s),i.parents(".km-listview")[0]||i.closest(".km-content").toggleClass("km-insetcontent",s),e&&this._styleGroups(),this.trigger(z)},_enhanceItems:function(e){e.each(function(){var e,i=t(this),r=!1;i.children().each(function(){e=t(this),e.is("a")?(n(e),r=!0):e.is("label")&&(o(e),r=!0)}),r||s(i)})}}),v.plugin(p)}(window.kendo.jQuery);;!function(e){var i=window.kendo,t=i.mobile.ui,n=t.Shim,s=t.Widget,o="open",h="close",r="init",l='<div class="km-modalview-wrapper" />',a=t.View.extend({init:function(e,t){var o,h,a=this;s.fn.init.call(a,e,t),e=a.element,t=a.options,o=e[0].style.width||e.css("width"),h=e[0].style.height||e.css("height"),e.addClass("km-modalview").wrap(l),a.wrapper=e.parent().css({width:t.width||o||300,height:t.height||h||300}),e.css({width:"",height:""}),a.shim=new n(a.wrapper,{modal:t.modal,position:"center center",align:"center center",effect:"fade:in"}),a._layout(),a._scroller(),a._model(),a.element.css("display",""),a.trigger(r),i.onResize(function(){var e=a.wrapper.parent(),i=e.parent();e.css({top:(i.height()-e.height())/2+"px",left:(i.width()-e.width())/2+"px"})})},events:[r,o,h],options:{name:"ModalView",modal:!0,width:null,height:null},destroy:function(){s.fn.destroy.call(this),this.shim.destroy()},open:function(i){var t=this;t.target=e(i),t.shim.show(),t.trigger("show",{view:t})},openFor:function(e){this.open(e),this.trigger(o,{target:e})},close:function(){this.shim.hide(),this.trigger(h)}});t.plugin(a)}(window.kendo.jQuery);;!function(e){function t(t,i){var l=i.find("["+n.attr("align")+"="+t+"]");return l[0]?e('<div class="km-'+t+'item" />').append(l).prependTo(i):undefined}function i(t){var i=t.siblings(),n=!!t.children("ul")[0],l=!!i[0]&&""===e.trim(t.text());t.prevAll().toggleClass("km-absolute",n),t.toggleClass("km-show-title",l),t.toggleClass("km-fill-title",l&&!e.trim(t.html())),t.toggleClass("km-no-title",n),t.toggleClass("km-hide-title","hidden"==t.css("visibility")&&!i.children().is(":visible"))}var n=window.kendo,l=n.mobile,s=l.ui,o=n.roleSelector,r=s.Widget,a=r.extend({init:function(i,n){var l=this;r.fn.init.call(l,i,n),i=l.element,l.container().bind("show",e.proxy(this,"refresh")),i.addClass("km-navbar").wrapInner(e('<div class="km-view-title km-show-title" />')),l.leftElement=t("left",i),l.rightElement=t("right",i),l.centerElement=i.find(".km-view-title")},options:{name:"NavBar"},title:function(e){this.element.find(o("view-title")).text(e),i(this.centerElement)},refresh:function(e){var t=e.view;t.options.title?this.title(t.options.title):i(this.centerElement)},destroy:function(){r.fn.destroy.call(this),n.destroy(this.element)}});s.plugin(a)}(window.kendo.jQuery);;!function(e,t){var i,n,s,a,o,h,r,c,p=window.kendo,g=p.mobile,d=g.ui,l=e.proxy,u=p.effects.Transition,f=p.ui.Pane,m=p.ui.PaneDimensions,_=d.Widget,v=p.data.DataSource,w=p.data.Buffer,P=p.data.BatchBuffer,b=Math,y=b.abs,x=b.ceil,T=b.round,S=b.max,C=b.min,E=b.floor,z="change",R="changing",O="refresh",V="km-current-page",W="function",k=3,M=-1,B=0,D=1,H=-1,U=0,I=1,q=p.Class.extend({init:function(t){var i=this,n=e("<ol class='km-pages'/>");t.element.append(n),this._changeProxy=l(i,"_change"),this._refreshProxy=l(i,"_refresh"),t.bind(z,this._changeProxy),t.bind(O,this._refreshProxy),e.extend(i,{element:n,scrollView:t})},items:function(){return this.element.children()},_refresh:function(e){var t,i="";for(t=0;t<e.pageCount;t++)i+="<li/>";this.element.html(i),this.items().eq(e.page).addClass(V)},_change:function(e){this.items().removeClass(V).eq(e.page).addClass(V)},destroy:function(){this.scrollView.unbind(z,this._changeProxy),this.scrollView.unbind(O,this._refreshProxy),this.element.remove()}});p.mobile.ui.ScrollViewPager=q,i="transitionEnd",n="dragStart",s="dragEnd",a=p.Observable.extend({init:function(t,a){var o,h,r,c,g,d,l=this;p.Observable.fn.init.call(this),this.element=t,this.container=t.parent(),o=new p.ui.Movable(l.element),h=new u({axis:"x",movable:o,onEnd:function(){l.trigger(i)}}),r=new p.UserEvents(t,{start:function(e){2*y(e.x.velocity)>=y(e.y.velocity)?r.capture():r.cancel(),l.trigger(n,e),h.cancel()},allowSelection:!0,end:function(e){l.trigger(s,e)}}),c=new m({element:l.element,container:l.container}),g=c.x,g.bind(z,function(){l.trigger(z)}),d=new f({dimensions:c,userEvents:r,movable:o,elastic:!0}),e.extend(l,{duration:a&&a.duration||1,movable:o,transition:h,userEvents:r,dimensions:c,dimension:g,pane:d}),this.bind([i,n,s,z],a)},size:function(){return{width:this.dimensions.x.getSize(),height:this.dimensions.y.getSize()}},total:function(){return this.dimension.getTotal()},offset:function(){return-this.movable.x},updateDimension:function(){this.dimension.update(!0)},refresh:function(){this.dimensions.refresh()},moveTo:function(e){this.movable.moveAxis("x",-e)},transitionTo:function(e,t,i){i?this.moveTo(-e):this.transition.moveTo({location:e,duration:this.duration,ease:t})}}),p.mobile.ui.ScrollViewElasticPane=a,o=p.Observable.extend({init:function(e,t){var i=this;p.Observable.fn.init.call(this),i.element=e,i.pane=t,i._getPages(),this.page=0,this.pageSize=1},scrollTo:function(e,t){this.page=e,this.pane.transitionTo(-e*this.pane.size().width,u.easeOutExpo,t)},paneMoved:function(e,t,i){var n,s,a=this,o=a.pane,h=o.size().width*a.pageSize,r=T,c=t?u.easeOutBack:u.easeOutExpo;e===H?r=x:e===I&&(r=E),s=r(o.offset()/h),n=S(a.minSnap,C(-s*h,a.maxSnap)),s!=a.page&&i&&i({currentPage:a.page,nextPage:s})&&(n=-a.page*o.size().width),o.transitionTo(n,c)},updatePage:function(){var e=this.pane,t=T(e.offset()/e.size().width);return t!=this.page?(this.page=t,!0):!1},forcePageUpdate:function(){return this.updatePage()},resizeTo:function(e){var t=this.pane,i=e.width;this.pageElements.width(i),t.updateDimension(),this._paged||(this.page=E(t.offset()/i)),this.scrollTo(this.page,!0),this.pageCount=x(t.total()/i),this.minSnap=-(this.pageCount-1)*i,this.maxSnap=0},_getPages:function(){this.pageElements=this.element.find("[data-role=page]"),this._paged=this.pageElements.length>0}}),p.mobile.ui.ScrollViewContent=o,h=p.Observable.extend({init:function(e,t,i){var n=this;p.Observable.fn.init.call(this),n.element=e,n.pane=t,n.options=i,n._templates(),n.page=0,n.pages=[],n._initPages(),n.resizeTo(n.pane.size()),n.dataSource=v.create(i.dataSource),n._buffer(),n._pendingPageRefresh=!1,n._pendingWidgetRefresh=!1,n.options.autoBind&&n.dataSource.fetch(),n.pane.dimension.forceEnabled()},_viewShow:function(){var e=this;e._pendingWidgetRefresh&&(setTimeout(function(){e._resetPages()},0),e._pendingWidgetRefresh=!1)},_buffer:function(){var e=this.options.itemsPerPage;this.buffer=e>1?new P(this.dataSource,e):new w(this.dataSource,3*e),this._resizeProxy=l(this,"_onResize"),this._resetProxy=l(this,"_onReset"),this._endReachedProxy=l(this,"_onEndReached"),this.buffer.bind({resize:this._resizeProxy,reset:this._resetProxy,endreached:this._endReachedProxy})},_templates:function(){var e=this.options.template,t=this.options.emptyTemplate,i={},n={};typeof e===W&&(i.template=e,e="#=this.template(data)#"),this.template=l(p.template(e),i),typeof t===W&&(n.emptyTemplate=t,t="#=this.emptyTemplate(data)#"),this.emptyTemplate=l(p.template(t),n)},_initPages:function(){var e,t,i=this.pages,n=this.element;for(t=0;k>t;t++)e=new r(n),i.push(e);this.pane.updateDimension()},resizeTo:function(e){var t,i,n=this.pages,s=this.pane;for(t=0;t<n.length;t++)n[t].setWidth(e.width);"auto"===this.options.contentHeight?this.element.css("height",this.pages[1].element.height()):"100%"===this.options.contentHeight&&(i=this.element.parent().height(),this.element.css("height",i),n[0].element.css("height",i),n[1].element.css("height",i),n[2].element.css("height",i)),s.updateDimension(),this._repositionPages(),this.width=e.width},scrollTo:function(e){var t,i=this.buffer;i.syncDataSource(),t=i.at(e),t&&(this._updatePagesContent(e),this.page=e)},paneMoved:function(e,t,i){var n=this,s=n.pane,a=s.size().width,o=s.offset(),h=Math.abs(o)>=a/3,r=t?p.effects.Transition.easeOutBack:p.effects.Transition.easeOutExpo,c=n.page+2>n.buffer.total(),g=0;e===I?0!==n.page&&(g=-1):e!==H||c?o>0&&h&&!c?g=1:0>o&&h&&0!==n.page&&(g=-1):g=1,i&&i()&&(g=0),0===g?n._cancelMove(r):-1===g?n._moveBackward():1===g&&n._moveForward()},updatePage:function(){var e=this.pages;return 0===this.pane.offset()?!1:(this.pane.offset()>0?(e.push(this.pages.shift()),this.page++,this.setPageContent(e[2],this.page+1)):(e.unshift(this.pages.pop()),this.page--,this.setPageContent(e[0],this.page-1)),this._repositionPages(),this._resetMovable(),!0)},forcePageUpdate:function(){var e=this.pane.offset(),t=3*this.pane.size().width/4;return y(e)>t?this.updatePage():!1},_resetMovable:function(){this.pane.moveTo(0)},_moveForward:function(e){this.pane.transitionTo(-this.width,p.effects.Transition.easeOutExpo,e)},_moveBackward:function(e){this.pane.transitionTo(this.width,p.effects.Transition.easeOutExpo,e)},_cancelMove:function(e){this.pane.transitionTo(0,e,!1)},_resetPages:function(){this._updatePagesContent(),this._repositionPages(),this.page=0,this.trigger("reset")},_onResize:function(){var e=this.pages[2],t=this.page+1;this._pendingPageRefresh&&(this.setPageContent(e,t),this._pendingPageRefresh=!1)},_onReset:function(){this.pageCount=this.dataSource.total(),this.element.is(":visible")?this._resetPages():this._widgetNeedsRefresh=!0},_onEndReached:function(){this._pendingPageRefresh=!0},_repositionPages:function(){var e=this.pages;e[0].position(M),e[1].position(B),e[2].position(D)},_updatePagesContent:function(e){var t=this.pages,i=e||0;this.setPageContent(t[0],i-1),this.setPageContent(t[1],i),this.setPageContent(t[2],i+1)},setPageContent:function(e,t){var i,n=this.buffer,s=this.template,a=this.emptyTemplate;t>=0&&(i=n.at(t)),i?e.content(s(i)):e.content(a({})),p.mobile.init(e.element)}}),p.mobile.ui.VirtualScrollViewContent=h,r=p.Class.extend({init:function(t){this.element=e("<div class='km-virtual-page'></div>"),this.width=t.width(),this.element.width(this.width),t.append(this.element)},content:function(e){this.element.html(e)},position:function(e){this.element.css("transform","translate3d("+this.width*e+"px, 0, 0)")},setWidth:function(e){this.width=e,this.element.width(e)}}),p.mobile.ui.VirtualPage=r,c=_.extend({init:function(e,t){var i=this;_.fn.init.call(i,e,t),t=i.options,e=i.element,p.stripWhitespace(e[0]),e.wrapInner("<div/>").addClass("km-scrollview"),this.options.enablePager&&(this.pager=new q(this)),i.inner=e.children().first(),i.page=0,i.inner.css("height",t.contentHeight),i.container().bind("show",l(this,"viewShow")).bind("init",l(this,"viewInit")),i.pane=new a(i.inner,{duration:this.options.duration,transitionEnd:l(this,"_transitionEnd"),dragStart:l(this,"_dragStart"),dragEnd:l(this,"_dragEnd"),change:l(this,O)}),i.page=t.page,i._content=t.dataSource?new h(i.inner,i.pane,t):new o(i.inner,i.pane),i._content.page=i.page,i._content.bind("reset",function(){i._syncWithContent()})},options:{name:"ScrollView",page:0,duration:300,velocityThreshold:.8,contentHeight:"auto",pageSize:1,itemsPerPage:1,bounceVelocityThreshold:1.6,enablePager:!0,autoBind:!0,template:"",emptyTemplate:""},events:[R,z,O],destroy:function(){_.fn.destroy.call(this),p.destroy(this.element)},viewInit:function(){this._content.scrollTo(this._content.page,!0)},viewShow:function(){this.pane.refresh()},refresh:function(){var e=this._content;e.resizeTo(this.pane.size()),this.page=e.page,this.trigger(O,{pageCount:e.pageCount,page:e.page})},content:function(e){this.element.children().first().html(e),this.pane.refresh()},scrollTo:function(e,t){this._content.scrollTo(e,t),this._syncWithContent()},_syncWithContent:function(){var e,i,n=this._content.pages,s=this._content.buffer;this.page=this._content.page,e=s?s.at(this.page):t,e instanceof Array||(e=[e]),i=n?n[1].element:t,this.trigger(z,{page:this.page,element:i,data:e})},_dragStart:function(){this._content.forcePageUpdate()&&this._syncWithContent()},_dragEnd:function(e){var t=this,i=e.x.velocity,n=this.options.velocityThreshold,s=U,a=y(i)>this.options.bounceVelocityThreshold;i>n?s=I:-n>i&&(s=H),this._content.paneMoved(s,a,function(e){return t.trigger(R,e)})},_transitionEnd:function(){this._content.updatePage()&&this._syncWithContent()}}),d.plugin(c)}(window.kendo.jQuery);;!function(i){var t=window.kendo,e=t.mobile.ui,n=e.Widget,o=e.View,a=o.extend({init:function(o,a){var s,l=this;n.fn.init.call(l,o,a),o=l.element,i.extend(l,a),l._id(),l._layout(),l._style(),t.mobile.init(o.children(t.roleSelector("modalview"))),l.panes=[],l._paramsHistory=[],l.element.children(t.roleSelector("pane")).each(function(){s=t.initWidget(this,{},e.roles),l.panes.push(s)})},options:{name:"SplitView",style:"horizontal"},_layout:function(){var e=this,n=e.element;n.data("kendoView",e).addClass("km-view km-splitview"),e.transition=t.attrValue(n,"transition"),i.extend(e,{header:[],footer:[],content:n})},_style:function(){var t,e=this.options.style,n=this.element;e&&(t=e.split(" "),i.each(t,function(){n.addClass("km-split-"+this)}))},showStart:function(){var t=this;t.element.css("display",""),t.inited||(t.inited=!0,i.each(t.panes,function(){this.options.initial?this.navigateToInitial():this.navigate("")}),t.trigger("init",{view:t})),t.trigger("show",{view:t})}});e.plugin(a)}(window.kendo.jQuery);;!function(e,n){function t(e,n,t){return Math.max(n,Math.min(t,e))}var a=window.kendo,s=a.mobile.ui,i=s.Widget,o=a.support,r="change",c="km-switch-on",d="km-switch-off",h="margin-left",p="km-state-active",l=o.transitions.css+"transform",u=e.proxy,k=i.extend({init:function(n,t){var s,o=this;i.fn.init.call(o,n,t),o._wrapper(),o._drag(),o._background(),o.origin=parseInt(o.background.css(h),10),o._handle(),o.constrain=0,o.snapPoint=0,o.container().bind("show",e.proxy(this,"refresh")),n=o.element[0],n.type="checkbox",o._animateBackground=!0,s=o.options.checked,null===s&&(s=n.checked),o.check(s),o.refresh(),a.notify(o,a.mobile.ui)},refresh:function(){var e=this;e.width=e.wrapper.width(),e.handleWidth=e.handle.outerWidth(!0),e.constrain=e.width-e.handleWidth,e.snapPoint=e.width/2-e.handleWidth/2,"number"!=typeof e.origin&&(e.origin=parseInt(e.background.css(h),10)),e.background.data("origin",e.origin),e.check(e.element[0].checked)},events:[r],options:{name:"Switch",onLabel:"on",offLabel:"off",checked:null},check:function(e){var t=this,a=t.element[0];return e===n?a.checked:(t._position(e?t.constrain:0),a.checked=e,t.wrapper.toggleClass(c,e).toggleClass(d,!e),n)},destroy:function(){i.fn.destroy.call(this),this.userEvents.destroy()},toggle:function(){var e=this;e.check(!e.element[0].checked)},_move:function(e){var n=this;e.preventDefault(),n._position(t(n.position+e.x.delta,0,n.width-n.handle.outerWidth(!0)))},_position:function(e){var n=this;n.position=e,n.handle.css(l,"translatex("+e+"px)"),n._animateBackground&&n.background.css(h,n.origin+e)},_start:function(){this.userEvents.capture(),this.handle.addClass(p)},_stop:function(){var e=this;e.handle.removeClass(p),e._toggle(e.position>e.snapPoint)},_toggle:function(e){var n,t=this,s=t.handle,i=t.element[0],o=i.checked,h=a.mobile.application&&a.mobile.application.os.wp?100:200;t.wrapper.toggleClass(c,e).toggleClass(d,!e),t.position=n=e*t.constrain,t._animateBackground&&t.background.kendoStop(!0,!0).kendoAnimate({effects:"slideMargin",offset:n,reset:!0,reverse:!e,axis:"left",duration:h}),s.kendoStop(!0,!0).kendoAnimate({effects:"slideTo",duration:h,offset:n+"px,0",reset:!0,complete:function(){o!==e&&(i.checked=e,t.trigger(r,{checked:e}))}})},_background:function(){var n,t=this;n=e("<span class='km-switch-wrapper'><span class='km-switch-background'></span></span>").appendTo(t.wrapper).children(".km-switch-background"),t.background=n},_handle:function(){var n=this,t=n.options;n.handle=e("<span class='km-switch-container'><span class='km-switch-handle' /></span>").appendTo(n.wrapper).children(".km-switch-handle"),n.handle.append('<span class="km-switch-label-on">'+t.onLabel+'</span><span class="km-switch-label-off">'+t.offLabel+"</span>")},_wrapper:function(){var e=this,n=e.element,t=n.parent("span.km-switch");t[0]||(t=n.wrap('<span class="km-switch"/>').parent()),e.wrapper=t.addClass("km-widget")},_drag:function(){var e=this;e.userEvents=new a.UserEvents(e.wrapper,{tap:function(){e._toggle(!e.element[0].checked)},start:u(e._start,e),move:u(e._move,e),end:u(e._stop,e)})}});s.plugin(k)}(window.kendo.jQuery);;!function(e){function t(t){return e('<span class="km-badge">'+t+"</span>")}var n=window.kendo,i=n.mobile.ui,r=i.Widget,s="km-state-active",a="select",l=r.extend({init:function(t,n){var i=this;r.fn.init.call(i,t,n),i.container().bind("show",e.proxy(this,"refresh")),i.element.addClass("km-tabstrip").find("a").each(i._buildButton).eq(i.options.selectedIndex).addClass(s),i.element.on("down","a","_release")},events:[a],switchTo:function(t){var n,i,r=this.element.find("a"),s=0,a=r.length;if(!isNaN(t))return this._setActiveItem(r.eq(t)),!0;for(;a>s;s++)if(n=r[s],i=n.href.replace(/(\#.+)(\?.+)$/,"$1"),-1!==i.indexOf(t,i.length-t.length))return this._setActiveItem(e(n)),!0;return!1},switchByFullUrl:function(e){var t;t=this.element.find("a[href$='"+e+"']"),this._setActiveItem(t)},clear:function(){this.currentItem().removeClass(s)},currentItem:function(){return this.element.children("."+s)},badge:function(n,i){var r,s=this.element;return isNaN(n)||(n=s.children().get(n)),n=s.find(n),r=e(n.find(".km-badge")[0]||t(i).insertAfter(n.children(".km-icon"))),i?(r.html(i),this):i===!1?(r.empty().remove(),this):r.html()},_release:function(t){if(!(t.which>1)){var n=this,i=e(t.currentTarget);i[0]!==n.currentItem()[0]&&(n.trigger(a,{item:i})?t.preventDefault():n._setActiveItem(i))}},_setActiveItem:function(e){e[0]&&(this.clear(),e.addClass(s))},_buildButton:function(){var i=e(this),r=n.attrValue(i,"icon"),s=n.attrValue(i,"badge"),a=i.find("img"),l=e('<span class="km-icon"/>');i.addClass("km-button").attr(n.attr("role"),"tab").contents().not(a).wrapAll('<span class="km-text"/>'),a[0]?a.addClass("km-image").prependTo(i):(i.prepend(l),r&&(l.addClass("km-"+r),s&&t(s).insertAfter(l)))},refresh:function(e){var t=e.view.element.attr(n.attr("url"));!this.switchTo(e.view.id)&&t&&this.switchTo(t)},destroy:function(){r.fn.destroy.call(this)},options:{name:"TabStrip",selectedIndex:0,enable:!0}});i.plugin(l)}(window.kendo.jQuery);;!function(t){var e=window.kendo,n=e.ui.Widget,i=t.proxy,a=Math.abs,o=20,r=e.Class.extend({init:function(n,i,o){o=t.extend({minXDelta:30,maxYDelta:20,maxDuration:1e3},o),new e.UserEvents(n,{surface:o.surface,allowSelection:!0,start:function(t){2*a(t.x.velocity)>=a(t.y.velocity)&&t.sender.capture()},move:function(t){var e=t.touch,n=t.event.timeStamp-e.startTime,r=e.x.initialDelta>0?"right":"left";a(e.x.initialDelta)>=o.minXDelta&&a(e.y.initialDelta)<o.maxYDelta&&n<o.maxDuration&&(i({direction:r,touch:e,target:e.target}),e.cancel())}})}}),c=n.extend({init:function(t,a){function o(t){return function(e){c._triggerTouch(t,e)}}function r(t){return function(e){c.trigger(t,{touches:e.touches,distance:e.distance,center:e.center,event:e.event})}}var c=this;n.fn.init.call(c,t,a),a=c.options,t=c.element,c.events=new e.UserEvents(t,{filter:a.filter,surface:a.surface,multiTouch:a.multiTouch,allowSelection:!0,press:i(c,"_touchstart"),tap:i(c,"_tap"),gesturestart:r("gesturestart"),gesturechange:r("gesturechange"),gestureend:r("gestureend")}),a.enableSwipe?(c.events.bind("start",i(c,"_swipestart")),c.events.bind("move",i(c,"_swipemove"))):(c.events.bind("start",i(c,"_dragstart")),c.events.bind("move",o("drag")),c.events.bind("end",o("dragend"))),e.notify(c)},events:["touchstart","dragstart","drag","dragend","tap","doubletap","hold","swipe","gesturestart","gesturechange","gestureend"],options:{name:"Touch",surface:null,global:!1,multiTouch:!1,enableSwipe:!1,minXDelta:30,maxYDelta:20,maxDuration:1e3,minHold:800,doubleTapTimeout:800},_cancelHold:function(){clearTimeout(this.holdTimeout)},_triggerTouch:function(t,e){this.trigger(t,{touch:e.touch,event:e.event})},_touchstart:function(t){var e=this;e._triggerTouch("touchstart",t),e._cancelHold(),e.holdTimeout=setTimeout(function(){e._triggerTouch("hold",t)},e.options.minHold)},_tap:function(t){var n=this,i=n.lastTap,a=t.touch;n._cancelHold(),i&&a.endTime-i.endTime<n.options.doubleTapTimeout&&e.touchDelta(a,i).distance<o?(n._triggerTouch("doubletap",t),n.lastTap=null):(n._triggerTouch("tap",t),n.lastTap=a)},_dragstart:function(t){this._cancelHold(),this._triggerTouch("dragstart",t)},_swipestart:function(t){this._cancelHold(),2*a(t.x.velocity)>=a(t.y.velocity)&&t.sender.capture()},_swipemove:function(t){var e=this,n=e.options,i=t.touch,o=t.event.timeStamp-i.startTime,r=i.x.initialDelta>0?"right":"left";e._cancelHold(),a(i.x.initialDelta)>=n.minXDelta&&a(i.y.initialDelta)<n.maxYDelta&&o<n.maxDuration&&(e.trigger("swipe",{direction:r,touch:t.touch}),i.cancel())}});window.jQuery.fn.kendoMobileSwipe=function(t,e){this.each(function(){new r(this,t,e)})},e.ui.plugin(c)}(window.kendo.jQuery);;!function(e,t){function n(t,n,r){var i,s,l,u={};if(t.sort?(u[this.options.prefix+"sort"]=e.map(t.sort,function(e){return e.field+"-"+e.dir}).join("~"),delete t.sort):u[this.options.prefix+"sort"]="",t.page&&(u[this.options.prefix+"page"]=t.page,delete t.page),t.pageSize&&(u[this.options.prefix+"pageSize"]=t.pageSize,delete t.pageSize),t.group?(u[this.options.prefix+"group"]=e.map(t.group,function(e){return e.field+"-"+e.dir}).join("~"),delete t.group):u[this.options.prefix+"group"]="",t.aggregate&&(u[this.options.prefix+"aggregate"]=e.map(t.aggregate,function(e){return e.field+"-"+e.aggregate}).join("~"),delete t.aggregate),t.filter?(u[this.options.prefix+"filter"]=o(t.filter,r),delete t.filter):(u[this.options.prefix+"filter"]="",delete t.filter),"read"!=n){if(t.models)for(i="models",s=t.models,l=0;l<s.length;l++)a(u,s[l],i+"["+l+"].");else t&&a(u,t,"");delete t.models}return delete t.take,delete t.skip,p(u,t)}function a(t,n,a){var o,s,l;n=r(n);for(l in n)s=a+l,o=n[l],e.isPlainObject(o)?i(t,o,s):t[s]=o}function r(t){var n,a;for(n in t)a=t[n],a instanceof Date&&(t[n]=f.format("{0:G}",a)),"number"==typeof a&&(a=""+a),null==a&&delete t[n],e.isPlainObject(a)&&r(a);return t}function i(t,n,a){for(var r in n)e.isPlainObject(n[r])?i(t,n[r],a?a+"."+r:r):t[a?a+"."+r:r]=n[r]}function o(n,a){return n.filters?e.map(n.filters,function(e){var t=e.filters&&e.filters.length>1,n=o(e,a);return n&&t&&(n="("+n+")"),n}).join("~"+n.logic+"~"):n.field?n.field+"~"+n.operator+"~"+s(n.value,a):t}function s(e,t){if("string"==typeof e){if(!(e.indexOf("Date(")>-1))return e=e.replace(c,"''"),t&&(e=encodeURIComponent(e)),"'"+e+"'";e=new Date(parseInt(e.replace(/^\/Date\((.*?)\)\/$/,"$1"),10))}return e&&e.getTime?"datetime'"+f.format("{0:yyyy-MM-ddTHH-mm-ss}",e)+"'":e}function l(n){return{value:t!==n.Key?n.Key:n.value,field:n.Member||n.field,hasSubgroups:n.HasSubgroups||n.hasSubgroups||!1,aggregates:d(n.Aggregates||n.aggregates),items:n.HasSubgroups?e.map(n.Items||n.items,l):n.Items||n.items}}function u(e){var t={};return t[e.AggregateMethodName.toLowerCase()]=e.Value,t}function d(e){var t,n,a,r={};for(t in e){r={},a=e[t];for(n in a)r[n.toLowerCase()]=a[n];e[t]=r}return e}var f=window.kendo,c=/'/gi,p=e.extend;p(!0,f.data,{schemas:{"aspnetmvc-ajax":{groups:function(t){return e.map(this.data(t),l)},aggregates:function(e){e=e.d||e;var t,n,a,r={},i=e.AggregateResults||[];for(n=0,a=i.length;a>n;n++)t=i[n],r[t.Member]=p(!0,r[t.Member],u(t));return r}}}}),p(!0,f.data,{transports:{"aspnetmvc-ajax":f.data.RemoteTransport.extend({init:function(t){f.data.RemoteTransport.fn.init.call(this,e.extend(!0,{},this.options,t))},read:function(e){var t=this.options.data,n=this.options.read.url;t?(n&&(this.options.data=null),!t.Data.length&&n?f.data.RemoteTransport.fn.read.call(this,e):e.success(t)):f.data.RemoteTransport.fn.read.call(this,e)},options:{read:{type:"POST"},update:{type:"POST"},create:{type:"POST"},destroy:{type:"POST"},parameterMap:n,prefix:""}})}}),p(!0,f.data,{transports:{"aspnetmvc-server":f.data.RemoteTransport.extend({init:function(e){var t=this;f.data.RemoteTransport.fn.init.call(this,p(e,{parameterMap:function(e,a){return n.call(t,e,a,!0)}}))},read:function(t){var n,a,r=this.options.prefix,i=[r+"sort",r+"page",r+"pageSize",r+"group",r+"aggregate",r+"filter"],o=RegExp("("+i.join("|")+")=[^&]*&?","g");a=location.search.replace(o,"").replace("?",""),a.length&&!/&$/.test(a)&&(a+="&"),t=this.setup(t,"read"),n=t.url,n.indexOf("?")>=0?(a=a.replace(/(.*?=.*?)&/g,function(e){return n.indexOf(e.substr(0,e.indexOf("=")))>=0?"":e}),n+="&"+a):n+="?"+a,n+=e.map(t.data,function(e,t){return t+"="+e}).join("&"),location.href=n}})}})}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.ui;n&&n.ComboBox&&(n.ComboBox.requestData=function(t){var n=e(t).data("kendoComboBox"),a=n.dataSource.filter(),r=n.input.val();return a||(r=""),{text:r}})}(window.kendo.jQuery),function(e){var t=window.kendo,n=t.ui;n&&n.MultiSelect&&(n.MultiSelect.requestData=function(t){return{text:e(t).data("kendoMultiSelect").input.val()}})}(window.kendo.jQuery),function(e){var t=window.kendo,n=(t.ui,e.extend),a=e.isFunction;n(!0,t.data,{schemas:{"imagebrowser-aspnetmvc":{data:function(e){return e||[]},model:{id:"name",fields:{name:{field:"Name"},size:{field:"Size"},type:{field:"EntryType",parse:function(e){return 0==e?"f":"d"}}}}}}}),n(!0,t.data,{transports:{"imagebrowser-aspnetmvc":t.data.RemoteTransport.extend({init:function(n){t.data.RemoteTransport.fn.init.call(this,e.extend(!0,{},this.options,n))},_call:function(n,r){r.data=e.extend({},r.data,{path:this.options.path()}),a(this.options[n])?this.options[n].call(this,r):t.data.RemoteTransport.fn[n].call(this,r)},read:function(e){this._call("read",e)},create:function(e){this._call("create",e)},destroy:function(e){this._call("destroy",e)},update:function(){},options:{read:{type:"POST"},update:{type:"POST"},create:{type:"POST"},destroy:{type:"POST"},parameterMap:function(e,t){return"read"!=t&&(e.EntryType="f"===e.EntryType?0:1),e}}})}})}(window.kendo.jQuery),function(e){function t(){var e,t={};for(e in c)t["mvc"+e]=o(e);return t}function n(){var e,t={};for(e in c)t["mvc"+e]=s(e);return t}function a(e,t){var n,a,r,i={},o=e.data(),s=t.length;for(r in o)a=r.toLowerCase(),n=a.indexOf(t),n>-1&&(a=a.substring(n+s,r.length),a&&(i[a]=o[r]));return i}function r(t){var n,a,r=t.Fields||[],o={};for(n=0,a=r.length;a>n;n++)e.extend(!0,o,i(r[n]));return o}function i(e){var t,n,a,r,i={},o={},s=e.FieldName,d=e.ValidationRules;for(a=0,r=d.length;r>a;a++)t=d[a].ValidationType,n=d[a].ValidationParameters,i[s+t]=u(s,t,n),o[s+t]=l(d[a].ErrorMessage);return{rules:i,messages:o}}function o(e){return function(t){return t.attr("data-val-"+e)}}function s(e){return function(t){return t.filter("[data-val-"+e+"]").length?c[e](t,a(t,e)):!0}}function l(e){return function(){return e}}function u(e,t,n){return function(a){return a.filter("[name="+e+"]").length?c[t](a,n):!0}}function d(e,t){return"string"==typeof t&&(t=RegExp("^(?:"+t+")$")),t.test(e)}var f=/("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g,c={required:function(e){var t,n,a=e.val(),r=e.filter("[type=checkbox]");return r.length&&(t=r[0].name.replace(f,"\\$1"),n=r.next("input:hidden[name='"+t+"']"),a=n.length?n.val():"checked"===e.attr("checked")),!(""===a||!a)},number:function(e){return""===e.val()||null!==kendo.parseFloat(e.val())},regex:function(e,t){return""!==e.val()?d(e.val(),t.pattern):!0},range:function(e,t){return""!==e.val()?this.min(e,t)&&this.max(e,t):!0},min:function(e,t){var n=parseFloat(t.min)||0,a=kendo.parseFloat(e.val());return a>=n},max:function(e,t){var n=parseFloat(t.max)||0,a=kendo.parseFloat(e.val());return n>=a},date:function(e){return""===e.val()||null!==kendo.parseDate(e.val())},length:function(t,n){if(""!==t.val()){var a=e.trim(t.val()).length;return(!n.min||a>=(n.min||0))&&(!n.max||a<=(n.max||0))}return!0}};e.extend(!0,kendo.ui.validator,{rules:n(),messages:t(),messageLocators:{mvcLocator:{locate:function(e,t){return t=t.replace(f,"\\$1"),e.find(".field-validation-valid[data-valmsg-for="+t+"], .field-validation-error[data-valmsg-for="+t+"]")},decorate:function(e,t){e.addClass("field-validation-error").attr("data-val-msg-for",t||"")}},mvcMetadataLocator:{locate:function(e,t){return t=t.replace(f,"\\$1"),e.find("#"+t+"_validationMessage.field-validation-valid")},decorate:function(e,t){e.addClass("field-validation-error").attr("id",t+"_validationMessage")}}},ruleResolvers:{mvcMetaDataResolver:{resolve:function(t){var n,a=window.mvcClientValidationMetadata||[];if(a.length)for(t=e(t),n=0;n<a.length;n++)if(a[n].FormId==t.attr("id"))return r(a[n]);return{}}}}})}(window.kendo.jQuery);;