@using InventoryManagementMVC.Extensions
@using InventoryManagementMVC.Models.Purchasing;
@using InventoryManagementMVC.Models;


@model IEnumerable<PurchaseOrderHeaderViewModel>

@(
        Html.Kendo().Grid(Model)
            .AddDefaultOptions()
            //.Columns(columns => columns.Command(c => c.Custom("Download").Text("Download").Action("Download", "PurchaseOrderHeader", new {purchaseOrderHeaderId = "#=PurchaseOrderHeaderId#"}).SendDataKeys.SendState(true)))
            .DataSource(dataSource => dataSource
                .Ajax()
                .Read("Read", "PurchaseOrderHeader")
                .Create("Create", "PurchaseOrderHeader")
                .Update("Update", "PurchaseOrderHeader")
                .Destroy("Destroy", "PurchaseOrderHeader")
            ).ClientDetailTemplateId("template")

      )

<script id="template" type="text/kendo-tmpl">
    @(Html.Kendo().Grid<PurchaseOrderDetailViewModel>()
          .Name("test")
          .AddDefaultOptions(true)
          .DataSource(dataSource => dataSource
              .Ajax()
              .Batch(true)
              .PageSize(5).Model(m => m.Id(p => p.PurchaseOrderDetailId))
              .Read(read => read.Action("Read", "PurchaseOrderDetail", new {purchaseOrderHeaderId = "#=PurchaseOrderHeaderId#"}))
              .Create("Create", "PurchaseOrderDetail", new {purchaseOrderHeaderId = "#=PurchaseOrderHeaderId#"})
              .Update("Update", "PurchaseOrderDetail")
              .Destroy("Destroy", "PurchaseOrderDetail")
          )
          .ToClientTemplate().ToMvcClientTemplate()
          //  .DataSource(dataSource => dataSource
          //.Ajax()
          //.Read("Read", "PurchaseOrderHeader")
          //.Create("Create", "PurchaseOrderHeader")
          //.Update("Update", "PurchaseOrderHeader")
          //.Destroy("Destroy", "PurchaseOrderHeader"))

          //.ToClientTemplate()

          )
</script>